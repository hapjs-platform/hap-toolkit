;(
  this.nativeLog ||
  function(s) {
    console.log(s)
  }
)('### App framework ### Start: 0.0.6 Build 20210906 HEAD^ 39a30d6c')
var framework_VERSION = '0.0.7'
var global = this,
  process = { env: {} }
var setTimeout = global.setTimeout

;(function(factory) {
  typeof define === 'function' && define.amd ? define(['deep-diff'], factory) : factory()
})(function() {
  'use strict'

  var subversion = {
    framework: '0.0.6',
    packager: '0.0.5'
  }

  /*
 * Copyright (c) 2021-present, the hapjs-platform Project Contributors
 * SPDX-License-Identifier: Apache-2.0
 */

  // 缓存原始控制台
  let _oriConsole = null
  // 日志等级
  const _logLevels = ['off', 'error', 'warn', 'info', 'log', 'debug', 'trace']
  // 日志等级检索
  let _levelMap = {}

  /**
   * 生成日志等级的矩阵表，用于迅速判断日志消息是否处理
   */
  function _makeLevelMap() {
    _logLevels.forEach(level => {
      const levelIndex = _logLevels.indexOf(level)
      _levelMap[level] = {}
      _logLevels.forEach(type => {
        const typeIndex = _logLevels.indexOf(type)
        if (typeIndex <= levelIndex) {
          _levelMap[level][type] = true
        }
      })
    })
  }

  /**
   * 判断日志消息是否被处理
   * @param  {string} type
   * @return {boolean}
   */
  function _checkLevel(type) {
    // 获取当前log等级
    const logLevel = (global.Env && global.Env.logLevel) || 'log'
    return _levelMap[logLevel] && _levelMap[logLevel][type]
  }

  /**
   * 根据运行环境设置控制台
   */
  function setNativeConsole() {
    _oriConsole = global.console
    _makeLevelMap()

    const { trace, debug, log, info, warn, error, time, timeEnd, record } = console
    const globalConsole = console
    console._ori = { trace, debug, log, info, warn, error, time, timeEnd, record }

    if (!console._ori.record) {
      console._ori.record = console._ori.info
    }

    globalConsole.trace = (...args) => {
      if (_checkLevel('trace')) {
        console._ori.debug.apply(console, args)
      }
    }
    globalConsole.debug = (...args) => {
      if (_checkLevel('debug')) {
        ;(console._ori.debug || console._ori.trace).apply(console, args)
      }
    }
    globalConsole.log = (...args) => {
      if (_checkLevel('log')) {
        console._ori.log.apply(console, args)
      }
    }
    globalConsole.info = (...args) => {
      if (_checkLevel('info')) {
        console._ori.info.apply(console, args)
      }
    }
    globalConsole.warn = (...args) => {
      if (_checkLevel('warn')) {
        console._ori.warn.apply(console, args)
      }
    }
    globalConsole.error = (...args) => {
      if (_checkLevel('error')) {
        console._ori.error.apply(console, args)
      }
    }
    globalConsole.time = (...args) => {
      if (global.Env && global.Env.logPerf && _checkLevel('info')) {
        console._ori.time.apply(console, args)
      }
    }
    globalConsole.timeEnd = (...args) => {
      if (global.Env && global.Env.logPerf && _checkLevel('info')) {
        console._ori.timeEnd.apply(console, args)
      }
    }
    globalConsole.record = (...args) => {
      if (global.Env && global.Env.logPerf && _checkLevel('info')) {
        console._ori.record.apply(console, args)
      }
    }
  }

  /**
   * 恢复原始控制台
   */
  function resetNativeConsole() {
    _levelMap = {}
    global.console = _oriConsole
  }

  var _console = {
    setNativeConsole,
    resetNativeConsole
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  // 缓存原始控制台
  let _oriHistory = null

  /**
   * 设置原生路由
   */
  function setNativeRouter() {
    _oriHistory = global.history
  }

  /**
   * 恢复原始控制台
   */
  function resetNativeRouter() {
    global.history = _oriHistory
  }

  var _router = {
    setNativeRouter,
    resetNativeRouter
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  let _oriSetTimeout = null
  let _oriSetInterval = null
  let _oriRequestAnimationFrame = null

  let _oriClearTimeout = null
  let _setTimeoutNative = null

  let _oriClearInterval = null
  let _setIntervalNative = null

  let _oriCancelAnimationFrame = null
  let _requestAnimationFrameNative = null

  function setNativeProfiler() {
    if (!global.profiler) {
      global.profiler = {
        // 是否启用
        isEnabled() {
          return false
        },
        saveProfilerData: () => {},
        record: global.console.record,
        time: global.console.time,
        timeEnd: global.console.timeEnd
      }
    }
    // 属性形式，底层方法只调用一次，避免性能干扰
    global.profiler._isEnabled = global.profiler.isEnabled()
  }

  /**
   * 设置原生定时器
   */
  function setNativeTimer() {
    {
      // H5环境下：重新封装，在setTimeout环境下保证updateFinish事件的产生
      global.setTimeoutNative = function(iid, timerId, time) {
        _oriSetTimeout(function() {
          global.setTimeoutCallback(timerId)
        }, time)
      }
      global.setIntervalNative = function(iid, timerId, time) {
        _oriSetInterval(function() {
          global.setIntervalCallback(timerId)
        }, time)
      }
      global.requestAnimationFrameNative = function(iid, timerId, time) {
        _oriRequestAnimationFrame(function() {
          global.requestAnimationFrameCallback(timerId)
        }, time)
      }
    }

    // 缓存原有
    _oriSetTimeout = global.setTimeout
    _oriSetInterval = global.setInterval
    _oriRequestAnimationFrame = global.requestAnimationFrame

    _oriClearTimeout = global.clearTimeoutNative
    _setTimeoutNative = global.setTimeoutNative

    _oriClearInterval = global.clearIntervalNative
    _setIntervalNative = global.setIntervalNative

    _oriCancelAnimationFrame = global.cancelAnimationFrameNative
    _requestAnimationFrameNative = global.requestAnimationFrameNative

    // 缓存计时器
    const timerMap = {}
    let timerId = 0 // Timer回调句柄

    if (typeof _setTimeoutNative === 'function') {
      global.setTimeoutWrap = function(iid, cb, time) {
        timerMap[++timerId] = cb
        global.Env &&
          global.Env.logLevel === 'trace' &&
          console.trace(`### App Framework ### setTimeoutWrap ${timerId}----`)
        _setTimeoutNative(iid, timerId, time || 4)
        return timerId
      }

      global.setTimeout = function(cb, time) {
        return global.setTimeoutWrap(-1, cb, time)
      }

      global.setTimeoutCallback = function(id) {
        global.Env &&
          global.Env.logLevel === 'trace' &&
          console.trace(`### App Framework ### setTimeout 执行回调 ${id}----`)
        // 执行定时器回调，并删除记录
        if (typeof timerMap[id] === 'function') {
          timerMap[id]()
          delete timerMap[id]
        }
      }

      global.clearTimeout = global.clearTimeoutWrap = function(id) {
        if (typeof _oriClearTimeout === 'function') {
          const idInt = parseInt(id)
          !isNaN(idInt) && _oriClearTimeout(idInt)
        }

        if (typeof timerMap[id] === 'function') {
          delete timerMap[id]
        } else {
          timerMap[id] = undefined
        }
      }
    }

    if (typeof _setIntervalNative === 'function') {
      global.setIntervalWrap = function(iid, cb, time) {
        timerMap[++timerId] = cb
        global.Env &&
          global.Env.logLevel === 'trace' &&
          console.trace(`### App Framework ### setIntervalWrap ${timerId}----`)
        _setIntervalNative(iid, timerId, time || 4)
        return timerId
      }

      global.setInterval = function(cb, time) {
        return global.setIntervalWrap(-1, cb, time)
      }

      global.setIntervalCallback = function(id) {
        global.Env &&
          global.Env.logLevel === 'trace' &&
          console.trace(`### App Framework ### setInterval 执行回调 ${id}----`)
        // 执行定时器回调
        if (typeof timerMap[id] === 'function') {
          timerMap[id]()
        }
      }

      global.clearInterval = global.clearIntervalWrap = function(id) {
        if (typeof _oriClearInterval === 'function') {
          const idInt = parseInt(id)
          !isNaN(idInt) && _oriClearInterval(idInt)
        }

        if (typeof timerMap[id] === 'function') {
          delete timerMap[id]
        } else {
          timerMap[id] = undefined
        }
      }
    }

    if (typeof _requestAnimationFrameNative === 'function') {
      global.requestAnimationFrameWrap = function(iid, cb) {
        timerMap[++timerId] = cb
        global.Env &&
          global.Env.logLevel === 'trace' &&
          console.trace(`### App Framework ### requestAnimationFrame ${timerId}----`)
        _requestAnimationFrameNative(iid, timerId)
        return timerId
      }

      global.requestAnimationFrame = function(cb) {
        return global.requestAnimationFrameWrap(-1, cb)
      }

      global.requestAnimationFrameCallback = function(id) {
        global.Env &&
          global.Env.logLevel === 'trace' &&
          console.trace(`### App Framework ### requestAnimationFrame 执行回调 ${timerId}----`)
        // 执行定时器回调
        if (typeof timerMap[id] === 'function') {
          timerMap[id]()
        }
      }

      global.cancelAnimationFrame = global.cancelAnimationFrameWrap = function(id) {
        if (typeof _oriCancelAnimationFrame === 'function') {
          const idInt = parseInt(id)
          !isNaN(idInt) && _oriCancelAnimationFrame(idInt)
        }
        if (typeof timerMap[id] === 'function') {
          delete timerMap[id]
        } else {
          timerMap[id] = undefined
        }
      }
    }
  }

  /**
   * 恢复原始定时器
   */
  function resetNativeTimer() {
    global.setTimeout = _oriSetTimeout
    global.clearTimeout = _oriClearTimeout
    global.clearTimeoutWrap = null
    global.setTimeoutCallback = null
    global.setTimeoutWrap = null

    global.setInterval = _oriSetInterval
    global.clearInterval = _oriClearInterval
    global.clearIntervalWrap = null
    global.setIntervalCallback = null
    global.setIntervalWrap = null

    global.requestAnimationFrame = _oriRequestAnimationFrame
    global.cancelAnimationFrame = _oriCancelAnimationFrame
    global.cancelAnimationFrameWrap = null
    global.requestAnimationFrameCallback = null
    global.requestAnimationFrameWrap = null
  }

  function freezePrototype() {
    Object.freeze(Object)
    Object.freeze(Array)
    Object.freeze(Object.prototype)
    Object.freeze(Array.prototype)
    Object.freeze(String.prototype)
    Object.freeze(Number.prototype)
    Object.freeze(Boolean.prototype)
    Object.freeze(Error.prototype)
    Object.freeze(Date.prototype)
    Object.freeze(RegExp.prototype)
  }

  var common = {
    setNativeConsole: _console.setNativeConsole,
    resetNativeConsole: _console.resetNativeConsole,
    setNativeProfiler,
    setNativeTimer,
    resetNativeTimer,
    setNativeRouter: _router.setNativeRouter,
    resetNativeRouter: _router.resetNativeRouter,
    freezePrototype
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  /**
   * 使用Function构造函数创建函数并执行
   * @param  {object} globalObjects - 参数组成的对象
   * @param  {string} body - 函数体
   * @return {any}
   */
  function callFunction(globalObjects, body) {
    const globalKeys = []
    const globalValues = []
    for (const key in globalObjects) {
      globalKeys.push(key)
      globalValues.push(globalObjects[key])
    }
    globalKeys.push(body)

    profiler.record(`### App Performance ### 编译JS[PERF:compileJS]开始：${new Date().toJSON()}`)
    profiler.time(`PERF:compileJS`)
    const fn = new Function(...globalKeys)
    profiler.timeEnd(`PERF:compileJS`)
    profiler.record(`### App Performance ### 编译JS[PERF:compileJS]结束：${new Date().toJSON()}`)

    profiler.record(`### App Performance ### 执行JS[PERF:executeJS]开始：${new Date().toJSON()}`)
    profiler.time(`PERF:executeJS`)
    const ret = fn(...globalValues)
    profiler.timeEnd(`PERF:executeJS`)
    profiler.record(`### App Performance ### 执行JS[PERF:executeJS]结束：${new Date().toJSON()}`)

    return ret
  }

  // global.__dateCompileCost = global.__dateCompileCost || 0
  // global.__timeInvokeCount = global.__timeInvokeCount || 1

  /**
   * 使用V8原生方法创建函数并执行
   * @param  {object} globalObjects - 参数组成的对象
   * @param  {string} body - 函数体
   * @param  {string} bundleUrl - 关联文件来源
   * @return {any}
   */
  function callFunctionNative(globalObjects, body, bundleUrl) {
    let script = '(function ('
    const globalKeys = []
    const globalValues = []
    for (const key in globalObjects) {
      globalKeys.push(key)
      globalValues.push(globalObjects[key])
    }
    for (let i = 0; i < globalKeys.length - 1; ++i) {
      script += globalKeys[i]
      script += ','
    }
    script += globalKeys[globalKeys.length - 1]
    script += ') {'
    script += body
    script += `
})`

    // const timeInvokeIndex = global.__timeInvokeCount++
    // const dateCompileS = new Date()

    // profiler.record(`### App Performance ### 编译JS[PERF:compileJS]开始：${new Date().toJSON()}`)
    // profiler.time(`PERF:compileJS:${timeInvokeIndex}`)
    let ret = global.compileAndRunScript(script, bundleUrl)
    // profiler.timeEnd(`PERF:compileJS:${timeInvokeIndex}`)
    // profiler.record(`### App Performance ### 编译JS[PERF:compileJS]结束：${new Date().toJSON()}`)

    // const dateCompileE = new Date()
    // global.__dateCompileCost += dateCompileE - dateCompileS
    // profiler.record(
    //   `### App Performance ### 编译JS[PERF:compileJS]累积耗时：${global.__dateCompileCost}ms`
    // )

    // profiler.record(`### App Performance ### 执行JS[PERF:executeJS]开始：${new Date().toJSON()}`)
    // profiler.time(`PERF:executeJS:${timeInvokeIndex}`)
    if (ret && typeof ret === 'function') {
      ret = ret(...globalValues)
    }
    // profiler.timeEnd(`PERF:executeJS:${timeInvokeIndex}`)
    // profiler.record(`### App Performance ### 执行JS[PERF:executeJS]结束：${new Date().toJSON()}`)
    return ret
  }

  /**
   * 使用脚本创建函数并执行
   * @param  {object} globalObjects - 参数组成的对象
   * @param  {string} body - 函数体
   * @param  {string} bundleUrl - 关联文件来源
   * @return {any}
   */
  function invokeScript(globalObjects, body, bundleUrl) {
    if (typeof global.compileAndRunScript === 'function') {
      return callFunctionNative(globalObjects, body, bundleUrl)
    }
    return callFunction(globalObjects, body)
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  /**
   * 获取对象类型，从[Object object]中提取object部分
   * @param v
   * @returns {string}
   */
  function $typeof(v) {
    const s = Object.prototype.toString.call(v)
    return s.substring(8, s.length - 1).toLowerCase()
  }

  /**
   * 创建缓存版本的函数(函数值被缓存起来，下次调用时先从缓存中查找）
   * @param fn
   * @returns {cachedFn}
   */
  function $cached(fn) {
    const cache = Object.create(null)
    return function cachedFn(str) {
      const hit = cache[str]
      return hit || (cache[str] = fn(str))
    }
  }

  /**
   * -xxx转换为Xxx
   * @type {RegExp}
   */
  const camelizeReg = /-(\w)/g
  const $camelize = $cached(str => {
    return str.replace(camelizeReg, toUpper)
  })

  function toUpper(_, c) {
    return c ? c.toUpperCase() : ''
  }

  /**
   * Xxx转换为-xxx
   * @type {RegExp}
   */
  const hyphenateReg = /([a-z\d])([A-Z])/g
  const $hyphenate = $cached(str => {
    return str.replace(hyphenateReg, '$1-$2').toLowerCase()
  })

  /**
   * 合并对象
   * @param {Object} target
   * @param {Object} src
   * @returns {*}
   */
  function $extend(target, ...src) {
    if (typeof Object.assign === 'function') {
      Object.assign(target, ...src)
    } else {
      const first = src.shift()
      // 覆盖旧值
      for (const key in first) {
        target[key] = first[key]
      }
      if (src.length) {
        $extend(target, ...src)
      }
    }
    return target
  }

  /**
   * 是否为字符串
   * @param {*} n
   * @returns {boolean}
   */
  function isString(n) {
    return Object.prototype.toString.call(n) === '[object String]'
  }

  /**
   * 是否为函数
   * @param {*} n
   * @returns {boolean}
   */
  function isFunction(n) {
    return typeof n === 'function'
  }

  /**
   * 是否为对象
   * @param {*} obj
   * @returns {boolean}
   */
  function isObject(obj) {
    return obj !== null && typeof obj === 'object'
  }

  /**
   * 是否为空对象
   * @param {*} obj
   * @returns {boolean}
   */
  function isEmptyObject(obj) {
    for (const key in obj) {
      return false
    }
    return true
  }

  const toString = Object.prototype.toString
  const OBJECT_STRING = '[object Object]'

  /**
   * 对象是否为纯字典对象(仅有key,value)
   * @param {*} obj
   * @return {boolean}
   */
  function isPlainObject(obj) {
    return toString.call(obj) === OBJECT_STRING
  }

  /**
   * 字符串是否以‘$’或‘_’开头（系统保留变量名）
   * @param {string} str
   * @returns {boolean}
   */
  function isReserved(str) {
    const c = (str + '').charCodeAt(0)
    return c === 0x24 || c === 0x5f
  }

  const REGEXP_APPLICATION = /^@(app)-application\//
  const REGEXP_COMPONENT = /^@(app)-component\//
  const REGEXP_MODULE = /^@(app)-module\//

  const isApplication = name => !!name.match(REGEXP_APPLICATION)
  const isComponent = name => !!name.match(REGEXP_COMPONENT)

  /**
   * 删除其中约定的前缀
   * @param {string} str
   * @return {string}
   */
  function removeAppPrefix(str) {
    const result = str
      .replace(REGEXP_APPLICATION, '')
      .replace(REGEXP_COMPONENT, '')
      .replace(REGEXP_MODULE, '')
    return result
  }

  // 全局唯一回调Id
  let invokeCallbackId = 0
  function uniqueCallbackId() {
    return ++invokeCallbackId
  }

  // 全局唯一session，用于Framework性能火焰图统计
  let _session

  function getSessionInstance() {
    return _session
  }

  let _isFirstOnShow = true
  function changeIsFirstOnShowToFalse() {
    _isFirstOnShow = false
  }

  function getIsFirstOnShow() {
    return _isFirstOnShow
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  // 回调上下文映射
  const _callbackSourceMap = {}

  // 模块宿主的映射
  const _moduleHostMap = {}

  // 原生模块定义表
  let _nativeModuleMap = {}

  // 原生模块常量
  const MODULES = {
    // 同步,回调,订阅
    MODE: {
      SYNC: 0,
      CALLBACK: 1,
      SUBSCRIBE: 2
    },
    // 方法,属性,事件
    TYPE: {
      METHOD: 0,
      ATTRIBUTE: 1,
      EVENT: 2
    },
    // 传递参数的类型
    NORMALIZE: {
      RAW: 0,
      JSON: 1
    },
    // 方法返回的数据类型
    RESULT: {
      MODULE_INST: 0
    },
    // 是否支持多回调
    MULTIPLE: {
      SINGLE: 0,
      MULTI: 1
    }
  }

  /**
   * 初始化原生模块配置信息对象
   * @param modulesDef
   * @param ifReplace  是否覆盖原来的实现
   */
  function initModulesDef(modulesDef, ifReplace = true) {
    // 转换为数组
    let arr = []
    if (Array.isArray(modulesDef)) {
      arr = modulesDef
    } else {
      arr.push(modulesDef)
    }

    arr.forEach(item => {
      const name = item.name
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace(`### App Framework ### 注册模块---- ${name} <${item.__type__}>`)
      // 初始化`modulesDef[moduleName]`
      let nativeModuleDef = _nativeModuleMap[name]
      if (!nativeModuleDef) {
        nativeModuleDef = {
          type: item.__type__,
          name: item.name,
          methods: {},
          attributes: {},
          events: {},
          // 是否可实例化，可实例化为类，否则为普通模块
          instantiable: item.instantiable
        }
        _nativeModuleMap[name] = nativeModuleDef
      }

      if (!nativeModuleDef.methods) {
        nativeModuleDef.methods = {}
      }

      const methods = nativeModuleDef.methods
      // 记录模块的所有方法名
      if (item.methods && item.methods.length) {
        item.methods.forEach(method => {
          const methodName = method.name

          // 默认:同步
          if (method.mode === undefined) {
            method.mode = MODULES.MODE.SYNC
          }
          // 默认:方法
          if (method.type === undefined) {
            method.type = MODULES.TYPE.METHOD
          }
          // 默认:调底层时的类型
          if (method.normalize === undefined) {
            method.normalize = MODULES.NORMALIZE.JSON
          }
          // 默认:模块的方法
          if (method.instanceMethod === undefined) {
            method.instanceMethod = false
          }

          // 不允许以下情况存在
          if (!nativeModuleDef.instantiable && method.instanceMethod) {
            throw new Error(`模块 ${nativeModuleDef.name} 配置定义错误`)
          }

          if (method.type === MODULES.TYPE.ATTRIBUTE) {
            const alias = method.alias
            const access = method.access
            nativeModuleDef.attributes[alias] = nativeModuleDef.attributes[alias] || {}
            nativeModuleDef.attributes[alias][access] = method
            nativeModuleDef.attributes[alias].instanceMethod = method.instanceMethod
          } else if (method.type === MODULES.TYPE.EVENT) {
            const alias = method.alias
            nativeModuleDef.events[alias] = method
          }

          if (!methodName) {
            console.warn(`### App Framework ### 模块 ${name} 的接口没有name属性`)
          } else {
            // 覆盖旧方法
            if (!methods[methodName] || ifReplace) {
              methods[methodName] = method
              global.Env &&
                global.Env.logLevel === 'trace' &&
                console.trace(`### App Framework ### 注册模块 ${name} 接口---- ${methodName}`)
            }
          }
        })
      }
    })
  }

  /**
   * 创建模块对象（loader中声明）
   * @param inst
   * @param name
   * @param moduleInstId
   */
  function requireModule(inst, name, moduleInstId) {
    global.Env &&
      global.Env.logLevel === 'trace' &&
      console.trace(`### App Framework ### require模块：${name}`)

    const matchedModuleNames = [name]
    // 模块对象
    let moduleObj = {}
    // 模块，可能为模块对象，也可能处于模块对象的某一层级
    let moduleItem

    // 如果没有定义子模块，则遍历查找所有匹配的模块
    if (name.indexOf('.') < 0) {
      const prefix = name + '.'
      for (const moduleName in getNativeModuleMap()) {
        if (moduleName.startsWith(prefix)) {
          matchedModuleNames.push(moduleName)
        }
      }
    }

    // 初始化模块名对应的模块
    matchedModuleNames.forEach(fullName => {
      const nativeModuleDef = getNativeModuleMap()[fullName]
      // 如果找不到定义, 则跳过
      if (!nativeModuleDef) {
        return
      }

      // 子模块名
      let subName = fullName.replace(name, '')
      if (subName.substr(0, 1) === '.') {
        subName = subName.substr(1)
      }

      // 模块为类，特殊处理
      if (nativeModuleDef.instantiable) {
        const classDef = function(...args) {
          const retObj = classDef.__init__(...args)
          Object.defineProperty(this, '_instId', {
            enumerable: false,
            configurable: false,
            writable: false,
            value: retObj && retObj.instId
          })
        }
        if (subName.length === 0) {
          // 模块对象仅包含一个模块，直接覆盖模块对象
          moduleObj = classDef
        } else {
          // 模块对象包含多个模块，写模块对象的对应位置
          const subPath = subName.split('.')
          if (subPath.length > 0) {
            const lastKey = subPath.pop()
            createObjByPath(moduleObj, subPath)[lastKey] = classDef
          }
        }
      }

      // 获取模块对象中模块的指针
      if (fullName === name) {
        moduleItem = moduleObj
      } else {
        if (subName.length > 0) {
          const subPath = subName.split('.')
          if (subPath.length > 0) {
            moduleItem = createObjByPath(moduleObj, subPath)
          }
        }
      }

      // 初始化模块
      initModule(inst, moduleItem, nativeModuleDef, moduleInstId)
    })

    if (Object.keys(moduleObj).length === 0) {
      throw new Error(`请确认引入的模块[${name}]：名称正确并且在manifest.json的features中声明`)
    }

    return moduleObj
  }

  /**
   * 创建层级对象
   * @param obj
   * @param pathList
   */
  function createObjByPath(obj, pathList) {
    if (!obj) {
      return
    }
    let cur = obj
    pathList.forEach(p => {
      if (!(p in cur)) {
        cur[p] = {}
      }
      cur = cur[p]
    })
    return cur
  }

  /**
   * 初始化模块
   * @param inst
   * @param module
   * @param moduleDef
   * @param moduleInstId
   */
  function initModule(inst, module, moduleDef, moduleInstId) {
    // 初始化模块方法
    const methods = moduleDef.methods
    for (const methodName in methods) {
      const method = methods[methodName]
      // 原型：承载方法的定义
      const obj = method.instanceMethod ? module.prototype : module
      // 将原生模块的函数定义通过invoke函数封装为Action函数
      if (methodName in obj) {
        console.warn(
          `### App Framework ### 模块${moduleDef.name}的接口函数${methodName}---- 重复定义`
        )
      }
      const modMethod = function(...args) {
        if (inst && inst._isApp && !inst._defined) {
          throw new Error(
            `请确认Native方法调用[${moduleDef.name}.${methodName}()]发生在应用app的生命周期的创建['onCreate()']之后`
          )
        }
        const instId = Object.prototype.hasOwnProperty.call(this, '_instId')
          ? this._instId
          : moduleInstId
        return invokeNative(inst, moduleDef, method, args, instId)
      }

      Object.defineProperty(obj, methodName, {
        configurable: false,
        enumerable: true,
        get() {
          return modMethod.bind(this)
        },
        set(val) {
          console.warn(
            `### App Framework ### 接口${moduleDef.name}的方法(${methodName})为可读，不可覆盖`
          )
        }
      })
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace(
          `### App Framework ### require---- 模块${moduleDef.name}接口函数${methodName}`
        )
    }

    // 初始化模块属性
    const attributes = moduleDef.attributes
    for (const attributeName in attributes) {
      const attributeItem = attributes[attributeName]
      // 原型：承载方法的定义
      const obj = attributeItem.instanceMethod ? module.prototype : module
      Object.defineProperty(obj, attributeName, {
        configurable: false,
        enumerable: true,
        get() {
          if (!attributeItem[1]) {
            console.warn(
              `### App Framework ### 模块${moduleDef.name}的接口属性(${attributeName})不可读`
            )
          } else {
            let result = this[attributeItem[1].name]()
            // 处理子属性
            if (
              (attributeItem[1] && attributeItem[1].subAttrs) ||
              (attributeItem[2] && attributeItem[2].subAttrs)
            ) {
              const _this = this
              if (!result) {
                result = {}
              }
              let allAttrs = []
              if (attributeItem[1] && attributeItem[1].subAttrs) {
                allAttrs = allAttrs.concat(attributeItem[1].subAttrs)
              }
              if (attributeItem[2] && attributeItem[2].subAttrs) {
                allAttrs = allAttrs.concat(attributeItem[1].subAttrs)
              }
              const attrSet = new Set(allAttrs)
              allAttrs = Array.from(attrSet)
              for (const subIndex in allAttrs) {
                const subAttr = allAttrs[subIndex]
                Object.defineProperty(result, subAttr, {
                  configurable: true,
                  enumerable: true,
                  get() {
                    if (
                      !attributeItem[1] ||
                      !attributeItem[1].subAttrs ||
                      attributeItem[1].subAttrs.indexOf(subAttr) < 0
                    ) {
                      console.warn(
                        `### App Framework ### 模块${moduleDef.name}的接口属性(${attributeName})的子属性(${subAttr})不可读`
                      )
                    } else {
                      return _this[attributeItem[1].name]()[subAttr]
                    }
                  },
                  set(val) {
                    if (
                      !attributeItem[2] ||
                      !attributeItem[2].subAttrs ||
                      attributeItem[2].subAttrs.indexOf(subAttr) < 0
                    ) {
                      console.warn(
                        `### App Framework ### 模块${moduleDef.name}的接口属性(${attributeName})的子属性(${subAttr})不可写`
                      )
                    } else {
                      const valObj = {}
                      valObj[subAttr] = val
                      _this[attributeItem[2].name]({ value: valObj })
                    }
                  }
                })
              }
            }
            return result
          }
        },
        set(val) {
          if (!attributeItem[2]) {
            console.warn(
              `### App Framework ### 模块${moduleDef.name}的接口属性(${attributeName})不可写`
            )
          } else {
            this[attributeItem[2].name]({ value: val })
          }
        }
      })
    }

    // 初始化模块事件
    const events = moduleDef.events
    for (const eventName in events) {
      const eventItem = events[eventName]
      eventItem.cache = eventItem.cache || {}
      // 原型：承载方法的定义
      const obj = eventItem.instanceMethod ? module.prototype : module
      Object.defineProperty(obj, eventName, {
        configurable: false,
        enumerable: true,
        get() {
          const instId = this._instId === undefined ? -1 : this._instId
          return eventItem.cache[instId]
        },
        set(val) {
          if (typeof val !== 'function' && [null, undefined].indexOf(val) === -1) {
            console.warn(
              `### App Framework ### 模块${moduleDef.name}的接口事件(${eventName})值类型必须是函数或null`
            )
          } else {
            const instId = this._instId === undefined ? -1 : this._instId
            const cb = typeof val === 'function' ? val.bind(this) : val
            this[eventItem.name]({ success: cb })
            eventItem.cache[instId] = val
          }
        }
      })
    }
  }

  /**
   * 调用接口方法的函数
   * @param inst
   * @param module
   * @param method
   * @param args
   * @param moduleInstId 对象实例id
   */
  const _callbackArgs = ['success', 'cancel', 'fail', 'complete']

  function invokeNative(inst, module, method, args, moduleInstId) {
    const { name: modName, type: modType } = module
    const {
      name: mthName,
      mode: mthMode,
      type: mthType,
      normalize: mthNmlz,
      multiple: mthMultiple
    } = method

    if (!inst || !inst._callbacks) {
      console.warn(`### App Framework ### 容器已销毁,接口调用(${modName}.${mthName}())无效`)
      return new Error(`invokeNative: 容器已销毁`)
    }
    if (modType === 'feature' && !global.JsBridge) {
      return new Error(`invokeNative: JsBridge没有初始化`)
    } else if (modType === 'module' && !global.ModuleManager) {
      return new Error(`invokeNative: ModuleManager没有初始化`)
    }

    profiler.time(`PERF:invokeMod:${modName}.${mthName}()`)

    const bridge = modType === 'feature' ? global.JsBridge : global.ModuleManager

    // args仅有一个参数，传参且参数为undefined值时，warn
    if (args.length > 0 && args[0] === undefined) {
      console.warn(`### App Framework ### 接口调用${modName}.${mthName}的参数为 undefined`)
    }
    const arg0 = args.length > 0 ? args[0] : {}

    if (arg0 && arg0.callback) {
      if (arg0.success) {
        console.warn(`### App Framework ### invoke函数不能同时出现'success'和'callback'参数`)
      }
      arg0.success = arg0.callback
    }

    // 提取目标参数
    let newArgs = {}
    const cbs = {}

    if (isObject(arg0)) {
      for (const arg in arg0) {
        const value = arg0[arg]
        if (_callbackArgs.indexOf(arg) >= 0) {
          if (typeof value === 'function') {
            cbs[arg] = value
          } else {
            console.warn(`### App Framework ### invoke函数的回调参数${arg}类型不是function`)
          }
        } else if (arg !== 'callback') {
          if (mthNmlz === MODULES.NORMALIZE.JSON) {
            newArgs[arg] = normalize(value, inst)
          } else {
            if (typeof arg === 'function') {
              newArgs[arg] = normalize(value, inst)
            } else {
              newArgs[arg] = value
            }
          }
        }
      }
    } else if (isFunction(arg0)) {
      cbs.success = arg0
    } else {
      newArgs = arg0
    }

    if (mthNmlz === MODULES.NORMALIZE.JSON) {
      newArgs = JSON.stringify(newArgs)
    }

    // 调用原生模块函数
    if (mthMode === MODULES.MODE.SYNC) {
      let cbId = '-1'
      if (mthMultiple === MODULES.MULTIPLE.MULTI && isFunction(arg0)) {
        cbId = mapInvokeCallbackId(arg0).toString()
        global.Env &&
          global.Env.logLevel === 'trace' &&
          console.trace(`${mthName} 方法的回调函数参数id：${cbId}`)
        // 找不到对应的回调，则不执行
        if (cbId === '-1') {
          return
        }
      }
      const ret = bridge.invoke(modName, mthName, newArgs, cbId, moduleInstId)
      if (ret == null) {
        console.warn(`### App Framework ### invoke函数 '${modName}.${mthName}' 返回值为null`)
        return undefined
      }
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace(
          `### App Framework ### invoke函数 '${modName}.${mthName}' 调用成功，返回值为: ${ret}`
        )
      const result = transformModuleResult(inst, ret, module, mthName)
      return result.data
    } else {
      // 异步方法：不传递回调函数时要返回Promsie
      if (mthType === MODULES.TYPE.METHOD && mthMode === MODULES.MODE.CALLBACK) {
        cbs.flagCallback = true
      }

      let pInst, pRes, pRej
      const argList = []
      if (Object.keys(cbs).length) {
        // this指向：1040起更新为undefined
        const thisContext = global.isRpkMinPlatformVersionGEQ(1040) ? undefined : cbs
        // 需要回调
        let cbId = -1

        // 多监听场景，避免同一回调指针，重复监听
        if (mthMultiple === MODULES.MULTIPLE.MULTI) {
          cbId = mapInvokeCallbackId(cbs.success)
          if (cbId === -1) {
            global.Env &&
              global.Env.logLevel === 'trace' &&
              console.trace(`### App Framework ###  新增监听实例，id：${cbId}`)
            cbId = uniqueCallbackId()
          }
        } else {
          cbId = uniqueCallbackId()
        }
        inst._callbacks[cbId] = ret => {
          const callbacks = cbs
          const result = transformModuleResult(inst, ret, module, mthName)
          const code = result.code
          const data = result.data
          if (code === 0 && callbacks.success) {
            callbacks.success.call(thisContext, data)
          } else if (code === 100 && callbacks.cancel) {
            callbacks.cancel.call(thisContext)
          } else if (code >= 200 && callbacks.fail) {
            callbacks.fail.call(thisContext, data, code)
          }
          if (callbacks.complete) {
            callbacks.complete.call(thisContext, data)
          }

          if (pInst) {
            code === 0 ? pRes({ data }) : pRej({ data, code })
          }
        }
        _callbackSourceMap[cbId] = {
          instance: inst.id.toString(),
          preserved: mthMode === MODULES.MODE.SUBSCRIBE,
          cbFunc: cbs.success
        }

        argList.push(newArgs)
        argList.push(cbId.toString())
      } else {
        // 无需回调
        argList.push(newArgs)
        argList.push('-1')
      }
      // 调用原生模块函数
      bridge.invoke(modName, mthName, ...argList, moduleInstId)

      profiler.timeEnd(`PERF:invokeMod:${modName}.${mthName}()`)

      // 是否要返回Promise
      if (
        mthType === MODULES.TYPE.METHOD &&
        mthMode === MODULES.MODE.CALLBACK &&
        Object.keys(cbs).length === 1
      ) {
        return (pInst = new Promise((res, rej) => {
          pRes = res
          pRej = rej
        }))
      }
    }
  }
  /**
   * 分情况返回不同模块
   * @param inst
   * @param result
   * @param module
   * @param mthName
   */
  function transformModuleResult(inst, result, module, mthName) {
    const retObj = typeof result === 'string' ? JSON.parse(result) : result || {}
    const retCnt = retObj.content

    if (retCnt && retCnt._nativeType === MODULES.RESULT.MODULE_INST) {
      // 模块实例
      if (module.instantiable && mthName === '__init__') {
        retObj.data = retCnt
      } else {
        retObj.data = requireModule(inst, retCnt.name, retCnt.instId)
      }
      inst._nativeInstList && inst._nativeInstList.push(result)
      // 保持对句柄的引用
      retObj.data.instHandler = retCnt.instHandler
    } else {
      // 普通模块
      retObj.data = retCnt
    }

    return retObj
  }

  /**
   * 参数转换，全部转为基础类型
   * @param v
   * @param inst
   * @returns {*}
   */
  function normalize(v, inst) {
    const type = $typeof(v)
    switch (type) {
      case 'undefined':
      case 'null':
        return '' // 空字符串
      case 'regexp':
        return v.toString() // 正则表达式
      case 'date':
        return v.toISOString() // 日期
      case 'number':
      case 'string':
      case 'boolean':
      case 'array':
      case 'object':
        return v // 其余一律返回原始对象
      case 'function':
        const cbId = uniqueCallbackId()
        if (!inst._callbacks) {
          global.Env &&
            global.Env.logLevel === 'trace' &&
            console.trace(`### App Framework ### normalize() inst实例已经销毁，不再注册回调`)
        } else {
          inst._callbacks[cbId] = v
        }
        _callbackSourceMap[cbId] = {
          instance: inst.id.toString(),
          preserved: false,
          cbFunc: v
        }
        return cbId.toString()
      default:
        return JSON.stringify(v) // 其余一律转换为字符串
    }
  }

  /**
   * 映射回调id到对象实例Id
   * @param id
   * @returns {*}
   */
  function mapInvokeCallback(id) {
    const info = _callbackSourceMap[id]
    if (info && info.preserved === true);
    else {
      _callbackSourceMap[id] = undefined
    }
    return info
  }

  /**
   * 映射回调对象到回调id
   * @param cb
   * @returns {cbId}
   */
  function mapInvokeCallbackId(cb) {
    let cbId = -1
    for (const id in _callbackSourceMap) {
      if (
        _callbackSourceMap[id] &&
        _callbackSourceMap[id].cbFunc &&
        _callbackSourceMap[id].cbFunc === cb
      ) {
        cbId = id
        break
      }
    }
    return cbId
  }

  function getModuleHostMap(id) {
    return _moduleHostMap[id]
  }

  function setModuleHostMap(id, value) {
    _moduleHostMap[id] = value
  }

  function getNativeModuleMap() {
    return _nativeModuleMap
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  class ModuleHost {
    constructor(id) {
      this.id = id // 唯一id, 由原生端生成
      this._callbacks = {}
      this._nativeInstList = []

      setModuleHostMap(id, this)
    }

    /**
     * 接收接口回调的函数
     * @param inst
     * @param callbackId
     * @param data
     * @param ifKeepAlive
     * @return {Error}
     */
    invoke(inst, callbackId, data, ifKeepAlive) {
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace(
          `### App Framework ### 调用对象(${inst.id})的回调(${callbackId}) 参数：`,
          JSON.stringify(data)
        )

      const callback = inst._callbacks[callbackId]
      if (typeof callback === 'function') {
        // 必须是函数
        // 执行回调
        const ret = callback(data)

        // 如果是定时器函数，则保留；否则清除（只使用一次）
        if (typeof ifKeepAlive === 'undefined' || ifKeepAlive === false) {
          inst._callbacks[callbackId] = undefined
        }

        return ret
      } else {
        return new Error(`invoke: 无效invoke回调函数Id "${callbackId}"`)
      }
    }

    destroy() {
      this._callbacks = null
      this._nativeInstList = null
      setModuleHostMap(this.id, null)
    }
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  /**
   * 注册Api模块
   * @param modulesConf
   * @param type feature | module  默认为feature
   */
  function registerModules(modulesConf, type = 'feature') {
    profiler.record(
      `### App Performance ### 注册模块[PERF:registerMod]开始：${new Date().toJSON()}`
    )
    // 解析字符串
    if (typeof modulesConf === 'string') {
      modulesConf = JSON.parse(modulesConf)
    }

    global.Env &&
      global.Env.logLevel === 'trace' &&
      console.trace(`### App Framework ### registerModules---- `, JSON.stringify(modulesConf))

    modulesConf = modulesConf.map(function(module) {
      module.__type__ = type
      return module
    })

    if (typeof modulesConf === 'object') {
      initModulesDef(modulesConf)
    }
    profiler.record(
      `### App Performance ### 注册模块[PERF:registerMod]结束：${new Date().toJSON()}`
    )
  }

  /**
   * 接受来自原生的事件或回调
   * @param event 返回结果
   * @returns {*} 结果数组,无返回值, 'invalid'表示无效事件
   */
  function execInvokeCallback(event) {
    if (typeof event === 'string') {
      event = JSON.parse(event)
    }
    // 根据回调Id找到对应的实例映射
    const id = mapInvokeCallback(event.callback)
    global.Env &&
      global.Env.logLevel === 'trace' &&
      console.trace(`### App Framework ### 处理invoke回调----`, JSON.stringify(id))
    if (id) {
      // 判断回调来源
      const instance = getModuleHostMap(id.instance)

      if (instance) {
        const args = [instance, event.callback, event.data, id.preserved]

        if (!instance._callbacks) {
          return new Error(`execInvokeCallback: 回调函数所属对象已经无效 "${instance.id}"`)
        }

        return instance.invoke(...args)
      }
    }
    return new Error(`execInvokeCallback: 无效invoke回调Id "${id && id.instance}"`)
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  /**
   * 提供Publish-Subscribe模型，作为dock与dsl的中间通讯层
   */
  class Pubsub {
    constructor() {
      this.eventMap = {}
    }

    /**
     * 订阅事件
     * @param type {string} 事件名称
     * @param fn {function} 响应函数
     * @param options {object} 暂时保留
     * @return {*}
     */
    subscribe(type, fn, options) {
      if (options && options.once) {
        const fnOnce = args => {
          fn(args)
          this.remove(type, fnOnce)
        }
        return this.subscribe(type, fnOnce)
      }

      this.eventMap[type] = this.eventMap[type] || []

      if (typeof fn === 'function') {
        const list = this.eventMap[type]
        if (list.indexOf(fn) === -1) {
          list.push(fn)
        }
      }
    }

    /**
     * 发布事件
     * @param type {string} 事件名称
     * @param args {array} 事件触发时的参数
     * @param options {object} 暂时保留
     * @return {*}
     */
    publish(type, args, options) {
      let lastRet = null
      const list = this.eventMap[type] || []
      for (let i = 0, len = list.length; i < len; i++) {
        lastRet = list[i](args, lastRet)
      }
      return lastRet
    }

    /**
     * 删除事件订阅
     * @param type {string} 事件名称
     * @param fn {function} 响应函数
     */
    remove(type, fn) {
      if (!this.eventMap[type]) {
        return
      }
      const list = this.eventMap[type]
      const index = list.indexOf(fn)
      if (index > -1) {
        list.splice(index, 1)
      }
    }
  }

  // An adoption from https://github.com/nodejs/node/blob/f70261fb3089b8acf5f68584ef0285a1c11f54fd/lib/inspector.js#L35

  const connectionSymbol = Symbol('connectionProperty')
  const messageCallbacksSymbol = Symbol('messageCallbacks')
  const nextIdSymbol = Symbol('nextId')
  const onMessageSymbol = Symbol('onMessage')
  class Session extends Pubsub {
    constructor() {
      super()
      this[connectionSymbol] = null
      this[nextIdSymbol] = 1
      this[messageCallbacksSymbol] = new Map()
    }

    connect() {
      if (this[connectionSymbol]) {
        throw new Error('The inspector session has already connected')
      }
      this[connectionSymbol] =
        // Connection is global Variable in JsEnv
        // eslint-disable-next-line no-undef
        new global.Connection(message => this[onMessageSymbol](message))
    }

    [onMessageSymbol](message) {
      const parsed = JSON.parse(message)
      try {
        if (parsed.id) {
          const callback = this[messageCallbacksSymbol].get(parsed.id)
          this[messageCallbacksSymbol].delete(parsed.id)
          if (callback) {
            if (parsed.error) {
              return callback(new Error(parsed.error.code, parsed.error.message))
            }

            callback(null, parsed.result)
          }
        } else {
          this.publish(parsed.method, parsed, null)
          this.publish('inspectorNotification', parsed, null)
        }
      } catch (error) {
        console.log(error)
      }
    }

    post(method, params, callback) {
      if (!isString(method)) {
        throw new Error('method must be a string')
      }
      if (!callback && isFunction(params)) {
        callback = params
        params = null
      }
      if (params && typeof params !== 'object') {
        throw new Error('params not object')
      }
      if (callback && typeof callback !== 'function') {
        throw new Error('callback is not valid')
      }

      if (!this[connectionSymbol]) {
        throw new Error('ERR_INSPECTOR_NOT_CONNECTED')
      }
      const id = this[nextIdSymbol]++
      const message = { id, method }
      if (params) {
        message.params = params
      }
      if (callback) {
        this[messageCallbacksSymbol].set(id, callback)
      }
      this[connectionSymbol].dispatch(JSON.stringify(message))
    }

    disconnect() {
      if (!this[connectionSymbol]) {
        return
      }
      this[connectionSymbol].disconnect()
      this[connectionSymbol] = null
      const remainingCallbacks = this[messageCallbacksSymbol].values()
      if (remainingCallbacks.length > 0) {
        console.warn('remainingCallbacks will not executed due to inspector closed')
      }

      this[messageCallbacksSymbol].clear()
      this[nextIdSymbol] = 1
    }
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  // 依赖的JS模块映射缓存
  const _chunkHashCache = new Map()

  /**
   * 注册bundle依赖的JS模块映射
   * @param chunkHash
   */
  function registerBundleChunks(chunkHash) {
    if (typeof chunkHash === 'string') {
      chunkHash = JSON.parse(chunkHash)
    }

    for (const path in chunkHash) {
      const cont = chunkHash[path]
      _chunkHashCache.set(path, cont)
    }

    profiler.record(
      `### App Performance ### 注册chunks[PERF:registerBundleChunks]开始：${new Date().toJSON()}`
    )
    global.Env &&
      global.Env.logLevel === 'trace' &&
      console.trace(
        `### App Performance ### 注册chunks[PERF:registerBundleChunks]开始：${new Date().toJSON()}`
      )
  }

  function requireBundleChunk(filePath) {
    const cont = _chunkHashCache.get(filePath)
    if (!cont) {
      console.warn(`### App Framework ### 加载依赖的JS模块：路径不存在：${filePath}`)
    }
    return cont
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  /**
   * 应用的配置信息
   * @property {integer} minPlatformVersion 默认为1
   * @property {string} package
   * @property {string} name
   * @property {string} versionName
   * @property {integer} versionCode
   * @property {object} config
   */
  let manifestJSON = {}

  /**
   * 注册RPK中的应用配置
   * @param {string} manifest 开发者包中的manifest对象
   */
  function registerManifest(manifest) {
    profiler.record(
      `### App Performance ### 注册manifest[PERF:registerManifest]开始：${new Date().toJSON()}`
    )
    global.Env &&
      global.Env.logLevel === 'trace' &&
      console.trace(`### App Framework ### 注册manifest：${JSON.stringify(manifest)}`)
    if (typeof manifest === 'string') {
      manifest = JSON.parse(manifest)
    }
    manifestJSON = manifest || {}
  }

  /**
   * 获取Manifest中的字段值
   * @param {string} keypath 通过"."分割获取进一步的值
   */
  function getManifestField(keypath) {
    const path = keypath.split('.')
    let result = manifestJSON
    for (let i = 0, len = path.length; i < len; i++) {
      result = result[path[i]]
      if (result === null || result === undefined) {
        break
      }
    }
    return result
  }

  /**
   * 开发者包是否满足指定值
   * @param val {Integer}
   * @return {boolean}
   */
  function isRpkMinPlatformVersionGEQ(val) {
    return manifestJSON.minPlatformVersion >= val
  }

  let mode = null

  function isRpkDebugMode() {
    if (mode !== null) {
      return mode
    }
    mode = false
    if (manifestJSON.config && manifestJSON.config.debug === true) {
      mode = true
    }
    return mode
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  function initInterface(app) {}

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  const channels = {}

  class MessageEvent {
    constructor(type = 'message', dict = {}) {
      this.type = type
      this.data = dict.data || null
      this.timeStamp = Date.now()
    }
  }

  /**
   * 对外提供一种消息通讯的机制
   */
  class BroadcastChannel {
    constructor(name) {
      if (global.Env.engine === global.ENGINE_TYPE.CARD) {
        throw new Error(`BroadcastChannel is not supported.`)
      }
      // name readOnly
      Object.defineProperty(this, 'name', {
        configurable: false,
        enumerable: true,
        writable: false,
        value: String(name)
      })

      this._closed = false
      this.onmessage = null

      if (!channels[this.name]) {
        channels[this.name] = []
      }
      channels[this.name].push(this)
    }

    postMessage(message) {
      if (this._closed) {
        throw new Error(`BroadcastChannel "${this.name}" is closed.`)
      }

      const subscribers = channels[this.name]
      if (subscribers && subscribers.length) {
        for (let i = 0; i < subscribers.length; ++i) {
          const member = subscribers[i]

          if (member._closed || member === this) {
            continue
          }

          if (typeof member.onmessage === 'function') {
            member.onmessage(new MessageEvent('message', { data: message }))
          }
        }
      }
    }

    close() {
      if (this._closed) {
        return
      }

      this._closed = true

      // remove itself from channels.
      if (channels[this.name]) {
        const index = channels[this.name].indexOf(this)
        if (index > -1) {
          channels[this.name].splice(index, 1)
        } else {
          delete channels[this.name]
        }
      }
    }
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  function setUpPromiseRejectionHook() {
    global.QuickApp = {}
    // todo expose to user later
    global.QuickApp.unhandledrejection = (type, promise, reason) => {
      if (reason.stack) {
        console.warn(`Unhandled promise rejection: ${reason.stack}`)
      }
    }
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  // 宿主环境类型
  const ENGINE_TYPE = {
    PAGE: 'page',
    CARD: 'card'
  }

  function init() {
    // [ISSUE-989] setPromiseRejectionCallback
    setUpPromiseRejectionHook()

    common.setNativeConsole()
    common.setNativeProfiler()
    common.setNativeTimer()
    common.setNativeRouter()
  }

  /**
   * 暴露供Native使用
   * @param methodNames
   */
  function exposeToNative(methodNames) {
    for (const methodName in methodNames) {
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace(`### App Framework ### 注册全局函数----`, methodName)
      global[methodName] = (...args) => {
        const ret = methodNames[methodName](...args)
        if (ret instanceof Error) {
          console.error(ret.toString())
        }
        return ret
      }
    }
  }

  // JS模块缓存Map
  const bundleMap = {}

  /**
   * 缓存JS模块
   * @param {string} name 模块名称
   * @param {object} bundle 需要缓存的模块
   */
  function defineBundle(name, bundle = null) {
    bundleMap[name] = bundle
  }

  /**
   * 获取JS模块，如果不存在则从安卓加载并缓存
   * @param {string} name 需要加载的模块名称
   * @return {object}
   */
  function requireBundle(name) {
    name = name.replace(/\.js$/, '')
    if (!bundleMap[name]) {
      let code = global.readResource(`assets:///js/bundles/${name}.js`)
      if (typeof code === 'string') {
        code = invokeScript({}, `${code}; return ${name}`, `/bundles/${name}.js`)
      }
      defineBundle(name, code)
    }
    const module = bundleMap[name]
    return module
  }

  // 放在全局
  // global.__dateReadresCost = global.__dateReadresCost || 0

  /**
   * 调用安卓接口同步加载对应资源
   * @param {string} uri 带有协议的资源地址
   * @return {string} 文件字符串，如果文件不存在返回null
   */
  function loadResource(uri) {
    // const dateReadresS = new Date()

    // profiler.time(`PERF:readResource(${uri})`)
    const ret = global.readResource(uri)
    // profiler.timeEnd(`PERF:readResource(${uri})`)

    // const dateReadresE = new Date()
    // global.__dateReadresCost += dateReadresE - dateReadresS
    // profiler.record(
    //   `### App Performance ### 读取资源文件[PERF:readResource]累积耗时：${global.__dateReadresCost}ms`
    // )

    if (!ret) {
      console.warn(`文件不存在，请确认其路径：${uri}`)
    }
    return ret
  }

  function requireScriptFile(filePath, globalObjects) {
    // 读取
    const content = requireBundleChunk(filePath)
    // 执行
    if (content && typeof content === 'string') {
      return invokeScript(
        globalObjects,
        `(function(global){"use strict"; ${content}  \n })(Object.create(this))`,
        filePath
      )
    }
  }

  var platform = {
    init,
    exposeToNative,
    defineBundle,
    Session,
    requireBundle,
    loadResource,
    BroadcastChannel,
    ENGINE_TYPE,
    // 模块
    ModuleHost,
    requireModule,
    requireScriptFile,
    initInterface,
    exposure: {
      registerModules,
      registerBundleChunks,
      execInvokeCallback,
      registerManifest,
      getManifestField,
      isRpkMinPlatformVersionGEQ,
      isRpkDebugMode
    }
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  /**
   * W3C DOM事件
   */
  class Event$1 {
    /**
     * 无参数2，则不冒泡
     * @param type
     * @param eventInitDict
     */
    constructor(type, eventInitDict = { bubbles: false, cancelable: false }) {
      if (arguments.length > 1 && typeof eventInitDict !== 'object') {
        throw new Error(
          `### App Runtime ### addEventListener() 参数2传递的话，必须是对象：${eventInitDict}`
        )
      }
      this._type = type

      // 是否冒泡
      this._bubbles = eventInitDict.bubbles
      // 是否可取消
      this._cancelable = eventInitDict.cancelable
      // 触发事件的最深层节点
      this._target = null
      // 当前捕获或冒泡到的节点
      this._currentTarget = null
      // 事件阶段
      this._eventPhase = Event$1.NONE
      // 阻止默认行为
      this._defaultPrevented = false
      // 时间戳
      this._timeStamp = Date.now()
      // 是否遵循W3C机制：否则只在当前节点上触发
      this._supportW3C = true

      // 标识：停止传播，停止立即传播
      this._flagStopPropagation = false
      this._flagStopImmediatePropagation = false

      // 如果回调报错，是否抛错
      this._throwError = true
      // 事件被处理的节点
      this._listenNodes = {}
    }

    get type() {
      return this._type
    }

    get bubbles() {
      return this._bubbles
    }

    get cancelable() {
      return this._cancelable
    }

    get target() {
      return this._target
    }

    get currentTarget() {
      return this._currentTarget
    }

    get eventPhase() {
      return this._eventPhase
    }

    get defaultPrevented() {
      return this._defaultPrevented
    }

    get timeStamp() {
      return this._timeStamp
    }

    stopPropagation() {
      this._flagStopPropagation = true
    }

    stopImmediatePropagation() {
      this._flagStopImmediatePropagation = true
      this.stopPropagation()
    }

    preventDefault() {
      throw new Error(`### App Runtime ### preventDefault() 暂不支持该方法`)
    }

    toJSON() {
      return {
        type: this._type,
        target: this._target,
        currentTarget: this._currentTarget,
        timeStamp: this._timeStamp
      }
    }
  }

  // 未分发
  Event$1.NONE = 0
  // 捕获期，Target之前
  Event$1.CAPTURING_PHASE = 1
  // 正处于Target
  Event$1.AT_TARGET = 2
  // 冒泡期，Target之后
  Event$1.BUBBLING_PHASE = 3

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  class TouchEvent extends Event$1 {
    constructor() {
      super(...arguments)

      this._touches = null
      this._changedTouches = null
    }

    get touches() {
      return this._touches
    }

    set touches(value) {
      if (this._touches) {
        throw new Error(`### App Framework ### TouchEvent 不支持修改 touches 属性`)
      }
      this._touches = value
    }

    get changedTouches() {
      return this._changedTouches
    }

    set changedTouches(value) {
      if (this._changedTouches) {
        throw new Error(`### App Framework ### TouchEvent 不支持修改 changedTouches 属性`)
      }
      this._changedTouches = value
    }

    toJSON() {
      const superJSON = super.toJSON()
      return Object.assign(superJSON, {
        touches: this._touches,
        changedTouches: this._changedTouches
      })
    }
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  /**
   * 保留ID
   */
  const NodeRef = {
    HTML_ID: '-1'
  }

  /**
   * 节点类型枚举
   */
  const NodeType = {
    UNKNOWN: 0,
    ELEMENT: 1,
    ATTR: 2,
    TEXT: 3,
    COMMENT: 8,
    DOCUMENT: 9,
    DOCUMENT_FRAGMENT: 11,
    FIGMENT: 101
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  /**
   * 生成唯一Id，每个节点具有唯一Id.
   */
  let _uid = 1
  function _uniqueId() {
    return (_uid++).toString()
  }

  /**
   * W3C规范基类：Node
   */
  class Node$1 {
    constructor() {
      this._nodeType = Node$1.NodeType.UNKNOWN
      this._nodeName = null
      this._nodeValue = null
      // 节点创建时所属的Document
      this._ownerDocument = null

      this._textContent = null

      this.ref = _uniqueId()

      this.childNodes = []
      this.layoutChildren = []
      this.parentNode = null

      this.nextSibling = null
      this.previousSibling = null

      // 非规范：标识已挂载到document
      this._docId = null
      // 是否支持布局：Element, Figment, Fragment
      this._layout = false
      // 是否支持渲染：Element
      this._render = false
      // 默认未计算
      this._renderCount = null
    }

    get nodeType() {
      return this._nodeType
    }

    get nodeName() {
      return this._nodeName
    }

    get nodeValue() {
      return this._nodeValue
    }

    get ownerDocument() {
      return this._ownerDocument
    }

    get textContent() {
      return this._textContent
    }

    set textContent(str) {
      if (this.nodeType !== Node$1.NodeType.TEXT) {
        const node = this.ownerDocument.createTextNode(str)
        this.appendChild(node)
      } else {
        this._textContent = str
      }
    }
  }

  Node$1.NodeRef = NodeRef
  Node$1.NodeType = NodeType

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  /**
   * Doc对象Map集合.一个Doc对应一个页面
   */
  const _documentMap = {}

  /**
   * 添加指定Id的Doc对象
   * @param {string} id
   * @param {object} doc
   */
  function setDocument(id, doc) {
    if (id) {
      _documentMap[id] = doc
    }
  }

  /**
   * 移除指定Id的Doc对象
   * @param {string} id
   */
  function removeDocument(id) {
    _documentMap[id] = null
  }

  /**
   * 获取指定id的Doc对象
   * @param id
   * @return {*}
   */
  function getDocument(id) {
    return _documentMap[id]
  }

  /**
   * 获取指定Id的Doc对象的Listener.
   * @param {Document}
   * @return {object}
   */
  function getListener(id) {
    const doc = getDocument(id)
    if (doc && doc.listener) {
      return doc.listener
    }
    return null
  }

  /**
   * 注册节点
   * @param node
   */
  function defineNodeInDocument(node, docId) {
    if (node._docId === docId) {
      return
    }

    const doc = getDocument(docId)
    if (doc) {
      node._docId = docId
      doc._nodeMap[node.ref] = node
      // 子节点
      for (let i = 0, len = node.childNodes.length; i < len; i++) {
        defineNodeInDocument(node.childNodes[i], node._docId)
      }
    }
  }

  /**
   * 删除节点
   * @param node
   */
  function removeNodeInDocument(node, docId) {
    if (node._docId !== docId) {
      return
    }

    const doc = getDocument(docId)
    if (doc) {
      // 子节点
      for (let i = 0, len = node.childNodes.length; i < len; i++) {
        removeNodeInDocument(node.childNodes[i], node._docId)
      }
      node._depth = null
      doc._nodeMap[node.ref] = null
      node._docId = null
    }
  }

  /**
   * 获取在Document中的节点
   * @param document
   * @param ref
   */
  function getDocumentNodeByRef(document, ref) {
    return document._nodeMap[ref]
  }

  /**
   * 关联父子节点.
   * @param {object} child node
   * @param {object} parent node
   */
  function setParent(node, parent) {
    node.parentNode = parent
    if (parent._docId) {
      defineNodeInDocument(node, parent._docId)
      node._depth = parent._depth + 1
    }
    for (let i = 0, len = node.childNodes.length; i < len; i++) {
      setParent(node.childNodes[i], node)
    }
  }

  /**
   * 插入节点到指定索引位置
   * @param {object} target
   * @param {array} list
   * @param {number} newIndex
   * @param {boolean} changeSibling
   */
  function insertIndex(target, list, newIndex, changeSibling) {
    if (newIndex < 0) {
      newIndex = 0
    }
    const before = list[newIndex - 1]
    const after = list[newIndex]
    list.splice(newIndex, 0, target)

    // 如果需要调整兄弟链表索引
    if (changeSibling) {
      before && (before.nextSibling = target || null)
      target.previousSibling = before || null
      target.nextSibling = after || null
      after && (after.previousSibling = target || null)
    }
    return newIndex
  }

  /**
   * 从列表中移除指定节点
   * @param {object} target node
   * @param {array} list
   * @param {boolean} changeSibling
   */
  function removeIndex(target, list, changeSibling) {
    const index = list.indexOf(target)
    if (index < 0) {
      return
    }
    if (changeSibling) {
      const before = list[index - 1]
      const after = list[index + 1]
      before && (before.nextSibling = after || null)
      after && (after.previousSibling = before || null)
      target.previousSibling = null
      target.nextSibling = null
    }
    list.splice(index, 1)
  }

  /**
   * 改变节点在列表中的索引位置
   * @param {object} target node
   * @param {array} list
   * @param {number} newIndex
   * @param {boolean} changeSibling
   */
  function moveIndex(target, list, newIndex, changeSibling) {
    const index = list.indexOf(target)
    if (index < 0 || index === newIndex) {
      return -1
    }

    // 将元素从队列中取出，然后重新插入
    removeIndex(target, list, changeSibling)

    let newIndexAfter = newIndex
    if (index <= newIndex) {
      newIndexAfter = newIndex - 1
    }

    insertIndex(target, list, newIndexAfter, changeSibling)

    return newIndex
  }

  function getNodeStyleObjectId(node) {
    if (node._styleObjectId) {
      return node._styleObjectId
    }

    let curr = node
    // 私有
    while (curr && !curr._styleObjectId) {
      curr = curr.parentNode
    }
    if (curr) {
      node._styleObjectId = curr._styleObjectId
    }

    return node._styleObjectId
  }

  let styleObjectIdUnique = 1

  /**
   * 缓存styleObject，并返回唯一的ID标识
   * @param docId
   * @param styleObject
   * @return {*}
   */
  function genIdByStyleObject(docId, styleObject) {
    let styleObjectId

    const doc = getDocument(docId)
    if (doc && doc._styleObjectMap) {
      styleObjectId = doc._styleObjectMap.get(styleObject)
      if (!styleObjectId) {
        _removeRuleDefInStyleObject(styleObject)
        styleObjectId = styleObjectIdUnique++
        doc._styleObjectMap.set(styleObject, styleObjectId)
      }
    } else {
      styleObjectId = styleObjectIdUnique++
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace(
          `### App Runtime ### 获取样式对象ID：文档(${docId})已销毁，生成无缓存时的ID：${styleObjectId}`
        )
    }
    return styleObjectId
  }

  /**
   * 删除后代选择中的样式解析meta
   * @param styleObject
   */
  function _removeRuleDefInStyleObject(styleObject) {
    for (const k in styleObject) {
      const styleItem = styleObject[k]
      if (styleItem && styleItem._meta) {
        delete styleItem._meta
      }
    }
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  // 是否属于data属性
  const REG_IS_DATA_ATTR = /^data.+/

  /**
   * 返回标准dataset DOMStringMap的Key值
   * @param {string} nameWithData 以data开头的需要返回标准datasetKey值的属性
   * @return {string}
   */
  function $dataAttr(nameWithData) {
    const originAttr = nameWithData.replace(/[A-Z]/g, $0 => '-' + $0.toLowerCase())
    return originAttr.replace(/^data-/, '').replace(/-([a-z])/g, ($0, $1) => $1.toUpperCase())
  }

  /**
   * 转换样式信息对象
   * @param styleListAll
   * @param styleHashYes
   */
  function $hyphenateStyle(styleListAll, styleHashYes) {
    const styleListNew = []
    const styleHashLeft = Object.assign({}, styleHashYes)

    if (styleListAll) {
      for (let i = 0, len = styleListAll.length; i < len; i++) {
        const styleItem = styleListAll[i]

        if (styleHashLeft.hasOwnProperty(styleItem.name)) {
          styleListNew.push({
            name: $hyphenate(styleItem.name),
            value: styleHashLeft[styleItem.name],
            disabled: false
          })
          delete styleHashLeft[styleItem.name]
        } else if (styleItem.disabled) {
          styleListNew.push({
            name: $hyphenate(styleItem.name),
            value: styleItem.value,
            disabled: styleItem.disabled
          })
        }
      }
    }

    for (const propName in styleHashLeft) {
      styleListNew.push({
        name: $hyphenate(propName),
        value: styleHashLeft[propName],
        disabled: false
      })
    }

    return styleListNew
  }

  /**
   * 解析class名称，转换为数组
   * @param className
   * @return {Array}
   */
  function classAttrToClassList(className) {
    return (className || '')
      .split(/\s+/)
      .filter(s => s !== '')
      .filter((s, i, l) => {
        return l.indexOf(s) === i
      })
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  // 原生组件映射表
  const nativeComponentMap = {}

  /**
   * 注册原生组件（仅注册组件名）
   * @param components
   */
  function registerComponents(components) {
    if (typeof components === 'string') {
      components = JSON.parse(components)
    }

    if (!Array.isArray(components)) {
      components = [components]
    }

    components.forEach(comp => {
      if (!comp) {
        return
      }

      if (!comp.name) {
        comp.name = comp.type
        delete comp.type
      }

      comp.methods = comp.methods || []

      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace(`### App Runtime ### 注册组件---- `, JSON.stringify(comp))

      let nativeComp = nativeComponentMap[comp.name]

      if (!nativeComp) {
        nativeComp = nativeComponentMap[comp.name] = JSON.parse(JSON.stringify(comp))
        nativeComp.def = {}
      } else {
        nativeComp.methods = Array.from(new Set(nativeComp.methods.concat(comp.methods)))
      }
    })
  }

  /**
   * 获取Native组件的默认配置
   * @param componentName
   * @return {*}
   */
  function getComponentDefaultOptions(componentName) {
    return nativeComponentMap[componentName]
  }

  /**
   * Native组件实例绑定对应的方法
   * @param node
   */
  function bindComponentMethods(node) {
    const nodeType = node.tagName.toLowerCase()
    const component = getComponentDefaultOptions(nodeType)
    if (component && component.methods) {
      const methodNameList = component.methods.filter(name => name !== 'animate')
      methodNameList.forEach(function(methodName) {
        if (!node[methodName]) {
          node[methodName] = function(...args) {
            const listener = getListener(node._docId)
            if (listener) {
              listener.invokeComponentMethod(component.name, node.ref, methodName, args)
              global.Env &&
                global.Env.logLevel === 'trace' &&
                console.trace(
                  `### App Runtime ### 调用组件的方法：${component.name}.${methodName}()`,
                  JSON.stringify(args)
                )
            } else {
              console.warn(
                `### App Runtime ### 调用组件的方法无效：${component.name}.${methodName}(), 组件已销毁`
              )
            }
          }
        }
      })
      return methodNameList
    }
    return []
  }

  /**
   * 获取属性的对象
   */
  function getNodeAttributesAsObject(node) {
    return node._attr
  }

  /**
   * 获取内联样式对象
   */
  function getNodeInlineStyleAsObject(node) {
    return node._style
  }

  /**
   * 获取class值数组
   */
  function getNodeAttrClassList(node) {
    if (node._classList) {
      return node._classList
    }

    const attr = getNodeAttributesAsObject(node)
    node._classList = classAttrToClassList(attr.class)

    return node._classList
  }

  /**
   * 获取合并后的样式
   * @param node
   * @return {*|{}}
   */
  function getNodeMergedStyleAsObject(node) {
    return node.mergedStyle
  }

  /**
   * 更新内联样式对象
   * @param node
   * @param value
   */
  function setNodeInlineStyle(node, value) {
    node._style = value || {}
  }

  /**
   * 将样式字符串转换成对象
   * @param {String} cssText - 样式规则字符串
   * @returns {Object} - 样式对象，属性名为驼峰式命名
   */
  function cssText2StyleObject(cssText) {
    const styleObj = {}
    const rules = cssText.split(';')
    rules
      .filter(rule => rule.trim()) // 忽略空白的规则
      .forEach(rule => {
        const colonIdx = rule.indexOf(':')
        let key = rule.substring(0, colonIdx).trim()
        key = $camelize(key)
        const value = rule.substring(colonIdx + 1).trim()
        styleObj[key] = value
      })
    global.Env &&
      global.Env.logLevel === 'trace' &&
      console.trace(`### App Runtime ### 元素的样式转换：${cssText} 为${JSON.stringify(styleObj)}`)
    return styleObj
  }

  /**
   * 转换节点为JSON对象(仅支持布局的节点)
   */
  function getNodeAsJSON(
    node,
    includeChildren = true,
    includeStyleObject = false,
    includeMergedStyle = false
  ) {
    if (node.nodeType === NodeType.ELEMENT) {
      // 元素节点：返回对象
      const hash = {
        ref: node.ref.toString(),
        type: node._type
      }

      // 内置属性
      const styleObjectId = getNodeStyleObjectId(node)
      if (styleObjectId) {
        hash.prop = {
          _styleObjectId: styleObjectId
        }
      }

      // 样式对象
      if (includeStyleObject && node._styleObject) {
        hash.styleObject = node._styleObject
      }

      // 是否使用父级的样式对象
      if (node._useParentStyle) {
        hash.prop = hash.prop || {}
        hash.prop._useParentStyle = true
      }

      // 属性
      const attr = getNodeAttributesAsObject(node)
      if (attr && Object.keys(attr).length) {
        hash.attr = {}
        for (const k in attr) {
          const v = attr[k]
          hash.attr[k] = [null, undefined].indexOf(v) !== -1 ? '' : v
        }
      }

      // 内联样式
      const inlineStyle = getNodeInlineStyleAsObject(node)
      if (inlineStyle && Object.keys(inlineStyle).length) {
        hash.inlineStyle = inlineStyle
      }

      // 合并后的样式
      if (includeMergedStyle) {
        const style = getNodeMergedStyleAsObject(node)
        if (style && Object.keys(style).length) {
          hash.style = style
        }
      }

      // 事件
      const eventList = Object.keys(node._eventTargetListeners || {})
      if (eventList && eventList.length) {
        hash.event = eventList
      }

      // 子节点
      const childList = node.layoutChildren || node.childNodes
      if (includeChildren && childList && childList.length) {
        const list = []
        for (let i = 0, len = childList.length; i < len; i++) {
          const childNode = childList[i]
          const childJson = getNodeAsJSON(
            childNode,
            includeChildren,
            includeStyleObject,
            includeMergedStyle
          )
          if (supportRender(childNode)) {
            list.push(childJson)
          } else {
            list.push.apply(list, childJson)
          }
        }
        // 兼容Native底层
        hash.children = list
      }
      return hash
    } else if (node.nodeType === NodeType.FIGMENT) {
      // 逻辑节点：返回数组
      const list = []
      if (includeChildren && node.layoutChildren && node.layoutChildren.length) {
        for (let i = 0, len = node.layoutChildren.length; i < len; i++) {
          const childNode = node.layoutChildren[i]
          const childJson = getNodeAsJSON(
            childNode,
            includeChildren,
            includeStyleObject,
            includeMergedStyle
          )
          if (childNode.nodeType === NodeType.FIGMENT) {
            list.push.apply(list, childJson)
          } else {
            list.push(childJson)
          }
        }
      }
      return list
    } else if (node.nodeType === NodeType.COMMENT) {
      // 注释节点
      return []
    } else {
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace(
          `### App Runtime ### getNodeAsJSON() 忽略该类型(${node.nodeType})的节点序列化`
        )
    }
  }

  /**
   * 获取节点在DOM树中的层级深度
   * @param node
   * @return {number|*|null}
   */
  function getNodeDepth(node) {
    return node._depth
  }

  /**
   * 是否支持布局
   * @param node
   * @return {boolean}
   */
  function supportLayout(node) {
    return node._layout
  }

  /**
   * 是否支持渲染
   * @param node
   * @return {boolean}
   */
  function supportRender(node) {
    return node._render
  }

  /**
   * 支持渲染的父节点，自己或向上查找
   * @param node
   * @param includeSelf
   * @return {*}
   */
  function renderParent(node, includeSelf = false) {
    let nodeTmp = includeSelf ? node : node.parentNode
    while (nodeTmp && !supportRender(nodeTmp)) {
      nodeTmp = nodeTmp.parentNode
    }
    return nodeTmp
  }

  /**
   * 获取渲染父节点数组（从叶子到根）
   * @desc 优化：缓存起来，减少匹配时间
   * @param node
   * @param includeSelf
   * @return {Array}
   */
  function renderParents(node, includeSelf = false) {
    const list = []
    let nodeTmp = renderParent(node, includeSelf)
    while (nodeTmp) {
      list.push(nodeTmp)
      nodeTmp = renderParent(nodeTmp)
    }
    return list
  }

  /**
   * 计算当前节点的可渲染节点(儿子级别的渲染节点)数量，包括自己
   * @return {number}
   */
  function calcRenderCount(node) {
    if (node._renderCount !== null) {
      return node._renderCount
    }

    let count = supportRender(node) ? 1 : 0
    if (supportLayout(node) && !supportRender(node)) {
      for (let i = 0, len = node.layoutChildren.length; i < len; i++) {
        count += calcRenderCount(node.layoutChildren[i])
      }
    }

    node._renderCount = count
    return count
  }

  /**
   * 重置当前节点以上的可渲染数量
   * @param node
   */
  function resetRenderCount(node) {
    let curr = node
    while (curr) {
      curr._renderCount = null
      curr = curr.parentNode
    }
  }

  /**
   * 计算当前节点相对于可渲染父节点的渲染索引
   * @returns {Number}
   * @private
   */
  function renderIndexInRenderParent(node) {
    // 只有支持布局的节点才有效
    const parent = node.parentNode

    if (node.nodeType === NodeType.DOCUMENT || node.ref === NodeRef.HTML_ID) {
      return 0
    }

    if (!parent || !supportLayout(node)) {
      return -1
    }

    // 如果发生，说明数据异常
    const localIndex = renderIndexInParent(node, parent)
    // 父节点是非法节点
    let parentIndex = 0
    if (!supportRender(parent)) {
      parentIndex = renderIndexInRenderParent(parent)
    }

    if (localIndex < 0 || parentIndex < 0) {
      return -1
    }

    return localIndex + parentIndex
  }

  /**
   * 计算当前节点相对于父节点下的渲染索引
   * @param node
   * @param parent
   * @return {*}
   */
  function renderIndexInParent(node, parent) {
    // 只有支持布局的节点才有效
    if (!parent.layoutChildren || parent.layoutChildren.length <= 0) {
      return -1
    }
    const index = parent.layoutChildren.indexOf(node)
    if (index > 0) {
      let count = 0
      for (let i = 0, len = index; i < len; i++) {
        count += calcRenderCount(parent.layoutChildren[i])
      }
      return count
    } else {
      return index
    }
  }

  /**
   * 销毁继承自Tag的节点对象
   * @param node
   */
  function destroyTagNode(node) {
    switch (node.nodeType) {
      case NodeType.DOCUMENT:
        destroyDocument(node)
        break
      case NodeType.ELEMENT:
        destroyElement(node)
        break
      default:
        destroyTag(node)
    }
  }

  function destroyNode(node) {
    delete node._docId
    delete node._layout
    delete node._render
    delete node._renderCount

    delete node.nextSibling
    delete node.previousSibling
    delete node.parentNode

    // 防止销毁多次报错
    if (node.childNodes) {
      for (let i = node.childNodes.length - 1; i >= 0; i--) {
        destroyElement(node.childNodes[i])
      }
    }

    delete node.layoutChildren
    delete node.childNodes

    delete node._content
    delete node._ownerDocument

    global.Env &&
      global.Env.logLevel === 'trace' &&
      console.trace(
        `### App Runtime ### 销毁节点：节点(${node.ref})剩余属性有：[${Object.keys(node).join(
          ', '
        )}]`
      )
  }

  function destroyTag(node) {
    delete node._depth
    delete node._tmpRenderIndexInParent
    delete node._eventTargetListeners

    // 优化：框架层面的对象
    delete node._bindWatcherList
    delete node._vm

    destroyNode(node)
  }

  function destroyElement(node) {
    global.Env &&
      global.Env.logLevel === 'trace' &&
      console.trace(
        `### App Runtime ### 销毁元素：${JSON.stringify(getNodeAsJSON(node, false, false, false))}`
      )

    delete node._classList

    delete node._styleObject
    delete node._styleObjectId
    delete node._useParentStyle
    delete node._usedCSSPropertyCache
    delete node._matchedCssRuleCache
    delete node._mergedStyleCache
    delete node._ownCssRuleCache

    delete node._attr
    delete node._style
    delete node._dataset

    destroyTag(node)
  }

  function destroyDocument(node) {
    global.Env && global.Env.logLevel === 'trace' && console.trace(`### App Runtime ### 销毁文档`)
    delete node._nodeMap
    delete node.listener
    delete node._styleSheetHash

    if (node._styleObjectMap) {
      node._styleObjectMap.clear()
    }
    delete node._styleObjectMap

    if (node.documentElement) {
      destroyElement(node.documentElement)
    }
    delete node.documentElement
    delete node.body
    delete node.childNodes
    delete node.layoutChildren

    removeDocument(node._docId)
    destroyTag(node)
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  /**
   * 仅触发最深层次的事件发生绑定者
   * @param node
   * @param evt {Event}
   * @param options
   */
  function fireTargetEventListener(node, evt, options) {
    // 转换为对象
    if (!(options instanceof Object)) {
      options = {
        capture: !!options
      }
    }
    evt._currentTarget = node
    evt._target = node
    const evtName = evt.type
    const eventConf = node._eventTargetListeners[evtName]
    const finalEventPhase = options.capture ? Event$1.CAPTURING_PHASE : Event$1.BUBBLING_PHASE

    if (eventConf && eventConf[finalEventPhase] && eventConf[finalEventPhase].list) {
      const listCache = eventConf[finalEventPhase].list

      for (let i = 0, len = listCache.length; i < len; i++) {
        const fnListener = listCache[i]

        global.Env &&
          global.Env.logLevel === 'trace' &&
          console.trace(
            `### App Runtime ### fireTargetEventListener() 事件响应:${evt.type}，节点:${node.ref}`
          )
        if (fnListener) {
          const functionResult = fnListener.call(evt.target, evt)
          if (evtName === 'key') {
            // onkey组件回调返回true，即组件自己处理
            if (functionResult === true) {
              global.callKeyEvent(functionResult, evt.hashcode)
            } else {
              // 若onkey组件回调不返回true，则手动调用页面onKey生命周期
              const { action, code, repeatCount } = evt
              const onKeyLifeCycleResult = global.keyPressPage(node._docId, {
                action,
                code,
                repeatCount
              })
              global.callKeyEvent(onKeyLifeCycleResult, evt.hashcode)
            }
          }
          evt._listenNodes[evt.target.ref] = true
        }
      }
    }
  }

  /**
   * 清除节点事件的所有监听
   * @param node
   * @param evtName
   * @return {*|{}}
   */
  function clearTargetEventListener(node, evtName, options) {
    // 转换为对象
    if (!(options instanceof Object)) {
      options = {
        capture: !!options
      }
    }

    const phase = options.capture ? Event$1.CAPTURING_PHASE : Event$1.BUBBLING_PHASE
    if (node._eventTargetListeners[evtName]) {
      delete node._eventTargetListeners[evtName][phase]
    }
  }

  /**
   * W3C的EventTarget
   */
  class EventTarget extends Node$1 {
    constructor() {
      super(...arguments)
      this._eventTargetListeners = {}
    }

    /**
     * @param evtName {string}
     * @param fnListener {function}
     * @param options {boolean|Object} capture默认为false，否则为对象
     * @param options.capture 是否是捕获阶段
     * @param options.once 调用执行过后删除
     * @param options.passive 暂未实现
     */
    addEventListener(evtName, fnListener, options) {
      if (arguments.length < 2) {
        throw new Error(
          `### App Runtime ### addEventListener() 至少需要传递两个参数:${arguments.length}`
        )
      }
      if (typeof evtName !== 'string') {
        throw new Error(`### App Runtime ### addEventListener() 参数1必须是字符串，事件类型`)
      }
      if (typeof fnListener !== 'function') {
        throw new Error(`### App Runtime ### addEventListener() 参数2必须是函数，监听事件`)
      }
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace(
          `### App Runtime ### addEventListener() 节点(${this.ref})注册事件(${evtName})`
        )

      // 转换为对象
      if (!(options instanceof Object)) {
        options = {
          capture: !!options,
          once: false,
          passive: false
        }
      }

      // 根据PHASE分别保存为对象，持有:hash,list属性
      const phase = options.capture ? Event$1.CAPTURING_PHASE : Event$1.BUBBLING_PHASE
      const eventConf = (this._eventTargetListeners[evtName] =
        this._eventTargetListeners[evtName] || {})
      eventConf[phase] = eventConf[phase] || {}
      eventConf[phase].list = eventConf[phase].list || []
      eventConf[phase].hash = eventConf[phase].hash || {}

      const index = eventConf[phase].list.indexOf(fnListener)
      if (index === -1) {
        // 不存在则添加
        const len = eventConf[phase].list.push(fnListener)
        eventConf[phase].hash[len - 1] = {
          capture: !!options.capture,
          once: !!options.once,
          passive: !!options.passive
        }
      }

      // 发送消息，Native才会通知
      const listener = getListener(this._docId)
      if (listener) {
        listener.addEvent(this.ref, evtName)
      }
    }

    /**
     * @param evtName {string}
     * @param fnListener {function}
     * @param options {boolean|Object} capture默认为false，否则为对象
     */
    removeEventListener(evtName, fnListener, options) {
      if (arguments.length < 2) {
        throw new Error(
          `### App Runtime ### addEventListener() 至少需要传递两个参数:${arguments.length}`
        )
      }
      if (typeof evtName !== 'string') {
        throw new Error(`### App Runtime ### addEventListener() 参数1必须是字符串，事件类型`)
      }
      if (typeof fnListener !== 'function') {
        throw new Error(`### App Runtime ### addEventListener() 参数2必须是函数，监听事件`)
      }
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace(
          `### App Runtime ### Element ${this.ref} 执行 removeEventListener(${evtName})---- `
        )

      // 转换为对象
      if (!(options instanceof Object)) {
        options = {
          capture: !!options
        }
      }

      // 根据PHASE分别保存为对象，持有:hash,list属性
      const phase = options.capture ? Event$1.CAPTURING_PHASE : Event$1.BUBBLING_PHASE
      const eventConf = (this._eventTargetListeners[evtName] =
        this._eventTargetListeners[evtName] || {})
      eventConf[phase] = eventConf[phase] || {}
      eventConf[phase].list = eventConf[phase].list || []
      eventConf[phase].hash = eventConf[phase].hash || {}

      const index = eventConf[phase].list.indexOf(fnListener)
      if (index !== -1) {
        eventConf[phase].list.splice(index, 1)
        eventConf[phase].hash[index] = null
      }
      // 清除
      if (eventConf[phase].list.length === 0) {
        eventConf[phase] = null
      }
    }

    dispatchEvent(evt) {
      if (!(evt instanceof Event$1)) {
        throw new Error(`### App Runtime ### dispatchEvent() 参数1所属类必须是事件类`)
      }
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace(
          `### App Runtime ### dispatchEvent() 执行事件:${evt.type}, 来自节点:${this.ref}`
        )

      if (!evt._supportW3C) {
        fireTargetEventListener(this, evt)
      } else {
        evt._target = this

        const evtName = evt.type
        const parentList = renderParents(this, true)
        const nodeList = parentList
          .slice()
          .reverse()
          .concat(parentList)

        // 尝试添加document
        if (nodeList[0] && nodeList[0].parentNode === nodeList[0].ownerDocument) {
          const document = nodeList[0].ownerDocument
          nodeList.unshift(document)
          nodeList.push(document)
        }

        while (nodeList.length > 0) {
          const node = nodeList[0]
          // 节点所在索引
          const nodeIndex = nodeList.indexOf(node)
          const thisIndex = nodeList.indexOf(this)

          if (nodeIndex < thisIndex) {
            // 捕获
            evt._eventPhase = Event$1.CAPTURING_PHASE
          } else if (nodeIndex === thisIndex) {
            // 当前
            evt._eventPhase = Event$1.AT_TARGET
          } else {
            // 冒泡
            evt._eventPhase = Event$1.BUBBLING_PHASE
          }

          evt._currentTarget = node

          if (!evt.bubbles && evt.eventPhase === Event$1.BUBBLING_PHASE) {
            // 如果禁用冒泡，则放弃冒泡阶段
            break
          }

          global.Env &&
            global.Env.logLevel === 'trace' &&
            console.trace(
              `### App Runtime ### dispatchEvent() 执行事件:${evtName}, 阶段:${evt.eventPhase}, Target:${evt.target.ref}, CurrentTarget:${evt.currentTarget.ref}`
            )

          const eventConf = node._eventTargetListeners[evtName]

          let finalEventPhase = evt.eventPhase
          if (evt.target === evt.currentTarget) {
            // 如果发生在target元素，则使用对应的缓存
            finalEventPhase =
              node === nodeList[1] ? Event$1.CAPTURING_PHASE : Event$1.BUBBLING_PHASE
          }
          if (eventConf && eventConf[finalEventPhase] && eventConf[finalEventPhase].list) {
            const hashCache = eventConf[finalEventPhase].hash
            const listCache = eventConf[finalEventPhase].list.slice()
            for (let i = 0, len = listCache.length; i < len; i++) {
              if (evt._flagStopImmediatePropagation) {
                break
              }
              const fnListener = listCache[i]

              try {
                global.Env &&
                  global.Env.logLevel === 'trace' &&
                  console.trace(
                    `### App Runtime ### dispatchEvent() 事件响应:${evt.type}，阶段:${evt.eventPhase}`
                  )
                // 执行fnListener回调
                if (fnListener) {
                  fnListener.call(evt.currentTarget, evt)
                  evt._listenNodes[evt.currentTarget.ref] = true
                }
              } catch (err) {
                console.error(
                  `### App Runtime ### dispatchEvent() 事件响应:${evt.type}，阶段:${evt.eventPhase}, JS报错:`,
                  err.message,
                  fnListener
                )
                console.error(err.stack)
                // 向上报错
                evt._throwError &&
                  global.setTimeout(() => {
                    throw err
                  }, 0)
              }

              // 判断是否是once:仅调用一次并移除
              if (hashCache[i] && hashCache[i].once) {
                node.removeEventListener(evt.type, fnListener, hashCache[i])
              }
            }
          }

          if (evt._flagStopImmediatePropagation || evt._flagStopPropagation) {
            break
          }

          // 删除
          nodeList.shift()
        }

        // 清理事件本身
        evt._currentTarget = null
      }

      // 卡片模式：通知底层所处理的节点
      if (evt.type === 'click' && global.Env && global.Env.engine === global.ENGINE_TYPE.CARD) {
        const listener = getListener(this._docId)
        if (listener) {
          listener.collectStatistics({
            type: evt.type,
            ref: this.ref,
            listeners: Object.keys(evt._listenNodes)
          })
        }
      }
      evt._listenNodes = {}
    }
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  /**
   * 插入到文档中时的操作
   * @param node
   * @private
   */
  function applyWhenInDocument(node) {
    // 样式计算
    if (node.nodeType === Node$1.NodeType.ELEMENT && node._docId) {
      // 递归
      for (let i = 0, len = node.layoutChildren.length; i < len; i++) {
        applyWhenInDocument(node.layoutChildren[i])
      }
    }
  }

  function nodeInsertBefore(parentNode, node, before) {
    // 处理Fragment节点
    if (node.nodeType === Node$1.NodeType.DOCUMENT_FRAGMENT) {
      // 添加子节点
      const childNodeList = node.childNodes.slice()
      for (let i = 0, len = childNodeList.length; i < len; i++) {
        node.removeChild(childNodeList[i])
        nodeInsertBefore(parentNode, childNodeList[i], before)
      }
      // 清空当前节点
      return node
    }

    // 渲染父节点
    const renderParentNode = renderParent(parentNode, true)

    const childIndex = !before
      ? parentNode.childNodes.length
      : parentNode.childNodes.indexOf(before)
    const listener = getListener(parentNode._docId)

    // 处理文本节点
    if (node.nodeType === Node$1.NodeType.TEXT) {
      throw new Error(`### App Runtime ### 不支持在非渲染节点中添加文本节点：${node.textContent}`)
    }

    if (!node.parentNode) {
      // 新增节点
      setParent(node, parentNode)
      insertIndex(node, parentNode.childNodes, childIndex, true)

      applyWhenInDocument(node)

      if (supportLayout(node)) {
        if (!before) {
          // appendChild操作
          insertIndex(node, parentNode.layoutChildren, parentNode.layoutChildren.length)
          resetRenderCount(parentNode)
          const nodeRenderIndex =
            parentNode === renderParentNode ? -1 : renderIndexInRenderParent(node)
          if (listener) {
            return listener.addNode(node, renderParentNode, nodeRenderIndex)
          }
        } else {
          // insertBefore操作
          insertIndex(node, parentNode.layoutChildren, parentNode.layoutChildren.indexOf(before))
          resetRenderCount(parentNode)
          const nodeRenderIndex = renderIndexInRenderParent(node)
          if (listener) {
            return listener.addNode(node, renderParentNode, nodeRenderIndex)
          }
        }
      }
    } else {
      // 移动节点
      moveIndex(node, parentNode.childNodes, childIndex, true)

      if (supportLayout(node)) {
        if (!before) {
          const index = moveIndex(node, parentNode.layoutChildren, parentNode.layoutChildren.length)
          resetRenderCount(parentNode)
          const nodeRenderIndex = renderIndexInRenderParent(node)
          if (listener && index >= 0) {
            return listener.moveNode(node, renderParentNode, nodeRenderIndex)
          }
        } else {
          const index = moveIndex(
            node,
            parentNode.layoutChildren,
            parentNode.layoutChildren.indexOf(before)
          )
          resetRenderCount(parentNode)
          const nodeRenderIndex = renderIndexInRenderParent(node)
          if (listener && index >= 0) {
            return listener.moveNode(node, renderParentNode, nodeRenderIndex)
          }
        }
      }
    }
  }

  /**
   * 清空孩子节点，记录关键信息，待重新插入
   * @param parent
   */
  function resetNodeChildren(parent) {
    for (let i = 0, len = parent.layoutChildren.length; i < len; i++) {
      const childNode = parent.layoutChildren[i]
      childNode._tmpRenderIndexInParent = renderIndexInParent(childNode, parent)
    }

    parent.childNodes.length = 0
    parent.layoutChildren.length = 0
  }

  /**
   * 重新插入
   * @param parent
   * @param node
   */
  function restoreNodeChildren(parent, node) {
    // 新插入节点的父节点必须是当前节点
    if (!node.parentNode || node.parentNode !== parent) {
      return
    }

    parent.childNodes.push(node)
    parent.layoutChildren.push(node)

    // 实际父节点
    const renderParentNode = renderParent(parent, true)

    if (supportLayout(node)) {
      const listener = getListener(parent._docId)
      const nodeRenderIndex = renderIndexInRenderParent(node)
      const needMove = nodeRenderIndex !== node._tmpRenderIndexInParent

      node._tmpRenderIndexInParent = null
      if (listener && needMove) {
        return listener.moveNode(node, renderParentNode, nodeRenderIndex)
      }
    }
  }

  /**
   * DOM节点基类
   */
  class DomTag extends EventTarget {
    constructor() {
      super(...arguments)
      this._depth = null
      // 临时的记录
      this._tmpRenderIndexInParent = null
    }

    appendChild(node) {
      if (!node || !(node instanceof Node$1)) {
        throw new Error(`### App Runtime ### appendChild() 函数的node参数无效`)
      }

      if (node.parentNode && node.parentNode !== this) {
        throw new Error(`### App Runtime ### appendChild() 参数node的父节点不匹配`)
      }

      return nodeInsertBefore(this, node, null)
    }

    insertBefore(node, before) {
      if (!node || arguments.length !== 2 || !(node instanceof Node$1)) {
        throw new Error(`### App Runtime ### insertBefore() 函数的node/before参数无效`)
      }

      if (node.parentNode && node.parentNode !== this) {
        throw new Error(`### App Runtime ### insertBefore() 参数node的父节点不匹配`)
      }

      // 检查是否需要移动
      if (node === before || (node.nextSibling && node.nextSibling === before)) {
        return node
      }

      return nodeInsertBefore(this, node, before)
    }

    removeChild(node) {
      if (!node || !(node instanceof Node$1)) {
        throw new Error(`### App Runtime ### removeChild() node参数无效`)
      }
      if (node.parentNode !== this) {
        throw new Error(`### App Runtime ### removeChild() 参数node的父节点不匹配`)
      }
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace(
          `### App Runtime ### removeChild() 移除节点：${JSON.stringify(
            getNodeAsJSON(node, false, false, false)
          )}`
        )

      resetRenderCount(node)
      node.parentNode = null

      if (supportLayout(node)) {
        if (supportRender(node)) {
          const listener = getListener(node._docId)
          if (listener) {
            listener.removeElement(node.ref)
          }
        } else {
          const list = node.childNodes.slice()
          for (let i = 0; i < list.length; i++) {
            node.removeChild(list[i])
          }
        }
        removeIndex(node, this.layoutChildren)
      }
      removeIndex(node, this.childNodes, true)

      // 文档中移除
      removeNodeInDocument(node, node._docId)

      return node
    }

    toJSON() {
      return getNodeAsJSON(this, true, false, false)
    }
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  /**
   * 注释节点：可布局但不可渲染的节点
   */
  class DomComment extends DomTag {
    constructor(data) {
      super(...arguments)
      this._nodeType = Node$1.NodeType.COMMENT
      this._nodeName = '#comment'
      this._nodeValue = data

      this._layout = true
      this._render = false

      this._data = data
    }

    get data() {
      return this._data
    }

    set data(str) {
      const final = '' + str
      this._nodeValue = final
      this._data = final
      return this._data
    }

    appendChild(node) {
      throw new Error(`### App Runtime ### appendChild() 注释节点不支持插入子节点`)
    }

    insertBefore(node, before) {
      throw new Error(`### App Runtime ### insertBefore() 注释节点不支持插入子节点`)
    }

    /**
     * 转换为HTML注释.
     * @return {string} html
     */
    toString() {
      return '<!-- ' + this._data + ' -->'
    }
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  /**
   * 设置元素属性值，判断是否发送给Native.
   * @param node {Element}
   * @param key {string}
   * @param value {string | number}
   * @param silent {boolean}
   */
  function setElementProp(node, key, value, silent) {
    if (!node._ownerDocument || key === 'ref') {
      return
    }

    if (node[key] === value && silent !== false) {
      return
    }

    const oldValue = node[key]
    node[key] = value

    global.Env &&
      global.Env.logLevel === 'trace' &&
      console.trace(`### App Runtime ### 元素的内部属性(${key})更新(${oldValue}=>${value})`)
    const listener = getListener(node._docId)
    if (listener) {
      listener.setProp(node.ref, key, value)
    }
  }

  /**
   * 设置属性值，判断是否发送给Native.
   * @param node {Element}
   * @param key {string}
   * @param value {string | number}
   * @param silent {boolean}
   */
  function setElementAttr(node, key, value, silent) {
    if (!node._ownerDocument || key === 'ref') {
      return
    }

    if (!isObject(value) && getNodeAttributesAsObject(node)[key] === value && silent !== false) {
      return
    }

    if (key === 'class') {
      // 清空缓存
      node._classList = null
    } else if (REG_IS_DATA_ATTR.test(key)) {
      const dataKey = $dataAttr(key)
      node._dataset[dataKey] = value
    }

    // 更新属性
    const oldValue = getNodeAttributesAsObject(node)[key]
    getNodeAttributesAsObject(node)[key] = value
    global.Env &&
      global.Env.logLevel === 'trace' &&
      console.trace(`### App Runtime ### 元素的属性(${key})更新(${oldValue}=>${value})`)
    // 通知属性
    calcAndTellListener(node, silent, key, value)
  }

  /**
   * 设置样式值，判断是否发送给Native.
   * @param key {string}
   * @param value {string | number}
   * @param silent {boolean}
   */
  function setElementStyle(node, key, value, silent) {
    if (!node._ownerDocument) {
      return
    }

    if (getNodeInlineStyleAsObject(node)[key] === value && silent !== false) {
      return
    }
    getNodeInlineStyleAsObject(node)[key] = value
    calcAndTellListener(node, silent, 'style', null, [key, value])
  }

  /**
   * 设置样式值，判断是否发送给Native.
   * @param key
   * @param value
   * @param silent
   */
  function setElementStyles(node, value, silent) {
    if (!node._ownerDocument) {
      return
    }

    value = value || ''

    if (getNodeInlineStyleAsObject(node) === value && silent !== false) {
      return
    }

    const styleObj = typeof value === 'string' ? cssText2StyleObject(value) : value
    setNodeInlineStyle(node, styleObj)
    calcAndTellListener(node, silent, 'style')
  }

  /**
   * 计算并更新节点
   * @param node
   * @param silent
   * @param name
   * @param value
   * @param extra {Array} 更新单个style时的数据
   */
  function calcAndTellListener(node, silent, name, value, extra) {
    // 如果Document有Listener，则向Listener发送更新通知
    const listener = getListener(node._docId)

    if (!listener) {
      return
    }

    if (name === 'class') {
      // 更新样式
      !silent && listener.setStyles(node.ref, null, { class: value })
    } else if (name === 'id') {
      // 更新样式
      !silent && listener.setStyles(node.ref, null, { id: value })
    } else if (name === 'style') {
      // 更新样式
      if (extra) {
        // 设置单个样式
        !silent && listener.setStyle(node.ref, ...extra)
      } else {
        // 设置整个style
        !silent && listener.setStyles(node.ref, getNodeInlineStyleAsObject(node))
      }
    } else {
      // 更新属性
      !silent && listener.setAttr(node.ref, name, value)
    }
  }

  /**
   * 调试器：获取元素匹配的样式规则列表
   * 因为有禁用的顺序恢复，同时复制一份，不修改原数据
   * @param node
   * @param ruleName 不传递时获取所有
   */
  function getElementMatchedCssRuleList(node, ruleName) {
    const cssStyleInline = getNodeInlineStyleAsObject(node)
    const cssRuleInline = {
      editable: true,
      styleSheetName: null,
      style: $hyphenateStyle(node._inlineStyleFullList, cssStyleInline)
    }
    const cssRuleList = [cssRuleInline]
    const cssRuleCopy = JSON.parse(JSON.stringify(cssRuleList))

    console.warn(`### App Runtime ### 获取样式:该平台版本仅支持获取节点${node.ref}的内联样式`)
    return cssRuleCopy
  }

  /**
   * 调试器：更新元素匹配到的样式规则
   * @param node
   * @param ruleName
   * @param editCssPropertyList
   */
  function setElementMatchedCssRule(node, ruleName, editCssPropertyList) {
    // 提取禁用的样式
    const styleHashNew = {}
    const styleListAll = []
    for (let i = 0, len = editCssPropertyList.length; i < len; i++) {
      const editItem = editCssPropertyList[i]

      styleListAll.push({
        name: editItem.name,
        value: editItem.value,
        disabled: editItem.disabled
      })

      if (!editItem.disabled) {
        styleHashNew[editItem.name] = editItem.value
      }
    }

    if (ruleName === 'INLINE') {
      setElementStyles(node, styleHashNew)
      node._inlineStyleFullList = styleListAll
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace(
          `### App Runtime ### 更新样式:元素(${node.ref})的内联样式：${ruleName}:${JSON.stringify(
            styleHashNew
          )}`
        )
    } else {
      console.warn(`### App Runtime ### 更新样式:该平台版本仅支持更新内联样式，不支持：${ruleName}`)
    }
  }

  /**
   * UI节点
   */
  class DomElement extends DomTag {
    constructor(name) {
      super(...arguments)
      this._nodeType = Node$1.NodeType.ELEMENT
      this._nodeName = name.toUpperCase()

      this._tagName = name.toUpperCase()

      this._type = name
      this._attr = {}
      this._style = {}
      this._dataset = {}

      this._layout = true
      this._render = true
      // 缓存类样式
      this._classList = null
      // 作为自定义组件的root而关联的样式对象
      this._styleObject = null
      // 关联的样式
      this._styleObjectId = null
      // 是否使用父节点的样式
      this._useParentStyle = null
      // 缓存：使用的CSS属性
      this._usedCSSPropertyCache = {}
      // 缓存：匹配的CSS规则：key为CSS规则类型，value为匹配数组
      this._matchedCssRuleCache = {}
      // 缓存：合并后的样式，计算并合并上面
      this._mergedStyleCache = null
      // 缓存：自身匹配的CSS规则：key为规则ID
      this._ownCssRuleCache = {}
    }

    get style() {
      return this._style
    }

    get type() {
      console.warn(`### App Runtime ### type属性将被废弃，不推荐使用`)
      return this._type
    }

    get id() {
      console.warn(`### App Runtime ### id属性将被废弃，不推荐使用`)
      const attr = getNodeAttributesAsObject(this)
      return attr && attr.id
    }

    get dataset() {
      return this._dataset
    }

    get attr() {
      console.warn(`### App Runtime ### attr属性将被废弃，不推荐使用`)
      return getNodeAttributesAsObject(this)
    }

    get tagName() {
      return this._tagName
    }

    get mergedStyle() {
      return null
    }

    appendChild(node) {
      // 处理文本节点
      if (node.nodeType === Node$1.NodeType.TEXT) {
        setElementAttr(this, 'value', node.textContent)
        setParent(node, this)
        return node
      }
      return super.appendChild(node)
    }

    insertBefore(node, before) {
      // 处理文本节点
      if (node.nodeType === Node$1.NodeType.TEXT) {
        setElementAttr(this, 'value', node.textContent)
        setParent(node, this)
        return node
      }
      return super.insertBefore(node, before)
    }

    hasAttribute(name) {
      const obj = getNodeAttributesAsObject(this)
      return obj && obj.hasOwnProperty(name)
    }

    /**
     * 转换为HTML元素.
     * @return {string}
     */
    toString() {
      // 属性转换
      const attr = getNodeAttributesAsObject(this)
      const style = getNodeInlineStyleAsObject(this)

      return (
        '<' +
        this._type +
        ' attr=' +
        JSON.stringify(attr) +
        ' style=' +
        JSON.stringify(style) +
        '>' +
        this.layoutChildren.map(child => child.toString()).join('') +
        '</' +
        this._type +
        '>'
      )
    }
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  /**
   * DOM片段
   */
  class DomFragment extends DomTag {
    constructor() {
      super(...arguments)
      this._nodeType = Node$1.NodeType.DOCUMENT_FRAGMENT
      this._nodeName = '#document-fragment'

      this._layout = true
      this._render = false
    }
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  /**
   * 可布局但不可渲染的节点；用于if, for等逻辑，不对外开放
   */
  class DomFigment extends DomTag {
    constructor() {
      super(...arguments)
      this._nodeType = Node$1.NodeType.FIGMENT
      this._nodeName = '#figment'

      this._layout = true
      this._render = false
    }

    /**
     * 转换为HTML.
     * @return {stirng} html
     */
    toString() {
      let str = ''
      if (this.childNodes.length) {
        str = this.childNodes.map(child => child.toString()).join('')
      }
      return str
    }
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  class DomText extends DomTag {
    constructor(text) {
      super(...arguments)
      this._nodeType = Node$1.NodeType.TEXT
      this._nodeName = '#text'

      this._textContent = text
      this._wholeText = text

      this._layout = false
      this._render = false
    }

    /**
     * 相邻节点的文本连接，与CharacterData中的data相同
     * @return {null}
     */
    get wholeText() {
      return this._wholeText
    }

    appendChild(node) {
      throw new Error(`### App Runtime ### appendChild() 文本节点不支持插入子节点`)
    }

    insertBefore(node, before) {
      throw new Error(`### App Runtime ### insertBefore() 文本节点不支持插入子节点`)
    }
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  function nodeInsertBefore$1(parentNode, node, before) {
    // 如果body节点已经有父节点，则无法添加
    if (parentNode.layoutChildren.length > 0 || node.parentNode) {
      console.warn(`### App Runtime ### Document添加多个Body节点----`)
      return
    }

    const document = getDocument(parentNode._docId)
    const childNodeList = parentNode.childNodes
    const beforeIndex = childNodeList.indexOf(before)
    if (beforeIndex < 0) {
      childNodeList.push(node)
    } else {
      childNodeList.splice(beforeIndex, 0, node)
    }

    if (supportLayout(node)) {
      // 清理更新
      const docId = node._docId
      defineNodeInDocument(node, docId)
      // 向下传递doc信息
      setParent(node, parentNode)

      insertIndex(node, parentNode.layoutChildren, parentNode.layoutChildren.length)
      resetRenderCount(parentNode)

      applyWhenInDocument(node)

      // 设置body
      document.body = node

      const listener = getListener(parentNode._docId)
      listener.createBody(node)
    } else {
      // 不支持布局，则不会向原生端发送通知
      setParent(node, parentNode)
    }
  }

  class DomHtmlElement extends DomElement {
    constructor() {
      super(...arguments)
      this.ref = Node$1.NodeRef.HTML_ID
      this._depth = 0
    }

    appendChild(node) {
      return nodeInsertBefore$1(this, node)
    }

    insertBefore(node, before) {
      console.warn(`### App Runtime ### 暂不支持nodeHtml.insertBefore()`)
    }
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  /**
   * 表单元素
   */
  class DomFormerElement extends DomElement {
    get value() {
      return this._attr && this._attr.value
    }

    set value(val) {
      if (this._attr) {
        this._attr.value = val
      }
    }

    get checked() {
      return this._attr && this._attr.checked
    }

    set checked(checked) {
      if (this._attr) {
        this._attr.checked = checked
      }
    }
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  // 是否属于Touch类
  const regEventTouch = /^(touchstart|touchmove|touchcancel|touchend)$/
  // 是否支持冒泡
  const regEventBubbles = /^(touchstart|touchmove|touchcancel|touchend|click|longpress)$/

  /**
   * 根据事件名称创建不同的类实例
   * @param {object} evtName
   * @param {object} options
   * @return {*}
   */
  function createEvent(evtName, options) {
    let evt

    if (!regEventTouch.test(evtName)) {
      evt = new Event$1(evtName, options)
      evt._supportW3C = false
    } else {
      evt = new TouchEvent(evtName, options)
      evt._supportW3C = false
    }

    // mPV为1040时,部分事件开启冒泡功能
    if (regEventBubbles.test(evtName) && global.isRpkMinPlatformVersionGEQ(1040)) {
      evt._supportW3C = true
      evt._bubbles = true
    }

    return evt
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  /**
   * 创建HTML节点
   * @param doc
   * @return {DomHtmlElement}
   */
  function createDocumentElement(doc) {
    const node = new DomHtmlElement('html')
    node._ownerDocument = doc

    defineNodeInDocument(node, doc._docId)
    node.parentNode = doc
    doc.childNodes.push(node)
    doc.layoutChildren.push(node)

    return node
  }

  /**
   * 创建逻辑的虚拟节点
   * @param document
   * @return {DomFigment}
   */
  function createFigment(document) {
    const node = new DomFigment()
    node._ownerDocument = document
    return node
  }

  /**
   * 更新文档的标题栏
   * @param document
   * @param attr { object }
   */
  function updatePageTitleBar(document, attr) {
    const listener = getListener(document._docId)
    if (listener) {
      listener.updatePageTitleBar(attr)
    }
  }

  /**
   * 更新文档的状态栏
   * @param document
   * @param attr { object }
   */
  function updatePageStatusBar(document, attr) {
    const listener = getListener(document._docId)
    if (listener) {
      listener.updatePageStatusBar(attr)
    }
  }

  /**
   * 设置页面元信息
   * @param document
   * @param attr { object }
   */
  function setMeta(document, attr) {
    const listener = getListener(document._docId)
    if (listener) {
      listener.setMeta(attr)
    }
  }

  /**
   * 页面滚动至指定位置
   * @param document
   * @param attr { object }
   */
  function scrollTo(document, attr) {
    const listener = getListener(document._docId)
    if (listener) {
      listener.scrollTo(attr)
    }
  }

  /**
   * 页面按指定的偏移量滚动文档
   * @param document
   * @param attr { object }
   */
  function scrollBy(document, attr) {
    const listener = getListener(document._docId)
    if (listener) {
      listener.scrollBy(attr)
    }
  }

  /**
   * 退出全屏模式
   * @param document
   */
  function exitFullscreen(document) {
    const listener = getListener(document._docId)
    if (listener) {
      listener.exitFullscreen()
    }
  }

  /**
   * 隐藏骨架屏
   * @param document
   */
  function hideSkeleton(document, pageId) {
    const listener = getListener(document._docId)
    if (listener) {
      listener.hideSkeleton(pageId)
    }
  }

  /**
   * 调用页面的方法
   */
  function callHostFunction(document, name, args, extra) {
    const listener = getListener(document._docId)
    if (listener) {
      listener.callHostFunction(name, args, extra)
    }
  }

  /**
   * 文档节点
   */
  class DomDocument extends DomTag {
    /**
     * 构造函数
     * @param docId
     * @param listener {Listener} 监听DOM操作的类实例
     */
    constructor(docId, listener) {
      super(...arguments)
      this._nodeType = Node$1.NodeType.DOCUMENT
      this._nodeName = '#document'

      this.body = null

      docId = docId ? docId.toString() : ''
      // 文档实例id
      this._docId = docId
      // 所有节点映射表，key值为node.ref
      this._nodeMap = {}
      // 监听DOM操作并转换为消息
      this.listener = listener
      // 样式表
      this._styleSheetHash = {}
      // 公共样式表
      this._styleSheetHash[0] = []
      // 样式映射缓存
      this._styleObjectMap = new Map()
      // 添加到文档列表中
      setDocument(this._docId, this)
      // 创建HTML节点
      Object.defineProperty(this, 'documentElement', {
        configurable: true,
        enumerable: false,
        writable: false,
        value: createDocumentElement(this)
      })
    }

    /**
     * 创建子元素
     * @param name
     * @return {DomElement}
     */
    createElement(name) {
      let node
      // 目前暂时支持input标签
      if (name === 'input' || name === 'textarea') {
        node = new DomFormerElement(name)
      } else {
        node = new DomElement(name)
      }
      node._ownerDocument = this
      return node
    }

    /**
     * 创建片段
     * @return {DomFragment}
     */
    createDocumentFragment() {
      const node = new DomFragment()
      node._ownerDocument = this
      return node
    }

    /**
     * 创建文本节点
     * @return {DomText}
     */
    createTextNode(text) {
      const node = new DomText(text)
      node._ownerDocument = this
      return node
    }

    /**
     * 创建注释
     * @param text
     * @return {DomComment}
     */
    createComment(text) {
      const node = new DomComment(text)
      node._ownerDocument = this
      return node
    }

    /**
     * 创建事件
     * @param {string} evtName 事件名
     * @param {object} options 配置
     */
    createEvent(evtName, options) {
      return createEvent(evtName, options)
    }
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  function freeze() {
    Object.freeze(Event$1)
    Object.freeze(Event$1.prototype)
    Object.freeze(DomComment)
    Object.freeze(DomComment.prototype)
    Object.freeze(DomDocument)
    Object.freeze(DomDocument.prototype)
    Object.freeze(DomElement)
    Object.freeze(DomElement.prototype)
    Object.freeze(DomFigment)
    Object.freeze(DomFigment.prototype)
    Object.freeze(DomFragment)
    Object.freeze(DomFragment.prototype)
    Object.freeze(DomHtmlElement)
    Object.freeze(DomHtmlElement.prototype)
    Object.freeze(Node$1)
    Object.freeze(Node$1.prototype)
    Object.freeze(DomTag)
    Object.freeze(DomTag.prototype)
    Object.freeze(EventTarget)
    Object.freeze(EventTarget.prototype)
    Object.freeze(DomText)
    Object.freeze(DomText.prototype)
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  /**
   * 创建一个Action对象
   * @param name
   * @param args
   * @returns {{module: string, method: *, args: Array}}
   */
  function _createAction(name, args = []) {
    return { module: 'dom', method: name, args: args }
  }

  /**
   * 侦听VDom操作，创建相应的Action（发送给Render更新UI）
   */
  class Listener {
    constructor(id, streamer) {
      this.id = id
      // 处理消息所属类
      this.streamer = streamer
      // 本轮创建的Action数量
      this.actionLen = 0
    }

    /**
     * 发送"createFinish"信号
     * @param callback
     * @returns {*}
     */
    createFinish(callback) {
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace('### App Runtime ### createFinish---- ')

      const result = this.streamer.over(this.id, [_createAction('createFinish')], callback)
      this.resetActionLen()
      return result
    }

    /**
     * 发送"updateFinish"信号.
     * @param callback
     * @returns {*}
     */
    updateFinish(callback) {
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace('### App Runtime ### updateFinish---- ')

      const result = this.streamer.over(this.id, [_createAction('updateFinish')], callback)
      this.resetActionLen()
      return result
    }

    /**
     * 发送"createBody"信号
     * @param node
     * @returns {undefined|number}
     */
    createBody(node) {
      const body = getNodeAsJSON(node, true, true, false)
      const children = body.children
      delete body.children
      const actions = [_createAction('createBody', [body])]
      if (children) {
        actions.push.apply(
          actions,
          children.map(child => {
            return _createAction('addElement', [body.ref, child, -1])
          })
        )
      }
      return this.addActions(actions)
    }

    /**
     * 发送"addElement"信号
     * @param node  新添加节点 可能是element或者figment
     * @param parent  渲染父节点
     * @param index  索引
     * @returns {undefined|number}
     */
    addNode(node, parent, index) {
      if (!parent || !supportRender(parent)) {
        console.error(`### App Runtime ### addNode的parent(${parent.type})必须是可渲染节点`)
      }

      // 任何无效索引替换为-1
      if (index < 0) {
        index = -1
      }

      let result
      if (supportRender(node)) {
        result = this.addElement(node, parent.ref, index)
      } else {
        let startIndex = index
        node.layoutChildren.every(child => {
          if (supportRender(child)) {
            result = this.addElement(child, parent.ref, startIndex)
          } else {
            result = this.addNode(child, parent, startIndex)
          }
          startIndex += calcRenderCount(child)
          return result !== -1
        })
      }
      return result
    }

    /**
     *
     * @param node
     * @param ref
     * @param index
     * @returns {undefined|number}
     */
    addElement(node, ref, index) {
      // 任何无效索引替换为-1
      if (!(index >= 0)) {
        index = -1
      }
      return this.addActions(
        _createAction('addElement', [ref, getNodeAsJSON(node, true, true, false), index])
      )
    }

    /**
     * 发送"removeElement"信号
     * @param node 待删除的节点,可能是element或者fragment
     */
    removeNode(node) {
      let result
      if (supportRender(node)) {
        result = this.removeElement(node.ref)
      } else {
        node.layoutChildren.every(child => {
          if (supportRender(child)) {
            result = this.removeElement(child.ref)
          } else {
            result = this.removeNode(child)
          }
          return result !== -1
        })
      }
      return result
    }

    /**
     * 发送"removeElement"信号
     * @param ref  待删除的节点引用列表
     * @returns {undefined|number}
     */
    removeElement(ref) {
      if (Array.isArray(ref)) {
        const actions = ref.map(r => _createAction('removeElement', [r]))
        return this.addActions(actions)
      }
      return this.addActions(_createAction('removeElement', [ref]))
    }

    /**
     * 发送"moveElement"动作
     * @param node 移动的节点
     * @param parent 渲染父节点
     * @param index
     */
    moveNode(node, parent, index) {
      if (!parent || !supportRender(parent)) {
        console.error(`### App Runtime ### moveNode的parent必须是可渲染节点`)
      }

      // 任何无效索引替换为-1
      if (!(index >= 0)) {
        index = -1
      }
      let result
      if (supportRender(node)) {
        result = this.moveElement(node.ref, parent.ref, index)
      } else {
        let startIndex = index
        node.layoutChildren.every(child => {
          if (supportRender(child)) {
            result = this.moveElement(child.ref, parent.ref, startIndex)
          } else {
            result = this.moveNode(child, parent, startIndex)
          }
          startIndex += calcRenderCount(child)
          return result !== -1
        })
      }
      return result
    }

    /**
     * 发送"moveElement"动作
     * @param target  移动的节点ref
     * @param ref  父节点ref
     * @param index 新索引
     * @returns {undefined|number}
     */
    moveElement(target, ref, index) {
      return this.addActions(_createAction('moveElement', [target, ref, index]))
    }

    /**
     * 更新element属性，发送"updateProps"信号.
     * @param ref
     * @param key
     * @param value
     * @returns {undefined|number}
     */
    setProp(ref, key, value) {
      const result = { prop: {} }
      result.prop[key] = value
      return this.addActions(_createAction('updateProps', [ref, result]))
    }

    /**
     * 更新element属性，发送"updateAttrs"信号.
     * @param ref
     * @param key
     * @param value
     * @returns {undefined|number}
     */
    setAttr(ref, key, value) {
      const result = {
        attr: {}
      }
      if (value == null) {
        console.warn(
          `### App Runtime ### 组件 ${ref} 的属性 ${key} 被修改为 undefined/null, 自动修改为默认值或空值`
        )
        result.attr[key] = ''
      } else {
        result.attr[key] = value
      }
      return this.addActions(_createAction('updateAttrs', [ref, result]))
    }

    /**
     * 更新elemnt样式，发送"updateStyle"信号.
     * @param ref
     * @param key
     * @param value
     * @returns {undefined|number}
     */
    setStyle(ref, key, value) {
      const result = {
        style: {}
      }
      if (value == null) {
        console.warn(
          `### App Runtime ### 组件 ${ref} 的样式 ${key} 被修改为 undefined/null, 自动修改为默认值或空值`
        )
        result.style[key] = ''
      } else {
        result.style[key] = value
      }
      return this.addActions(_createAction('updateStyle', [ref, result]))
    }

    /**
     * 发送"updateStyle"信号.
     * @param ref
     * @param style
     * @param attr class或者id
     * @returns {undefined|number}
     */
    setStyles(ref, style, attr) {
      const result = {
        attr: attr
      }
      if (style) {
        result.style = style
      }
      return this.addActions(_createAction('updateStyles', [ref, result]))
    }

    /**
     * 设置某个节点或者全局级别的样式对象
     * @param ref
     * @param isDocLevel
     * @param name
     * @param styleObjectId
     * @param styleObject
     * @return {undefined|number}
     */
    setStyleObject(ref, isDocLevel, name, styleObjectId, styleObject) {
      return this.addActions(
        _createAction('updateStyleObject', [ref, isDocLevel, name, styleObjectId, styleObject])
      )
    }

    /**
     * 发送"addEvent"事件
     * @param ref
     * @param type
     * @returns {undefined|number}
     */
    addEvent(ref, type) {
      return this.addActions(_createAction('addEvent', [ref, type]))
    }

    /**
     * 发送"removeEvent"事件
     * @param {stirng} reference id
     * @param {string} event type
     * @return {undefined | number}
     */
    removeEvent(ref, type) {
      return this.addActions(_createAction('removeEvent', [ref, type]))
    }

    /**
     * 更新页面标题栏
     * @param attr
     * @returns {undefined|number}
     */
    updatePageTitleBar(attr) {
      return this.addActions(_createAction('updateTitleBar', [attr]))
    }

    /**
     * 更新页面状态栏
     * @param attr
     * @returns {undefined|number}
     */
    updatePageStatusBar(attr) {
      return this.addActions(_createAction('updateStatusBar', [attr]))
    }

    /**
     * 设置页面元信息
     * @param attr
     * @returns {undefined|number}
     */
    setMeta(attr) {
      {
        return this.addActions(_createAction('setMeta', [attr]))
      }
    }

    /**
     * 页面滚动至指定位置
     * @param attr
     * @returns {undefined|number}
     */
    scrollTo(attr) {
      return this.addActions(_createAction('scrollTo', [attr]))
    }

    /**
     * 页面按指定的偏移量滚动文档
     * @param attr
     * @returns {undefined|number}
     */
    scrollBy(attr) {
      return this.addActions(_createAction('scrollBy', [attr]))
    }

    /**
     * 页面退出全屏模式
     * @param attr
     * @returns {undefined|number}
     */
    exitFullscreen() {
      return this.addActions(_createAction('exitFullscreen', []))
    }

    /**
     * 隐藏骨架屏
     * @param
     * @return {undefined|number}
     */
    hideSkeleton(pageId) {
      return this.addActions(_createAction('hideSkeleton', [pageId]))
    }

    /**
     * 发送统计数据
     * @param hash
     * @return {undefined|number}
     */
    collectStatistics(hash) {
      return this.addActions(_createAction('statistics', [hash]))
    }

    /**
     * 调用页面的方法，如：生命周期等
     * @param name {string} 方法名称
     * @param args {Array} 方法参数
     * @param extra 非方法参数外的信息
     * @returns {undefined|number}
     */
    callHostFunction(name, args, extra) {
      return this.addActions(_createAction(name, [args, extra]))
    }

    /**
     * 调用组件方法
     * @param component {String} 组件类型
     * @param ref
     * @param method {String} 方法名称
     * @param args
     * @return {undefined|number}
     */
    invokeComponentMethod(component, ref, method, args) {
      return this.addActions({ component, ref, method, args })
    }

    /**
     * 向更新队列中添加Action
     * @param {object | array}
     * @return {undefined | number}
     */
    addActions(actions) {
      // 将输入参数转变为数组类型
      if (!Array.isArray(actions)) {
        actions = [actions]
      }

      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace('### App Runtime ### addActions---- ', JSON.stringify(actions))
      this.actionLen += actions.length
      this.streamer.push(this.id, actions)
    }

    /**
     * 当前页面是否有需要更新的action
     * @return {boolean}
     */
    hasActions() {
      return !!this.actionLen
    }

    /**
     * 重置本次轮询
     * @private
     */
    resetActionLen() {
      this.actionLen = 0
    }
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  /**
   * @file 消息汇总
   * @desc 模式不同时发送策略不一样
   */
  class Streamer {
    /**
     * 构造函数
     * @param call {Function} 交给Native处理的函数
     * @param batchThreshold
     */
    constructor(call, batchThreshold) {
      this.call = call
      this.batchThreshold = batchThreshold === undefined ? 50 : batchThreshold
      this._boolDefineNextTick = true

      this.list = []
    }

    push(id, list) {
      let result

      if (this.batchThreshold === 0) {
        this.list.push.apply(this.list, list)
      } else if (this.batchThreshold === 1) {
        // 合并之前
        this.list.push.apply(this.list, list)
        result = this.call(id, this.list)
        this.list.splice(0)
      } else if (this.batchThreshold > 1) {
        // 合并之前
        this.list.push.apply(this.list, list)
        // 批量截取发送
        while (this.list.length >= this.batchThreshold) {
          const segs = this.list.splice(0, this.batchThreshold)
          result = this.call(id, segs)
        }
        // 此处可能会有剩余
      } else {
        throw new Error(
          `### App Runtime ### push() 不支持的batchThreshold值：${this.batchThreshold}`
        )
      }

      // 记得下次发送
      this._boolDefineNextTick && this._defineNextTick(id)

      return result
    }

    /**
     * 发送结束标识
     */
    over(id, list) {
      if (this.list.length) {
        // 发送剩余消息
        this.call(id, this.list)
        this.list.splice(0)
      }
      const result = this.call(id, list)

      return result
    }

    _defineNextTick(id) {
      if (!this._nextTick) {
        this._nextTick = Promise.resolve().then(() => {
          if (this.list.length) {
            // 应该由框架保证及时发送
            console.warn(`### App Runtime ### _defineNextTick(${id}) 应该由框架保证及时发送`)
          }
          this._nextTick = null
        })
      }
    }
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  let isFirst = true

  // callNative为原生函数，异步调用，无返回结果
  const sendActions = function(instId, actionList, ...args) {
    global.Env &&
      global.Env.logLevel === 'trace' &&
      console.trace(
        `### App Bridge ### sendActions() 发送消息：${instId},${actionList.length},${JSON.stringify(
          actionList
        )}`
      )

    if (isFirst) {
      global.profiler &&
        global.profiler.record(
          `### App Performance ### 首次发送消息[PERF:callNative]开始(${
            actionList.length
          })：${new Date().toJSON()}`
        )
      isFirst = false
    }

    // 转换为字符串
    actionList = JSON.stringify(actionList, function(k, v) {
      if (v && v.constructor === RegExp) {
        return { type: $typeof(v), source: v.source, flags: v.flags }
      }
      return v
    })

    return global.callNative(instId, actionList, ...args)
  }

  /**
   * 创建Document
   * @param docId
   */
  function createDocument(docId) {
    const streamer = new Streamer(sendActions)
    const listener = new Listener(docId, streamer)
    const document = new DomDocument(docId, listener)
    return document
  }

  /**
   * 编译样式并定义在Node或者Document节点中
   * @param styleSheetName
   * @param styleObject
   * @param isDocLevel
   * @param node
   */
  function registerStyleObject(styleSheetName, styleObject, isDocLevel, node) {
    global.Env &&
      global.Env.logLevel === 'trace' &&
      console.trace(`### App Runtime ### 基于节点(${node && node.ref})注册样式节点(${isDocLevel})`)
    if (!node._ownerDocument) {
      return
    }

    let styleObjectId
    const styleObjectInfo = (styleObject && styleObject[`@info`]) || {}
    if (styleObjectInfo && styleObjectInfo.styleObjectId) {
      // 样式独立：会拥有@info信息
      styleObjectId = styleObjectInfo.styleObjectId
      styleObject = null
    } else {
      // 样式在JS：无@info信息
      styleObjectId = genIdByStyleObject(node._ownerDocument._docId, styleObject)
    }

    if (!isDocLevel) {
      node._styleObject = styleObject
      node._styleObjectId = styleObjectId
    }

    const listener = getListener(node._docId)
    if (listener) {
      listener.setStyleObject(node.ref, isDocLevel, styleSheetName, styleObjectId, styleObject)
    }
  }

  /**
   * 判断节点是否在文档中
   * @param node
   * @return {boolean}
   */
  function isNodeInDocument(node) {
    if (!node || !node._docId) {
      return false
    }
    return true
  }

  /**
   * 重新生成Action
   * @param document
   */
  function recreateDocument(document) {
    const body = document.body
    if (!body) {
      console.error(`### App Runtime ### Document没有body节点, 无法重建`)
      return
    }
    document.listener.createBody(body)
  }

  var helper = {
    __proto__: null,
    registerComponents: registerComponents,
    getComponentDefaultOptions: getComponentDefaultOptions,
    bindComponentMethods: bindComponentMethods,
    createDocument: createDocument,
    registerStyleObject: registerStyleObject,
    createEvent: createEvent,
    createFigment: createFigment,
    updatePageTitleBar: updatePageTitleBar,
    updatePageStatusBar: updatePageStatusBar,
    setMeta: setMeta,
    scrollTo: scrollTo,
    scrollBy: scrollBy,
    exitFullscreen: exitFullscreen,
    hideSkeleton: hideSkeleton,
    callHostFunction: callHostFunction,
    setElementProp: setElementProp,
    setElementAttr: setElementAttr,
    setElementStyle: setElementStyle,
    setElementStyles: setElementStyles,
    getElementMatchedCssRuleList: getElementMatchedCssRuleList,
    setElementMatchedCssRule: setElementMatchedCssRule,
    resetNodeChildren: resetNodeChildren,
    restoreNodeChildren: restoreNodeChildren,
    fireTargetEventListener: fireTargetEventListener,
    clearTargetEventListener: clearTargetEventListener,
    getDocumentNodeByRef: getDocumentNodeByRef,
    isNodeInDocument: isNodeInDocument,
    recreateDocument: recreateDocument,
    destroyTagNode: destroyTagNode,
    getNodeAsJSON: getNodeAsJSON,
    getNodeDepth: getNodeDepth,
    sendActions: sendActions
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  function init$1() {
    freeze()
  }

  var runtime = {
    init: init$1,
    Node: Node$1,
    Event: Event$1,
    TouchEvent,
    helper,
    exposure: {
      registerComponents: registerComponents
    }
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  /**
   * 定义dock与dsl通讯时的事件接口
   */
  const APP_KEYS = {
    // APP加载
    initApp: 'quickapp.app.initApp',
    // 页面加载
    initPage: 'quickapp.page.initPage',
    // 页面销毁
    destroyPage: 'quickapp.page.destroyPage',
    // 页面中的组件事件
    fireEvent: 'quickapp.page.fireEvent',
    // 页面onShow
    onShow: 'quickapp.page.onShow',
    // 页面onHide
    onHide: 'quickapp.page.onHide',
    // 页面返回响应
    onBackPress: 'quickapp.page.onBackPress',
    // 遥控器menu键响应
    onMenuButtonPress: 'quickapp.page.onMenuButtonPress',
    // 页面onKey，响应遥控器等键位导航
    onKey: 'quickapp.page.onKey',
    // 页面菜单响应
    onMenuPress: 'quickapp.page.onMenuPress',
    // 页面朝向响应
    onOrientationChange: 'quickapp.page.onOrientationChange',
    // 页面onConfigurationChanged
    onConfigurationChanged: 'quickapp.page.onConfigurationChanged',
    // 页面朝向响应
    onRefresh: 'quickapp.page.onRefresh',
    // 页面：组件方法的callback()执行完毕，Native接口的回调完毕，定时器完毕
    callbackDone: 'quickapp.page.callbackDone',
    // 页面：页面滚动到顶部时响应
    onReachTop: 'quickapp.page.onReachTop',
    // 页面：页面滚动到底部时响应
    onReachBottom: 'quickapp.page.onReachBottom',
    // 页面：页面滚动时触发响应
    onPageScroll: 'quickapp.page.onPageScroll'
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  /**
   * 事件对象
   */
  class XEvent {
    constructor(type, detail) {
      if (detail instanceof XEvent) {
        return detail
      }

      this.timestamp = Date.now() // 时戳
      this.detail = detail // 来源
      this.type = type // 类型

      let shouldStop = false
      // 停止发送/广播
      this.stop = function() {
        shouldStop = true
      }

      // 检查是否已经停止
      this.hasStopped = function() {
        return shouldStop
      }
    }
  }

  // 保留的生命周期接口函数
  const lifeCycleEvents = [
    'onCreate',
    'onInit',
    'onReady',
    'onRequest',
    'onShow',
    'onHide',
    'onDestroy',
    'onKey',
    'onBackPress',
    'onMenuButtonPress',
    'onMenuPress',
    'onReachTop',
    'onReachBottom',
    'onPageScroll',
    'onOrientationChange',
    // TODO 待拆分app与page
    'onError',
    'onPageNotFound'
  ]
  XEvent.reserveEvents = lifeCycleEvents
  // 是否为保留函数
  XEvent.isReservedEvent = function(evt) {
    return lifeCycleEvents.indexOf(evt) >= 0
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  const config = {}

  // 拥有事件分发机制
  Object.setPrototypeOf(config, new Pubsub())

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  const localeObject = {}

  const resources = []

  function applyLocaleConfig(argLocaleObject, argResources) {
    Object.assign(localeObject, argLocaleObject)
    resources.splice(0, resources.length, ...argResources)

    return getLocaleConfig()
  }

  function getLocaleConfig() {
    const locale = [localeObject.language, localeObject.countryOrRegion].filter(n => !!n).join('-')
    return {
      localeObject,
      resources,
      locale: locale
    }
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  // app module
  let appModule = null

  class XApp extends ModuleHost {
    constructor(id, options) {
      super(...arguments)

      this._isApp = true
      this.options = options || {}
      this.name = '' // App名称
      this.entry = '' // 入口页面名
      this.customComponentMap = {} // 自定义组件表
      this._def = null // App 定义信息（来自app文件）
      this._data = {} // 全局数据定义
      this._events = {} // 绑定事件
      this._valid = true
      this._plugins = []
      this._pluginInstalled = false // 页面是否已安装

      this._shareDocStyle = false
    }

    /**
     *  清空数据
     */
    $clear() {
      this.options = {}
      this.name = ''
      this.customComponentMap = {}
      this._def = null
      this._data = {}
      this._events = {}
      // 父类
      this.destroy()
    }

    /**
     * 全局数据, 通过app.$data来访问; $data中数据只支持常量
     * data数据必须是对象
     */
    get $data() {
      if (!isObject(this._data)) {
        this._data = {}
      }
      return this._data
    }

    set $data(data) {
      const newdata = typeof data === 'function' ? data() : data
      if (newdata) {
        this._data = this._data || {}
        Object.keys(newdata).forEach(key => {
          if (isReserved(key)) {
            // 保留字
            console.error(
              `### App Framework ### 页面数据属性名 '${key}' 非法, 属性名不能以$或_开头`
            )
          } else {
            if (key in this._data) {
              console.warn(`### App Framework ### App 全局数据 (${key}) 被覆盖`)
            }
            this._data[key] = newdata[key]
          }
        })
      } else {
        this._data = {}
        console.warn(`### App Framework ### App 全局数据被清空`)
      }
    }

    /**
     * app 元数据
     */
    get $def() {
      return this._def
    }

    set $def(data) {
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace(`### App Framework ### App 元数据初始化----`)
      this._def = data

      if (!data.plugins) {
        data.plugins = []
      }
      const manifest = data.manifest
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace(`### App Framework ### App 元数据manifest----`, JSON.stringify(manifest))
      if (manifest) {
        // 应用名
        this.name = manifest.name

        const config = manifest.config
        global.Env &&
          global.Env.logLevel === 'trace' &&
          console.trace(`### App Framework ### App 元数据config----`, JSON.stringify(config))
        if (config) {
          // 提取数据
          this.$data = config.data
          // 是否共享页面样式
          this._shareDocStyle = !!config.shareDocStyle
        }

        const router = manifest.router
        global.Env &&
          global.Env.logLevel === 'trace' &&
          console.trace(`### App Framework ### App 元数据router----`, JSON.stringify(router))
        if (router) {
          // 入口
          this.entry = router.entry || ''
        }
      }

      // 将自定义函数属性添加到App对象上
      for (const key in data) {
        const item = data[key]
        if (typeof item === 'function' && !XEvent.isReservedEvent(key)) {
          this[key] = data[key]
        }
      }

      // 绑定状态
      // this.$on('applc:onCreate', () => {})
      this.$on('applc:onDestroy', () => {
        this._valid = false
      })

      // 绑定生命周期接口函数(LC:lifecycle)
      XEvent.reserveEvents.forEach(type => {
        this.$on(`applc:${type}`, data[type])
      })

      this._defined = true
    }

    /**
     * 当前状态是否完成初始化
     * @desc 是否适合做一些Native引入的工作
     * @return {boolean}
     */
    get $valid() {
      return this._valid
    }

    getLocaleConfig() {
      return getLocaleConfig()
    }

    /**
     * 发送事件
     * @param type
     * @param detail
     */
    $emit(type, detail) {
      const events = this._events
      const handlerList = events[type]
      if (handlerList) {
        for (let i = 0; i < handlerList.length; i++) {
          const evt = new XEvent(type, detail)
          handlerList[i].call(this, evt)
        }
      }
    }

    /**
     * 无事件对象
     * @param type
     * @param param
     * @private
     */
    _emit(type, param) {
      const events = this._events
      const handlerList = events[type]
      if (handlerList) {
        for (let i = 0; i < handlerList.length; i++) {
          handlerList[i].call(this, param)
        }
      }
    }

    /**
     * 添加事件listener
     * @param  {string}
     * @param  {function}
     */
    $on(type, handler) {
      if (!type || typeof handler !== 'function') {
        return
      }
      // 每个类型事件只能对应一个回调函数
      const events = this._events
      events[type] = events[type] || []
      events[type].push(handler)
    }

    /**
     * 移除事件句柄
     * @param  {string}
     */
    $off(type) {
      if (!type) {
        return
      }
      const events = this._events
      delete events[type]
    }

    /**
     * 退出应用
     */
    exit() {
      if (appModule === null) {
        appModule = config.platform.requireModule(this, 'system.app')
      }
      appModule.exit(this.id)
    }
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  class XPage extends ModuleHost {
    /**
     * page 的构造函数, 初始化页面 meta 信息
     * @param {number} id - 唯一id, 由原生端生成
     * @param {object} app - 所属App
     * @param {object} intent - 系统传递到页面的数据
     * @param {boolean} intent.fromExternal - 请求是否来源于外部
     * @param {string} intent.action - 请求动作
     * @param {string} intent.orientation - 屏幕方向，为枚举值：portrait,landscape
     * @param {string} intent.uri - 匹配规则
     * @param {object} meta - 页面路径元信息，对应router对象
     * @param {string} meta.name - 对应router对象中的key
     * @param {string} meta.component - 对应router对象中的文件名(无后缀)
     * @param {string} meta.path - 对应router对象中的路径
     * @param {object} query - 页面的参数
     */
    constructor(id, app, intent, meta, query) {
      super(...arguments)

      this._isPage = true
      this.app = app // 所属App
      this.name = null // 页面名称
      this.vm = null // 顶层Vm
      this.intent = intent // 系统传递到页面的数据
      this.doc = config.runtime.helper.createDocument(id) // vdom模型
      this._valid = true
      this._visible = false
      this._meta = Object.assign({ query }, intent, meta)
      this._orientation = intent.orientation
    }

    get $valid() {
      return this._valid
    }

    get $visible() {
      return this._valid && this._visible
    }

    get orientation() {
      return this._orientation
    }

    get pageName() {
      return this._meta.name
    }

    get pageComponent() {
      return this._meta.component
    }

    get query() {
      return this._meta.query
    }

    /**
     * @override
     * @param args
     */
    invoke(...args) {
      super.invoke(...args)

      if (this.$valid) {
        config.publish(APP_KEYS.callbackDone, [this])
      }
    }
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  /*
   * 销毁应用
   * @param app
   */
  function destroyApp(app) {
    app.$emit('applc:onDestroy')
    app.$clear()

    global.Env &&
      global.Env.logLevel === 'trace' &&
      console.trace(`### App Framework ### 成功销毁应用(${app.id})----`)
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  /**
   * 重新创建页面
   * @param page
   */
  function recreatePage(page) {
    console.log(`### App Framework ### 重建页面(${page.id})----`)

    if (!page.$valid) {
      console.error(`### App Framework ### 页面(${page.id})缺少dom数据`)
      return new Error(`recreatePage: 无效数据`)
    }

    // 遍历doc, 生成Action
    config.runtime.helper.recreateDocument(page.doc)
    page.doc.listener.createFinish()
  }

  /**
   * 销毁页面
   * @param  {object} page
   */
  function destroyPage(page) {
    console.log(`### App Framework ### 销毁页面(${page.id})----`)

    page.intent = null
    page.name = null
    config.runtime.helper.destroyTagNode(page.doc)
    page.doc = null

    page._valid = false
    page._visible = false
    // 父类
    page.destroy()

    global.Env &&
      global.Env.logLevel === 'trace' &&
      console.trace(`### App Framework ### 成功销毁页面(${page.id})----`)
  }

  /**
   * 获取Body的JSON对象
   * @param page
   * @returns {{}}
   */
  function getRootElement(page) {
    const doc = page.doc || {}
    const body = doc.body || {}
    return config.runtime.helper.getNodeAsJSON(body)
  }

  /**
   * Dom操作
   * @param page 页面对象
   * @param ref
   * @param type
   * @param e
   * @param domChanges 当前仅有attr的更新
   * @returns {*}
   */
  function fireEvent(page, ref, type, e, domChanges) {
    if (!page.$valid) {
      return new Error(`fireEvent: 只有Page才能发送Dom事件`)
    }

    global.Env &&
      global.Env.logLevel === 'trace' &&
      console.trace(
        `### App Framework ### 向页面(${
          page.id
        }) 的节点(${ref})发送事件 "${type}"---- ${JSON.stringify(domChanges)}`
      )

    if (Array.isArray(ref)) {
      ref.some(ref => {
        return fireEvent(page, ref, type, e) !== false
      })
      return
    }

    const result = config.publish(APP_KEYS.fireEvent, [page, ref, type, e, domChanges])

    return result
  }

  /**
   * 根据函数id执行回调函数
   * @param inst
   * @param callbackId
   * @param data
   * @param preserved 是否保留
   * @returns {Error}
   */
  function callback(inst, callbackId, args = [], preserved) {
    global.Env &&
      global.Env.logLevel === 'trace' &&
      console.trace(
        `### App Framework ### 调用页面(${inst.id})的回调(${callbackId}) 参数：`,
        JSON.stringify(args)
      )

    // 当页面切换可能导致无法找到回调函数
    if (!inst._callbacks) {
      return new Error(`invoke: 回调函数 "${callbackId}" 没有注册`)
    }

    if (!inst.$valid) {
      console.error(`invoke: 回调函数所属对象(${inst.id})已经无效, 终止回调执行`)
      return
    }

    const callback = inst._callbacks[callbackId]
    if (typeof callback === 'function') {
      // 必须是函数
      // 执行回调
      const ret = callback(...args)

      // 如果是定时器函数，则保留；否则清除（只使用一次）
      if (typeof preserved === 'undefined' || preserved === false) {
        inst._callbacks[callbackId] = undefined
      }

      // 如果是页面对象
      if (inst.doc) {
        config.publish(APP_KEYS.callbackDone, [inst])
      }
      return ret
    } else {
      return new Error(`callback: 无效回调函数Id "${callbackId}"`)
    }
  }

  /**
   * 参数转换，全部转为基础类型
   * @param v
   * @param app
   * @returns {*}
   */
  function normalize$1(v, page) {
    const type = $typeof(v)

    switch (type) {
      case 'undefined':
      case 'null':
        return '' // 空字符串
      case 'regexp':
        return v.toString() // 正则表达式
      case 'date':
        return v.toISOString() // 日期
      case 'number':
      case 'string':
      case 'boolean':
      case 'array':
        return v
      case 'object':
        if (v.nodeType) {
          // 如果是节点则返回索引
          return v.ref
        }
        const newArgs = {}
        for (const k in v) {
          newArgs[k] = normalize$1(v[k], page)
        }
        return newArgs
      case 'function':
        const cbId = uniqueCallbackId()
        if (!page._callbacks) {
          global.Env &&
            global.Env.logLevel === 'trace' &&
            console.trace(`### App Framework ### normalize() 页面已经销毁，不再注册回调`)
        } else {
          page._callbacks[cbId] = v
        }
        return cbId.toString()
      default:
        return JSON.stringify(v) // 其余一律转换为字符串
    }
  }

  /**
   * 获取节点的匹配到的样式定义
   * @param page
   * @param elementRef
   * @return {*}
   */
  function getElementStyles(page, elementRef) {
    let result
    const element = config.runtime.helper.getDocumentNodeByRef(page.doc, elementRef)
    if (element) {
      // 复制一份
      const cssRuleList = config.runtime.helper.getElementMatchedCssRuleList(element)
      // 区分：内联，其它
      result = {
        inlineStyle: cssRuleList.shift(),
        matchedCSSRules: cssRuleList
      }
      return result
    } else {
      result = new Error(`getElementStyles: 无效节点ref "${elementRef}"`)
    }
    return result
  }

  /**
   * 更新节点的样式
   * @param page
   * @param elementRef
   * @param ruleName
   * @param editCssPropertyList {Array} 数组中每个元素格式：{name: '', value: '', disabled: true}
   * @return {*}
   */
  function setElementStyles$1(page, elementRef, ruleName, editCssPropertyList) {
    let result
    const element = config.runtime.helper.getDocumentNodeByRef(page.doc, elementRef)
    if (element) {
      // 转换
      for (let i = 0, len = editCssPropertyList.length; i < len; i++) {
        const editCssPropItem = editCssPropertyList[i]
        editCssPropItem.name = $camelize(editCssPropItem.name)
      }

      result = config.runtime.helper.setElementMatchedCssRule(
        element,
        ruleName,
        editCssPropertyList
      )
      page.doc.listener.updateFinish()
    } else {
      result = new Error(`setPageElementStyles: 无效节点ref "${elementRef}"`)
    }
    return result
  }

  /**
   * 更新节点的属性
   * @param page
   * @param elementRef
   * @param actionList {Array} 数组中每个元素格式：{action: '', name: '', value: ''}
   * @return {*}
   */
  function setElementAttrs(page, elementRef, actionList) {
    let result
    const element = config.runtime.helper.getDocumentNodeByRef(page.doc, elementRef)
    if (element) {
      // 转换
      for (let i = 0, len = actionList.length; i < len; i++) {
        const actionItem = actionList[i]
        actionItem.name = $camelize(actionItem.name.trim())

        if (actionItem.name === '');
        else if (actionItem.name === 'style') {
          // 解析字符串
          const editList = actionItem.value
            .split(';')
            .map(str => {
              const kv = str.split(':')
              return {
                name: $camelize(kv[0].trim()),
                value: kv[1]
              }
            })
            .filter(obj => obj.name !== '')

          // 提取禁用的样式
          const styleHashNew = {}
          for (let i = 0, len = editList.length; i < len; i++) {
            const editItem = editList[i]

            if (!editItem.disabled) {
              styleHashNew[editItem.name] = editItem.value
            }
          }
          config.runtime.helper.setElementStyles(element, styleHashNew)
        } else {
          config.runtime.helper.setElementAttr(element, actionItem.name, actionItem.value)
        }
      }

      page.doc.listener.updateFinish()
    } else {
      result = new Error(`setElementAttrs: 无效节点ref "${elementRef}"`)
    }
    return result
  }

  /**
   * 根据原始数据生成节点片段
   * @param rawData
   * @param rawData.nodeType {number}
   * @param rawData.tagName {string}
   * @param rawData.attr {object}
   * @param rawData.style {object}
   * @param rawData.children {Array}
   * @param document
   */
  function compileFragmentData(rawData, document) {
    global.Env &&
      global.Env.logLevel === 'trace' &&
      console.trace(`### App Runtime ### 编译节点：${JSON.stringify(rawData)}`)

    if (rawData.hasOwnProperty('length')) {
      const nodeList = []
      for (let i = 0, len = rawData.length; i < len; i++) {
        const rawDataChild = rawData[i]
        const childNode = compileFragmentData(rawDataChild, document)
        childNode && nodeList.push(childNode)
      }
      return nodeList
    } else if (!rawData.nodeType || rawData.nodeType === document.NodeType.ELEMENT) {
      const node = document.createElement(rawData.type)
      // 属性
      for (const key in rawData.attr) {
        config.runtime.helper.setElementAttr(node, key, rawData.attr[key])
      }
      // class
      if (rawData.classList && rawData.classList.length) {
        config.runtime.helper.setElementAttr(node, 'class', rawData.classList.join(' '))
      }
      // 样式
      for (const key in rawData.style) {
        config.runtime.helper.setElementStyle(node, key, rawData.style[key])
      }
      // 孩子
      if (rawData.children) {
        for (let i = 0, len = rawData.children.length; i < len; i++) {
          const rawDataChild = rawData.children[i]
          const childNode = compileFragmentData(rawDataChild, document)
          childNode && node.appendChild(childNode)
        }
      }
      return node
    } else {
      console.warn(`### App Runtime ### 不支持插入的节点类型：${rawData.nodeType}`)
    }
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  function makeTimer(inst, callback, normalize) {
    const _inst = inst
    const _timerCallbackMap = {}

    return {
      setTimeout: function(cb, time) {
        const cid = normalize(cb, _inst)
        const handler = function() {
          callback(_inst, cid)
        }
        const tid = global.setTimeoutWrap(_inst.id, handler, time || 0)
        _timerCallbackMap[tid.toString()] = cid
        return tid.toString()
      },
      setInterval: function(cb, time) {
        const cid = normalize(cb, _inst)
        const handler = function() {
          callback(_inst, cid, [], true)
        }
        const tid = global.setIntervalWrap(_inst.id, handler, time || 0)
        _timerCallbackMap[tid.toString()] = cid
        return tid.toString()
      },
      clearTimeout: function(n) {
        global.clearTimeoutWrap(n)
        _timerCallbackMap[n] = undefined
      },
      clearInterval: function(n) {
        global.clearIntervalWrap(n)
        _timerCallbackMap[n] = undefined
      },
      requestAnimationFrame: function(cb) {
        const cid = normalize(cb, _inst)
        const handler = function() {
          callback(_inst, cid)
        }
        const tid = global.requestAnimationFrameWrap(_inst.id, handler)
        _timerCallbackMap[tid.toString()] = cid
        return tid.toString()
      },
      cancelAnimationFrame: function(n) {
        global.cancelAnimationFrameWrap(n)
        _timerCallbackMap[n] = undefined
      }
    }
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  // 可用框架列表
  let _frameworks = {}
  // App实例检索表
  const _appMap = {}
  const _pageMap = {}
  // 公共框架函数
  const methodMap = {}

  /**
   * 封装注册函数，调用指定框架的实现
   * @param {string} methodName
   */
  function _registerRegFunc(methodName) {
    methodMap[methodName] = function(...args) {
      for (const name in _frameworks) {
        const framework = _frameworks[name]
        if (framework && framework[methodName]) {
          framework[methodName](...args)
        }
      }
    }
  }

  /**
   * 封装App接口函数，调用指定框架的实现
   * @param {string} methodName
   */
  function _registerAppFunc(methodName) {
    if (methodName === 'createApplication') {
      methodMap[methodName] = function(id, code, ...args) {
        // 获取App实例信息
        let info = _appMap[id]
        // 如果没有，则新建一个实例对象
        if (!info) {
          info = {
            framework: 'xFramework',
            created: Date.now() // 创建时间
          }
          _appMap[id] = info

          console.log(
            `### App Framework ### 创建应用 ${id}---- 框架: ${info.framework} 版本: ${global.frameworkVersion}`
          )
          // 调用框架的对应API
          return _frameworks[info.framework].createApplication(id, code, ...args)
        }
        return new Error(`Runtime ${methodName}:无效应用id "${id}"`)
      }
    } else if (methodName === 'destroyApplication') {
      methodMap[methodName] = function(id) {
        const info = _appMap[id]
        if (info && _frameworks[info.framework]) {
          const result = _frameworks[info.framework].destroyApplication(id)
          _appMap[id] = null
          return result
        }
        return new Error(`Runtime ${methodName}:无效应用Id:  "${id}"`)
      }
    } else {
      methodMap[methodName] = function(...args) {
        const id = args[0]
        const info = _appMap[id]
        if (info && _frameworks[info.framework]) {
          return _frameworks[info.framework][methodName](...args)
        }
        return new Error(`Runtime ${methodName}:无效应用Id:  "${id}"`)
      }
    }
  }

  /**
   * 封装页面接口函数，调用指定框架的实现
   * @param {string} methodName
   */
  function _registerPageFunc(methodName) {
    let jsName, nativeName
    if (typeof methodName === 'string') {
      jsName = methodName
    } else if (methodName.length && methodName.length > 1) {
      jsName = methodName[0]
      nativeName = methodName[1]
    }

    if (jsName === 'createPage') {
      methodMap[jsName] = function(id, appid, code, data, intent, meta) {
        // 获取App实例信息
        const appinfo = _appMap[appid]
        if (!appinfo) {
          return new Error(`Runtime ${jsName}:无效应用id "${appid}"`)
        }
        let info = _pageMap[id]
        // 如果没有，则新建一个实例对象
        if (!info) {
          info = {
            appId: appid,
            created: Date.now() // 创建时间
          }
          _pageMap[id] = info

          console.log(`### App Framework ### 创建页面 ${id}----应用Id: ${appid}`)
          // 调用框架的对应API
          return _frameworks[appinfo.framework].createPage(id, appid, code, data, intent, meta)
        }
        return new Error(`Runtime ${jsName}:无效页面id "${id}"`)
      }
    } else {
      methodMap[jsName] = function(...args) {
        const id = args[0]
        const info = _pageMap[id]
        if (info) {
          const appinfo = _appMap[info.appId]
          if (appinfo && _frameworks[appinfo.framework]) {
            const result = _frameworks[appinfo.framework][jsName](...args)
            if (methodName === 'destroyPage') {
              _pageMap[id] = null
            }
            return result
          }
          return new Error(`Runtime ${jsName}:无效应用Id:  "${info.appId}"`)
        }
        if (methodName === 'backPressPage') {
          console.error(`### App Framework ### backPressPage 无效页面Id:  "${id}"`)
          return false
        }
        return new Error(`Runtime ${jsName}:无效页面Id:  "${id}"`)
      }

      if (nativeName) {
        methodMap[nativeName] = function(...args) {
          const id = args[0]
          const info = _pageMap[id]
          if (info) {
            const appinfo = _appMap[info.appId]
            if (appinfo && _frameworks[appinfo.framework]) {
              return _frameworks[appinfo.framework][jsName](...args)
            }
            return new Error(`Runtime ${jsName}:无效页面Id: "${id}"`)
          }
        }
      }
    }
  }

  const frameworkRegApi = ['registerDsl', 'locateDsl', 'changeAppLocale']

  const frameworkAppApi = [
    'createApplication',
    'onRequestApplication',
    'onShowApplication',
    'onHideApplication',
    'getAppConfig',
    'notifyAppError',
    'destroyApplication',
    'notifyPageNotFound'
  ]

  const frameworkPageApi = [
    'createPage',
    'destroyPage',
    'recreatePage',
    'changeVisiblePage',
    'backPressPage',
    'menuButtonPressPage',
    'keyPressPage',
    'menuPressPage',
    'notifyConfigurationChanged',
    'orientationChangePage',
    'refreshPage',
    'reachPageTop',
    'reachPageBottom',
    'pageScroll',
    ['processCallbacks', 'execJSBatch'],
    'getPage',
    'getPageRoot',
    'getPageElementStyles',
    'setPageElementStyles',
    'setPageElementAttrs',
    'replacePageElementWithHtml'
  ]

  function bootstrap(glue) {
    _frameworks = {
      xFramework: glue.dock
    }

    // 注册框架函数
    frameworkRegApi.forEach(_registerRegFunc)
    frameworkAppApi.forEach(_registerAppFunc)
    frameworkPageApi.forEach(_registerPageFunc)

    return methodMap
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  // App页面实例表
  const _appMap$1 = {}
  const _pageMap$1 = {}

  /**
   * 初始化平台，关联到Native供调用
   * @param glue
   */
  function init$2(glue) {
    config.platform = glue.platform
    config.runtime = glue.runtime
    config.dock = glue.dock

    bootstrap(glue)
  }

  /**
   * 定位Dsl，由native调用
   */
  function locateDsl() {
    profiler.record(`### App Performance ### 启动框架[PERF:locateDsl]开始：${new Date().toJSON()}`)

    let dslName = global.getManifestField('config.dsl.name')
    if (!dslName) {
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace(`### App Framework ### 无法从manifest找到对应的dsl名称`)
      dslName = 'xvm'
    }
    let dslCode = null
    global.Env &&
      global.Env.logLevel === 'trace' &&
      console.trace(`### App Framework ### 从平台中获取dsl-${dslName}`)
    dslCode = config.platform.loadResource(`assets:///js/dsls/dsl-${dslName}.js`)
    if (!dslCode) {
      throw new Error(`### App Framework ### 未找到相应的dsl文件`)
    }
    registerDsl(dslCode)
    profiler.record(`### App Performance ### 启动框架[PERF:locateDsl]结束：${new Date().toJSON()}`)
  }

  /**
   * 注册Dsl，由Native调用
   * @param {string} dslCode 底层传递的DSL源代码
   */
  function registerDsl(dslCode) {
    let dslExport = dslCode
    if (typeof dslCode === 'string') {
      dslExport = invokeScript({}, `${dslCode}; return dsl;`)
    }
    installDsl(dslExport)
  }

  /**
   * 初始化Dsl，用于完成DSL到平台的适配工作
   * @param {object} dslExport dsl导出的针对快应用的封装对象
   */
  function installDsl(dslExport) {
    dslExport.init(config)
  }

  /**
   * 修改APP的locale定义
   * @param localeObject {object} locale定义
   * @param resources {array} 各类i18n的资源定义
   */
  function changeAppLocale(localeObject, resources) {
    applyLocaleConfig(localeObject, resources)
  }

  /**
   * 创建App
   * @param id {integer} 应用ID
   * @param code {string} 应用的JS代码
   * @returns {*}
   */
  function createApplication(id, code) {
    // 根据id查找App实例（由原生端生成）
    profiler.record(
      `### App Performance ### 调用APPJS整体[PERF:createApplication]开始：${new Date().toJSON()}`
    )
    profiler.time(`PERF:createApplication`)
    let app = _appMap$1[id]
    let result
    if (!app) {
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace(`### App Framework ### 平台配置信息：`, JSON.stringify(global.Env))
      profiler.time(`PERF:newAppClass`)
      app = new XApp(id, {})
      profiler.timeEnd(`PERF:newAppClass`)
      _appMap$1[id] = app

      // 初始化全局接口
      config.platform.initInterface(app)

      result = config.publish(APP_KEYS.initApp, [app, code])
    } else {
      result = new Error(`createApplication: 无效应用Id "${id}"`)
    }
    profiler.timeEnd(`PERF:createApplication`)
    profiler.record(
      `### App Performance ### 调用APPJS整体[PERF:createApplication]结束：${new Date().toJSON()}`
    )
    return result
  }

  /**
   * App收到外部打开快应用请求
   * @param id
   */
  function onRequestApplication(id) {
    applicationLifecycle(id, 'onRequest')
  }

  /**
   * App显示
   * @param id
   */
  function onShowApplication(id) {
    applicationLifecycle(id, 'onShow')
  }

  /**
   * App隐藏
   * @param id
   */
  function onHideApplication(id) {
    applicationLifecycle(id, 'onHide')
  }

  /**
   * App生命周期
   * @param id
   * @param lifecycle
   */
  function applicationLifecycle(id, lifecycle) {
    const app = _appMap$1[id]
    if (!app) {
      console.error(`### App Framework ### ${lifecycle} app不存在， id： ${id}`)
    } else {
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace(`### App Framework ### ${lifecycle} 应用(${id})响应`)
      if (app.$valid) {
        // applc means application lifecycle
        app._emit(`applc:${lifecycle}`)
        global.Env &&
          global.Env.logLevel === 'trace' &&
          console.trace(`### App Framework ### 调用 ${lifecycle} 回调成功`)
      } else {
        global.Env &&
          global.Env.logLevel === 'trace' &&
          console.trace(`### App Framework ### 调用 ${lifecycle} 回调时应用(${id})已销毁`)
      }
    }
  }

  /**
   *
   * @param id
   * @returns {*}
   */
  function getPage(id) {
    return _pageMap$1[id]
  }

  /**
   * 创建App实例
   * @param {string} id - 页面索引
   * @param {string} appid - APP索引
   * @param {string} code - 页面的JS代码
   * @param {object} query - 打开页面时传递业务数据
   * @param {object} intent - 统传递到页面的数据
   * @param {object} meta - 页面路径元信息，对应router对象
   * @returns {*}
   */
  function createPage(id, appid, code, query, intent, meta) {
    profiler.record(
      `### App Performance ### 调用PageJS整体[PERF:createPage]开始：${new Date().toJSON()}`
    )
    profiler.time(`PERF:createPage`)
    const app = _appMap$1[appid]
    if (!app) {
      return new Error(`createPage: 无效应用Id "${appid}"`)
    }

    query = query || {}

    // 根据id查找App实例（由原生端生成）
    let page = _pageMap$1[id]
    let result
    if (!page) {
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace(`### App Framework ### 创建页面(${id})---- `, JSON.stringify(intent))
      profiler.time(`PERF:newPageClass`)
      page = new XPage(id, app, intent, meta, query)
      profiler.timeEnd(`PERF:newPageClass`)
      profiler.record(
        `### App Performance ### 实例化Page对象[PERF:newPageClass]结束：${new Date().toJSON()}`
      )
      _pageMap$1[id] = page
      // 页面中的全局覆盖
      const globals = makeTimer(page, callback, normalize$1)
      result = config.publish(APP_KEYS.initPage, [page, code, query, globals])
    } else {
      result = new Error(`createPage: 无效页面Id "${id}"`)
    }
    profiler.timeEnd(`PERF:createPage`)
    profiler.record(
      `### App Performance ### 调用PageJS整体[PERF:createPage]结束：${new Date().toJSON()}`
    )
    return result
  }

  const jsHandlers = {
    1: (inst, ...args) => {
      // dom操作
      return fireEvent(inst, ...args)
    },
    2: (inst, ...args) => {
      // 事件回调
      return callback(inst, ...args)
    }
  }

  /**
   * 接受来自原生的事件或回调
   * @param id
   * @param tasks
   * @returns {*} 结果数组,无返回值, 'invalid'表示无效事件
   */
  function processCallbacks$1(id, events) {
    if (!Array.isArray(events)) {
      return new Error(`processCallbacks: 无效任务回调数据 "${id}"`)
    }

    // 判断回调来源
    let instance = _pageMap$1[id]
    if (!instance) {
      instance = _appMap$1[id]
    }

    if (instance) {
      const results = []
      events.forEach(evt => {
        const handler = jsHandlers[evt.action]
        const args = [...evt.args]
        if (typeof handler === 'function') {
          args.unshift(instance)
          results.push(handler(...args))
        } else {
          // 无效事件
          console.error(`### App Framework ### 无法识别的回调函数类型 (${evt.action})`)
          results.push('invalid')
        }
      })
      return results
    }
    return new Error(`processCallbacks: 无效回调来源Id "${id}"`)
  }

  /**
   * 获取App实例的整个树
   * @param id
   * @returns {*}
   */
  function getPageRoot(id) {
    const page = _pageMap$1[id]
    let result
    if (page) {
      result = getRootElement(page)
    } else {
      result = new Error(`getPageRoot: 无效页面Id "${id}"`)
    }
    return result
  }

  /**
   * 获取App配置
   * @param id
   * @returns {*}
   */
  function getAppConfig(id) {
    const app = _appMap$1[id]
    let result
    if (app) {
      result = app.$def
    } else {
      result = new Error(`getAppConfig: 无效应用Id "${id}"`)
    }
    return result
  }

  /**
   * 获取节点的匹配到的样式定义
   * @param pageId
   * @param elementRef
   * @return {*}
   */
  function getPageElementStyles(pageId, elementRef) {
    const page = _pageMap$1[pageId]
    let result
    if (page && page.doc) {
      result = getElementStyles(page, elementRef)
    } else {
      result = new Error(`getPageElementStyles: 无效页面Id "${pageId}"`)
    }
    return result
  }

  /**
   * 更新节点的样式
   * @param pageId
   * @param elementRef
   * @param ruleName
   * @param editCssPropertyList {Array} 数组中每个元素格式：{name: '', value: '', disabled: true}
   * @return {*}
   */
  function setPageElementStyles(pageId, elementRef, ruleName, editCssPropertyList) {
    const page = _pageMap$1[pageId]
    let result
    if (page && page.doc) {
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace(`### App Framework ### 更新页面元素样式: `, JSON.stringify(arguments))
      result = setElementStyles$1(page, elementRef, ruleName, editCssPropertyList)
    } else {
      result = new Error(`setPageElementStyles: 无效页面Id "${pageId}"`)
    }
    return result
  }

  /**
   * 更新节点的属性
   * @param pageId
   * @param elementRef
   * @param actionList
   */
  function setPageElementAttrs(pageId, elementRef, actionList) {
    const page = _pageMap$1[pageId]
    let result
    if (page && page.doc) {
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace(`### App Framework ### 更新页面元素的属性: `, JSON.stringify(arguments))
      result = setElementAttrs(page, elementRef, actionList)
    } else {
      result = new Error(`setPageElementAttrs: 无效页面Id "${pageId}"`)
    }
    return result
  }

  /**
   * 调试器：替换节点
   * @param pageId
   * @param elementRef
   * @param htmlStr
   */
  function replacePageElementWithHtml(pageId, elementRef, htmlStr) {
    const page = _pageMap$1[pageId]
    let result
    if (page && page.doc) {
      const element = config.runtime.helper.getDocumentNodeByRef(page.doc, elementRef)
      const parentNode = element.parentNode
      const layoutIndex = parentNode.layoutChildren.indexOf(element)
      try {
        // 解析
        const parser = config.platform.requireBundle('parser.js')
        const rawData = parser.parseHTML(htmlStr)
        // 编译
        const newNodeData = compileFragmentData(rawData, page.doc)
        if (newNodeData) {
          // 删除
          parentNode.removeChild(element)
          // 替换
          const newNodeList = newNodeData.hasOwnProperty('length') ? newNodeData : [newNodeData]
          for (let i = 0, len = newNodeList.length; i < len; i++) {
            const newNodeItem = newNodeList[i]
            parentNode.insertBefore(newNodeItem, parentNode.layoutChildren[layoutIndex + i])
          }
          // 更新操作
          page.doc.listener.updateFinish()
          global.Env &&
            global.Env.logLevel === 'trace' &&
            console.trace(
              `### App Framework ### 使用HTML替换元素:`,
              JSON.stringify(arguments),
              JSON.stringify(newNodeList)
            )
        } else {
          result = new Error(
            `replacePageElementWithHtml: 使用HTML替换元素，编译出错：${JSON.stringify(rawData)}`
          )
        }
      } catch (err) {
        result = new Error(`replacePageElementWithHtml: 使用HTML替换元素：${err}`)
      }
    } else {
      result = new Error(`replacePageElementWithHtml: 无效页面Id "${pageId}"`)
    }
    return result
  }

  /**
   * 重建页面（并不是真的重建，而是利用之前的vdom模型重新创建view）
   * @param id
   * @returns {*}
   */
  function recreatePage$1(id) {
    const page = _pageMap$1[id]
    let result
    if (page) {
      result = recreatePage(page)
    } else {
      result = new Error(`recreatePage: 无效页面Id "${id}"`)
    }
    return result
  }

  /**
   * 当页面隐藏或消失时调用
   * @param id
   * @param show
   */
  function changeVisiblePage(id, show) {
    const page = _pageMap$1[id]
    if (page) {
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace(`### App Framework ### changeVisiblePage 页面(${id})响应：${show}`)
      page._visible = show
      const event = show ? APP_KEYS.onShow : APP_KEYS.onHide
      config.publish(event, [page])

      // 用于火焰图判断
      if (global.profiler._isEnabled && getIsFirstOnShow()) {
        const session = getSessionInstance()
        session.post('Profiler.stop', (error, { profile }) => {
          if (!error) {
            profiler.saveProfilerData(JSON.stringify(profile))
          } else {
            console.error(`### App Framework ### session.post(Profiler.stop)方法出错：${error}`)
          }
          session.disconnect()
        })
        global.Env &&
          global.Env.logLevel === 'trace' &&
          console.trace(`### App Framework ### session.post('Profiler.stop') 调用`)
        changeIsFirstOnShowToFalse()
      }
    } else {
      console.error(`### App Framework ### changeVisiblePage 页面(${id})无效`)
    }
  }

  /**
   * 当用户点击back键时触发（仅针对android系统有效）
   * @param id
   */
  function backPressPage(id) {
    const page = _pageMap$1[id]
    let result = false
    if (page) {
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace(`### App Framework ### backPressOnPage 页面(${id})响应`)
      result = config.publish(APP_KEYS.onBackPress, [page])
    } else {
      console.error(`### App Framework ### backPressOnPage 页面(${id})无效`)
    }

    // true代表自己处理逻辑，否则遵循系统默认行为
    if (result !== true) {
      result = false
    }
    return result
  }

  /**
   * 当用户点击遥控器menu键时触发
   * @param id
   */
  function menuButtonPressPage(id) {
    const page = _pageMap$1[id]
    let result = false
    if (page) {
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace(`### App Framework ### menuButtonPressPage 页面(${id})响应`)
      result = config.publish(APP_KEYS.onMenuButtonPress, [page])
    } else {
      console.error(`### App Framework ### menuButtonPressPage 页面(${id})无效`)
    }

    // true代表自己处理逻辑，否则遵循系统默认行为
    if (result !== true) {
      result = false
    }
    return result
  }

  /**
   * 当用户点击TV遥控器的按键时触发（仅针对android TV系统有效）
   * @param id
   * @param options  包含code action repeatCount 等参数
   */
  function keyPressPage(id, options) {
    const page = _pageMap$1[id]
    let result = false
    if (page) {
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace(`### App Framework ### onKey 页面(${id})响应:${JSON.stringify(options)}`)
      const { action, code, repeatCount } = options
      result = config.publish(APP_KEYS.onKey, [page, { action, code, repeatCount }])
    } else {
      console.error(`### App Framework ### onKey 页面(${id})无效:${JSON.stringify(options)}`)
    }

    // 布尔类型转换, 防止jscore异常
    if (result !== true) {
      result = false
    }
    return result
  }

  /**
   * 当用户点击menu键时触发
   * @param id
   */
  function menuPressPage(id) {
    const page = _pageMap$1[id]
    let result = false
    if (page) {
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace(`### App Framework ### menuPressOnPage 页面(${id})响应`)
      result = config.publish(APP_KEYS.onMenuPress, [page])
    } else {
      console.error(`### App Framework ### menuPressOnPage 页面(${id})无效`)
    }

    // true代表自己处理逻辑，否则遵循系统默认行为
    if (result !== true) {
      result = false
    }

    return result
  }

  /**
   * 通知页面配置的更新
   * @param pageId {number} 页面Id
   * @param options {object} 事件参数，拥有type属性，值为字符串
   */
  function notifyConfigurationChanged(pageId, options) {
    const page = _pageMap$1[pageId]
    if (page) {
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace(
          `### App Framework ### notifyConfigurationChanged 页面(${pageId})响应：${JSON.stringify(
            options
          )}`
        )
      config.publish(APP_KEYS.onConfigurationChanged, [page, options])
    } else {
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace(
          `### App Framework ### notifyConfigurationChanged 页面(${pageId})无效：${JSON.stringify(
            options
          )}`
        )
    }
  }

  /**
   * 监听设备屏幕旋转触发
   * @param id
   * @param param
   */
  function orientationChangePage(id, param) {
    const page = _pageMap$1[id]
    if (page) {
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace(
          `### App Framework ### orientationChangePage 页面(${id})响应：${JSON.stringify(param)}`
        )
      config.publish(APP_KEYS.onOrientationChange, [page, param])
    } else {
      console.error(`### App Framework ### orientationChangePage 页面(${id})无效`)
    }
  }

  /**
   * 刷新当前页，但并不重新创建
   * @param id
   * @param query
   * @param intent
   */
  function refreshPage(id, query, intent) {
    query = query || {}
    const page = _pageMap$1[id]
    if (page) {
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace(`### App Framework ### refreshPage 页面(${id})响应：${JSON.stringify(query)}`)
      config.publish(APP_KEYS.onRefresh, [page, query, intent])
    } else {
      console.error(`### App Framework ### refreshPage 页面(${id})无效`)
    }
  }

  /**
   * 监控应用内部错误
   * @param id
   * @param param
   */
  function notifyAppError(id, param) {
    const app = _appMap$1[id]
    if (app) {
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace(`### App Framework ### notifyAppError 应用(${id})响应`)
      if (app.$valid) {
        try {
          app._emit('applc:onError', param)
        } catch (err) {
          err.message = `$INTERRUPTION$:${err.message}`
          throw err
        }
      }
    } else {
      console.error(`### App Framework ### notifyAppError 应用(${id})无效`)
    }
  }

  /**
   * 销毁页面
   * @param  {string} id
   */
  function destroyPage$1(id) {
    const page = _pageMap$1[id]
    if (!page) {
      return new Error(`destroyPage: 无效页面Id "${id}"`)
    }
    config.publish(APP_KEYS.destroyPage, [page])
    destroyPage(page)
    delete _pageMap$1[id]

    return _pageMap$1
  }

  /**
   * 销毁App
   * @param  {string} id
   */
  function destroyApplication(id) {
    const app = _appMap$1[id]
    if (!app) {
      return new Error(`destroyApplication: 无效应用Id "${id}"`)
    }
    destroyApp(app)
    // 允许销毁后的接口调用
    // delete _appMap[id]

    return _appMap$1
  }

  /**
   * 给组件添加原生方法
   * @param page
   * @param element
   * @returns {*}
   */
  function bindComponentMethods$1(page, element) {
    if (element && !element._hasBind) {
      const elementType = element.tagName.toLowerCase()

      // 绑定方法：animate()
      element.animate = _bindAnimation(element, page)
      // 绑定Native组件方法
      const methodNameList = config.runtime.helper.bindComponentMethods(element)
      methodNameList.forEach(function(methodName) {
        const originalDef = element[methodName]
        element[methodName] = function(...args) {
          if (page && page.doc && page.$valid) {
            // 通知组件方法的调用
            config.publish(APP_KEYS.callbackDone, [page])
            // 调用组件方法
            const argList = args.map(arg => normalize$1(arg, page))
            originalDef.apply(element[methodName], argList)
          }
        }
      })
      // 绑定方法：getViewId()
      element.getViewId = function() {
        return global.getPageElementViewId(element.ref)
      }

      if (elementType === 'canvas') {
        _bindCanvas(element, page)
      }

      element._hasBind = true
    }
    return element
  }

  /**
   * 打开错误页面时发起的回调
   * @param id
   * @param params
   */
  function notifyPageNotFound(id, params = {}) {
    const app = _appMap$1[id]
    if (!app) {
      console.error(`### App Framework ### notifyPageNotFound app不存在， id： ${id}`)
    } else {
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace(
          `### App Framework ### notifyPageNotFound 应用(${id})响应， 参数： ${JSON.stringify(
            params
          )}`
        )
      if (app.$valid) {
        // applc means application lifecycle
        app._emit('applc:onPageNotFound', params)
        global.Env &&
          global.Env.logLevel === 'trace' &&
          console.trace(
            `### App Framework ### 调用 onPageNotFound 回调成功， 参数： ${JSON.stringify(params)}`
          )
      } else {
        global.Env &&
          global.Env.logLevel === 'trace' &&
          console.trace(`### App Framework ### 调用 onPageNotFound 回调时应用(${id})已销毁`)
      }
    }
  }

  /**
   * 支持canvas
   * @param element
   * @param page
   * @returns {*}
   * @private
   */
  function _bindCanvas(element, page) {
    const canvas = config.platform.requireBundle('canvas.js')
    const canvasModule = config.platform.requireModule(page.app, 'system.canvas')
    element = canvas.enable(element, page.app, { module: canvasModule })
    return element
  }

  /**
   * 支持 Animation Api
   * @param {object} element: 元素对象；
   * @param {object} page   : 页面对象；
   */
  function _bindAnimation(element, page) {
    return (keyframes, options) => {
      if (options && options.id && typeof options.id !== 'string') {
        console.error(`### App Framework ### animate 输入参数 options.id 非法，类型需为 string`)
        return
      }
      const params = {
        keyframes,
        options
      }
      const Animation = config.platform.requireBundle('animation.js')
      const animationModule = config.platform.requireModule(page.app, 'system.animation')
      const animateInstance = new Animation(page, element, params, animationModule)
      return Object.freeze(animateInstance)
    }
  }

  // 标识是否用到splitChunks规范
  let _useSplitChunksFlag = false

  /**
   * 提供带有context的加载独立的JS资源
   * @param context 页面或者APP
   * @param globals
   * @return {evaluateBuildScript}
   */
  function makeEvaluateBuildScript(globals) {
    return function evaluateBuildScript(buildFilePath) {
      const globalObjects = Object.assign(
        {
          $app_evaluate$: evaluateBuildScript
        },
        globals
      )

      if (!_useSplitChunksFlag) {
        _useSplitChunksFlag = true
        profiler.record(
          `### App Performance ### 用到加载JS文件的能力[PERF:evaluateBuildScript]：${new Date().toJSON()}`
        )
      }

      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace(`### App Performance ### evaluateBuildScript('${buildFilePath}')`)
      return config.platform.requireScriptFile(buildFilePath, globalObjects)
    }
  }

  /**
   * 页面滚动到顶部触发的逻辑
   * @param id 页面id
   */
  function reachPageTop(id) {
    const page = _pageMap$1[id]
    if (page) {
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace(`### App Framework ### reachPageTop 页面(${id})响应`)
      config.publish(APP_KEYS.onReachTop, [page])
    } else {
      console.error(`### App Framework ### reachPageTop 页面(${id})无效`)
    }
  }

  /**
   * 页面滚动到底部触发的逻辑
   * @param id 页面id
   */
  function reachPageBottom(id) {
    const page = _pageMap$1[id]
    if (page) {
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace(`### App Framework ### reachPageBottom 页面(${id})响应`)
      config.publish(APP_KEYS.onReachBottom, [page])
    } else {
      console.error(`### App Framework ### reachPageBottom 页面(${id})无效`)
    }
  }

  /**
   * 页面滚动时触发的逻辑
   * @param id 页面id
   * @param params 滚动参数
   * @param params.scrollTop 页面滚动高度
   */
  function pageScroll(id, params) {
    const page = _pageMap$1[id]
    if (page) {
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace(`### App Framework ### pageScroll 页面(${id})响应`)
      config.publish(APP_KEYS.onPageScroll, [page, params])
    } else {
      console.error(`### App Framework ### pageScroll 页面(${id})无效`)
    }
  }

  const dock = {
    config,
    init: init$2,
    locateDsl,
    registerDsl,
    changeAppLocale,
    createApplication,
    onRequestApplication,
    onShowApplication,
    onHideApplication,
    notifyAppError,
    destroyApplication,
    createPage,
    recreatePage: recreatePage$1,
    destroyPage: destroyPage$1,
    changeVisiblePage,
    keyPressPage,
    backPressPage,
    menuButtonPressPage,
    menuPressPage,
    notifyConfigurationChanged,
    orientationChangePage,
    refreshPage,
    processCallbacks: processCallbacks$1,
    getAppConfig,
    getPageRoot,
    getPage,
    reachPageTop,
    reachPageBottom,
    pageScroll,
    getPageElementStyles,
    setPageElementStyles,
    setPageElementAttrs,
    replacePageElementWithHtml,
    bindComponentMethods: bindComponentMethods$1,
    notifyPageNotFound,
    makeEvaluateBuildScript,
    exposure: methodMap
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  const ENTITIES = new Map([
    /* MATH_SYMBOLES */
    ['forall', '∀'],
    ['part', '∂'],
    ['exists', '∃'],
    ['empty', '∅'],
    ['nabla', '∇'],
    ['isin', '∈'],
    ['notin', '∉'],
    ['ni', '∋'],
    ['prod', '∏'],
    ['sum', '∑'],
    ['minus', '−'],
    ['lowast', '∗'],
    ['radic', '√'],
    ['prop', '∝'],
    ['infin', '∞'],
    ['ang', '∠'],
    ['and', '∧'],
    ['or', '∨'],
    ['cap', '∩'],
    ['cup', '∪'],
    ['int', '∫'],
    ['there4', '∴'],
    ['sim', '∼'],
    ['cong', '≅'],
    ['asymp', '≈'],
    ['ne', '≠'],
    ['le', '≤'],
    ['ge', '≥'],
    ['sub', '⊂'],
    ['sup', '⊃'],
    ['nsub', '⊄'],
    ['sube', '⊆'],
    ['supe', '⊇'],
    ['oplus', '⊕'],
    ['otimes', '⊗'],
    ['perp', '⊥'],
    ['sdot', '⋅'],
    /* GREEK_SYMBOLS */
    /* -uppercase */
    ['Alpha', 'Α'],
    ['Beta', 'Β'],
    ['Gamma', 'Γ'],
    ['Delta', 'Δ'],
    ['Epsilon', 'Ε'],
    ['Zeta', 'Ζ'],
    ['Eta', 'Η'],
    ['Theta', 'Θ'],
    ['Iota', 'Ι'],
    ['Kappa', 'Κ'],
    ['Lambda', 'Λ'],
    ['Mu', 'Μ'],
    ['Nu', 'Ν'],
    ['Xi', 'Ν'],
    ['Omicron', 'Ο'],
    ['Pi', 'Π'],
    ['Rho', 'Ρ'],
    ['Sigma', 'Σ'],
    ['Tau', 'Τ'],
    ['Upsilon', 'Υ'],
    ['Phi', 'Φ'],
    ['Chi', 'Χ'],
    ['Psi', 'Ψ'],
    ['Omega', 'Ω'],
    /* -lowercase */
    ['alpha', 'α'],
    ['beta', 'β'],
    ['gamma', 'γ'],
    ['delta', 'δ'],
    ['epsilon', 'ε'],
    ['zeta', 'ζ'],
    ['eta', 'η'],
    ['theta', 'θ'],
    ['iota', 'ι'],
    ['kappa', 'κ'],
    ['lambda', 'λ'],
    ['mu', 'μ'],
    ['nu', 'ν'],
    ['xi', 'ξ'],
    ['omicron', 'ο'],
    ['pi', 'π'],
    ['rho', 'ρ'],
    ['sigmaf', 'ς'],
    ['sigma', 'σ'],
    ['tau', 'τ'],
    ['upsilon', 'υ'],
    ['phi', 'φ'],
    ['chi', 'χ'],
    ['psi', 'ψ'],
    ['omega', 'ω'],
    ['thetasym', 'ϑ'],
    ['upsih', 'ϒ'],
    ['piv', 'ϖ'],
    ['middot', '·'],
    /* COMMON_ENTITIES */
    ['nbsp', ' '],
    ['quot', "'"],
    ['amp', '&'],
    ['lt', '<'],
    ['gt', '>'],
    /* OTHER_ENTITIES */
    ['OElig', 'Œ'],
    ['oelig', 'œ'],
    ['Scaron', 'Š'],
    ['scaron', 'š'],
    ['Yuml', 'Ÿ'],
    ['fnof', 'ƒ'],
    ['circ', 'ˆ'],
    ['tilde', '˜'],
    ['ensp', ''],
    ['emsp', ''],
    ['thinsp', ''],
    ['zwnj', ''],
    ['zwj', ''],
    ['lrm', ''],
    ['rlm', ''],
    ['ndash', '–'],
    ['mdash', '—'],
    ['lsquo', '‘'],
    ['rsquo', '’'],
    ['sbquo', '‚'],
    ['ldquo', '“'],
    ['rdquo', '”'],
    ['bdquo', '„'],
    ['dagger', '†'],
    ['Dagger', '‡'],
    ['bull', '•'],
    ['hellip', '…'],
    ['permil', '‰'],
    ['prime', '′'],
    ['Prime', '″'],
    ['lsaquo', '‹'],
    ['rsaquo', '›'],
    ['oline', '‾'],
    ['euro', '€'],
    ['trade', '™'],
    ['larr', '←'],
    ['uarr', '↑'],
    ['rarr', '→'],
    ['darr', '↓'],
    ['harr', '↔'],
    ['crarr', '↵'],
    ['lceil', '⌈'],
    ['rceil', '⌉'],
    ['lfloor', '⌊'],
    ['rfloor', '⌋'],
    ['loz', '◊'],
    ['spades', '♠'],
    ['clubs', '♣'],
    ['hearts', '♥'],
    ['diams', '♦'],
    ['#8203', ''] // 防止字符串中出现unicode#8203(zero width space)
  ])

  /**
   * 转义解码
   * @param str
   * @returns {string|XML|*|*}
   */
  function decode(str) {
    return str
      .replace(/&([a-zA-Z#0-9]+?);/g, (_, code) => {
        return ENTITIES.get[code] || '&' + code + ';'
      })
      .replace(/\r\n?/g, '')
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  /**
   * 字符串转map
   * 不要重构成Set，Map实现比Object快2倍，Set三倍
   * @param str
   * @returns {Map<any, any>}
   */
  function $newMap(str) {
    const obj = new Map()
    const items = str.split(',')
    for (let i = 0; i < items.length; i++) {
      obj.set(items[i], true)
    }
    return obj
  }

  function $camelize$1(value) {
    return value.replace(/-([a-z])/g, function(s, m) {
      return m.toUpperCase()
    })
  }

  /**
   * XxxXxx转换为-xxx-xxx
   * @param value
   * @returns {void|string|XML|*}
   */
  function $hyphenate$1(value) {
    return value.replace(/([A-Z])/g, function(s, m) {
      return '-' + m.toLowerCase()
    })
  }

  /**
   * 拆分上下左右类型的简写属性
   * @param names   属性名数组
   * @param values  属性值数组
   * @returns {array}
   */
  function splitAttr(names, values) {
    const resultArray = []
    if (values) {
      names.forEach((n, idx) => {
        resultArray[idx] = {}
        resultArray[idx].n = n
      })

      switch (values.length) {
        case 1:
          names.forEach((n, idx) => {
            resultArray[idx].v = values[0]
          })
          break
        case 2:
          names.forEach((n, idx) => {
            if (idx % 2) {
              resultArray[idx].v = values[1]
            } else {
              resultArray[idx].v = values[0]
            }
          })
          break
        case 3:
          names.forEach((n, idx) => {
            if (idx % 2) {
              resultArray[idx].v = values[1]
            } else {
              resultArray[idx].v = values[idx]
            }
          })
          break
        default:
          names.forEach((n, idx) => {
            resultArray[idx].v = values[idx]
          })
      }
    }
    return resultArray
  }

  /**
   * 值的有效性检验
   * @param value  值
   */
  function isValidValue(value) {
    return typeof value === 'number' || typeof value === 'string'
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  const startTag = /^<([-A-Za-z0-9_]+)((?:\s+[a-zA-Z_:][-a-zA-Z0-9_:.]*(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/
  const endTag = /^<\/([-A-Za-z0-9_]+)[^>]*>/
  const attr = /([a-zA-Z_:][-a-zA-Z0-9_:.]*)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g

  // 空元素
  const empty = $newMap(
    'area,base,basefont,br,col,frame,hr,img,input,link,meta,param,embed,command,keygen,source,track,wbr'
  )
  // 块级元素
  const block = $newMap(
    'br,a,code,address,article,applet,aside,audio,blockquote,button,canvas,center,dd,del,dir,div,dl,dt,fieldset,figcaption,figure,footer,form,frameset,h1,h2,h3,h4,h5,h6,header,hgroup,hr,iframe,ins,isindex,li,map,menu,noframes,noscript,object,ol,output,p,pre,section,script,table,tbody,td,tfoot,th,thead,tr,ul,video'
  )
  // 内联元素
  const inline = $newMap(
    'abbr,acronym,applet,b,basefont,bdo,big,button,cite,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var'
  )
  // 自封闭元素
  const closeSelf = $newMap('colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr')
  // 自填充属性
  const fillAttrs = $newMap(
    'checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected'
  )
  // 特殊元素
  const special = $newMap('script,style,block')

  /**
   * HTML解析
   * @param html
   * @param handler
   * @constructor
   */
  function HtmlParser(html, handler) {
    let index
    let chars
    let match
    const stack = []
    let last = html

    stack.last = function() {
      return this[this.length - 1]
    }

    while (html) {
      chars = true
      if (!stack.last() || !special.has(stack.last())) {
        // 确保没有在style或script中
        // 处理注释
        if (html.indexOf('<!--') === 0) {
          index = html.indexOf('-->')

          if (index >= 0) {
            if (handler.comment) {
              handler.comment(html.substring(4, index))
            }
            html = html.substring(index + 3)
            chars = false
          }
        } else if (html.indexOf('</') === 0) {
          // 处理结束tag
          match = html.match(endTag)
          if (match) {
            html = html.substring(match[0].length)
            match[0].replace(endTag, parseEndTag)
            chars = false
          }
        } else if (html.indexOf('<') === 0) {
          // 处理开始tag
          match = html.match(startTag)
          if (match) {
            html = html.substring(match[0].length)
            match[0].replace(startTag, parseStartTag)
            chars = false
          }
        }

        if (chars) {
          index = html.indexOf('<')
          let text = ''
          while (index === 0) {
            text += '<'
            html = html.substring(1)
            index = html.indexOf('<')
          }
          text += index < 0 ? html : html.substring(0, index)
          html = index < 0 ? '' : html.substring(index)

          if (handler.text) {
            handler.text(text)
          }
        }
      } else {
        html = html.replace(new RegExp('([\\s\\S]*?)(</' + stack.last() + '[^>]*>)', 'i'), function(
          all,
          text
        ) {
          text = text.replace(/<!--([\s\S]*?)-->/g, '$1').replace(/<!\[CDATA\[([\s\S]*?)]]>/g, '$1')

          if (handler.text) {
            handler.text(text)
          }

          return ''
        })

        parseEndTag('', stack.last())
      }

      if (html === last) {
        console.error('### App Parser ### 解析错误: ' + html)
      }
      last = html
    }

    parseEndTag()

    function parseStartTag(tag, tagName, rest, unary) {
      tagName = tagName.toLowerCase()

      if (block.has(tagName)) {
        while (stack.last() && inline.has(stack.last())) {
          parseEndTag('', stack.last())
        }
      }

      if (closeSelf.has(tagName) && stack.last() === tagName) {
        parseEndTag('', tagName)
      }

      unary = empty.has(tagName) || !!unary

      if (!unary) {
        stack.push(tagName)
      }

      if (handler.start) {
        const attrs = []

        rest.replace(attr, function(match, name) {
          const value = arguments[2]
            ? arguments[2]
            : arguments[3]
            ? arguments[3]
            : arguments[4]
            ? arguments[4]
            : fillAttrs.has(name)
            ? name
            : ''

          attrs.push({
            name: name,
            value: value,
            escaped: value.replace(/(^|[^\\])"/g, '$1\\"')
          })
        })

        if (handler.start) {
          handler.start(tagName, attrs, unary)
        }
      }
    }

    function parseEndTag(tag, tagName) {
      let pos = 0
      if (tagName) {
        tagName = tagName.toLowerCase()
        for (pos = stack.length - 1; pos >= 0; pos--) {
          if (stack[pos] === tagName) {
            break
          }
        }
      }

      if (pos >= 0) {
        // 关闭open标签
        for (let i = stack.length - 1; i >= pos; i--) {
          if (handler.end) {
            handler.end(stack[i])
          }
        }

        // 移除close标签
        stack.length = pos
      }
    }
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  // 日志类型
  const logTypes = ['NOTE', 'WARNING', 'ERROR']

  const colorNames = new Map([
    ['aliceblue', '#F0F8FF'],
    ['antiquewhite', '#FAEBD7'],
    ['aqua', '#00FFFF'],
    ['aquamarine', '#7FFFD4'],
    ['azure', '#F0FFFF'],
    ['beige', '#F5F5DC'],
    ['bisque', '#FFE4C4'],
    ['black', '#000000'],
    ['blanchedalmond', '#FFEBCD'],
    ['blue', '#0000FF'],
    ['blueviolet', '#8A2BE2'],
    ['brown', '#A52A2A'],
    ['burlywood', '#DEB887'],
    ['cadetblue', '#5F9EA0'],
    ['chartreuse', '#7FFF00'],
    ['chocolate', '#D2691E'],
    ['coral', '#FF7F50'],
    ['cornflowerblue', '#6495ED'],
    ['cornsilk', '#FFF8DC'],
    ['crimson', '#DC143C'],
    ['cyan', '#00FFFF'],
    ['darkblue', '#00008B'],
    ['darkcyan', '#008B8B'],
    ['darkgoldenrod', '#B8860B'],
    ['darkgray', '#A9A9A9'],
    ['darkgreen', '#006400'],
    ['darkgrey', '#A9A9A9'],
    ['darkkhaki', '#BDB76B'],
    ['darkmagenta', '#8B008B'],
    ['darkolivegreen', '#556B2F'],
    ['darkorange', '#FF8C00'],
    ['darkorchid', '#9932CC'],
    ['darkred', '#8B0000'],
    ['darksalmon', '#E9967A'],
    ['darkseagreen', '#8FBC8F'],
    ['darkslateblue', '#483D8B'],
    ['darkslategray', '#2F4F4F'],
    ['darkslategrey', '#2F4F4F'],
    ['darkturquoise', '#00CED1'],
    ['darkviolet', '#9400D3'],
    ['deeppink', '#FF1493'],
    ['deepskyblue', '#00BFFF'],
    ['dimgray', '#696969'],
    ['dimgrey', '#696969'],
    ['dodgerblue', '#1E90FF'],
    ['firebrick', '#B22222'],
    ['floralwhite', '#FFFAF0'],
    ['forestgreen', '#228B22'],
    ['fuchsia', '#FF00FF'],
    ['gainsboro', '#DCDCDC'],
    ['ghostwhite', '#F8F8FF'],
    ['gold', '#FFD700'],
    ['goldenrod', '#DAA520'],
    ['gray', '#808080'],
    ['green', '#008000'],
    ['greenyellow', '#ADFF2F'],
    ['grey', '#808080'],
    ['honeydew', '#F0FFF0'],
    ['hotpink', '#FF69B4'],
    ['indianred', '#CD5C5C'],
    ['indigo', '#4B0082'],
    ['ivory', '#FFFFF0'],
    ['khaki', '#F0E68C'],
    ['lavender', '#E6E6FA'],
    ['lavenderblush', '#FFF0F5'],
    ['lawngreen', '#7CFC00'],
    ['lemonchiffon', '#FFFACD'],
    ['lightblue', '#ADD8E6'],
    ['lightcoral', '#F08080'],
    ['lightcyan', '#E0FFFF'],
    ['lightgoldenrodyellow', '#FAFAD2'],
    ['lightgray', '#D3D3D3'],
    ['lightgreen', '#90EE90'],
    ['lightgrey', '#D3D3D3'],
    ['lightpink', '#FFB6C1'],
    ['lightsalmon', '#FFA07A'],
    ['lightseagreen', '#20B2AA'],
    ['lightskyblue', '#87CEFA'],
    ['lightslategray', '#778899'],
    ['lightslategrey', '#778899'],
    ['lightsteelblue', '#B0C4DE'],
    ['lightyellow', '#FFFFE0'],
    ['lime', '#00FF00'],
    ['limegreen', '#32CD32'],
    ['linen', '#FAF0E6'],
    ['magenta', '#FF00FF'],
    ['maroon', '#800000'],
    ['mediumaquamarine', '#66CDAA'],
    ['mediumblue', '#0000CD'],
    ['mediumorchid', '#BA55D3'],
    ['mediumpurple', '#9370DB'],
    ['mediumseagreen', '#3CB371'],
    ['mediumslateblue', '#7B68EE'],
    ['mediumspringgreen', '#00FA9A'],
    ['mediumturquoise', '#48D1CC'],
    ['mediumvioletred', '#C71585'],
    ['midnightblue', '#191970'],
    ['mintcream', '#F5FFFA'],
    ['mistyrose', '#FFE4E1'],
    ['moccasin', '#FFE4B5'],
    ['navajowhite', '#FFDEAD'],
    ['navy', '#000080'],
    ['oldlace', '#FDF5E6'],
    ['olive', '#808000'],
    ['olivedrab', '#6B8E23'],
    ['orange', '#FFA500'],
    ['orangered', '#FF4500'],
    ['orchid', '#DA70D6'],
    ['palegoldenrod', '#EEE8AA'],
    ['palegreen', '#98FB98'],
    ['paleturquoise', '#AFEEEE'],
    ['palevioletred', '#DB7093'],
    ['papayawhip', '#FFEFD5'],
    ['peachpuff', '#FFDAB9'],
    ['peru', '#CD853F'],
    ['pink', '#FFC0CB'],
    ['plum', '#DDA0DD'],
    ['powderblue', '#B0E0E6'],
    ['purple', '#800080'],
    ['red', '#FF0000'],
    ['rosybrown', '#BC8F8F'],
    ['royalblue', '#4169E1'],
    ['saddlebrown', '#8B4513'],
    ['salmon', '#FA8072'],
    ['sandybrown', '#F4A460'],
    ['seagreen', '#2E8B57'],
    ['seashell', '#FFF5EE'],
    ['sienna', '#A0522D'],
    ['silver', '#C0C0C0'],
    ['skyblue', '#87CEEB'],
    ['slateblue', '#6A5ACD'],
    ['slategray', '#708090'],
    ['slategrey', '#708090'],
    ['snow', '#FFFAFA'],
    ['springgreen', '#00FF7F'],
    ['steelblue', '#4682B4'],
    ['tan', '#D2B48C'],
    ['teal', '#008080'],
    ['thistle', '#D8BFD8'],
    ['tomato', '#FF6347'],
    ['turquoise', '#40E0D0'],
    ['violet', '#EE82EE'],
    ['wheat', '#F5DEB3'],
    ['white', '#FFFFFF'],
    ['whitesmoke', '#F5F5F5'],
    ['yellow', '#FFFF00'],
    ['yellowgreen', '#9ACD32']
  ])

  // 长度单位
  const cssLengthUnits = ['px', '%']
  const REGEXP_LENGTH = /^[-+]?[0-9]*\.?[0-9]+(.*)$/
  const REGEXP_COLOR_LONG = /^#[0-9a-fA-F]{6}$/
  const REGEXP_COLOR_SHORT = /^#[0-9a-fA-F]{3}$/
  const REGEXP_COLOR_RGB = /^rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/
  const REGEXP_COLOR_RGBA = /^rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d*\.?\d+)\s*\)$/
  const REGEXP_COLOR_HSL = /^hsl\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*\)$/
  const REGEXP_COLOR_HSLA = /^hsla\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*,\s*(\d*\.?\d+)\s*\)$/
  const REGEXP_INT = /^[-+]?[0-9]+$/
  const REGEXP_URL = /^url\(\s*['"]?\s*([^()]+?)\s*['"]?\s*\)$/
  const REGEXP_NAME = /^[a-zA-Z_][a-zA-Z0-9]*$/
  const REGEXP_NUMBER = /^[-+]?[0-9]*\.?[0-9]+$/

  const validator = {
    /**
     * 长度值校验
     * @param v
     * @param units 支持的单位
     * @returns {*}
     * @constructor
     */
    length: function(v, units) {
      v = (v || '').toString()
      const match = v.match(REGEXP_LENGTH)
      if (!units) {
        units = cssLengthUnits
      }

      if (match) {
        // 尝试检查单位
        const unit = match[1]
        if (!unit) {
          return {
            value: parseFloat(v) + units[0],
            reason: function reason(k, v, result) {
              return (
                'WARN: 属性 `' + $hyphenate$1(k) + '` 没有指定单位，默认为 `' + units[0] + '`'
              )
            }
          }
        } else if (units.indexOf(unit.toLowerCase()) >= 0) {
          // 如果单位合法
          return { value: v }
        } else {
          // 其余格式单位，一律默认为px
          return {
            value: parseFloat(v) + units[0],
            reason: function reason(k, v, result) {
              return (
                'ERROR: 属性 `' +
                $hyphenate$1(k) +
                '` 不支持单位 `' +
                unit +
                '`, 目前仅支持 `' +
                JSON.stringify(units) +
                '`'
              )
            }
          }
        }
      }
      return {
        value: null,
        reason: function reason(k, v, result) {
          return 'ERROR: 属性 `' + $hyphenate$1(k) + '` 的值 `' + v + '` 不正确(仅支持数值)'
        }
      }
    },
    /**
     * 颜色值校验, 支持 rgb, rgba, #fff, #ffffff, named-color
     * @param v
     * @returns {*}
     * @constructor
     */
    color: function(v) {
      v = (v || '').toString()

      if (v.match(REGEXP_COLOR_LONG)) {
        return { value: v }
      }

      if (v.match(REGEXP_COLOR_SHORT)) {
        // 如果是#XXX，则转换为#XXXXXX
        return {
          value: '#' + v[1] + v[1] + v[2] + v[2] + v[3] + v[3],
          reason: function reason(k, v, result) {
            return 'NOTE: 颜色值 `' + v + '` 转换为 `' + result + '`'
          }
        }
      }

      if (colorNames.get(v)) {
        // 如果颜色值为颜色名字符串
        return {
          value: colorNames.get(v),
          reason: function reason(k, v, result) {
            return 'NOTE: 颜色值 `' + v + '` 转换为 `' + result + '`'
          }
        }
      }

      // rgb/rgbag格式颜色处理
      let arrColor
      let r, g, b, a

      arrColor = REGEXP_COLOR_RGB.exec(v)
      if (arrColor) {
        r = parseInt(arrColor[1])
        g = parseInt(arrColor[2])
        b = parseInt(arrColor[3])
        if (r >= 0 && r <= 255 && g >= 0 && g <= 255 && b >= 0 && b <= 255) {
          return { value: 'rgb(' + [r, g, b].join(',') + ')' }
        }
      }

      arrColor = REGEXP_COLOR_RGBA.exec(v)
      if (arrColor) {
        r = parseInt(arrColor[1])
        g = parseInt(arrColor[2])
        b = parseInt(arrColor[3])
        a = parseFloat(arrColor[4])
        if (r >= 0 && r <= 255 && g >= 0 && g <= 255 && b >= 0 && b <= 255 && a >= 0 && a <= 1) {
          return { value: 'rgba(' + [r, g, b, a].join(',') + ')' }
        }
      }
      let h, s, l
      arrColor = REGEXP_COLOR_HSL.exec(v) || REGEXP_COLOR_HSLA.exec(v)
      if (arrColor) {
        h = parseInt(arrColor[1])
        s = parseInt(arrColor[2])
        l = parseInt(arrColor[3])
        a = parseFloat(arrColor[4])
        if (h >= 0 && h <= 360 && s >= 0 && s <= 100 && l >= 0 && l <= 100) {
          if (a >= 0 && a <= 1) {
            return { value: `hsla(${h},${s}%,${l}%,${a})` }
          }
          return { value: `hsl(${h},${s}%,${l}%)` }
        }
      }
      // 透明色
      if (v === 'transparent') {
        return { value: 'rgba(0,0,0,0)' }
      }

      // 无效颜色值
      return {
        value: null,
        reason: function reason(k, v, result) {
          return 'ERROR: 属性`' + $hyphenate$1(k) + '` 的颜色值 `' + v + '` 无效`'
        }
      }
    },
    /**
     * 整数/浮点数校验
     * @param v
     * @returns {*}
     */
    number: function(v) {
      v = (v || '').toString()
      const match = v.match(REGEXP_NUMBER)

      if (match && !match[1]) {
        return { value: parseFloat(v) }
      }

      return {
        value: null,
        reason: function reason(k, v, result) {
          return 'ERROR: 属性`' + $hyphenate$1(k) + '` 的值 `' + v + '` 无效 ` (仅支持数值)'
        }
      }
    },
    /**
     * 整数校验
     * @param v
     * @returns {*}
     */
    integer: function(v) {
      v = (v || '').toString()

      if (v.match(REGEXP_INT)) {
        return { value: parseInt(v, 10) }
      }

      return {
        value: null,
        reason: function reason(k, v, result) {
          return 'ERROR: 属性`' + $hyphenate$1(k) + '` 的值 `' + v + '` 无效 ` (仅支持整数)'
        }
      }
    },
    /**
     * url校验
     * @param v
     * @returns {*}
     */
    url: function(v) {
      v = (v || '').toString().trim()
      if (v.match(/^none$/i)) {
        return { value: 'none' }
      }

      const url = REGEXP_URL.exec(v)
      if (url) {
        return { value: url[1] }
      }

      return {
        value: null,
        reason: function reason(k, v, result) {
          return 'WARN: 属性`' + $hyphenate$1(k) + '` 的值 `' + v + '` 必须是 none 或者 url(...)'
        }
      }
    },

    /**
     * 命名校验
     * @param v
     * @returns {*}
     */
    name: function(v) {
      v = (v || '').toString()
      if (v.match(REGEXP_NAME)) {
        return { value: v }
      }

      return {
        value: null,
        reason: function reason(k, v, result) {
          return 'ERROR: 属性`' + $hyphenate$1(k) + '` 的值 `' + v + '` 格式不正确'
        }
      }
    },

    /**
     * 枚举值校验
     * @param list
     * @param v
     * @returns {*}
     */
    enum: function(list, v) {
      const index = list.indexOf(v)
      if (index > 0) {
        return { value: v }
      }
      if (index === 0) {
        return {
          value: v,
          reason: function reason(k, v, result) {
            return 'NOTE:  属性`' + $hyphenate$1(k) + '` 的值 `' + v + '` 是缺省值(可以忽略不写)'
          }
        }
      } else {
        return {
          value: null,
          reason: function reason(k, v, result) {
            return (
              'ERROR: 属性`' +
              $hyphenate$1(k) +
              '` 的值 `' +
              v +
              '` 无效 ` (有效枚举值为: `' +
              list.join('`|`') +
              '`)'
            )
          }
        }
      }
    },

    /**
     * 数组长度值校验, 包括padding, margin, border-width
     * @param v
     * @param units 支持的单位
     * @returns {*}
     * @constructor
     */
    arraylength: function(names, v, units) {
      v = (v || '').toString()
      // 空格分隔
      const items = v.split(/\s+/)

      if (items && items.length <= 4) {
        // logType为当前日志类型在logTypes数组对应的下标
        const values = []
        let result
        const logs = []
        let logType = 0

        items.forEach((it, index) => {
          result = validator.length(it, units)

          // 如果校验成功，则保存转换后的属性值
          if (isValidValue(result.value)) {
            values.push(result.value)
          }

          if (result.reason) {
            let str = result.reason(index.toString(), it, result.value)
            // 提取日志类型
            const match = str.match(/^([A-Z]+):/)

            if (match) {
              const idx = logTypes.indexOf(match[1])
              if (logType < logTypes.indexOf(match[1])) {
                logType = idx
              }
              str = str.replace(match[0], '').trim()
            }
            logs.push(str)
          }
        })

        return {
          value: logType < 2 ? splitAttr(names, values) : null,
          reason:
            logs.length > 0
              ? function reason(k, v, result) {
                  return (
                    logTypes[logType] +
                    ': 属性`' +
                    $hyphenate$1(k) +
                    '` 的值 `' +
                    v +
                    '` 存在问题: \n  ' +
                    logs.join('\n  ')
                  )
                }
              : null
        }
      }

      return {
        value: null,
        reason: function reason(k, v, result) {
          return 'ERROR: 属性`' + $hyphenate$1(k) + '` 的值 `' + v + '` 格式不正确'
        }
      }
    },

    /**
     * 数组颜色值校验, 包括border-color
     * @param v
     * @returns {*}
     * @constructor
     */
    arraycolor: function(names, v) {
      v = (v || '').toString()
      // 空格分隔
      const items = v.split(/\s+/)

      if (items && items.length <= 4) {
        // logType为当前日志类型在logTypes数组对应的下标
        const values = []
        let result
        const logs = []
        let logType = 0

        items.forEach((it, index) => {
          result = validator.color(it)

          // 如果校验成功，则保存转换后的属性值
          if (isValidValue(result.value)) {
            values.push(result.value)
          }

          if (result.reason) {
            let str = result.reason(index.toString(), it, result.value)
            // 提取日志类型
            const match = str.match(/^([A-Z]+):/)

            if (match) {
              const idx = logTypes.indexOf(match[1])
              if (logType < logTypes.indexOf(match[1])) {
                logType = idx
              }
              str = str.replace(match[0], '').trim()
            }
            logs.push(str)
          }
        })

        return {
          value: logType < 2 ? splitAttr(names, values) : null,
          reason:
            logs.length > 0
              ? function reason(k, v, result) {
                  return (
                    logTypes[logType] +
                    ': 属性`' +
                    $hyphenate$1(k) +
                    '` 的值 `' +
                    v +
                    '` 存在问题: \n  ' +
                    logs.join('\n  ')
                  )
                }
              : null
        }
      }

      return {
        value: null,
        reason: function reason(k, v, result) {
          return 'ERROR: 属性`' + $hyphenate$1(k) + '` 的值 `' + v + '` 格式不正确'
        }
      }
    },

    /**
     * border校验: border
     * @param v
     * @param units 支持的单位
     * @returns {*}
     * @constructor
     */
    border: function(v, units) {
      v = (v || '').toString()
      // 空格分隔
      const items = v.split(/\s+/)

      if (items && items.length <= 3) {
        // logType为当前日志类型在logTypes数组对应的下标，typeList记录简写属性对应的类别数组
        let values = []
        let result
        const logs = []
        let logType = 0
        const typeList = []
        let prevType = -1

        items.forEach((it, index) => {
          // 检测简写属性值的合法性，区分值为width、style和color的情况,如果校验成功，则保存转换后的属性值和类别
          if (isValidValue(validator.length(it, units).value)) {
            typeList.push(0)
            result = validatorMap.borderWidth(it)
            if (result.value instanceof Array) {
              values = values.concat(result.value)
            }
          } else if (isValidValue(validatorMap.borderStyle(it).value)) {
            typeList.push(1)
            result = validatorMap.borderStyle(it)
            values.push({
              n: 'borderStyle',
              v: it
            })
          } else if (isValidValue(validator.color(it).value)) {
            typeList.push(2)
            result = validatorMap.borderColor(it)
            if (result.value instanceof Array) {
              values = values.concat(result.value)
            }
          } else {
            result = {}
            logType = 2
            logs.push(
              '属性`' +
                index +
                '` 的值 `' +
                it +
                '` 存在问题: \n  不满足width、style和color的检验标准'
            )
          }

          if (result && result.reason) {
            let str = result.reason(index.toString(), it, result.value)
            // 提取日志类型
            const match = str.match(/^([A-Z]+):/)

            if (match) {
              const idx = logTypes.indexOf(match[1])
              if (logType < logTypes.indexOf(match[1])) {
                logType = idx
              }
              str = str.replace(match[0], '').trim()
            }
            logs.push(str)
          }
        })

        // 检测简写属性值中width、style和color的顺序是否符合标准
        typeList.forEach(it => {
          if (it > prevType) {
            prevType = it
          } else {
            logType = 2
            logs.push('必须按顺序设置属性width style color')
          }
        })

        return {
          value: logType < 2 ? values : null,
          reason:
            logs.length > 0
              ? function reason(k, v, result) {
                  return (
                    logTypes[logType] +
                    ': 属性`' +
                    $hyphenate$1(k) +
                    '` 的值 `' +
                    v +
                    '` 存在问题: \n  ' +
                    logs.join('\n  ')
                  )
                }
              : null
        }
      }

      return {
        value: null,
        reason: function reason(k, v, result) {
          return 'ERROR: 属性`' + $hyphenate$1(k) + '` 的值 `' + v + '` 格式不正确'
        }
      }
    },

    /**
     * display兼容性'block'校验
     * @param v
     * @returns {*}
     * @constructor
     */
    display: function(v) {
      v = (v || '').toString()
      const list = ['flex', 'none']
      const index = list.indexOf(v)
      if (index > 0) {
        return { value: v }
      }
      if (v === 'block') {
        return {
          value: 'flex',
          reason: function reason(k, v, result) {
            return (
              'ERROR: 属性`' +
              $hyphenate$1(k) +
              '` 的值 `' +
              v +
              '` 需修改为flex ` (有效枚举值为: `' +
              list.join('`|`') +
              '`)'
            )
          }
        }
      }
      if (index === 0) {
        return {
          value: v,
          // 关闭默认值的提示
          reason: false
        }
      } else {
        return {
          value: null,
          reason: function reason(k, v, result) {
            return (
              'ERROR: 属性`' +
              $hyphenate$1(k) +
              '` 的值 `' +
              v +
              '` 无效 ` (有效枚举值为: `' +
              list.join('`|`') +
              '`)'
            )
          }
        }
      }
    }
  }

  /**
   * 生成枚举类型校验函数
   * @param list
   * @returns {validator_enum}
   */
  function makeEnumValidator(list) {
    return validator.enum.bind(null, list)
  }

  /**
   * 生成指定类型的简写属性校验函数
   * @param type  简写属性校验函数类型
   * @param list  拆分后的样式名数组
   * @returns {validator_$type}
   */
  function makeAbbrAttrValidator(type, list) {
    return validator[type].bind(null, list)
  }

  // CSS属性校验器映射表
  const validatorMap = {
    // boxModel
    width: validator.length,
    height: validator.length,
    padding: makeAbbrAttrValidator('arraylength', [
      'paddingTop',
      'paddingRight',
      'paddingBottom',
      'paddingLeft'
    ]),
    paddingLeft: validator.length,
    paddingRight: validator.length,
    paddingTop: validator.length,
    paddingBottom: validator.length,
    margin: makeAbbrAttrValidator('arraylength', [
      'marginTop',
      'marginRight',
      'marginBottom',
      'marginLeft'
    ]),
    marginLeft: validator.length,
    marginRight: validator.length,
    marginTop: validator.length,
    marginBottom: validator.length,
    border: validator.border,
    borderWidth: makeAbbrAttrValidator('arraylength', [
      'borderTopWidth',
      'borderRightWidth',
      'borderBottomWidth',
      'borderLeftWidth'
    ]),
    borderLeftWidth: validator.length,
    borderTopWidth: validator.length,
    borderRightWidth: validator.length,
    borderBottomWidth: validator.length,
    borderColor: makeAbbrAttrValidator('arraycolor', [
      'borderTopColor',
      'borderRightColor',
      'borderBottomColor',
      'borderLeftColor'
    ]),
    borderLeftColor: validator.color,
    borderTopColor: validator.color,
    borderRightColor: validator.color,
    borderBottomColor: validator.color,
    borderStyle: makeEnumValidator(['solid', 'dotted', 'dashed']),
    borderRadius: validator.length,
    borderBottomLeftRadius: validator.length,
    borderBottomRightRadius: validator.length,
    borderTopLeftRadius: validator.length,
    borderTopRightRadius: validator.length,
    // flexbox
    flex: validator.number,
    flexGrow: validator.number,
    flexShrink: validator.number,
    flexBasis: validator.length,
    flexDirection: makeEnumValidator(['row', 'column']),
    flexWrap: makeEnumValidator(['nowrap', 'wrap', 'wrap-reverse']),
    justifyContent: makeEnumValidator(['flex-start', 'flex-end', 'center', 'space-between']),
    alignItems: makeEnumValidator(['stretch', 'flex-start', 'flex-end', 'center']),
    alignContent: makeEnumValidator([
      'stretch',
      'flex-start',
      'flex-end',
      'center',
      'space-between',
      'space-around'
    ]),
    // position
    position: makeEnumValidator(['none', 'fixed']),
    top: validator.length,
    bottom: validator.length,
    left: validator.length,
    right: validator.length,
    zIndex: validator.integer,
    // common
    opacity: validator.number,
    backgroundColor: validator.color,
    backgroundImage: validator.url,
    backgroundRepeat: makeEnumValidator(['no-repeat', 'repeat', 'repeat-x', 'repeat-y']),
    backgroundPosition: validator.position,
    display: validator.display,
    visibility: makeEnumValidator(['visible', 'hidden']),
    // text
    lines: validator.integer,
    color: validator.color,
    fontSize: validator.length,
    fontStyle: makeEnumValidator(['normal', 'italic']),
    fontWeight: makeEnumValidator(['normal', 'bold']),
    textDecoration: makeEnumValidator(['none', 'underline', 'line-through']),
    textAlign: makeEnumValidator(['left', 'center', 'right']),
    lineHeight: validator.length,
    textOverflow: makeEnumValidator(['clip', 'ellipsis']),
    // custom
    placeholderColor: validator.color,
    selectedColor: validator.color,
    textColor: validator.color,
    timeColor: validator.color,
    textHighlightColor: validator.color,
    strokeWidth: validator.length,
    progressColor: validator.color,
    resizeMode: makeEnumValidator(['cover', 'contain', 'stretch', 'center']),
    columns: validator.number,
    columnSpan: validator.number
  }

  /**
   * 校验CSS属性
   * @param name
   * @param value
   * @returns {{value: *, log: *}}
   */
  function validate(name, value) {
    let result, log
    const validator = validatorMap[name]

    if (typeof validator === 'function') {
      if (typeof value !== 'function') {
        result = validator(value)
      } else {
        // 如果样式值是函数，则跳过校验
        result = { value: value }
      }

      if (result.reason) {
        log = { reason: result.reason(name, value, result.value) }
      }
    } else {
      // 如果没有类型校验器, 未知样式
      result = { value: value }
      log = { reason: 'ERROR: 样式名 `' + $hyphenate$1(name) + '` 不支持' }
    }

    return {
      value: result.value instanceof Array ? result.value : [{ n: name, v: result.value }],
      log: log
    }
  }

  /**
   * 校验样式, 如果失败, value为undefined
   * @param name
   * @param value
   * @returns {{}}
   */
  function validateStyle(name, value) {
    const result = {}
    const valueTemp = []
    // 校验属性值
    const camelCasedName = $camelize$1(name)
    const subResult = validate(camelCasedName, value)

    subResult.value.forEach(item => {
      // 如果校验成功，则保存转换后的属性值
      if (isValidValue(item.v)) {
        valueTemp.push(item)
      }
    })

    if (valueTemp) {
      result.value = valueTemp
    }

    if (subResult.log) {
      result.log = subResult.log.reason
    }
    return result
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  /**
   * 删除DOCTYPE
   * @param html
   * @returns {string|XML}
   */
  function removeDOCTYPE(html) {
    return html
      .replace(/<\?xml.*\?>\n/, '')
      .replace(/<.*!doctype.*>\n/, '')
      .replace(/<.*!DOCTYPE.*>\n/, '')
  }

  /**
   * 标签映射
   * @type {Map<any, any>}
   */
  const tagMap = new Map([
    ['img', 'image'],
    ['p', 'text'],
    ['h1', 'text'],
    ['h2', 'text'],
    ['h3', 'text'],
    ['h4', 'text'],
    ['h5', 'text'],
    ['h6', 'text'],
    ['b', 'span'],
    ['strong', 'span'],
    ['i', 'span'],
    ['del', 'span'],
    ['article', 'div'],
    ['br', 'span']
  ])

  function xTag(tag) {
    const xtag = tagMap.get(tag)
    return xtag !== undefined ? xtag : tag
  }

  /**
   * 标签内建样式
   */
  const tagBuildinStyles = {
    div: {},
    h1: {
      fontSize: '60px',
      fontWeight: 'normal'
    },
    h2: {
      fontSize: '45px',
      fontWeight: 'normal'
    },
    h3: {
      fontWeight: 'normal',
      fontSize: '35px'
    },
    h4: {
      fontWeight: 'normal',
      fontSize: '30px'
    },
    h5: {
      fontWeight: 'normal',
      fontSize: '25px'
    },
    h6: {
      fontWeight: 'normal',
      fontSize: '20px'
    },
    b: {
      fontWeight: 'bold'
    },
    strong: {
      fontWeight: 'bold'
    },
    i: {
      fontStyle: 'italic'
    },
    a: {
      color: '#00BFFF'
    },
    del: {
      textDecoration: 'line-through'
    }
  }

  function xStyle(tag) {
    let style = {}
    if (tagBuildinStyles[tag]) {
      style = tagBuildinStyles[tag]
    }
    return style
  }

  /**
   * 标签内建样式
   */
  const tagBuildinAttrs = {
    br: {
      value: '\n'
    }
  }

  function xAttr(tag) {
    let attr = {}
    if (tagBuildinAttrs[tag]) {
      attr = tagBuildinAttrs[tag]
    }
    return attr
  }

  /**
   * HTML解析为AST
   * @param html
   * @param type
   * @returns {{type: string, children: Array, events: {}, classList: Array, attr: {}, style: {flex: number, flexDirection: string}}}
   */
  function compile(html, type, scenario) {
    const isx = type !== 'html'
    const usedForEdit = scenario === 'edit'
    // 处理字符串
    html = removeDOCTYPE(html)
    html = decode(html)
    // 生成node节点
    const bufArray = []
    const results = {
      type: 'div',
      children: [],
      events: {},
      classList: [],
      attr: {},
      style: {
        flex: 1,
        flexDirection: 'column'
      }
    }

    HtmlParser(html, {
      start: function(tag, attrs, unary) {
        const node = {
          type: isx ? tag : xTag(tag), // 标签映射
          children: [],
          events: {},
          classList: [],
          attr: isx ? {} : xAttr(tag),
          style: isx ? {} : xStyle(tag)
        }

        if (attrs.length !== 0) {
          node.attr = attrs.reduce(function(pre, attr) {
            const name = $camelize$1(attr.name)
            let value = attr.value
            if (name === 'class') {
              node.classList = value.split(/\s+/)
            } else if (name === 'style') {
              // 处理样式
              value.split(';').forEach(function(declarationText) {
                let k, v
                let pair = declarationText.trim().split(':')

                // 如果出现xxx:xxx:xxx的情况, 则将第一个:之后文本作为value
                if (pair.length > 2) {
                  pair[1] = pair.slice(1).join(':')
                  pair = pair.slice(0, 2)
                }

                if (pair.length === 2) {
                  k = pair[0].trim()
                  v = validateStyle(k, pair[1].trim())

                  if (v.value) {
                    v.value.forEach(t => {
                      // 如果校验成功，则保存转换后的属性值
                      if (isValidValue(t.v)) {
                        node.style[t.n] = t.v
                      }
                    })
                  }

                  if (v.log) {
                    console.warn('### App Parser ###', v.log)
                  }
                }
              })
            } else if (name === 'id') {
              node.id = value
            } else if (usedForEdit) {
              pre[name] = value
            } else {
              // 其余按普通属性处理
              if (value.match(/ /)) {
                // 如果包含空格, 则按数组处理
                value = value.split(' ')
              }

              if (pre[name]) {
                if (Array.isArray(pre[name])) {
                  pre[name].push(value)
                } else {
                  pre[name] = [pre[name], value]
                }
              } else {
                pre[name] = value
              }
            }
            return pre
          }, {})
        }

        // 临时记录source资源
        if (!isx && node.type === 'source') {
          results.source = node.attr.src
        }

        if (unary) {
          const parent = bufArray[0] || results
          if (parent.children === undefined) {
            parent.children = []
          }
          parent.children.push(node)
        } else {
          bufArray.unshift(node)
        }
      },
      end: function(tag) {
        const xtag = isx ? tag : xTag(tag)
        const node = bufArray.shift()
        if (node.type !== xtag) {
          console.error('### App Parser ### 结束标签不匹配:', tag)
        }

        // 当有缓存source资源时于于video补上src资源
        if (!isx && node.type === 'video' && results.source) {
          node.attr.src = results.source
          delete results.source
        }

        if (bufArray.length === 0) {
          results.children.push(node)
        } else {
          const parent = bufArray[0]
          if (parent.children === undefined) {
            parent.children = []
          }
          parent.children.push(node)
        }
      },
      text: function(text) {
        const trimtext = text.slice().replace(/\s*/, '')
        if (trimtext !== '') {
          const parent = bufArray[0]
          if (usedForEdit && (!parent || ['text', 'a', 'span'].indexOf(parent.type) === -1)) {
            // 纯文本
            const node = {
              type: 'text',
              children: [],
              events: {},
              classList: [],
              attr: {
                value: text
              },
              style: {}
            }

            const curr = parent || results
            curr.children.push(node)
          } else if (parent) {
            // 如果没有父节点则跳过
            if (['text', 'a'].indexOf(parent.type) !== -1) {
              const node = {
                type: 'span',
                children: [],
                events: {},
                classList: [],
                attr: {
                  value: text
                },
                style: {},
                // 标识：为text而存在
                polyfill: true
              }
              if (parent.children === undefined) {
                parent.children = []
              }
              parent.children.push(node)
            } else {
              // 其余标签统一按value处理
              parent.attr.value = text
            }
          }
        }
      },
      comment: function(text) {}
    })
    global.Env &&
      global.Env.logLevel === 'trace' &&
      console.trace(`### App Parser ### 解析${type}文本成功：${JSON.stringify(results)}`)
    return results
  }

  /**
   * 调试器：解析HTML字符串
   */
  function parseHTML(html) {
    // 解析
    const node = compile(html, '', 'edit')
    // 处理
    processNode(node)
    // 仅保留children
    const result = node.children || []

    return result
  }

  function processNode(node) {
    if (node.children) {
      if (['text', 'a'].indexOf(node.type) !== -1) {
        // 如果有children时，删除value属性
        if (node.children.length > 0) {
          delete node.attr.value
        }
        // 仅有polyfill的span节点时：删除span
        if (node.children.length === 1 && node.children[0].polyfill) {
          node.attr = Object.assign(node.attr, node.children[0].attr)
          node.children = []
        }
      }
      for (let i = 0, len = node.children.length; i < len; i++) {
        const childNode = node.children[i]
        processNode(childNode)
      }
    }
  }

  var Transfer = {
    compile,
    parseHTML
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  /**
   * 编译器入口
   * @param data
   * @param type
   * @returns {{node: *, nodes: Array, images: Array, imageUrls: Array}}
   */
  function compile$1(data, type) {
    data = data.trim()
    if (data === '') {
      data = '<div></div>'
    }
    return Transfer.compile(data, type)
  }

  var parser = {
    compile: compile$1,
    validateStyle,
    parseHTML: Transfer.parseHTML
  }

  /*
   * Copyright (C) 2018, hapjs.org. All rights reserved.
   */

  let _uniqueId$1 = 0

  // animIdCache 缓存用户设置的id，避免内部自增id与其重复
  const animIdCache = new Set()
  const _uniqueIdCache = new Set()

  // 用户设置id则复用，未设置则自增不复用
  function generateUniqueId(animId) {
    if (_uniqueIdCache.has(animId)) {
      console.warn(
        `### App Framework ### animate 输入参数 options.id 与内部 id 重复，可能导致动画实例事件回调出错，请更换其它字符串作为标识`
      )
    }
    let retId = animId
    if (animId) {
      animIdCache.add(animId)
    } else {
      retId = (_uniqueId$1--).toString()
      while (animIdCache.has(retId)) {
        retId = (_uniqueId$1--).toString()
      }
      _uniqueIdCache.add(retId)
    }
    return retId
  }

  class Animation {
    constructor(page, element, params = {}, animationModule) {
      const animId = params.options && params.options.id
      this.page = page
      this.commonParams = {
        componentId: element.ref,
        animationId: generateUniqueId(animId)
      }

      // 序列化Infinity时转换
      if (params.options && params.options.iterations === Infinity) {
        params.options.iterations = -1
      }

      this.initParams = Object.assign(params, this.commonParams)
      this.animationModule = animationModule
      this.animationModule.enable(this.initParams)
    }

    set finished(val) {
      console.warn(`### App Framework ### Animation Api: finished 是只读属性`)
    }

    get finished() {
      return this.animationModule.getFinished(this.commonParams)
    }

    set playState(state) {
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace(`### App Framework ### Animation Api: playState 是只读属性`)
    }

    get playState() {
      const currentPlayState = this.animationModule.getPlayState(this.commonParams)
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace(
          `### App Framework ### Animation Api: 获取 playState 状态为：${currentPlayState}`
        )
      return currentPlayState
    }

    set startTime(startTime = '') {
      Object.assign(this.commonParams, {
        startTime: startTime
      })
      this.animationModule.setStartTime(this.commonParams)
    }

    get startTime() {
      const startTime = this.animationModule.getStartTime(this.commonParams)
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace(`### App Framework ### Animation Api: 获取 startTime 状态为：${startTime}`)
      return startTime
    }

    set onfinish(callback) {
      this.animationModule.onfinish({
        componentId: this.commonParams.componentId,
        animationId: this.commonParams.animationId,
        success: () => {
          callback && callback()
        }
      })
    }

    get onfinish() {
      return () => {}
    }

    set oncancel(callback) {
      this.animationModule.oncancel({
        componentId: this.commonParams.componentId,
        animationId: this.commonParams.animationId,
        success: () => {
          callback && callback()
        }
      })
    }

    get oncancel() {
      return () => {}
    }

    play() {
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace('### App Framework ### Animation Api: 调用 play 方法')
      this.animationModule.play(this.commonParams)
    }

    finish() {
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace('### App Framework ### Animation Api: 调用 finish 方法')
      this.animationModule.finish(this.commonParams)
    }

    pause() {
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace('### App Framework ### Animation Api: 调用 pause 方法')
      this.animationModule.pause(this.commonParams)
    }

    cancel() {
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace('### App Framework ### Animation Api: 调用 cancel 方法')
      this.animationModule.cancel(this.commonParams)
    }

    reverse() {
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace('### App Framework ### Animation Api: 调用 reverse 方法')
      this.animationModule.reverse(this.commonParams)
    }
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  // 框架版本
  global.frameworkVersion = subversion.framework
  // 打包器版本（必须匹配）
  global.packagerVersion = subversion.packager

  // 将各层分别连接起来
  const glue = {}

  // 基本能力
  glue.platform = platform
  platform.init()
  glue.platform.exposeToNative(platform.exposure)

  // [REQPOOL-392]implement inspector session
  global.Session = platform.Session

  // 对外提供一种消息的通讯机制
  global.BroadcastChannel = platform.BroadcastChannel
  // 放置全局：方便判断
  global.ENGINE_TYPE = platform.ENGINE_TYPE

  // DOM能力
  glue.runtime = runtime
  runtime.init()
  glue.platform.exposeToNative(runtime.exposure)

  // 初始化dock并将dock的API绑定到全局
  glue.dock = dock
  dock.init(glue)
  glue.platform.exposeToNative(dock.exposure)

  // HTML解析
  glue.platform.defineBundle('parser', parser)
  // Canvas解析
  glue.platform.defineBundle('canvas')
  // animation
  glue.platform.defineBundle('animation', Animation)

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  /**
   * 定义属性
   * @param obj
   * @param key
   * @param val
   * @param enumerable
   */
  function $def(obj, key, val, enumerable) {
    Object.defineProperty(obj, key, {
      value: val,
      enumerable: !!enumerable,
      writable: true,
      configurable: true
    })
  }

  /**
   *
   * @param arr
   * @param item
   * @returns {*|Array.<T>}
   */
  function $remove(arr, item) {
    if (arr.length) {
      const index = arr.indexOf(item)
      if (index > -1) {
        return arr.splice(index, 1)
      }
    }
  }

  /**
   * 是否拥有属性
   */
  const _hasOwnProperty = Object.prototype.hasOwnProperty
  function $own(obj, key) {
    return _hasOwnProperty.call(obj, key)
  }

  /**
   * 绑定函数执行上下文
   * @param fn
   * @param ctx
   * @returns {Function}
   */
  function $bind(fn, ctx) {
    return function(a) {
      const l = arguments.length
      return l
        ? l > 1
          ? fn.apply(ctx, arguments) // 大于1个参数
          : fn.call(ctx, a) // 一个参数
        : fn.call(ctx) // 无参数
    }
  }

  /**
   * 添加data代理, 将data属性添加到vm中
   * @type {[*]}
   */
  const keyWords = ['$idx', '$item', '$evt']
  function $proxy(vm, sourceKey, key) {
    if (keyWords.indexOf(key) > -1 || !isReserved(key)) {
      // 不能以$或_开头
      Object.defineProperty(vm, key, {
        configurable: true,
        enumerable: true,
        get: function proxyGetter() {
          return vm[sourceKey] ? vm[sourceKey][key] : null
        },
        set: function proxySetter(val) {
          if (vm[sourceKey]) {
            vm[sourceKey][key] = val
          }
        }
      })
    } else {
      console.error(`### App Framework ### 页面数据属性名 '${key}' 非法, 属性名不能以$或_开头`)
    }
  }

  /**
   * 取消代理
   */
  function $unproxy(vm, key) {
    if (!isReserved(key) && vm) {
      delete vm[key]
    }
  }

  // 是否有proto属性
  const hasProto = '__proto__' in {}

  const arrayProto = Array.prototype
  const arrayMethods = Object.create(arrayProto)

  // 拦截数组的修改动作，发送事件通知
  ;['push', 'pop', 'shift', 'unshift', 'splice', 'sort', 'reverse'].forEach(function(method) {
    // 缓存原始函数实现
    const original = arrayProto[method]
    // 重新定义函数
    $def(arrayMethods, method, function mutator() {
      let i = arguments.length
      const args = new Array(i)
      while (i--) {
        args[i] = arguments[i]
      }
      const result = original.apply(this, args)
      const ob = this.__ob__
      let inserted
      switch (method) {
        case 'push':
          inserted = args
          break
        case 'unshift':
          inserted = args
          break
        case 'splice':
          inserted = args.slice(2)
          break
      }

      if (inserted) {
        ob.observeArray(inserted)
      }
      // 通知改变
      ob.dep.notify()
      return result
    })
  })

  /**
   * 修改指定位置的元素，返回被替换的元素
   */
  $def(arrayProto, '$set', function $set(index, val) {
    if (index >= this.length) {
      this.length = index + 1
    }
    return this.splice(index, 1, val)[0]
  })

  /**
   * 删除指定位置的元素
   */
  $def(arrayProto, '$remove', function $remove(index) {
    if (!this.length) {
      return
    }
    if (typeof index !== 'number') {
      index = this.indexOf(index)
    }
    if (index > -1) {
      this.splice(index, 1)
    }
  })

  // 检查是否是保留key值
  const reservedKeys = [
    'manifest',
    'config',
    'router',
    'data',
    'props',
    'style',
    'template',
    'computed'
  ]
  function isReservedKey(key) {
    return reservedKeys.indexOf(key) >= 0
  }

  // 检查是否是保留attr值
  const reservedAttrs = ['if', 'for', 'show', 'tid']
  function isReservedAttr(key) {
    return reservedAttrs.indexOf(key) >= 0
  }

  function getType(fn) {
    const match = fn && fn.toString().match(/^\s*function (\w+)/)
    return match ? match[1] : ''
  }

  function isSameType(a, b) {
    return getType(a) === getType(b)
  }

  function getTypeIndex(type, expectedTypes) {
    if (!Array.isArray(expectedTypes)) {
      return isSameType(expectedTypes, type) ? 0 : -1
    }
    for (let i = 0, len = expectedTypes.length; i < len; i++) {
      if (isSameType(expectedTypes[i], type)) {
        return i
      }
    }
    return -1
  }

  const simpleCheckRE = /^(String|Number|Boolean|Function|Symbol)$/
  function assertType(value, type) {
    global.Env &&
      global.Env.logLevel === 'trace' &&
      console.trace(`### App Framework ### 参数类型验证 ----`, value, type)

    let valid
    const expectedType = getType(type)

    if (simpleCheckRE.test(expectedType)) {
      const t = typeof value
      valid = t === expectedType.toLowerCase()
      // for primitive wrapper objects
      if (!valid && t === 'object') {
        valid = value instanceof type
      }
    } else if (expectedType === 'Object') {
      valid = isPlainObject(value)
    } else if (expectedType === 'Array') {
      valid = Array.isArray(value)
    } else {
      valid = value instanceof type
    }
    return {
      valid,
      expectedType
    }
  }

  function checkElement(params, key) {
    if (!isObject(params)) {
      return
    }

    // 禁止对DOM元素做数据驱动的改造
    if ($own(params, '_nodeType')) {
      throw new Error(`this.${key}新赋值对象${params}为DOM元素，禁止做数据驱动 `)
    }
    for (const i in params) {
      if (isObject(params[i]) && $own(params[i], '_nodeType')) {
        throw new Error(`this.${key}新赋值对象中${i}:${params[i]}为DOM元素，禁止做数据驱动`)
      } else if (isObject(params[i])) {
        checkElement(params[i], key)
      }
    }
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  var context = {}

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  /**
   * 创建指定类型的Element
   * @param vm
   * @param type
   * @returns {*|Object|Element}
   */
  function createElement(vm, type) {
    const doc = vm._page.doc
    return doc.createElement(type)
  }

  /**
   * 创建逻辑虚拟节点
   * @param vm
   * @param element
   * @returns {Object}
   */
  function createFragment(vm, element) {
    const doc = vm._page.doc
    const node = context.quickapp.runtime.helper.createFigment(doc)
    element.appendChild(node)
    return node
  }

  /**
   * 节点是否在文档中
   * @param node
   */
  function isNodeInDocument$1(node) {
    return context.quickapp.runtime.helper.isNodeInDocument(node)
  }

  /**
   * 添加节点
   * @param parent
   * @param child
   */
  function nodeAppendChild(parent, child) {
    return parent.appendChild(child)
  }

  /**
   * 从Dom中移除节点
   * @param vm
   * @param node 待移除的节点
   * @param preserved 是否保留（fragment）
   */
  function removeNode(node, preserved = false) {
    const parent = node.parentNode

    if (parent) {
      if (preserved) {
        const childNodeList = (node.childNodes || []).slice()
        for (let i = 0, len = childNodeList.length; i < len; i++) {
          node.removeChild(childNodeList[i])
        }
      } else {
        parent.removeChild(node)
      }
    }
  }

  /**
   * 绑定事件
   * @param node
   * @param args
   */
  function nodeAddEventListener(node, ...args) {
    node.addEventListener(...args)
  }

  /**
   * 触发事件
   */
  function fireEventWrap(el, evtName, evtHash, domChanges) {
    if (!el) {
      return
    }

    const evt = context.quickapp.runtime.helper.createEvent(evtName)
    Object.assign(evt, evtHash)
    global.Env &&
      global.Env.logLevel === 'trace' &&
      console.trace(
        `### App Framework ### fireEventWrap():事件(${evtName})的参数：${evtHash &&
          JSON.stringify(evtHash)}, ${domChanges && JSON.stringify(domChanges)}`
      )

    // 如果修改dom
    if (domChanges) {
      const attr = domChanges.attr || {}
      for (const name in attr) {
        context.quickapp.runtime.helper.setElementAttr(el, name, attr[name], true)
      }
      const style = domChanges.style || {}
      for (const name in style) {
        context.quickapp.runtime.helper.setElementStyle(el, name, style[name], true)
      }
    }

    return el.dispatchEvent(evt)
  }

  /**
   * 获取Element
   * @param document
   * @param ref
   */
  function getNodeByRef(document, ref) {
    return context.quickapp.runtime.helper.getDocumentNodeByRef(document, ref)
  }

  /**
   * 更新节点的属性，比如：attribute, style
   * @param node
   * @param name
   * @param args
   */
  function updateNodeProperties(node, name, ...args) {
    switch (name) {
      case 'prop':
        context.quickapp.runtime.helper.setElementProp(node, ...args)
        break
      case 'attr':
        context.quickapp.runtime.helper.setElementAttr(node, ...args)
        break
      case 'style':
        context.quickapp.runtime.helper.setElementStyle(node, ...args)
        break
      case 'styles':
        // 直接一次性更新style属性
        context.quickapp.runtime.helper.setElementStyles(node, ...args)
        break
      default:
        console.warn(`### App Framework ### updateNodeProperties() 未知的更新项：${name}`)
    }
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  /**
   * 通过key=id隔离并返回context
   * @param app
   * @param id
   * @return {string}
   */
  function contextCustomComponent(app, id) {
    const { customComponentMap } = app
    customComponentMap[id] = customComponentMap[id] || {}
    return customComponentMap[id]
  }

  /**
   * 注册自定义组件, 不能重复注册
   * @param app
   * @param inst
   * @param name
   * @param def
   */
  function defineCustomComponent(app, inst, name, def) {
    if (!app || !inst) {
      console.warn(`### App Framework ### defineCustomComponent() app或inst不存在`)
      return
    }
    const contextCustomComponentMap = contextCustomComponent(app, inst.id)
    if (contextCustomComponentMap[name]) {
      console.warn(`### App Framework ### 组件 (${name}) 被重复注册`)
    }
    contextCustomComponentMap[name] = def
  }

  /**
   * 获取依赖自定义组件
   * @param app
   * @param inst
   * @param name
   * @returns {*}
   */
  function requireCustomComponent(app, inst, name) {
    if (!app || !inst) {
      console.warn(`### App Framework ### requireCustomComponent() app或inst不存在`)
      return
    }

    const contextCustomComponentMap = contextCustomComponent(app, inst.id)
    const ret = contextCustomComponentMap[name]

    if (!ret) {
      if (app.id !== inst.id) {
        global.Env &&
          global.Env.logLevel === 'trace' &&
          console.trace(
            `### App Framework ### requireCustomComponent() 从APP中加载自定义组件：${name}`
          )
        return requireCustomComponent(app, app, name)
      }
    }

    return ret
  }

  /**
   * 删除自定义组件
   * @param app
   * @param inst
   * @param name
   */
  function removeCustomComponent(app, inst, name) {
    if (!app || !inst) {
      console.warn(`### App Framework ### removeCustomComponent() app或inst不存在`)
      return
    }
    const contextCustomComponentMap = contextCustomComponent(app, inst.id)
    if (name) {
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace(
          `### App Framework ### removeCustomComponent() 删除id=${
            inst.id
          }上注册的自定义组件(${name}):${!!contextCustomComponentMap[name]}`
        )
      delete contextCustomComponentMap[name]
    } else {
      for (const componentName in contextCustomComponentMap) {
        global.Env &&
          global.Env.logLevel === 'trace' &&
          console.trace(
            `### App Framework ### removeCustomComponent() 删除id=${
              inst.id
            }上注册的自定义组件(${componentName}):${!!contextCustomComponentMap[componentName]}`
          )
        delete contextCustomComponentMap[componentName]
      }

      app.customComponentMap[inst.id] = null
    }
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  /**
   * 触发DOM事件
   * @param page 页面对象
   * @param ref
   * @param type
   * @param e
   * @param domChanges 当前仅有attr的更新
   * @returns {*}
   */
  function fireEvent$1(page, ref, type, e, domChanges) {
    // 根据ref找到对应的element
    const el = getNodeByRef(page.doc, ref)
    if (el) {
      const result = fireEventWrap(el, type, e, { attr: domChanges })
      return result
    }
    return new Error(`fireEvent: 无效element索引 "${ref}"`)
  }

  function execPageTasks(page) {
    let hasActions = false

    if (page.doc && page.$valid && page.executor) {
      // 处理任务
      hasActions = page.executor.exec()
    }

    return hasActions
  }

  /**
   * 更新页面
   * @param page
   */
  function updatePageActions(page) {
    // 更新动作队列
    const hasActions = execPageTasks(page)
    // 发送更新结束标识
    if (hasActions) {
      page.doc.listener.updateFinish()
    }
  }

  function destroyPage$2(page) {
    // 如果有VM，销毁VM
    if (page.vm) {
      page.vm._destroyVm()
    }

    // 删除自定义组件的定义
    removeCustomComponent(page.app, page)

    page.executor && page.executor.reset()
    page.executor = null
    page.vm = null
  }

  /**
   * 销毁VM
   * @param {object} vm
   */
  function destroyVm(vm) {
    global.Env &&
      global.Env.logLevel === 'trace' &&
      console.trace(`### App Framework ### 销毁VM(${vm.__id__}:${vm._type})`)
    if (vm._destroyed) {
      return
    }

    // 延迟 VM 部分属性的销毁
    vm._root.$on('xlc:onDestroy', function() {
      delete vm._props
      delete vm._data
      delete vm._ids
    })
    vm.$emit('xlc:onDestroy')

    // 从父 VM 中删除引用
    if (vm._parent && vm._parent._childrenVms) {
      const childVms = vm._parent._childrenVms
      const childVmIndex = childVms.indexOf(vm)
      if (childVmIndex !== -1) {
        childVms.splice(childVmIndex, 1)
      }
    }

    delete vm._page
    delete vm._methods
    delete vm._options
    delete vm._parent
    delete vm._root
    delete vm._parentContext
    delete vm._attrs
    delete vm._parentElement
    delete vm._rootElement
    delete vm._slot

    // 移除parentWatchers
    if (vm._parentWatchers) {
      let watcherCount = vm._parentWatchers.length
      while (watcherCount--) {
        vm._parentWatchers[watcherCount].close()
      }
      delete vm._parentWatchers
    }

    // 移除watchers
    if (vm._watchers) {
      let watcherCount = vm._watchers.length
      while (watcherCount--) {
        vm._watchers[watcherCount].close()
      }
      delete vm._watchers
    }

    // 递归销毁所有子VM
    if (vm._childrenVms) {
      let vmCount = vm._childrenVms.length
      while (vmCount--) {
        destroyVm(vm._childrenVms[vmCount])
      }
    }

    delete vm._vmEvents
    vm._destroyed = true
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  // 唯一Id
  let _uid$1 = 0
  // 被观察的目标对象栈
  let _targetStack = []

  /**
   * 依赖管理
   */
  class XLinker {
    constructor() {
      this.id = _uid$1++ // 唯一id
      this.subs = [] // 订阅者watcher
      // global.Env && global.Env.logLevel === 'trace' && console.trace(`### App Framework ### 创建 XLinker ${this.id}`)
    }

    /**
     * 添加订阅者
     * @param sub
     */
    addSub(sub) {
      this.subs.push(sub)
    }

    /**
     * 移除订阅者
     * @param sub
     */
    removeSub(sub) {
      $remove(this.subs, sub)
    }

    /**
     * 建立watcher与dep的关联
     */
    depend() {
      if (XLinker.target) {
        // target是watcher
        XLinker.target.addLink(this)
      }
    }

    /**
     * 通知订阅者新值
     */
    notify() {
      // 顺序通知
      const subs = this.subs.slice()
      for (let i = 0, l = subs.length; i < l; i++) {
        subs[i].update()
      }
    }
  }

  // 当前被观察的目标对象
  XLinker.target = null

  XLinker.pushTarget = function(target) {
    if (XLinker.target) {
      _targetStack.push(XLinker.target)
    }
    XLinker.target = target
  }

  XLinker.popTarget = function() {
    XLinker.target = _targetStack.pop()
  }

  XLinker.resetTarget = function() {
    XLinker.target = null
    _targetStack = []
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  // 修改后的Array的方法列表
  const arrayKeys = Object.getOwnPropertyNames(arrayMethods)

  /**
   * 拦截目标对象的原型链
   * @param target
   * @param src
   */
  function protoArgment(target, src) {
    /* eslint-disable no-proto */
    target.__proto__ = src
    /* eslint-enable no-proto */
  }

  /**
   * 在目标对象上定义方法
   */
  function copyArgment(target, src, keys) {
    for (let i = 0, l = keys.length; i < l; i++) {
      const key = keys[i]
      $def(target, key, src[key])
    }
  }

  /**
   * 观察器，修改目标对象属性的set/get, 当属性修改时发送通知
   * @param value
   * @constructor
   */
  class XObserver {
    constructor(value) {
      this.value = value
      // global.Env && global.Env.logLevel === 'trace' && console.trace(`### App Framework ### 创建 XObserver----目标:`, JSON.stringify(value))

      this.dep = new XLinker()
      // 给被观察的对象添加一个'__ob__'属性
      $def(value, '__ob__', this)

      // 如果目标对象是数组，替换数组的方法
      if (Array.isArray(value)) {
        const aug = hasProto ? protoArgment : copyArgment
        aug(value, arrayMethods, arrayKeys)

        this.observeArray(value)
      } else {
        // 如果value是对象类型，则遍历属性
        this.walk(value)
      }
    }

    /**
     * 遍历对象属性，将属性转换为get/set(只能用于对象)
     * @param obj
     */
    walk(obj) {
      for (const key in obj) {
        this.convert(key, obj[key])
      }
    }

    /**
     * 给数组元素添加观察器
     * @param items
     */
    observeArray(items) {
      for (let i = 0, l = items.length; i < l; i++) {
        XObserver.$ob(items[i])
      }
    }

    /**
     * 将属性转换为get/set，当属性被访问或修改时发送事件
     * @param key
     * @param val
     */
    convert(key, val) {
      defineReactive(this.value, key, val)
    }

    /**
     * 关联vm
     * @param vm
     */
    addVm(vm) {
      ;(this.vms || (this.vms = [])).push(vm)
    }

    /**
     * 取消关联vm
     */
    removeVm(vm) {
      $remove(this.vms, vm)
    }
  }

  /**
   * 观察目标对象，返回观察器
   * @param value
   * @param vm
   * @returns {*}
   */
  XObserver.$ob = function(value, vm) {
    // <script>中导出的data只能是对象或者函数（返回值为对象）
    if (!isObject(value)) {
      return
    }

    let ob
    // 检查是否已经有观察器
    if ($own(value, '__ob__') && value.__ob__ instanceof XObserver) {
      ob = value.__ob__
    } else if (
      (Array.isArray(value) || isPlainObject(value)) &&
      Object.isExtensible(value) &&
      !value._isXVm
    ) {
      // 如果对象可观察，则创建观察器
      ob = new XObserver(value)
    }
    // 如果有VM,则关联
    if (ob && vm) {
      ob.addVm(vm) // 将vm添加到ob.vms数组中
    }
    return ob
  }

  /**
   * 递归式反馈
   * @param obj
   * @param key
   * @param val
   * @param customSetter
   */
  function defineReactive(obj, key, val, customSetter) {
    const dep = new XLinker()

    // 获取属性的元信息，跳过不可修改的属性
    const property = Object.getOwnPropertyDescriptor(obj, key)
    if (property && property.configurable === false) {
      return
    }

    // 获取属性当前的get和set函数
    const getter = property && property.get
    const setter = property && property.set

    // 属性值如果是对象的话，递归下去
    let childOb = XObserver.$ob(val)
    // global.Env && global.Env.logLevel === 'trace' && console.trace(`### App Framework ### 观察属性 ${key}`)

    Object.defineProperty(obj, key, {
      enumerable: true,
      configurable: true,
      get: function reactiveGetter() {
        // global.Env && global.Env.logLevel === 'trace' && console.trace(`### App Framework ### 调用被观察属性 Getter ${key}`)
        const value = getter ? getter.call(obj) : val

        // 如果有watcher（函数执行上下文），则与watcher建立联系
        if (XLinker.target) {
          dep.depend()

          if (childOb) {
            childOb.dep.depend()
          }
          // 如果是数组, 数组每个元素建立依赖
          if (Array.isArray(value)) {
            for (let e, i = 0, l = value.length; i < l; i++) {
              e = value[i]
              e && e.__ob__ && e.__ob__.dep.depend()
            }
          }
        }
        return value
      },
      set: function reactiveSetter(newVal) {
        // global.Env && global.Env.logLevel === 'trace' && console.trace(`### App Framework ### 调用被观察属性 Setter ${key}`)
        if (global.isRpkDebugMode()) {
          checkElement(newVal, key)
        }

        const value = getter ? getter.call(obj) : val
        if (newVal === value) {
          return
        }

        if (customSetter) {
          customSetter()
        }
        if (setter) {
          setter.call(obj, newVal)
        } else {
          val = newVal
        }
        // 为新值重新创建观察器
        childOb = XObserver.$ob(newVal)
        // 通知所有关联的watcher更新
        dep.notify()
      }
    })
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  let _uid$2 = 0

  /**
   * watcher解析表达式，收集依赖；当表达式的值改变时，触发回调；
   * @param vm
   * @param expOrFn
   * @param cb
   * @param options
   * @param options.sync {Boolean} 默认为异步
   * @param options.lazy {Boolean} 计算属性开启lazy模式，默认是false
   * @constructor
   */
  class XWatcher {
    constructor(vm, target, cb, options) {
      // 合并option属性
      if (options) {
        $extend(this, options)
      }

      this.sync = !!this.sync
      this.lazy = !!this.lazy
      this.dirty = this.lazy

      this.vm = vm
      this.vmGetter = global.isRpkDebugMode() ? this.proxy(vm) : vm
      vm._watchers.push(this)

      this.expression = target
      this.cb = cb
      this.id = ++_uid$2 // 唯一ID，用于批处理
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace(
          `### App Framework ### 创建 XWatcher ${this.id} ${this.expression.toString()}`
        )

      this.active = true

      this.links = []
      this.linkIds = new Set()
      this.newLinks = [] // 新添加的依赖（当expression执行时，会把其中使用到的变量（通过封装的getter函数）的link添加进来）
      this.newLinkIds = new Set() // 新添加的依赖的Id

      // 设置get函数
      if (typeof target === 'function') {
        this.getter = target
      }
      this.value = this.lazy ? undefined : this.get() // 计算初始值
    }

    proxy(vm) {
      return new Proxy(vm, {
        get(target, key) {
          const has = key in target
          const descriptor = Object.getOwnPropertyDescriptor(target, key)
          const hasGetter = has && descriptor && descriptor.get
          if (!hasGetter) {
            if (descriptor && descriptor.value && typeof descriptor.value === 'function');
            else if (has && !Object.hasOwnProperty.call(target, key));
            else if (typeof key !== 'symbol' && key[0] !== '_') {
              // 对象被Proxy代理后，原本访问[Symbol.toPrimitive]属性也会被劫持，即使该对象并未明确定义该属性
              // computed或者渲染watcher，则触发warn
              console.warn(`请确认VM的data/public/protected/private中定义了属性：${key}`)
            }
          }
          return target[key]
        }
      })
    }

    /**
     * 执行get函数，重新收集依赖
     * @returns {*}
     */
    get() {
      XLinker.pushTarget(this)
      // global.Env && global.Env.logLevel === 'trace' && console.trace(`### App Framework ### XLinker pushTarget ${this.id}`)
      const value = this.getter.call(this.vmGetter, this.vm)
      XLinker.popTarget()
      // global.Env && global.Env.logLevel === 'trace' && console.trace(`### App Framework ### XLinker popTarget ${this.id}`)
      this.clearLink()
      return value
    }

    /**
     * 添加依赖
     * @param link
     */
    addLink(link) {
      const id = link.id
      // global.Env && global.Env.logLevel === 'trace' && console.trace(`### App Framework ### 观察器添加依赖 [${id}]`)
      if (!this.newLinkIds.has(id)) {
        this.newLinkIds.add(id)
        this.newLinks.push(link)
        // 如果之前没有依赖关系，则建立关系
        if (!this.linkIds.has(id)) {
          link.addSub(this) // 因为dep.subs是个数组，防止重复添加
        }
      }
    }

    /**
     * 清空依赖
     */
    clearLink() {
      let i = this.links.length
      // 解除双向依赖关系
      while (i--) {
        const link = this.links[i]
        if (!this.newLinkIds.has(link.id)) {
          link.removeSub(this)
        }
      }

      // 将新依赖Id列表体替换旧的
      let tmp = this.linkIds
      this.linkIds = this.newLinkIds
      this.newLinkIds = tmp
      this.newLinkIds.clear()

      tmp = this.links
      this.links = this.newLinks
      this.newLinks = tmp
      this.newLinks.length = 0
    }

    /**
     * 当依赖者改变时被调用
     */
    update() {
      if (this.lazy) {
        this.dirty = true
      } else if (this.sync) {
        this.run()
      } else {
        if (this.vm && this.vm._page && this.vm._page.$valid) {
          const executor = this.vm._page.executor
          executor.join(this)
        }
      }
    }

    evaluate() {
      this.value = this.get()
      this.dirty = false
    }

    run() {
      if (this.active) {
        // 重新计算calc
        const value = this.get()
        // 如果结果发生变化，或者结果是对象
        if (value !== this.value || isObject(value)) {
          // 设置新值
          const oldValue = this.value
          this.value = value
          // 调用回调
          this.cb.call(this.vm, value, oldValue)
        }
      }
    }

    /**
     * 批量添加依赖
     */
    depend() {
      let i = this.links.length
      while (i--) {
        this.links[i].depend()
      }
    }

    /**
     *  从依赖项的订阅者列表中移除
     */
    close() {
      if (this.active) {
        $remove(this.vm._watchers, this)
        let i = this.links.length
        while (i--) {
          this.links[i].removeSub(this)
        }
        this.active = false
        this.vm = this.vmGetter = this.cb = this.value = null
      }
    }
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  /**
   * 应用原生组件的option
   * @param template
   */
  function applyNativeComponentOptions(template) {
    // 根据模板类型，找到原生组件的option
    const { type } = template
    const options = context.quickapp.runtime.helper.getComponentDefaultOptions(type)

    // 如果option是对象，则提取option属性加入template中
    // 如果template中属性已经存在则跳过
    if (typeof options === 'object') {
      for (const key in options) {
        if (template[key] == null) {
          template[key] = options[key]
        }
        // 如果属性值是对象，则继续
        // TODO： 改为递归处理（目前暂时支持2层）
        else if ($typeof(template[key]) === 'object' && $typeof(options[key]) === 'object') {
          for (const subkey in options[key]) {
            if (template[key][subkey] == null) {
              template[key][subkey] = options[key][subkey]
            }
          }
        }
      }
    }
  }

  /**
   * 绑定属性、事件等给元素节点
   * @param vm
   * @param el
   * @param template
   */
  function bindElement(vm, el, template) {
    // 如果template节点有id的属性的话，在vm._ids中建立映射表
    setVmId(vm, el, template.attr.id, vm)
    setAttr(vm, el, template.attr)
    setAttrClass(vm, el, template.classList)
    setAttrStyle(vm, el, template.style)

    bindEvents(vm, el, template.events) // 绑定事件
  }

  /**
   *
   * @param vm
   * @param subVm
   * @param template
   * @param repeatItem for循环定义
   */
  function bindSubVm(vm, subVm, template, repeatItem) {
    global.Env &&
      global.Env.logLevel === 'trace' &&
      console.trace(`### App Framework ### 处理自定义组件 ----`, JSON.stringify(template))

    subVm = subVm || {}
    template = template || {}

    // 组件的定义信息，包含<template><style><script>部分
    const options = subVm._options || {}

    mergeEvents(template.events, vm, subVm)

    if (template.attr.hasOwnProperty('$listeners')) {
      vm._$listeners.forEach(_listener => {
        mergeListeners(_listener, vm, subVm)
      })
      delete template.attr.$listeners
    }

    const repeatItemAttr = isPlainObject(repeatItem) ? repeatItem : {}
    Object.assign(subVm._attrs, template.attr || {}, repeatItemAttr)

    if (template.attr.hasOwnProperty('$attrs')) {
      // 各层级组件有重名变量时
      for (const key in subVm._attrs) {
        if (vm.__$attrs__[key]) {
          const targetAttr = {
            targetFunction: subVm._attrs[key],
            targetVm: vm
          }
          vm.__$attrs__[key] = targetAttr
        }
      }
      Object.assign(subVm._attrs, vm.__$attrs__)
      delete subVm._attrs.$attrs
    }

    mergeProps(subVm._attrs, options.props, vm, subVm)
    mergeAttrs(subVm._attrs, options.props, vm, subVm)
  }

  /**
   * 合并样式从vm到subVm
   * @param vm
   * @param subVm
   * @param template
   * @param target
   */
  function postBindSubVm(vm, subVm, template, dest = {}) {
    // 将组件实例中定义的class和style属性添加到subvm中
    mergeStyle(template, vm, subVm)

    // 绑定show指令
    if (template.attr && template.attr.hasOwnProperty('show') && subVm._rootElement) {
      bindDir(vm, subVm._rootElement, 'attr', { show: template.attr.show })
    }

    // dest是subVm的父doc节点
    if (dest.childNodes) {
      // 如果dest有子节点，则subVm对应的doc节点是队列的末尾
      dest.childNodes[dest.childNodes.length - 1]._vm = subVm
    } else {
      dest._vm = subVm
    }
  }

  /**
   * 将<template>中定义的属性绑定到subvm上
   * @param attrs
   * @param props
   * @param vm
   * @param subVm
   */
  function mergeProps(attrs, props, vm, subVm) {
    if (!attrs) {
      return
    }
    if (attrs && !props) {
      console.warn(
        `### App Framework ### 组件${subVm._type} 中无props属性，放弃属性校验；推荐增加props属性`
      )
      for (const key in attrs) {
        let targetFunction
        if (attrs[key] && attrs[key].targetFunction) {
          targetFunction =
            typeof attrs[key].targetFunction === 'function'
              ? attrs[key].targetFunction.bind(attrs[key].targetVm)
              : attrs[key].targetFunction
        } else {
          targetFunction = attrs[key]
        }
        initProps(key, targetFunction, vm, subVm, false)
      }
    } else {
      for (const key in props) {
        const absent = !attrs.hasOwnProperty(key)
        let targetFunction
        if (attrs[key] && attrs[key].targetFunction) {
          targetFunction =
            typeof attrs[key].targetFunction === 'function'
              ? attrs[key].targetFunction.bind(attrs[key].targetVm)
              : attrs[key].targetFunction
        } else {
          targetFunction = attrs[key]
        }
        initProps(key, targetFunction, vm, subVm, absent, props[key])
      }
    }
  }

  /**
   * 初始化props值
   * @param key
   * @param value
   * @param vm
   * @param subVm
   */
  function initProps(key, value, vm, subVm, absent, prop) {
    const _props = subVm._props

    if (isReservedAttr(key)) {
      console.warn(
        `### App Framework ### 组件${subVm._type}中属性 '${key}' 是保留字, 可能会导致应用运行异常`
      )
    }
    if (typeof value === 'function') {
      ;(function() {
        // 标识：更新子组件
        let isUpdatingChildComponent = false
        // 如果属性是函数，则添加watch，当属性改变时，修改当前vm的属性值
        const watcher = watch(vm, value, function(v) {
          isUpdatingChildComponent = true
          _props[key] = validateProp(key, v, absent, prop, subVm)
          isUpdatingChildComponent = false
        })
        subVm._parentWatchers.push(watcher)

        const watcherValue = validateProp(key, watcher.value, absent, prop, subVm)
        defineReactive(_props, key, watcherValue, () => {
          if (!isUpdatingChildComponent) {
            console.error(
              `### App Framework ### 组件${subVm._type} 禁止修改props中的：${key}!如需改变，请额外在data中使用另一个名称声明`
            )
          }
        })
      })()
    } else {
      value = validateProp(key, value, absent, prop, subVm)
      defineReactive(_props, key, value, () => {
        console.error(
          `### App Framework ### 组件${subVm._type} 禁止修改props中的：${key}!如需改变，请额外在data中使用另一个名称声明`
        )
      })
    }
    // 代理props
    $proxy(subVm, '_props', key)
  }

  /**
   * 验证prop
   * @param key
   * @param value
   * @param absent
   * @param prop
   * @returns {*}
   */
  function validateProp(key, value, absent, prop, subVm) {
    if (prop === undefined) {
      return value
    }
    // boolean casting
    const booleanIndex = getTypeIndex(Boolean, prop.type)
    if (booleanIndex > -1) {
      if (absent && !prop.hasOwnProperty('default')) {
        value = false
      } else if (value === '' || value === $hyphenate(key)) {
        // only cast empty string / same name to boolean if
        // boolean has higher priority
        const stringIndex = getTypeIndex(String, prop.type)
        if (stringIndex < 0 || booleanIndex < stringIndex) {
          value = true
        }
      }
    }
    // check default value
    if (value === undefined && prop.hasOwnProperty('default')) {
      if (typeof prop.default === 'function' && getType(prop.type) !== 'Function') {
        value = prop.default.call(subVm)
      } else {
        value = prop.default
      }
    }

    assertProp(key, value, absent, prop, subVm)
    return value
  }

  /**
   * 验证prop是否有效
   * @param value
   * @param prop
   */
  function assertProp(key, value, absent, prop, subVm) {
    if (!prop.required && value == null) {
      return
    }
    if (prop.required && absent) {
      console.error(`### App Framework ### 组件${subVm._type} props中的：${key} 是必填字段`)
      return
    }

    let type = prop.type
    let valid = !type
    const expectedTypes = []

    if (type) {
      if (!Array.isArray(type)) {
        type = [type]
      }
      for (let i = 0; i < type.length && !valid; i++) {
        const assertedType = assertType(value, type[i])
        expectedTypes.push(assertedType.expectedType)
        valid = assertedType.valid
      }
    }
    if (!valid) {
      console.error(
        `### App Framework ### 组件${
          subVm._type
        } props中的：${key} type类型验证失败，期望类型为${expectedTypes.join(', ')}`
      )
      return
    }

    const validator = prop.validator
    if (validator && typeof validator === 'function' && !validator(value)) {
      console.error(`### App Framework ### 组件${subVm._type} props中的：${key} validator验证失败`)
    }
  }

  /**
   * 将<template>中定义的未被props接收的属性绑定到$attrs上
   * @param attrs
   * @param props
   * @param vm
   * @param subVm
   */
  function mergeAttrs(attrs, props, vm, subVm) {
    if (!attrs) {
      return
    }
    const reservedAttr = ['id', 'tid']
    for (const key in attrs) {
      // props未定义或props已定义但不包含该变量
      if (!props || (!props.hasOwnProperty(key) && reservedAttr.indexOf(key) === -1)) {
        // targetVm 和 targetFunction 用来确保响应式数据更新正确
        let targetFunction
        if (attrs[key].targetFunction) {
          targetFunction =
            typeof attrs[key].targetFunction === 'function'
              ? attrs[key].targetFunction.bind(attrs[key].targetVm)
              : attrs[key].targetFunction
        } else {
          targetFunction = attrs[key]
        }
        initAttrs(key, targetFunction, vm, subVm)
        if (props && reservedAttr.indexOf(key) === -1) {
          console.warn(
            `### App Framework ### 组件${subVm._type} 属性'${key}'未在props定义，可通过 $attrs 访问 `
          )
        }
      }
    }
  }

  /**
   * 初始化$attrs值
   * @param key
   * @param value
   * @param vm
   * @param subVm
   */
  function initAttrs(key, value, vm, subVm, props) {
    const targetAttr = {
      targetFunction: value,
      targetVm: vm
    }
    subVm.__$attrs__[key] = targetAttr
    subVm._$attrs[key] = value
    const _$attrs = subVm._$attrs

    if (isReservedAttr(key)) {
      console.warn(
        `### App Framework ### 组件${subVm._type}中属性 '${key}' 是保留字, 可能会导致应用运行异常`
      )
    }
    if (typeof value === 'function') {
      ;(function() {
        const watcher = watch(vm, value, function(v) {
          _$attrs[key] = v
        })
        subVm._parentWatchers.push(watcher)
        defineReactive(_$attrs, key, watcher.value)
      })()
    } else {
      defineReactive(_$attrs, key, value)
    }
  }

  /**
   * 将<template>组件实例的內联样式付给subVm对应的doc节点(覆盖旧值)
   * @param template
   * @param vm
   * @param subVm
   */
  function mergeStyle(template, vm, subVm) {
    mergeAttrClass(template.classList, vm, subVm)
    mergeInlineStyle(template.style, vm, subVm)
  }

  /**
   * 绑定事件：响应父组件方法
   * @param events
   * @param vm
   * @param subVm
   */
  function mergeEvents(events, vm, subVm) {
    if (events) {
      subVm._$listeners.push({
        id: vm.__id__,
        events: events
      })
    }

    for (const key in events) {
      const parentMethodName = events[key]
      subVm.$on($camelize(key), function(...args) {
        if (vm && vm[parentMethodName] && typeof vm[parentMethodName] === 'function') {
          vm[parentMethodName](...args)
        } else if (typeof parentMethodName === 'function') {
          parentMethodName.apply(vm, args)
        } else {
          console.warn(
            `### App Framework ### 子组件: ${subVm._type} 绑定了父组件不存在的方法：'${parentMethodName}'`
          )
        }
      })
    }
  }

  /**
   * 绑定事件：响应除父组件外的高阶组件方法
   * @param _listener 对应vm.__id__的组件中绑定的事件
   * @param vm
   * @param subVm
   */
  function mergeListeners(_listener, vm, subVm) {
    subVm._$listeners.push(_listener)

    const events = _listener.events
    const vmId = _listener.id
    for (const key in events) {
      const parentMethodName = events[key]
      subVm.$on($camelize(key), function(...args) {
        let curVm = vm
        let hasMethod = false
        // 保证冒泡向上触发各vm的同名事件。使用__id__保证精准触发对应vm的事件
        while ((curVm = curVm._parent)) {
          if (
            curVm[parentMethodName] &&
            typeof curVm[parentMethodName] === 'function' &&
            vmId === curVm.__id__
          ) {
            curVm[parentMethodName](...args)
            hasMethod = true
          } else if (typeof parentMethodName === 'function' && vmId === curVm.__id__) {
            parentMethodName.apply(curVm, args)
            hasMethod = true
          }
        }
        // 冒泡至最上层节点仍未触发对应方法
        if (!hasMethod) {
          console.warn(
            `### App Framework ### 子组件: ${subVm._type} 绑定了高阶组件不存在的方法：'${parentMethodName}'`
          )
        }
      })
    }
  }

  /**
   * 将<template>组件实例的內联样式付给subVm对应的doc节点(覆盖旧值)
   * @param target
   * @param vm
   * @param subVm
   */
  function mergeInlineStyle(target, vm, subVm) {
    if (subVm._rootElement) {
      return
    }

    for (const key in target) {
      const value = target[key]
      if (typeof value === 'function') {
        // 如果是函数
        const watcher = watch(vm, value, function(v) {
          if (subVm._rootElement) {
            updateNodeProperties(subVm._rootElement, 'style', key, v)
          }
        })
        subVm._parentWatchers.push(watcher)
        const watcherValue = watcher.value
        updateNodeProperties(subVm._rootElement, 'style', key, watcherValue)
      } else {
        updateNodeProperties(subVm._rootElement, 'style', key, value)
      }
    }
  }

  /**
   * 将<template>组件实例的class样式付给subVm对应的doc节点(覆盖旧值)
   * @param classList
   * @param vm
   * @param subVm
   */
  function mergeAttrClass(classList, vm, subVm) {
    if (!subVm._rootElement) {
      // 确保subVm对应的doc节点已经创建
      return
    }

    if (!classList) {
      return
    }

    const el = subVm._rootElement

    // 必须是数组或函数
    if (typeof classList === 'function') {
      const watcher = watch(vm, classList, v => {
        updateNodeProperties(el, 'attr', 'class', v.join(' '))
      })
      subVm._parentWatchers.push(watcher)
      const watcherValue = watcher.value

      console.warn(
        `### App Framework ### 自定义组件，设置了class属性：${JSON.stringify(
          classList
        )}，使用父组件样式`
      )
      updateNodeProperties(el, 'prop', '_useParentStyle', true)
      updateNodeProperties(el, 'attr', 'class', watcherValue.join(' '))
    } else if (classList != null) {
      if ($typeof(classList) !== 'array') {
        return new Error(`mergeClassStyle: classList的类型不是数组----`, classList)
      }

      console.warn(
        `### App Framework ### 自定义组件，设置了class属性：${JSON.stringify(
          classList
        )}，使用父组件样式`
      )
      updateNodeProperties(el, 'prop', '_useParentStyle', true)
      updateNodeProperties(el, 'attr', 'class', classList.join(' '))
    }
  }

  /**
   * 设置元素Id, 必须唯一
   * @param vm
   * @param el
   * @param id  字符串或者函数
   * @param target
   */
  function setVmId(vm, el, id, target) {
    if (!id) {
      return
    }
    // 创建空对象，定义vm,el只读属性
    // 保存每个Id的对应的vm和element
    const map = Object.create(null)
    Object.defineProperties(map, {
      vm: {
        value: target,
        writable: false,
        configurable: false
      },
      element: {
        get: () => el || target._rootElement,
        configurable: false
      }
    })

    if (typeof id === 'function') {
      // 如果id是函数，则执行函数生成Id
      const handler = id
      id = handler.call(vm)
      if (id) {
        vm._ids[id] = map
      }
      // 修改元素Id不会引起渲染刷新
      const watcher = watch(
        vm,
        handler,
        newId => {
          // 旧id记录依然有效，除非被覆盖
          if (newId) {
            vm._ids[newId] = map
          }
        },
        el
      )

      // target是子组件时记录
      if (vm !== target && target._parentWatchers) {
        target._parentWatchers.push(watcher)
      }
    } else if (typeof id === 'string') {
      vm._ids[id] = map
    }
  }

  /**
   * 给element设置属性
   * @param vm
   * @param el
   * @param attr
   */
  function setAttr(vm, el, attr) {
    bindDir(vm, el, 'attr', attr)
  }

  /**
   * 给element添加class属性
   * @param vm
   * @param el
   * @param classList
   */
  function setAttrClass(vm, el, classList) {
    if (typeof classList !== 'function' && !Array.isArray(classList)) {
      // 必须是数组或函数
      return
    }

    // 类型为空
    if (Array.isArray(classList) && !classList.length) {
      return
    }

    if (typeof classList === 'function') {
      const watcher = watch(
        vm,
        classList,
        v => {
          updateNodeProperties(el, 'attr', 'class', v.join(' '))
        },
        el
      )
      const watcherValue = watcher.value
      updateNodeProperties(el, 'attr', 'class', watcherValue.join(' '))
    } else {
      updateNodeProperties(el, 'attr', 'class', classList.join(' '))
    }
  }

  /**
   * 给element绑定內联样式
   * @param vm
   * @param el
   * @param style
   */
  function setAttrStyle(vm, el, style) {
    if (typeof style === 'function') {
      bindDir(vm, el, 'styles', style)
    } else {
      bindDir(vm, el, 'style', style)
    }
  }

  /**
   * 绑定事件
   * @param vm
   * @param el
   * @param events
   */
  function bindEvents(vm, el, events) {
    if (!events) {
      return
    }

    const typeList = Object.keys(events)
    let i = typeList.length

    while (i--) {
      const type = typeList[i]
      let handler = events[type]
      if (typeof handler === 'string') {
        // 如果hander为字符串，则从vm的属性中查找对应的handler函数
        // 之前initState函数已经将自定义函数添加到vm中
        handler = vm[handler]
        if (!handler) {
          console.warn(`### App Framework ### 没有找到回调事件 "${type}".`)
        }
      }

      if (typeof handler === 'function') {
        global.Env &&
          global.Env.logLevel === 'trace' &&
          console.trace(`### App Framework ### 绑定回调事件---- ${type}`)
        nodeAddEventListener(el, type, $bind(handler, vm), false)
      } else {
        console.warn(`### App Framework ### 回调事件 "${type}" 必须是函数`)
      }
    }
  }

  /**
   *
   * @param vm
   * @param el
   * @param name  'attr' 或者 'style'
   * @param data  <template>中定义的属性或者style
   */
  function bindDir(vm, el, name, data) {
    if (!data) {
      return
    }

    if (typeof data === 'function') {
      bindKeys(vm, el, name, data)
      return
    }
    // 遍历数据项
    const keys = Object.keys(data)
    let i = keys.length
    while (i--) {
      const key = keys[i]
      const value = data[key]
      // 如果属性值中包含{{}},则在loader时转换为function
      if (typeof value === 'function') {
        bindKey(vm, el, name, key, value)
      } else {
        updateNodeProperties(el, name, key, value)
      }
    }
  }

  /**
   *
   * @param vm
   * @param el
   * @param name  属性类型 attr/style
   * @param key
   * @param calc  计算key值的函数
   */
  function bindKey(vm, el, name, key, calc) {
    // 创建函数观察器，返回当前计算值；回调函数只有计算结果变化时才被调用
    const watcher = watch(
      vm,
      calc,
      value => {
        updateNodeProperties(el, name, key, value)
      },
      el
    )
    const watcherValue = watcher.value

    // 设置初始化值
    updateNodeProperties(el, name, key, watcherValue)
  }

  /**
   *
   * @param vm
   * @param el
   * @param name  属性类型 styles
   * @param calc  计算key值的函数
   */
  function bindKeys(vm, el, name, calc) {
    // 创建函数观察器，返回当前计算值；回调函数只有计算结果变化时才被调用
    const watcher = watch(
      vm,
      calc,
      value => {
        updateNodeProperties(el, name, value)
      },
      el
    )
    const watcherValue = watcher.value

    updateNodeProperties(el, name, watcherValue)
  }

  /**
   * 观测一个计算函数，如果函数值改变，则执行回调
   * @param vm
   * @param calc 表达式函数
   * @param callback 回调
   * @param node 关联watcher
   * @returns {*} 返回当前计算的结果
   */
  function watch(vm, calc, callback, node) {
    const watcher = new XWatcher(vm, calc, function(value, oldValue) {
      // 如果函数计算结果是对象则始终认为值被改变，如果是基本类型则进行比较
      if (typeof value !== 'object' && value === oldValue) {
        // 如果值没改变则直接返回
        return
      }
      // 执行回调
      callback(value)
    })
    bindNodeWatcher(node, watcher)
    // 返回当前calc函数的计算结果
    return watcher
  }

  /**
   * 节点绑定Watcher
   * @param node
   * @param watcher
   */
  function bindNodeWatcher(node, watcher) {
    if (node) {
      node._bindWatcherList = node._bindWatcherList || []
      node._bindWatcherList.push(watcher)
    }
  }

  /**
   * 节点取消绑定Watcher
   * @param node
   */
  function unbindNodeWatcher(node) {
    if (node._bindWatcherList) {
      const nodeWatcherList = node._bindWatcherList
      for (let i = 0, len = nodeWatcherList.length; i < len; i++) {
        const nodeWatcher = nodeWatcherList[i]
        nodeWatcher.close()
      }
      delete node._bindWatcherList
    }
  }

  /**
   * 节点取消绑定Watcher
   * @param node
   * @param preserved
   */
  function unbindNode(node, preserved = false) {
    const childList = (node.childNodes || []).slice()
    for (let i = 0, len = childList.length; i < len; i++) {
      const childNode = childList[i]
      unbindNode(childNode, false)
    }

    if (!preserved) {
      unbindNodeWatcher(node)
      if (node._vm) {
        destroyVm(node._vm)
        delete node._vm
      }
    }
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  /**
   * 递归创建vm中的定义
   * @param vm
   */
  function build(vm) {
    // _options保存组件的tempalte,style和script定义
    const options = vm._options || {}
    const template = options.template || {}

    compile$2(vm, template, vm._parentElement)

    global.Env &&
      global.Env.logLevel === 'trace' &&
      console.trace(`### App Framework ### 组件Vm (${vm._type}) UI准备就绪`)
    vm.$emit('xlc:onReady')
    vm._ready = true
  }

  /**
   * 编译组件的template部分，创建对应的element节点
   * @param vm
   * @param target <template>定义
   * @param dest 父element
   * @param meta 上下文信息
   */
  function compile$2(vm, target, dest, meta) {
    const page = vm._page || {}
    const doc = page.doc || {}

    // lastSignal用来记录编译结果，如果等于-1,说明发生错误，停止编译
    if (page.lastSignal === -1) {
      return
    }

    // 兼容原来的template.id写法
    if (target.id) {
      target.attr.id = target.attr.id || target.id
    }

    meta = meta || {}

    // 如果是片段
    if (isFragmentNode(target)) {
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace(`### App Framework ### 编译 fragment 节点 ----`, JSON.stringify(target))
      compileFragment(vm, target, dest, meta)
      return
    }

    // 如果是slot
    if (isSlotNode(target)) {
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace('### App Framework ### 编译 slot 节点----', JSON.stringify(target))
      compileSlot(vm, target, dest)
      return
    }

    // 如果是component
    if (isComponentNode(target)) {
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace('### App Framework ### 编译 component 节点----', JSON.stringify(target))
      compileComponent(vm, target, dest)
      return
    }

    // 如果是block
    if (isBlockNode(target)) {
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace(`### App Framework ### 编译 block 节点 ----`, JSON.stringify(target))
      compileBlock(vm, target, dest, meta)
      return
    }

    // 允许for, if同时出现, 编译时先处理for展开dom, 然后处理if
    if (isForNode(target, meta)) {
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace('### App Framework ### 编译 for 节点----', JSON.stringify(target))
      if (dest === doc.documentElement) {
        global.Env &&
          global.Env.logLevel === 'trace' &&
          console.trace('### App Framework ### 根节点不支持 `for` 指令!')
      } else {
        compileFor(vm, target, dest)
      }
      return
    }

    // 处理带if属性的节点
    if (isIfNode(target, meta)) {
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace('### App Framework ### 编译 If 节点----', JSON.stringify(target))
      if (dest === doc.documentElement) {
        global.Env &&
          global.Env.logLevel === 'trace' &&
          console.trace(`### App Framework ### 根节点不支持 'if' 指令!`)
      } else {
        compileIf(vm, target, dest, meta)
      }
      return
    }

    // 获取当前节点的组件类型
    const type = meta.type || target.type
    // 如果是自定义节点
    const component = isComposedNode(vm, type)
    if (component) {
      compileCustomComponent(vm, component, target, dest, type, meta)
      return
    }

    compileNativeComponent(vm, target, dest, type)
  }

  /**
   * 是否为block节点，用于for, if逻辑
   * @param target
   * @returns {boolean}
   */
  function isBlockNode(target) {
    return target.type === 'block'
  }

  /**
   * 是否为片段
   * @param target
   * @returns {boolean}
   */
  function isFragmentNode(target) {
    return Array.isArray(target)
  }

  /**
   * 是否为for节点
   * @param target
   * @param meta
   * @returns {boolean|*}
   */

  function isForNode(target, meta) {
    return !meta.hasOwnProperty('repeat') && target.repeat
  }

  /**
   * 是否为If节点(可隐藏)
   * @param target  <template>定义
   * @param meta
   * @returns {boolean|*}
   */
  function isIfNode(target, meta) {
    return !meta.hasOwnProperty('shown') && target.shown
  }

  /**
   * 是否为slot节点, 不能嵌套, 不支持if, for
   * @param target  <template>定义
   * @param meta
   * @returns {boolean|*}
   */
  function isSlotNode(target) {
    return target.type === 'slot'
  }

  /**
   * 是否为component节点, 不能嵌套, 不支持if, for
   * @param {*} target
   */
  function isComponentNode(target) {
    return target.type === 'component'
  }

  /**
   * 是否为richtext节点, 不能嵌套
   * @param target  <template>定义
   * @param meta
   * @returns {boolean|*}
   */
  function isRichTextNode(target) {
    return target.type === 'richtext'
  }

  /**
   * 是否为组合节点
   * @param vm
   * @param type
   * @returns {*}
   */
  function isComposedNode(vm, type) {
    let component
    // 所有自定义组件均放入到customComponentMap中
    if (vm._page && vm._page.app) {
      component = requireCustomComponent(vm._page.app, vm._page, type)

      if (typeof component === 'function') {
        component()
        component = requireCustomComponent(vm._page.app, vm._page, type)
      }
    }
    return component
  }

  /**
   * 编译component节点
   * @param {Object} vm
   * @param {Object} target
   * @param {Object} dest
   */
  function compileComponent(vm, target, dest) {
    const fragment = createFragment(vm, dest)
    bindDynamicComponent(vm, target, fragment)
  }

  /**
   * 动态编译component对应的自定义组件
   * @param {*} vm
   * @param {*} target
   * @param {*} fragment
   */
  function bindDynamicComponent(vm, target, fragment) {
    const componentName = watchFragment(vm, fragment, target.is, 'component', value => {
      if (!fragment) {
        return
      }
      removeNode$1(fragment, true)
      if (!value) {
        console.warn(`### App Framework ### component组件名称未定义`)
        return
      }
      const compTarget = Object.assign({}, target, {
        type: value
      })
      compile$2(vm, compTarget, fragment)
    })
    if (!componentName) {
      console.warn(`### App Framework ### component组件名称未定义`)
      return
    }
    const compTarget = Object.assign({}, target, {
      type: componentName
    })
    compile$2(vm, compTarget, fragment)
  }

  /**
   * 编译slot
   * @param {Object} vm - 组件vm
   * @param {Object} target - slot 节点的内容
   * @param {Object} dest - 父级element
   */
  function compileSlot(vm, target, dest) {
    // TODO: 目前仅支持一个无名slot, 以后支持多个slot(通过name区分)
    const fragment = createFragment(vm, dest)
    // 检查slot是否包含content事件
    if (target.attr && target.attr.content) {
      const content = target.attr.content

      let render = null
      if (typeof content === 'string') {
        // 查找render函数
        render = vm[content]
        if (typeof render !== 'function') {
          global.Env &&
            global.Env.logLevel === 'trace' &&
            console.trace(
              `### App Framework ### slot的 content属性 ${content} 有误， 找不到对应的render函数 `
            )
          render = null
        }
      } else if (typeof content === 'function') {
        render = content
      } else {
        global.Env &&
          global.Env.logLevel === 'trace' &&
          console.trace(`### App Framework ### slot的 content属性 ${content} 无效`)
      }

      if (render) {
        // 绑定子节点函数
        target.children = []
        target.__render = render
        bindSlotRender(vm, target, fragment)
      }
    } else if (vm._slot) {
      // 父级Vm或者for指令上下文
      const parentContext = vm._parentContext
      const name = (target.attr && target.attr.name != null && target.attr.name) || 'default'

      const dynamicContent = Object.assign({}, vm._slot.template, {
        children: vm._slot.namedSlotCache[name] || []
      })

      const slotInfo = {
        fragment,
        defaultContent: target,
        dynamicContent
      }
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace(`### App Framework ### 自定义组件${vm._type}, 校验 slot 的内容`)
      validateSlotContent(vm, parentContext, vm._type, slotInfo)
    }
  }

  /**
   * 校验自定义组件 slot 的内容：动态内容存在直接子节点时，编译动态内容；否则编译默认内容
   * @param {Object} vm - 组件vm
   * @param {Object} parentVm - 父级Vm
   * @param {string} name - 组件名称
   * @param {Object} slotInfo
   * @param {Object} slotInfo.fragment - slot 节点
   * @param {Object} slotInfo.dynamicContent - slot 动态内容
   * @param {Object} slotInfo.defaultContent - slot 默认内容
   */
  function validateSlotContent(vm, parentVm, name, slotInfo) {
    const fragment = slotInfo.fragment
    const dynamicContent = slotInfo.dynamicContent
    const defaultContent = slotInfo.defaultContent
    // 动态内容的直接子节点列表
    const dynamicChildren = (dynamicContent && dynamicContent.children) || []

    // 检测动态内容的静态（不含 if 和 for 属性）直接子节点
    const hasStaticChild = dynamicChildren.some(child => {
      return !child.shown && !child.repeat
    })
    if (hasStaticChild) {
      // 动态内容含静态直接子节点，直接使用动态内容
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace(
          `### App Framework ### 自定义组件 ${name} 编译动态内容 - ${JSON.stringify(
            dynamicContent
          )}`
        )
      if (parentVm && parentVm._rootElement) {
        // 动态节点使用父组件的样式
        fragment._styleObjectId = parentVm._rootElement._styleObjectId
      }
      compileChildren(parentVm, dynamicContent, fragment)
    } else if (dynamicChildren.length === 0) {
      // 动态内容无直接子节点，直接使用默认内容
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace(
          `### App Framework ### 自定义组件 ${name} 编译默认内容 - ${JSON.stringify(
            defaultContent
          )}`
        )
      compileChildren(vm, defaultContent, fragment)
    } else {
      // 动态内容是否存在直接子节点，由"节点 if 和 for 属性绑定的表达式"决定
      const exps = []
      dynamicChildren.forEach((child, index) => {
        // 收集"节点 if 和 for 属性绑定的表达式"
        exps[index] = Object.create(null)
        if (child.repeat) {
          exps[index].for = child.repeat.exp || child.repeat
        }
        if (child.shown) {
          exps[index].if = child.shown
        }
      })
      // 定义观察"节点 if 和 for 属性绑定的表达式"的函数
      const calcExps = function() {
        const hasValidExp = exps.some(exp => {
          let ifResult = true
          let forResult = true
          if (exp.if) {
            ifResult = !!exp.if.call(parentVm)
          }
          if (exp.for) {
            forResult = exp.for.call(parentVm)
            forResult = !forResult || forResult.length > 0
          }
          return ifResult && forResult
        })
        return hasValidExp
      }
      // 通过"观察动态内容直接子节点的 if 和 for 属性绑定的表达式"，观察 slot 的动态内容
      bindSlotContent(vm, parentVm, calcExps, name, slotInfo)
    }
  }

  /**
   * 观察 slot 的动态内容，当动态内容更新时，更新 slot 内容
   * @param {Object} vm - 组件vm
   * @param {Object} parentVm - 页面vm
   * @param {Object} calc - 判断所有if,for子节点总状态的一个计算函数
   * @param {string} name - 组件名称
   * @param {Object} slotInfo
   * @param {Object} slotInfo.fragment - slot 节点
   * @param {Object} slotInfo.dynamicContent - slot 动态内容
   * @param {Object} slotInfo.defaultContent - slot 默认内容
   */
  function bindSlotContent(vm, parentVm, calc, name, slotInfo) {
    const fragment = slotInfo.fragment
    let useDynamic = watchFragment(parentVm, fragment, calc, 'slot', v => {
      if (!fragment) {
        return
      }
      useDynamic = v
      // 更新 slot 内容
      compileSlotContent(vm, parentVm, name, useDynamic, slotInfo)
    })
    // 初始化 slot 内容
    compileSlotContent(vm, parentVm, name, useDynamic, slotInfo)
  }

  /**
   * 编译 slot 内容
   * @param {Object} vm - 组件vm
   * @param {Object} parentVm - 页面vm
   * @param {string} name - 组件名称
   * @param {boolean} useDynamic - 是否使用动态内容
   * @param {Object} slotInfo
   * @param {Object} slotInfo.fragment - slot 节点
   * @param {Object} slotInfo.dynamicContent - slot 动态内容
   * @param {Object} slotInfo.defaultContent - slot 默认内容
   */
  function compileSlotContent(vm, parentVm, name, useDynamic, slotInfo) {
    const fragment = slotInfo.fragment
    const dynamicContent = slotInfo.dynamicContent
    const defaultContent = slotInfo.defaultContent
    if (useDynamic) {
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace(
          `### App Framework ### ${name} 组件 (${fragment.ref}) 编译动态内容 - ${JSON.stringify(
            dynamicContent
          )}`
        )
      removeNode$1(fragment, true)
      if (parentVm && parentVm._rootElement) {
        // 动态节点使用父组件的样式
        fragment._styleObjectId = parentVm._rootElement._styleObjectId
      }
      compileChildren(parentVm, dynamicContent, fragment)
    } else {
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace(
          `### App Framework ### ${name} 组件 (${fragment.ref}) 编译默认内容 - ${JSON.stringify(
            defaultContent
          )}`
        )
      removeNode$1(fragment, true)
      // 默认节点删除父组件的样式
      delete fragment._styleObjectId
      compileChildren(vm, defaultContent, fragment)
    }
  }
  /**
   * 编译block
   * @param vm
   * @param target
   * @param dest
   * @param meta
   */
  function compileBlock(vm, target, dest, meta) {
    meta = meta || {}

    if (isForNode(target, meta)) {
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace(`### App Framework ### 编译 block 节点 ---- for`)
      compileFor(vm, target, dest)
      return
    }

    if (isIfNode(target, meta)) {
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace(`### App Framework ### 编译 block 节点 ---- if`)
      compileIf(vm, target, dest, meta)
      return
    }

    // 如果block没有for或者if属性，则看作隐形节点
    const frag = createFragment(vm, dest)
    compileChildren(vm, target, frag)
  }

  /**
   * 编译片段
   * @param vm
   * @param target
   * @param dest
   * @param meta
   */
  function compileFragment(vm, target, dest, meta) {
    const frag = createFragment(vm, dest)
    target.forEach(child => {
      compile$2(vm, child, frag, meta)
    })
  }

  /**
   * 编译for节点
   * @param vm
   * @param target <template>定义
   * @param dest 父element
   */
  function compileFor(vm, target, dest) {
    const repeat = target.repeat
    // 获取数据源函数
    let getter = repeat.exp || repeat
    // 确保getter是函数，则添加空函数
    if (typeof getter !== 'function') {
      getter = function() {
        return []
      }
    }
    // $idx $item为缺省关键字
    const key = repeat.key || '$idx'
    const value = repeat.value || '$item'
    // 用于跟踪for循环元素的属性名,必须唯一(通过tid属性指定)
    const tid = target.attr && target.attr.tid

    const frag = createFragment(vm, dest)
    frag.data = []
    frag.vms = []

    bindFor(vm, target, frag, { getter, key, value, tid })
  }

  /**
   * 编译可隐藏节点
   * @param vm
   * @param target  <template>定义
   * @param dest 父element
   * @param meta
   */

  function compileIf(vm, target, dest, meta) {
    // 添加标记
    const newMeta = { shown: true }
    const fragment = createFragment(vm, dest)

    // 向下传递repeat上下文, 如果嵌套for, 则内层覆盖外层
    if (meta.hasOwnProperty('repeat')) {
      newMeta.repeat = meta.repeat
    }

    bindIf(vm, target, fragment, newMeta)
  }

  /**
   * 编译自定义组件（复合）
   * @param vm
   * @param component  组件定义包含template,style,script等信息
   * @param template  <template>组件实例定义
   * @param dest 父doc节点
   * @param type 组件类型
   * @param meta
   */
  function compileCustomComponent(vm, component, template, dest, type, meta) {
    const pageAccessTypeList = ['public', 'protected', 'private']
    pageAccessTypeList.forEach(accessType => {
      if (
        component.hasOwnProperty(accessType) &&
        isObject(component[accessType]) &&
        !component.hasOwnProperty('data')
      ) {
        console.warn(
          `### App Framework ### 自定义组件 ${type} 不支持 ${accessType} 数据模型，请使用 data 代替！`
        )
      }
    })

    if (component && component.props && !component._hasnormalizeProps) {
      component._hasnormalizeProps = true
      // 格式化props信息
      normalizeProps(component, type)
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace(
          `### App Framework ### 格式化自定义组件 ${type} props`,
          JSON.stringify(component)
        )
    }

    const Ctor = vm.constructor // Vm构造函数
    global.Env &&
      global.Env.logLevel === 'trace' &&
      console.trace(`### App Framework ### 编译自定义组件 ${type} ----`, JSON.stringify(template))
    // 使用自定义组件定义创建一个vm
    const subVm = new Ctor(
      component,
      type,
      vm,
      dest,
      undefined,
      {
        'xlc:onCreate': function() {
          // 如果父vm是静态，则子vm也是静态
          if (vm._static) {
            this._static = vm._static
          }
          // 如果节点有id属性，则在父vm._ids中注册
          setVmId(vm, null, template.attr.id, this)

          // 设置外部绑定信息
          this._externalBinding = {
            parent: vm,
            template: template // 组件实例定义，例如<aaa class='xxx'/>
          }
          // 当vm创建成功后
          bindSubVm(vm, this, template, meta.repeat)
        },
        'xlc:onInit': function() {},
        'xlc:onReady': function() {}
      },
      template
    )
    postBindSubVm(vm, subVm, template, dest)
  }

  /**
   * 编译原生组件
   * @param vm  父vm
   * @param template  组件定义
   * @param dest  doc中的父节点
   * @param type 组件类型，例如'div','text'
   */
  function compileNativeComponent(vm, template, dest, type) {
    const page = vm._page || {}
    const doc = page.doc || {}
    const app = page.app || {}

    global.Env &&
      global.Env.logLevel === 'trace' &&
      console.trace('### App Framework ### 编译原生组件----', JSON.stringify(template))
    // 获取原生组件的公共配置
    applyNativeComponentOptions(template)

    let element
    if (dest === doc.documentElement) {
      // 如果父节点是根元素，则该组件为Body元素
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace(`### App Framework ### 编译Body组件 ${type}`)
      element = createElement(vm, type)
      element._vm = vm
    } else {
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace(`### App Framework ### 编译原生组件 ${type}`)
      element = createElement(vm, type)
    }

    template.attr = template.attr || {}

    if (!vm._rootElement) {
      // 设置vm在doc上对应的根元素
      vm._rootElement = element

      // 定义样式到文档中
      const isDocLevel = app._shareDocStyle && dest === doc.documentElement
      context.quickapp.runtime.helper.registerStyleObject(
        vm._type,
        vm._options.style,
        isDocLevel,
        vm._rootElement
      )

      // 如果顶层元素是自定义组件的话
      const binding = vm._externalBinding || {}
      const target = binding.template
      const parentVm = binding.parent

      if (target && target.events && parentVm && element) {
        for (const type in target.events) {
          const typeVal = target.events[type]
          const handler = typeof typeVal === 'string' ? parentVm[typeVal] : typeVal
          if (handler) {
            nodeAddEventListener(element, type, $bind(handler, parentVm), false)
          } else {
            console.warn(`### App Framework ### 忽略使用自定义组件时的DOM事件绑定：${type}`)
          }
        }
      }
    }

    // 将richtext属性保存为html
    if (isRichTextNode(template)) {
      template.content = template.attr.value
      template.contentType = template.attr.type
      // 注释：循环遍历richtext时，后面的richtext需要有value模板
      // delete template.attr['value']
    }

    // 将template中定义属性传递给element
    bindElement(vm, element, template)

    // 获取append属性, 'tree'表示组件全部构建完成后添加到父节点上，否则递归创建并添加到父节点上
    if (template.attr && template.attr.append) {
      template.append = template.attr.append
    }

    // 如果是tree模式，则是等整个组件编译完成后整体加入到父节点中
    const treeMode = template.append === 'tree'

    if (page.lastSignal !== -1 && !treeMode) {
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace('### App Framework ### 编译单个节点----', element)
      // attachNode会通过doc的listener向原生发送dom操作通知，如果发送失败则返回-1
      page.lastSignal = nodeAppendChild(dest, element)
    }

    if (page.lastSignal !== -1) {
      // 编译孩子节点
      if (isRichTextNode(template)) {
        // richtext没有子节点
        compileRichText(vm, template, element)
      } else {
        compileChildren(vm, template, element)
      }
    }

    if (page.lastSignal !== -1 && treeMode) {
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace('### App Framework ### 编译整个树----', element)
      page.lastSignal = nodeAppendChild(dest, element)
    }
  }

  /**
   * 编译孩子节点
   * @param vm
   * @param template  <template>定义
   * @param dest 父element
   */
  function compileChildren(vm, template, dest) {
    const page = vm._page || {}
    // 子节点定义
    const children = template.children
    if (children && children.length) {
      // 如果发生错误，则退出循环
      for (let i = 0, len = children.length; i < len && page.lastSignal !== -1; i++) {
        global.Env &&
          global.Env.logLevel === 'trace' &&
          console.trace('### App Framework ### 编译孩子节点----', children[i].type)
        compile$2(vm, children[i], dest)
      }
    }
  }

  /**
   * 监听for属性
   * @param vm
   * @param target <template>定义
   * @param frag 片段
   * @param info for描述信息
   */
  function bindFor(vm, target, frag, info) {
    const vms = frag.vms
    const { getter, tid } = info
    // key, value名称（如果是数组,则key为索引）
    const keyName = info.key
    const valueName = info.value

    // context代表
    function compileItem(item, index, context) {
      const mergedData = {}
      mergedData[keyName] = index
      mergedData[valueName] = item

      // 创建一个新vm（增加了$idx,$item等属性）
      const newContext = mergeContext(context, mergedData)
      vms.push(newContext)
      // 基于新的vm编译节点（附带关联的数据item）
      compile$2(newContext, target, frag, { repeat: item })
    }

    const list = watchFragment(vm, frag, getter, 'for', data => {
      if (!frag || !data) {
        return
      }
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace('### App Framework ### For 节点被改变----', data)

      // 如果数据结果发生变化，根据tid进行新旧数据比较，生成尽可能少的differ任务
      const oldChildren = frag.layoutChildren.slice()

      const oldVms = vms.slice()
      const oldData = frag.data.slice()

      // 将数据转换为key-value格式
      const trackMap = {}
      const reusedMap = {}
      data.forEach((item, index) => {
        const key = '@' + (tid ? item[tid] : index)

        if (key == null || key === '@') {
          console.error(`### App Framework ### for 循环数据的tid 属性不存在或为空`)
          return
        }

        if (!trackMap[key]) {
          trackMap[key] = []
        }
        trackMap[key].push(item)
        if (trackMap[key].length > 1) {
          console.warn(
            `### App Framework ### for 循环数据的tid 属性 '${key} 不唯一, 可能导致性能问题`
          )
        }
      })
      oldData.forEach((item, index) => {
        const key = '@' + (tid ? item[tid] : index)
        const track = trackMap[key]
        if (track && track.length > 0) {
          if (!reusedMap[key]) {
            reusedMap[key] = []
          }
          reusedMap[key].push({
            item,
            index,
            key,
            target: oldChildren[index], // 旧的element对象
            vm: oldVms[index] // 旧的vm对象
          })
        } else {
          removeNode$1(oldChildren[index])
        }
      })

      context.quickapp.runtime.helper.resetNodeChildren(frag)
      vms.length = 0
      frag.data = data.slice()

      data.forEach((item, index) => {
        const key = '@' + (tid ? item[tid] : index)
        const reused = reusedMap[key]
        if (typeof reused === 'object' && reused.length > 0) {
          const reusedItem = reused.shift()
          // 重用已有节点
          const childNode = reusedItem.target
          context.quickapp.runtime.helper.restoreNodeChildren(frag, childNode)

          vms.push(reusedItem.vm)
          // 更新节点的vm中添加保留属性$idx,$item
          reusedItem.vm[valueName] = item
          reusedItem.vm[keyName] = index
        } else {
          // 如果没有重用，则重新编译节点
          compileItem(item, index, vm)
        }
      })

      Object.keys(reusedMap).forEach(key => {
        while (reusedMap[key].length) {
          const restReuseItem = reusedMap[key].shift()
          removeNode$1(restReuseItem.target)
        }
      })
    })

    // 初次展开循环节点
    if (list && list.length > 0) {
      if (!Array.isArray(list)) {
        return
      }
      frag.data = list.slice(0)
      list.forEach((item, index) => {
        compileItem(item, index, vm)
      })
    } else {
      frag.data = []
    }
  }

  /**
   * 监听if属性，根据值来添加/移除元素
   * @param vm
   * @param target <template>定义
   * @param fragment 所在片段定义
   * @param meta
   */
  function bindIf(vm, target, fragment, meta) {
    let value = !!watchFragment(vm, fragment, target.shown, 'if', v => {
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace(`### App Framework ### If 节点 (${fragment.ref})状态改变----`, v)
      // 如果片段的显示状态没有变化，则返回
      if (!fragment || value === !!v) {
        return
      }
      value = !!v
      if (v) {
        compile$2(vm, target, fragment, meta)
      } else {
        // 针对fragment节点, 仅删除内部子节点
        removeNode$1(fragment, true)
      }
    })

    if (value) {
      compile$2(vm, target, fragment, meta)
    }
  }

  /**
   * JSX模板
   * 采用深度优先, 分层比较, 如果节点类型不一样, 则删除重建，否则更新节点属性;
   * @param vm
   * @param fragment
   * @param value
   */
  function compileSlotRender(vm, fragment, value) {
    if (!value) {
      removeNode$1(fragment, true)
    } else {
      removeNode$1(fragment, true)
      compile$2(vm, value, fragment)
    }
  }

  /**
   * 绑定slot渲染
   * @param vm
   * @param target
   * @param fragment
   */
  function bindSlotRender(vm, target, fragment) {
    const content = watchFragment(vm, fragment, target.__render, 'render', value => {
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace(`### App Framework ### Slot 节点 (${fragment.ref})内容更新 ----`)
      compileSlotRender(vm, fragment, value)
      fragment.content = value
    })
    fragment.content = content
    if (content) {
      compile$2(vm, content, fragment)
    }
  }

  /**
   * 编译富文本内容
   * @param vm
   * @param target <template>定义
   * @param dest 所在片段定义
   * @param meta
   */
  function compileRichText(vm, target, dest) {
    const parser = context.quickapp.platform.requireBundle('parser.js')
    const textType = target.contentType
    // 创建fragment节点
    const fragment = createFragment(vm, dest)
    let content
    // 确保value属性是函数
    if (typeof target.content === 'function') {
      content = watchFragment(vm, fragment, target.content, 'html', value => {
        global.Env &&
          global.Env.logLevel === 'trace' &&
          console.trace(`### App Framework ### Html 节点 (${fragment.ref})数据改变----`, value)

        // 针对fragment节点, 仅删除内部子节点
        removeNode$1(fragment, true)

        // 如果有新值, 重新编译
        if (value) {
          if (textType !== 'html') {
            // 解析value为template
            const xContent = parser.compile(value, textType)
            compile$2(vm, xContent, fragment)
          }
        }
      })
    } else {
      content = target.content
    }

    if (content) {
      if (textType !== 'html') {
        const xContent = parser.compile(content, textType)
        compile$2(vm, xContent, fragment)
      }
    }
  }

  /**
   * 观察可计算的变量，创建对应的Watcher
   * @param vm
   * @param frag  片段
   * @param calc  条件函数
   * @param type  节点类型
   * @param handler
   * @returns {*}
   */
  function watchFragment(vm, frag, calc, type, handler) {
    const watcher = watch(
      vm,
      calc,
      value => {
        if (vm.$valid) {
          if (isNodeInDocument$1(frag)) {
            handler(value)
          } else {
            global.Env &&
              global.Env.logLevel === 'trace' &&
              console.trace(
                `### App Framework ### 节点(${frag.ref})已删除：${JSON.stringify(frag)}`
              )
          }
        } else {
          console.error('### App Framework ### 试图更新已销毁页面')
        }
      },
      frag
    )

    return watcher.value
  }

  /**
   * 合并上下文
   * @param context
   * @param mergedData
   * @returns {context}
   */
  function mergeContext(context, mergedData) {
    const newContext = Object.create(context)
    newContext._data = mergedData

    initData(newContext)

    newContext._realParent = context
    if (context._static) {
      newContext._static = context._static
    }
    return newContext
  }

  /**
   * 初始化vm状态
   * @param vm
   */
  function initData(cxt) {
    cxt._watchers = []
    let data = cxt._data

    if (!isPlainObject(data)) {
      data = {}
    }

    // 将data属性添加到实例对象上（代理函数）
    const keys = Object.keys(data)
    const keyWords = ['$idx', '$item', '$evt']
    let i = keys.length
    while (i--) {
      const key = keys[i]
      if (keyWords.indexOf(key) > -1 || !isReserved(key)) {
        // 不能以$或_开头
        Object.defineProperty(cxt, key, {
          configurable: true,
          enumerable: true,
          get: function proxyGetter() {
            return cxt._data[key]
          },
          set: function proxySetter(val) {
            cxt._data[key] = val
          }
        })
      } else {
        console.error(`### App Framework ### 页面数据属性名 '${key}' 非法, 属性名不能以$或_开头`)
      }
    }

    // 给<script>中的导出的data添加观察器
    XObserver.$ob(data, cxt)
  }

  /**
   * 格式化props
   * @param component
   * @param type
   */
  function normalizeProps(component, type) {
    const props = component.props
    const result = {}
    let name
    if (Array.isArray(props)) {
      props.forEach(val => {
        if (typeof val === 'string') {
          name = $camelize(val)
          result[name] = { type: null }
        } else {
          console.warn(`### App Framework ### 组件${type} props为数组时，数组元素必须为字符串`)
        }
      })
    } else if (isPlainObject(props)) {
      for (const key in props) {
        const val = props[key]
        name = $camelize(key)
        result[name] = isPlainObject(val) ? val : { type: val }
      }
    } else {
      console.warn(`### App Framework ### 组件${type} props属性值无效，必须为数组或对象`)
    }
    component.props = result
  }

  /**
   * 从Dom中移除节点
   * @param node 待移除的节点
   * @param preserved 是否保留（fragment）
   */
  function removeNode$1(node, preserved = false) {
    if (!node) {
      return
    }
    unbindNode(node, preserved)
    removeNode(node, preserved)
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  /**
   * 事件对象
   */
  class XEvent$1 {
    constructor(type, detail) {
      if (detail instanceof XEvent$1) {
        return detail
      }

      this.timestamp = Date.now() // 时戳
      this.detail = detail // 来源
      this.type = type // 类型

      let shouldStop = false
      // 停止发送/广播
      this.stop = function() {
        shouldStop = true
      }

      // 检查是否已经停止
      this.hasStopped = function() {
        return shouldStop
      }
    }
  }

  // 保留的生命周期接口函数
  const lifeCycleEvents$1 = [
    'onCreate',
    'onInit',
    'onReady',
    'onShow',
    'onHide',
    'onDestroy',
    'onBackPress',
    'onMenuButtonPress',
    'onKey',
    'onMenuPress',
    'onConfigurationChanged',
    'onOrientationChange',
    'onRefresh',
    'onReachTop',
    'onReachBottom',
    'onPageScroll',
    // TODO 待拆分app与page
    'onError',
    'onPageNotFound'
  ]
  XEvent$1.reserveEvents = lifeCycleEvents$1
  // 是否为保留函数
  XEvent$1.isReservedEvent = function(evt) {
    return lifeCycleEvents$1.indexOf(evt) >= 0
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  // 访问校验类型
  const AccessTypeList = ['public', 'protected', 'private']

  // page module
  let pageModule = null

  /**
   * 权限控制，外部无法覆盖私有变量
   * @param vm
   * @param externalData
   */
  function initExternalData(vm, externalData) {
    if (vm._parent) {
      // 子VM无需权限
      return
    }

    if (!externalData) {
      return
    }

    if (!vm._options._descriptor) {
      // 直接合并
      $extend(vm._data, externalData)
      return
    }

    // 请求是否来自于外部
    let fromExternal = vm._page.intent && vm._page.intent.fromExternal

    if (!vm._page.intent || vm._page.intent.fromExternal === undefined) {
      // 不传递则走按严格校验
      fromExternal = true
    }

    global.Env &&
      global.Env.logLevel === 'trace' &&
      console.trace(
        `### App Framework ### 页面VM中声明的权限定义：${JSON.stringify(vm._options._descriptor)}`
      )

    // 增加提示
    if (vm._options.props && !isEmptyObject(externalData)) {
      console.warn(`### App Framework ### 页面VM中不支持props，推荐在public或protected中声明参数`)
    }

    // 校验合并
    for (const extName in externalData) {
      const extDesc = vm._options._descriptor[extName]

      if (!extDesc) {
        global.Env &&
          global.Env.logLevel === 'trace' &&
          console.trace(`### App Framework ### 传递外部数据${extName}在VM中未声明，放弃更新`)
        continue
      }

      const matchFromExPackage = fromExternal && AccessTypeList.indexOf(extDesc.access) > 0
      const matchFromInPackage = !fromExternal && AccessTypeList.indexOf(extDesc.access) > 1
      if (matchFromExPackage || matchFromInPackage) {
        console.warn(
          `### App Framework ### 传递外部数据${extName}在VM中声明为${extDesc.access}，放弃更新`
        )
      } else {
        global.Env &&
          global.Env.logLevel === 'trace' &&
          console.trace(
            `### App Framework ### 传递外部数据${extName}，原值为:${JSON.stringify(
              vm._data[extName]
            )}`
          )
        global.Env &&
          global.Env.logLevel === 'trace' &&
          console.trace(
            `### App Framework ### 传递外部数据${extName}，新值为:${JSON.stringify(
              externalData[extName]
            )}`
          )
        vm._data[extName] = externalData[extName]
      }
    }
  }

  /**
   * 初始化vm状态
   * @param vm
   */
  function initState(vm) {
    vm._watchers = []
    let data = vm._data

    if (!isPlainObject(data)) {
      data = {}
    }
    // 将data属性添加到实例对象上（代理函数）
    const keys = Object.keys(data)
    let i = keys.length
    while (i--) {
      const v = keys[i]
      if (isReservedAttr(v)) {
        console.warn(`### App Framework ### data 属性 '${v}' 是保留字, 可能会导致应用运行异常`)
      }
      if ($own(vm._props, v)) {
        console.warn(
          `### App Framework ### data 请在data中使用另一个名称声明：${v}，不要与props重复`
        )
        if (vm._attrs.hasOwnProperty(v)) {
          continue
        }
      }
      $proxy(vm, '_data', keys[i])
    }

    // 给<script>中的导出的data添加观察器
    XObserver.$ob(data, vm)

    // 将<script>中自定义函数添加到vm中
    const methods = vm._methods
    if (methods) {
      for (const key in methods) {
        if (data.hasOwnProperty(key)) {
          console.warn(`### App Framework ### 检测到同名数据属性和方法：${key}，可能导致异常`)
        }
        if (vm._options && vm._options.computed && vm._options.computed.hasOwnProperty(key)) {
          console.warn(`### App Framework ### 检测到同名计算属性和方法：${key}，方法定义无效`)
          continue
        }
        vm[key] = methods[key]
      }
    }

    // 初始化computed, 将computed函数添加到vm中
    initComputed(vm)
  }

  /**
   * 初始化computed状态
   * @param {Object} vm - 组件实例
   */
  function initComputed(vm) {
    let computed = vm._options.computed
    computed = isPlainObject(computed) ? computed : {}

    for (const key in computed) {
      let userDef = computed[key]

      if (isReservedAttr(key)) {
        console.warn(`### App Framework ### computed 属性 ${key} 是保留字, 可能会导致应用运行异常`)
      }

      if (vm.hasOwnProperty(key)) {
        console.warn(`### App Framework ### computed 实例已定义 ${key} 属性，不可重复设置`)
        continue
      }

      const computedSharedDefinition = {
        enumerable: true,
        configurable: true,
        get: function() {},
        set: function() {
          console.warn(`### App Framework ### computed 计算属性：${key} 未设置setter函数`)
        }
      }

      if (typeof userDef === 'function') {
        computedSharedDefinition.get = createComputedGetter(userDef, vm)

        Object.defineProperty(vm, key, computedSharedDefinition)
      }

      if (typeof userDef === 'object') {
        userDef = userDef || {}

        if (typeof userDef.get !== 'function') {
          console.warn(`### App Framework ### computed 请设置计算属性：${key} 的getter函数`)
          continue
        }

        computedSharedDefinition.get = createComputedGetter(userDef.get, vm)

        if (typeof userDef.set === 'function') {
          computedSharedDefinition.set = userDef.set
        }

        Object.defineProperty(vm, key, computedSharedDefinition)
      }

      if (typeof userDef !== 'function' && typeof userDef !== 'object') {
        console.warn(`### App Framework ### computed 请正确设置计算属性：${key}`)
      }
    }
  }

  /**
   * 缓存computed的值，如果依赖改变则重新计算
   * @param getter
   * @param vm
   */
  function createComputedGetter(getter, vm) {
    const watcher = new XWatcher(vm, getter, function() {}, { lazy: true })

    return function computedGetter() {
      if (watcher.dirty) {
        watcher.evaluate()
      }
      if (XLinker.target) {
        watcher.depend()
      }
      return watcher.value
    }
  }

  /**
   * 初始化事件
   * @param  {Vm} vm
   * @param  {object} externalEvents
   */
  function initEvents(vm, externalEvents) {
    const options = vm._options || {}

    const events = options.events || {}
    for (const evt in events) {
      vm.$on(evt, events[evt])
    }

    for (const ext in externalEvents) {
      vm.$on(ext, externalEvents[ext])
    }

    // 插件定制的生命周期
    for (const key in XVm.pluginEvents) {
      const listeners = XVm.pluginEvents[key]
      listeners.forEach(fn => {
        vm.$on(key, fn)
      })
    }

    // 绑定生命周期接口函数
    XEvent$1.reserveEvents.forEach(type => {
      vm.$on(`xlc:${type}`, options[type])
    })
  }

  /**
   * @param {Object} vm - 组件示例
   * @param {Object} template - slot模版
   */
  function preDealWithSlot(vm, template) {
    // 缓存slot的模板
    const namedSlotCache = {}
    const templateChildren = template.children || []

    templateChildren.forEach(child => {
      namedSlotCache.default = namedSlotCache.default || []
      if (child.attr.slot == null) {
        namedSlotCache.default.push(child)
      } else {
        const name = child.attr.slot
        namedSlotCache[name] = namedSlotCache[name] || []
        namedSlotCache[name].push(child)
      }
    })

    vm._slot = {
      template,
      namedSlotCache
    }
  }

  let _uniqueId$2 = 1
  /**
   * ViewModel，只有自定义组件才对应vm
   */
  class XVm {
    /**
     * @param {Object} options - 组件定义，如果没有指定，则根据type从app查找
     * @param {string} type - 组件名
     * @param {Object} parentObj - 父vm,for指令上下文,或者页面VM初始化时的对象
     * @param {Object} parentElement - 父element
     * @param {Object} externalData - 外部数据
     * @param {Object} externalEvents - 外部事件
     * @param {Object} slotContentTemplate - slot节点中替换的内容模板
     * @constructor
     */
    constructor(
      options,
      type,
      parentObj,
      parentElement,
      externalData,
      externalEvents,
      slotContentTemplate
    ) {
      parentObj = parentObj || {}
      const parentContext = parentObj instanceof XVm ? parentObj : undefined
      const page = parentObj._page

      this.__id__ = _uniqueId$2++
      this._type = type // 组件类型
      this._page = page || {}
      // 父VM或undefined
      this._parent = parentObj._realParent ? parentObj._realParent : parentContext
      // 顶Vm或自己
      this._root = this._parent ? this._parent._root : this
      // 父级Vm或者for指令上下文
      this._parentContext = parentContext

      this._attrs = {}
      this._$attrs = {}
      this.__$attrs__ = {}
      this._$listeners = []
      this._destroyed = false

      Object.defineProperties(this, {
        // vm对应的页面是否有效
        $valid: {
          get: () => !!page && page._valid,
          configurable: false
        },
        // vm对应的页面是否正在展示中
        $visible: {
          get: () => !!page && page._valid && page._visible,
          configurable: false
        },
        // vm本身是否已销毁
        $destroyed: {
          get: () => this._destroyed,
          configurable: false
        }
      })

      // 缓存slot的模板
      if (slotContentTemplate) {
        preDealWithSlot(this, slotContentTemplate)
      }
      // 根VM没有_childrenVms属性
      if (parentObj && parentObj._childrenVms) {
        parentObj._childrenVms.push(this)
      }

      //  如果没有指定父节点，则默认为Doc节点
      this._parentElement = parentElement || (this._page.doc && this._page.doc.documentElement)

      // 如果没有提供组件元信息，则根据type在注册组件列表中查找
      if (!options && this._page.app) {
        options = requireCustomComponent(this._page.app, this._page, type)
      }
      options = options || {}

      // 页面级Vm：i18n配置合并
      if (this._isPageVm() && this._page.app) {
        const ret = this._page.app.getLocaleConfig()
        const dup = JSON.parse(JSON.stringify(ret))
        options.i18n = Object.assign({}, dup, options.i18n)
      }

      // 在组件<script>中导出的data
      const data = options.data || {}
      // 备份组件完整定义
      this._options = options
      // 提取<script>中定义的自定义函数（非系统接口函数）
      this._methods = {}
      Object.keys(options).forEach(key => {
        if (
          (isReservedKey(key) && key !== 'computed') ||
          (XEvent$1.isReservedEvent(key) && key !== 'onRefresh')
        ) {
          return
        }

        if (key === 'onRefresh') {
          if (!global.isRpkMinPlatformVersionGEQ(1050)) {
            console.warn(
              `### App Framework ### onRefresh()为1050版本中新增的Vm生命周期，不再当做Vm方法`
            )
            console.warn(
              `### App Framework ### 如果用于方法调用或组件事件响应，请使用其它名称，后续版本不再兼容`
            )
          } else {
            return
          }
        }

        if (key === 'computed') {
          if (!global.isRpkMinPlatformVersionGEQ(1050)) {
            console.warn(`### App Framework ### computed为1050版本中新增的计算属性，不再当做Vm方法`)
            console.warn(
              `### App Framework ### 如果用于方法调用或组件事件响应，请使用其它名称，后续版本不再兼容`
            )
          } else {
            return
          }
        }

        const func = options[key]
        if (typeof func === 'function') {
          this._methods[key] = func
        }
      })

      this._isXVm = true // a flag to avoid this being observed
      this._ids = {} // <template>中带有id属性节点的映射表
      this._vmEvents = {} //
      this._childrenVms = [] // 包含的子vm数组
      this._props = {}
      this._parentWatchers = []

      // 绑定外部事件
      initEvents(this, externalEvents)

      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace(`### App Framework ### 组件Vm(${this._type})初始化完成`)
      this.$emit('xlc:onCreate')
      this._created = true // 目前为内部接口（暂时不暴露）

      if (typeof data === 'function') {
        this._data = data.call(this) || {}
      } else {
        // 复制数据
        this._data = {}
        $extend(this._data, data)
      }

      // 合并全局数据
      if (this._page && this._page.app) {
        $extend(this._data, this._page.app.$data)
      }

      // 权限控制
      initExternalData(this, externalData)

      // 初始化vm状态, 将自定义函数添加到vm中
      initState(this)

      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace(`### App Framework ### 组件Vm(${this._type})创建成功`)
      // 自定义Vm与仅做数据驱动的Vm：无携带
      const hasQuery = this._isPageVm() && this._page && this._page._meta
      this._emit('xlc:onInit', hasQuery ? this._page._meta.query : undefined)
      this._inited = true

      // app的doc之前已经初始化
      if (!this._page.doc) {
        return
      }

      if (this.$root() === this) {
        profiler.record(
          `### App Performance ### 编译页面Vm模板[PERF:compileVmTmpl]开始：${new Date().toJSON()}`
        )
        profiler.time(`PERF:compileVmTmpl`)
      }
      // 递归创建子节点模型
      build(this)
      if (this.$root() === this) {
        profiler.timeEnd(`PERF:compileVmTmpl`)
        profiler.record(
          `### App Performance ### 编译页面Vm模板[PERF:compileVmTmpl]开始：${new Date().toJSON()}`
        )
      }
    }

    _isPageVm() {
      return this._root === this
    }

    /**
     * 检查vm是否已销毁
     * @returns {boolean}
     * @private
     */
    _isVmDestroyed() {
      if (this._destroyed) {
        console.warn(`### App Framework ### 组件Vm(${this._type})已销毁，中断Vm方法的调用`)
      }
      return this._destroyed
    }

    get $attrs() {
      return this._$attrs
    }

    get $listeners() {
      return this._$listeners
    }

    /**
     * 当前App对象
     */
    get $app() {
      if (global.Env.engine === global.ENGINE_TYPE.CARD) {
        return null
      }

      if (this._isVmDestroyed()) {
        return
      }

      return this._page.app
    }

    /**
     * 获取页面接口对象
     * @returns {{setTitleBar: setTitleBar}}
     */
    get $page() {
      if (global.Env.engine === global.ENGINE_TYPE.CARD) {
        return null
      }

      if (this._isVmDestroyed()) {
        return
      }

      const page = this._page
      const app = page.app
      return Object.assign(
        {
          setTitleBar: function(attr) {
            // 如果是页面对象
            if (page && page.doc) {
              console.log(`### App Framework ### 页面 ${page.id} 调用 setTitleBar ----`)
              context.quickapp.runtime.helper.updatePageTitleBar(page.doc, attr)
            }
          },
          setMeta: function(attr) {
            // 如果是页面对象
            if (page && page.doc) {
              console.log(`### App Framework ### 页面 ${page.id} 调用 setMeta ----`)
              context.quickapp.runtime.helper.setMeta(page.doc, attr)
            }
          },
          scrollTo: function(attr) {
            // 如果是页面对象
            if (page && page.doc) {
              console.log(`### App Framework ### 页面 ${page.id} 调用 scrollTo ----`)
              context.quickapp.runtime.helper.scrollTo(page.doc, attr)
            }
          },
          scrollBy: function(attr) {
            // 如果是页面对象
            if (page && page.doc) {
              console.log(`### App Framework ### 页面 ${page.id} 调用 scrollBy ----`)
              context.quickapp.runtime.helper.scrollBy(page.doc, attr)
            }
          },
          setStatusBar: function(attr) {
            // 如果是页面对象
            if (page && page.doc) {
              console.log(`### App Framework ### 页面 ${page.id} 调用 setStatusBar ----`)
              context.quickapp.runtime.helper.updatePageStatusBar(page.doc, attr)
            }
          },
          exitFullscreen: function() {
            // 如果是页面对象
            if (page && page.doc) {
              console.log(`### App Framework ### 页面 ${page.id} 调用 exitFullscreen ----`)
              context.quickapp.runtime.helper.exitFullscreen(page.doc)
            }
          },
          finish: function() {
            // 调用native侧提供的接口，销毁页面对象
            if (page && page.doc) {
              if (pageModule === null) {
                pageModule = context.quickapp.platform.requireModule(app, 'system.page')
              }
              pageModule.finishPage(page.id)
            }
          },
          getMenuBarRect: function() {
            // 调用native侧提供的接口，获取menubar位置对象
            if (page && page.doc) {
              if (pageModule === null) {
                pageModule = context.quickapp.platform.requireModule(app, 'system.page')
              }
              return pageModule.getMenuBarRect(page.id)
            }
          },
          setMenubarData: function(attr) {
            // 调用native侧提供的接口，设置menubardata数据
            if (page && page.doc) {
              if (pageModule === null) {
                pageModule = context.quickapp.platform.requireModule(app, 'system.page')
              }
              return pageModule.setMenubarData({ id: page.id, attr })
            }
          },
          hideSkeleton: function() {
            if (page && page.doc) {
              console.log(`### App Framework ### 页面 ${page.id} 调用 hideSkeleton ----`)
              context.quickapp.runtime.helper.hideSkeleton(page.doc, page.id)
            }
          },
          setSecure: function(isSecure) {
            if (page && page.doc) {
              context.quickapp.runtime.helper.callHostFunction(page.doc, 'setSecure', [!!isSecure])
            }
          }
        },
        page && page._meta
      )
    }

    /**
     * 父VM
     */
    $parent() {
      return this._parent
    }

    /**
     * 页面的根VM
     * @return {*}
     */
    $root() {
      return this._root
    }

    /**
     * 发送事件
     * @param type
     * @param detail
     */
    $emit(type, detail) {
      if (this._isVmDestroyed()) {
        return
      }

      const events = this._vmEvents
      const handlerList = events[type]
      if (handlerList) {
        const evt = new XEvent$1(type, detail)
        // 系统接口只有唯一一个handler, 只需返回第一个即可
        const result = []
        handlerList.forEach(handler => {
          result.push(handler.call(this, evt))
        })
        // 插件环境下可能有多个handler，所以返回vm中的结果
        return result.length > 0 ? result[result.length - 1] : false
      }
      return false
    }

    /**
     * 发送事件，供页面VM生命周期使用
     * @param {String} type 事件名称
     * @param {Object} evtHash 给回调方法传入的事件对象
     */
    _emit(type, evtHash, ...args) {
      if (this._isVmDestroyed()) {
        return
      }

      const events = this._vmEvents
      const handlerList = events[type]
      if (handlerList) {
        // 系统接口只有唯一一个handler, 只需返回第一个即可
        const result = []
        handlerList.forEach(handler => {
          result.push(handler.call(this, evtHash, ...args))
        })
        // 插件环境下可能有多个handler，所以返回vm中的结果
        return result.length > 0 ? result[result.length - 1] : false
      }
      return false
    }

    /**
     * 发送事件
     * @param id 元素id id == -1/undefine 代表根节点
     * @param type 事件类型
     * @param detail
     */
    $emitElement(type, detail, id = -1) {
      if (this._isVmDestroyed()) {
        return
      }

      if (id === -1 || id === undefined) {
        // 对应根节点
        id = undefined
      } else if (typeof id !== 'string') {
        // 如果id不是字符串, 则什么也不做
        console.error(`### App Framework ### emitElement的参数id不合法`)
        return
      }

      const element = this.$element(id)
      if (element) {
        return fireEventWrap(element, type, { detail: detail })
      } else {
        // 如果id不是字符串, 则什么也不做
        console.error(`### App Framework ### emitElement执行失败: 找不到id为 '${id}' 的组件`)
      }
    }

    /**
     * 向上派发事件
     * @param type
     * @param detail
     */
    $dispatch(type, detail) {
      if (this._isVmDestroyed()) {
        return
      }

      const evt = new XEvent$1(type, detail)
      this.$emit(type, evt)

      if (!evt.hasStopped() && this._parent && this._parent.$dispatch) {
        this._parent.$dispatch(type, evt)
      }
    }

    /**
     * 向下广播事件
     * @param  {string} type
     * @param  {any}    detail
     */
    $broadcast(type, detail) {
      if (this._isVmDestroyed()) {
        return
      }

      const evt = new XEvent$1(type, detail)
      this.$emit(type, evt)

      if (!evt.hasStopped() && this._childrenVms) {
        this._childrenVms.forEach(subVm => {
          subVm.$broadcast(type, evt)
        })
      }
    }

    /**
     * 添加事件listener
     * @param  {string}   type
     * @param  {function} handler
     */
    $on(type, handler) {
      if (this._isVmDestroyed()) {
        return
      }

      if (!type || typeof handler !== 'function') {
        return
      }
      const events = this._vmEvents
      // 每个类型事件对应多个回调函数
      const handlerList = events[type] || []
      handlerList.push(handler)
      events[type] = handlerList
    }

    /**
     * 移除事件句柄
     * @param  {string}   type
     * @param  {function} handler
     */
    $off(type, handler) {
      if (this._isVmDestroyed()) {
        return
      }

      if (!type) {
        return
      }
      const events = this._vmEvents
      if (!handler) {
        delete events[type]
        return
      }
      const handlerList = events[type]
      if (!handlerList) {
        return
      }
      handlerList.$remove(handler)
    }

    /**
     * 强制更新
     */
    $forceUpdate() {
      if (this._isVmDestroyed()) {
        return
      }

      const page = this._page
      // 如果是页面对象
      if (page && page.doc) {
        console.log(`### App Framework ### 强制更新页面 ---- ${page.id}`)
        updatePageActions(page)
      }
    }

    /**
     * 动态添加数据绑定
     * @desc 当前仅支持对象（aaa.bbb），不支持数组；
     * @param exp
     * @param val
     */
    $set(exp, val) {
      if (this._isVmDestroyed()) {
        return
      }

      const expDict = XVm.parseExpression(exp)
      expDict.set.call(this, this, val)
    }

    /**
     * 动态删除数据绑定
     * @param key
     */
    $delete(key) {
      if (this._isVmDestroyed()) {
        return
      }

      const data = this._data
      XVm.delete(data, key)
    }

    /**
     * 动态添加数据观察
     * @param target  数据名（data|props中定义）
     * @param cb {string|function} 回调函数名
     */
    $watch(target, cb) {
      if (this._isVmDestroyed()) {
        return
      }

      const vm = this

      if (typeof target !== 'string') {
        console.error(`### App Framework ### $watch调用异常: 第一个参数的数据类型必须是字符串`)
        return
      }

      if (typeof cb === 'string') {
        if (!this._methods[cb]) {
          console.warn(`### App Framework ### $watch调用异常: 句柄函数名 '${cb}' 没有定义`)
          return
        } else {
          cb = this._methods[cb]
        }
      }

      const calc = function() {
        return XVm.getPath(vm, target)
      }
      const watcher = new XWatcher(vm, calc, function(value, oldValue) {
        // 如果函数计算结果是对象则始终认为值被改变，如果是基本类型则进行比较
        if (typeof value !== 'object' && value === oldValue) {
          // 如果值没改变则直接返回
          return
        }
        // 执行回调
        cb.apply(vm, [value, oldValue])
      })
      return watcher
    }

    /**
     * 重新计算一遍
     * @private
     */
    _digest() {
      const len = this._watchers.length
      for (let i = 0; i < len; i++) {
        this._watchers[i].update(true)
      }
    }

    _destroyVm() {
      destroyVm(this)
    }
  }

  /**
   * 解析表达式
   * @param exp
   * @return {{exp: *, get: expDict.get, set: expDict.set}}
   */
  XVm.parseExpression = function(exp) {
    const expDict = {
      exp: exp,
      get: function(vm) {
        return XVm.getPath(vm, exp)
      },
      set: function(vm, val) {
        XVm.setPath(vm, exp, val)
      }
    }
    return expDict
  }

  /**
   * 获取路径的值
   * @param obj
   * @param target
   * @return {*}
   */
  XVm.getPath = function(obj, target) {
    if (/[^\w.$]/.test(target)) {
      console.warn(`### App Framework ### getPath调用:  观察对象 '${target}' 不合法`)
      return
    }
    // 解析target路径
    const nameList = target.split('.')
    const key = nameList.pop()

    const nameListLen = nameList.length
    for (let i = 0; i < nameListLen; i++) {
      const name = nameList[i]
      if (isReserved(name)) {
        console.warn(`### App Framework ### getPath调用: 属性名 '${name}' 不能以 $ 或 _ 开头`)
        return
      }
      if (!obj[name]) {
        console.warn(
          `### App Framework ### getPath调用: 属性名 '${name}' 在 '${target}' 中值为：${obj[name]}`
        )
        return
      }
      obj = obj[name]
    }
    return obj[key]
  }

  /**
   * 设置路径为新值
   * @param obj
   * @param target
   * @param val
   */
  XVm.setPath = function(obj, target, val) {
    if (/[^\w.$]/.test(target)) {
      console.warn(`### App Framework ### setPath调用:  观察对象 '${target}' 不合法`)
      return
    }
    // 解析target路径
    const nameList = target.split('.')
    const key = nameList.pop()

    const nameListLen = nameList.length
    for (let i = 0; i < nameListLen; i++) {
      const name = nameList[i]
      if (isReserved(name)) {
        console.warn(`### App Framework ### setPath调用: 属性名 '${name}' 不能以 $ 或 _ 开头`)
        return
      }
      if (!obj[name]) {
        console.warn(
          `### App Framework ### setPath调用: 属性名 '${name}' 在 '${target}' 中值为：${obj[name]}`
        )
        return
      }
      obj = obj[name]
    }
    XVm.set(obj, key, val)
  }

  /**
   * 给对象设置属性，如果属性之前不存在，则触发事件
   */
  XVm.set = function(obj, key, val) {
    if (obj == null) {
      return
    }

    if (obj instanceof XVm) {
      XVm.set(obj._data, key, val)
      return
    }

    if (Array.isArray(obj)) {
      return obj.splice(key, 1, val)
    }
    if ($own(obj, key)) {
      obj[key] = val
      return
    }

    const ob = obj.__ob__
    if (!ob) {
      // 如果对象没有被观察，则直接修改值
      obj[key] = val
      return
    }

    ob.convert(key, val)
    ob.dep.notify()

    if (ob.vms) {
      let i = ob.vms.length
      while (i--) {
        const vm = ob.vms[i]
        $proxy(vm, '_data', key)
        vm._digest()
      }
    }
    return val
  }

  /**
   * 删除一个属性
   */
  XVm.delete = function(obj, key) {
    if (obj == null) {
      return
    }

    if (!$own(obj, key)) {
      return
    }
    delete obj[key]
    const ob = obj.__ob__

    if (!ob) {
      return
    }
    ob.dep.notify()
    if (ob.vms) {
      let i = ob.vms.length
      while (i--) {
        const vm = ob.vms[i]
        $unproxy(vm, key)
        vm._digest()
      }
    }
  }

  /**
   * 初始化App方法
   * @param apis
   */
  XVm.initVmMethods = function(apis) {
    const p = XVm.prototype

    for (const apiName in apis) {
      if (!p.hasOwnProperty(apiName)) {
        p[apiName] = apis[apiName]
      }
    }
  }

  /**
   * 给Vm添加已注册Api模块的函数
   * @param methods
   */
  XVm.registerMethods = function(methods) {
    // 解析字符串
    if (typeof methods === 'string') {
      methods = JSON.parse(methods)
    }

    if (typeof methods === 'object') {
      XVm.initVmMethods(methods)
    }
  }

  /**
   * 插件事件的暂存
   */
  XVm.pluginEvents = {}

  /**
   * 混合到VM中
   * @param options {object}
   */
  XVm.mixin = function(options) {
    for (const key in options) {
      // 绑定保留的生命周期
      if (XEvent$1.isReservedEvent(key)) {
        const keyName = `xlc:${key}`
        if (!XVm.pluginEvents[keyName]) {
          XVm.pluginEvents[keyName] = []
        }
        XVm.pluginEvents[keyName].push(options[key])
      } else {
        console.warn(`### App Framework ### 插件定义的函数，不属于页面生命周期函数：${key}`)
      }
    }
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  /**
   * 在VM原型上增加新的方法
   * @param VmClass
   */
  function extend(VmClass) {
    Object.defineProperty(VmClass.prototype, `$i18n`, {
      get() {
        return this._i18n
      }
    })

    /**
     * 简单的格式化
     * @param {string} key 路径名
     * @param {array} others 额外的参数；第一个元素为格式化时的参数，类型为{object|array}
     * @return {*}
     */
    VmClass.prototype.$t = function(key, ...others) {
      const i18n = this._i18n
      return i18n._t(key, i18n.locale, i18n._getResources(), this, ...others)
    }

    /**
     * 单复数的格式化
     * @param {string} key 路径名
     * @param {number} choice 实际的值
     * @param {array} others 额外的参数
     * @return {*}
     */
    VmClass.prototype.$tc = function(key, choice, ...others) {
      const i18n = this._i18n
      return i18n._tc(key, i18n.locale, i18n._getResources(), this, choice, ...others)
    }
  }

  /**
   * COPY FROM: https://github.com/kazupon/vue-i18n
   */

  function isObject$1(obj) {
    return obj !== null && typeof obj === 'object'
  }

  const toString$1 = Object.prototype.toString
  const OBJECT_STRING$1 = '[object Object]'
  function isPlainObject$1(obj) {
    return toString$1.call(obj) === OBJECT_STRING$1
  }

  function isNull(val) {
    return val === null || val === undefined
  }

  function parseArgs(...args) {
    let locale = null
    let params = null
    if (args.length === 1) {
      if (isObject$1(args[0]) || Array.isArray(args[0])) {
        params = args[0]
      } else if (typeof args[0] === 'string') {
        locale = args[0]
      }
    } else if (args.length === 2) {
      if (typeof args[0] === 'string') {
        locale = args[0]
      }
      /* istanbul ignore if */
      if (isObject$1(args[1]) || Array.isArray(args[1])) {
        params = args[1]
      }
    }

    if (locale) {
      console.warn(`当前多语言国际化的版本：不支持参数传递具体某个locale：${locale}`)
    }

    return { locale, params }
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  /**
   * 生命周期的混入处理
   */
  var mixin = {
    /**
     * 初始化i18n选项
     */
    onCreate() {
      const options = this._options

      // 仅限页面Vm
      if (this.$root() === this && options.i18n) {
        const I18nClass = this.PluginI18n

        if (isPlainObject$1(options.i18n)) {
          // 传递的是对象
          options.i18n.root = this

          this._i18n = new I18nClass(options.i18n)
        } else if (options.i18n instanceof I18nClass) {
          // 传递的是类实例
          this._i18n = options.i18n
        }
      } else if (this._parent && this._parent._i18n) {
        this._i18n = this._parent._i18n
      } else if (this._root && this._root !== this && this._root._i18n) {
        this._i18n = this._root._i18n
      }
    },
    onConfigurationChanged(evt) {
      // 页面级Vm
      if (evt.type === 'locale') {
        if (this.$root() === this && this._i18n && this.$app) {
          const i18n = this._i18n
          const ret = this.$app.getLocaleConfig()
          const retNew = JSON.parse(JSON.stringify(ret))
          i18n.locale = retNew.locale
          i18n.resources = retNew.resources
        }
      }
    },
    onDestroy() {
      // 页面级Vm
      if (this.$root() === this && this._i18n) {
        const i18n = this._i18n
        i18n._destroyVm()
      }
      this._i18n = null
    }
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  let VmClassInner

  function installFactory(pluginClassName, pluginClass) {
    return function install(VmClass) {
      // 相互持有引用
      VmClass.prototype[pluginClassName] = pluginClass
      VmClassInner = VmClass

      extend(VmClass)
      VmClass.mixin(mixin)
    }
  }

  function getVmClass() {
    if (!VmClassInner) {
      throw new Error(`i18n：找不到Vm实例所属的类，请在插件安装后再实例化`)
    }
    return VmClassInner
  }

  /**
   * COPY FROM: https://github.com/kazupon/vue-i18n
   */

  class BaseFormatter {
    constructor() {
      this._caches = Object.create(null)
    }

    interpolate(message, values) {
      if (!values) {
        return [message]
      }
      let tokens = this._caches[message]
      if (!tokens) {
        tokens = parse(message)
        this._caches[message] = tokens
      }
      return compile$3(tokens, values)
    }
  }

  const RE_TOKEN_LIST_VALUE = /^(?:\d)+/
  const RE_TOKEN_NAMED_VALUE = /^(?:\w)+/

  function parse(format) {
    const tokens = []
    let position = 0

    let text = ''
    while (position < format.length) {
      let char = format[position++]
      if (char === '{') {
        if (text) {
          tokens.push({ type: 'text', value: text })
        }

        text = ''
        let sub = ''
        char = format[position++]
        while (char !== undefined && char !== '}') {
          sub += char
          char = format[position++]
        }
        const isClosed = char === '}'

        const type = RE_TOKEN_LIST_VALUE.test(sub)
          ? 'list'
          : isClosed && RE_TOKEN_NAMED_VALUE.test(sub)
          ? 'named'
          : 'unknown'
        tokens.push({ value: sub, type })
      } else if (char === '%') {
        // when found rails i18n syntax, skip text capture
        if (format[position] !== '{') {
          text += char
        }
      } else {
        text += char
      }
    }

    text && tokens.push({ type: 'text', value: text })

    return tokens
  }

  function compile$3(tokens, values) {
    const compiled = []
    let index = 0

    const mode = Array.isArray(values) ? 'list' : isObject$1(values) ? 'named' : 'unknown'
    if (mode === 'unknown') {
      return compiled
    }

    while (index < tokens.length) {
      const token = tokens[index]
      switch (token.type) {
        case 'text':
          compiled.push(token.value)
          break
        case 'list':
          compiled.push(values[parseInt(token.value, 10)])
          break
        case 'named':
          if (mode === 'named') {
            compiled.push(values[token.value])
          } else {
            console.warn(
              `i18n：Type of token '${token.type}' and format of value '${mode}' don't match!`
            )
          }
          break
        case 'unknown':
          console.warn(`i18n：Detect 'unknown' type of token!`)
          break
      }
      index++
    }

    return compiled
  }

  /**
   * COPY FROM: https://github.com/kazupon/vue-i18n
   */

  /**
   *  Path parser
   *  - Inspired:
   *    Vue.js Path parser
   */

  // actions
  const APPEND = 0
  const PUSH = 1
  const INC_SUB_PATH_DEPTH = 2
  const PUSH_SUB_PATH = 3

  // states
  const BEFORE_PATH = 0
  const IN_PATH = 1
  const BEFORE_IDENT = 2
  const IN_IDENT = 3
  const IN_SUB_PATH = 4
  const IN_SINGLE_QUOTE = 5
  const IN_DOUBLE_QUOTE = 6
  const AFTER_PATH = 7
  const ERROR = 8

  const pathStateMachine = []

  pathStateMachine[BEFORE_PATH] = {
    ws: [BEFORE_PATH],
    ident: [IN_IDENT, APPEND],
    '[': [IN_SUB_PATH],
    eof: [AFTER_PATH]
  }

  pathStateMachine[IN_PATH] = {
    ws: [IN_PATH],
    '.': [BEFORE_IDENT],
    '[': [IN_SUB_PATH],
    eof: [AFTER_PATH]
  }

  pathStateMachine[BEFORE_IDENT] = {
    ws: [BEFORE_IDENT],
    ident: [IN_IDENT, APPEND],
    '0': [IN_IDENT, APPEND],
    number: [IN_IDENT, APPEND]
  }

  pathStateMachine[IN_IDENT] = {
    ident: [IN_IDENT, APPEND],
    '0': [IN_IDENT, APPEND],
    number: [IN_IDENT, APPEND],
    ws: [IN_PATH, PUSH],
    '.': [BEFORE_IDENT, PUSH],
    '[': [IN_SUB_PATH, PUSH],
    eof: [AFTER_PATH, PUSH]
  }

  pathStateMachine[IN_SUB_PATH] = {
    "'": [IN_SINGLE_QUOTE, APPEND],
    '"': [IN_DOUBLE_QUOTE, APPEND],
    '[': [IN_SUB_PATH, INC_SUB_PATH_DEPTH],
    ']': [IN_PATH, PUSH_SUB_PATH],
    eof: ERROR,
    else: [IN_SUB_PATH, APPEND]
  }

  pathStateMachine[IN_SINGLE_QUOTE] = {
    "'": [IN_SUB_PATH, APPEND],
    eof: ERROR,
    else: [IN_SINGLE_QUOTE, APPEND]
  }

  pathStateMachine[IN_DOUBLE_QUOTE] = {
    '"': [IN_SUB_PATH, APPEND],
    eof: ERROR,
    else: [IN_DOUBLE_QUOTE, APPEND]
  }

  /**
   * Check if an expression is a literal value.
   */

  const literalValueRE = /^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/
  function isLiteral(exp) {
    return literalValueRE.test(exp)
  }

  /**
   * Strip quotes from a string
   */

  function stripQuotes(str) {
    const a = str.charCodeAt(0)
    const b = str.charCodeAt(str.length - 1)
    return a === b && (a === 0x22 || a === 0x27) ? str.slice(1, -1) : str
  }

  /**
   * Determine the type of a character in a keypath.
   */

  function getPathCharType(ch) {
    if (ch === undefined || ch === null) {
      return 'eof'
    }

    const code = ch.charCodeAt(0)

    switch (code) {
      case 0x5b: // [
      case 0x5d: // ]
      case 0x2e: // .
      case 0x22: // "
      case 0x27: // '
        return ch

      case 0x5f: // _
      case 0x24: // $
      case 0x2d: // -
        return 'ident'

      case 0x09: // Tab
      case 0x0a: // Newline
      case 0x0d: // Return
      case 0xa0: // No-break space
      case 0xfeff: // Byte Order Mark
      case 0x2028: // Line Separator
      case 0x2029: // Paragraph Separator
        return 'ws'
    }

    return 'ident'
  }

  /**
   * Format a subPath, return its plain form if it is
   * a literal string or number. Otherwise prepend the
   * dynamic indicator (*).
   */

  function formatSubPath(path) {
    const trimmed = path.trim()
    // invalid leading 0
    if (path.charAt(0) === '0' && isNaN(path)) {
      return false
    }

    return isLiteral(trimmed) ? stripQuotes(trimmed) : '*' + trimmed
  }

  /**
   * Parse a string path into an array of segments
   */

  function parse$1(path) {
    const keys = []
    let index = -1
    let mode = BEFORE_PATH
    let subPathDepth = 0
    let c
    let key
    let newChar
    let type
    let transition
    let action
    let typeMap
    const actions = []

    actions[PUSH] = function() {
      if (key !== undefined) {
        keys.push(key)
        key = undefined
      }
    }

    actions[APPEND] = function() {
      if (key === undefined) {
        key = newChar
      } else {
        key += newChar
      }
    }

    actions[INC_SUB_PATH_DEPTH] = function() {
      actions[APPEND]()
      subPathDepth++
    }

    actions[PUSH_SUB_PATH] = function() {
      if (subPathDepth > 0) {
        subPathDepth--
        mode = IN_SUB_PATH
        actions[APPEND]()
      } else {
        subPathDepth = 0
        key = formatSubPath(key)
        if (key === false) {
          return false
        } else {
          actions[PUSH]()
        }
      }
    }

    function maybeUnescapeQuote() {
      const nextChar = path[index + 1]
      if (
        (mode === IN_SINGLE_QUOTE && nextChar === "'") ||
        (mode === IN_DOUBLE_QUOTE && nextChar === '"')
      ) {
        index++
        newChar = '\\' + nextChar
        actions[APPEND]()
        return true
      }
    }

    while (mode !== null) {
      index++
      c = path[index]

      if (c === '\\' && maybeUnescapeQuote()) {
        continue
      }

      type = getPathCharType(c)
      typeMap = pathStateMachine[mode]
      transition = typeMap[type] || typeMap.else || ERROR

      if (transition === ERROR) {
        return // parse error
      }

      mode = transition[0]
      action = actions[transition[1]]
      if (action) {
        newChar = transition[2]
        newChar = newChar === undefined ? c : newChar
        if (action() === false) {
          return
        }
      }

      if (mode === AFTER_PATH) {
        return keys
      }
    }
  }

  class I18nPath {
    constructor() {
      this._cache = Object.create(null)
    }

    /**
     * External parse that check for a cache hit first
     */
    parsePath(path) {
      let hit = this._cache[path]
      if (!hit) {
        hit = parse$1(path)
        if (hit) {
          this._cache[path] = hit
        }
      }
      return hit || []
    }

    /**
     * Get path value from path string
     */
    getPathValue(obj, path) {
      if (!isObject$1(obj)) {
        return null
      }

      const paths = this.parsePath(path)
      if (paths.length === 0) {
        return null
      } else {
        const length = paths.length
        let last = obj
        let i = 0
        while (i < length) {
          const value = last[paths[i]]
          if (value === undefined) {
            return null
          }
          last = value
          i++
        }

        return last
      }
    }
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  const defaultFormatter = new BaseFormatter()

  class PluginI18n {
    /**
     * @param options 插件支持的选项
     * @param options.locale {string}
     * @param options.resources {array}
     * @param options.resources[0] {object}
     * @param options.resources[0].message {object}
     * @param options.formatter {object} 拥有interpolate方法
     * @param options.root {Vmclass} 页面级Vm实例
     * @param options.fallbackRoot {boolean} 如果value不存在，是否使用页面级Vm的设置;
     */
    constructor(options) {
      const locale = options.locale || 'en'
      const resources = options.resources || []

      this._vm = null
      this._formatter = options.formatter || defaultFormatter
      this._root = options.root || null
      this._fallbackRoot = options.fallbackRoot === undefined ? true : !!options.fallbackRoot

      this._path = new I18nPath()

      this._initVm({
        locale,
        resources
      })
    }

    _initVm(options) {
      const VmClass = getVmClass()
      this._vm = new VmClass({
        data: options
      })
    }

    _destroyVm() {
      this._vm.$emit('xlc:onDestroy')
    }

    get locale() {
      return this._vm.locale
    }

    set locale(v) {
      this._vm.$set('locale', v)
    }

    get resources() {
      return this._vm.resources
    }

    set resources(v) {
      this._vm.$set('resources', v)
    }

    _getResources() {
      return this._vm.resources
    }

    _isFallbackRoot(val) {
      const isThisNotRootI18n = this._root && this._root._i18n !== this
      return !isNull(val) && isThisNotRootI18n && this._fallbackRoot
    }

    _warnDefault(locale, key, ret, host, values) {
      if (!isNull(ret)) {
        return ret
      } else {
        console.warn(`i18n：locale文件中没有找到对应的key：${key}`)
        return key
      }
    }

    _t(key, defLocale, resources, host, ...values) {
      if (!key) {
        return ''
      }
      const parsedArgs = parseArgs(...values)
      const locale = parsedArgs.locale || defLocale
      const ret = this._translate(resources, locale, key, host, 'string', parsedArgs.params)

      if (this._isFallbackRoot(ret)) {
        return this._root.$t(key, ...values)
      } else {
        return this._warnDefault(locale, key, ret, host, values)
      }
    }

    _translate(resources, locale, key, host, interpolateMode, params) {
      if (!resources) {
        return null
      }
      for (let i = 0, len = resources.length; i < len; i++) {
        const ret = this._interpolate(locale, resources[i], key, host, interpolateMode, params, [
          key
        ])
        if (!isNull(ret)) {
          return ret
        }
      }
      return null
    }

    _interpolate(locale, jsonObject, key, host, interpolateMode, params, visitedLinkStack) {
      if (!jsonObject) {
        return null
      }

      const keyRet = this._path.getPathValue(jsonObject, key)
      if (isPlainObject$1(keyRet) || Array.isArray(keyRet)) {
        return keyRet
      }

      if (isNull(keyRet)) {
        return null
      }

      if (typeof keyRet === 'string' && keyRet.indexOf('@:') >= 0 && keyRet.indexOf('@.') >= 0);

      return this._render(keyRet, interpolateMode, params, key)
    }

    _render(message, interpolateMode, params, key) {
      let ret = this._formatter.interpolate(message, params, key)
      if (!ret && this._formatter !== defaultFormatter) {
        ret = defaultFormatter.interpolate(message, params, key)
      }
      return interpolateMode === 'string' ? ret.join('') : ret
    }

    _tc(key, defLocale, resources, host, choice, ...params) {
      if (choice === undefined) {
        choice = 1
      }

      const predefined = {
        count: choice,
        n: choice
      }
      const parsedArgs = parseArgs(...params)
      parsedArgs.params = Object.assign(predefined, parsedArgs.params)
      params =
        parsedArgs.locale === null ? [parsedArgs.params] : [parsedArgs.locale, parsedArgs.params]
      return this._fetchChoice(this._t(key, defLocale, resources, host, ...params), choice)
    }

    _fetchChoice(optionLine, choice) {
      if (typeof optionLine !== 'string') {
        console.warn(`i18n：处理复数的值定义应该为string类型：${optionLine}`)
        return null
      }

      const choices = optionLine.split('|')
      choice = this._getChoiceIndex(choice, choices.length)
      if (!choices[choice]) {
        return optionLine
      }

      return choices[choice].trim()
    }

    _getChoiceIndex(choice, len) {
      choice = Math.abs(choice)
      if (len === 2) {
        return choice ? (choice > 1 ? 1 : 0) : 1
      }
      return choice ? Math.min(choice, 2) : 0
    }
  }

  PluginI18n.install = installFactory(`PluginI18n`, PluginI18n)
  PluginI18n.version = '__VERSION__'

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  /**
   * 创建App实例
   * @param app
   * @param name
   * @param config
   * @returns {Error}
   */
  const $bootstrap = function(app, name, config) {
    console.log(`### App Framework ### 启动App---- ${name}`)

    // 验证页面‘@app-application/xxxx’
    let appName
    if (isApplication(name)) {
      appName = removeAppPrefix(name)
    } else {
      return new Error(`bootstrap: 错误App名: ${name}`)
    }

    // 验证配置信息（确保config是对象）,确保文件打包版本与Runtime版本保持兼容
    config = isPlainObject(config) ? config : {}

    // 混合到app中
    XVm.mixinApp = function(options) {
      for (const key in options) {
        // 绑定保留的生命周期
        if (XEvent$1.isReservedEvent(key)) {
          const keyName = `applc:${key}`
          app.$on(keyName, options[key])
        } else {
          console.warn(`### App Framework ### 插件定义的函数，不属于APP生命周期函数：${key}`)
        }
      }
    }

    // 安装插件
    app._plugins.push(PluginI18n)
    app._plugins.push(...app.$def.plugins)
    if (!app._pluginInstalled) {
      for (let i = 0, len = app._plugins.length; i < len; i++) {
        const pluginPass = app._plugins[i]
        let pluginItem, pluginArgs

        if (pluginPass instanceof Array) {
          // 数组形式
          pluginItem = pluginPass[0]
          pluginArgs = pluginPass.slice(1)
        } else {
          // 对象形式
          pluginItem = pluginPass
          pluginArgs = []
        }

        if (!pluginItem._installed) {
          pluginItem.install(XVm, ...pluginArgs)
          pluginItem._installed = true
        } else {
          console.warn(`### App Framework ### 插件已安装，不再安装`, JSON.stringify(pluginItem))
        }
      }
      app._pluginInstalled = true
    }

    // 当前页面名
    app.name = appName
    profiler.record(
      `### App Performance ### 触发APP创建事件[PERF:appOnCreate]开始：${new Date().toJSON()}`
    )
    profiler.time(`PERF:appOnCreate`)
    global.Env &&
      global.Env.logLevel === 'trace' &&
      console.trace(`### App Framework ### 调用App(${appName})生命周期 onCreate`)
    app.$emit('applc:onCreate')
    profiler.timeEnd(`PERF:appOnCreate`)
  }

  /**
   * 执行函数，生成对外的模块
   * @param {*} inst 模块所属的实例对象inst
   * @param {string} name 模块的名称
   * @param {*} args 生成模块所依赖的参数
   */
  function defineModule(inst, name, args) {
    // 支持2种参数形式：
    // 1. name, factory()
    // 2. name, definition{}
    let factory, definition
    if (args.length > 1) {
      definition = args[1]
    } else {
      definition = args[0]
    }
    if (typeof definition === 'function') {
      factory = definition
      definition = null
    }

    // 如果有组件的工厂函数
    if (factory) {
      // app_require 函数
      const r = name => {
        return context.quickapp.platform.requireModule(inst, removeAppPrefix(name))
      }
      const m = { exports: {} }
      profiler.record(
        `### App Performance ### 执行自定义组件函数[PERF:executeCustomCompFn:${name}]开始：${new Date().toJSON()}`
      )
      profiler.time(`PERF:executeCustomCompFn:${name}`)

      factory(r, m.exports, m, m.exports)
      definition = m.exports // 执行函数得到的定义对象
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace(`### App Framework ### 初始化组件配置`, JSON.stringify(definition))
      profiler.timeEnd(`PERF:executeCustomCompFn:${name}`)
      profiler.record(
        `### App Performance ### 执行自定义组件函数[PERF:executeCustomCompFn:${name}]结束：${new Date().toJSON()}`
      )
    }
    return definition
  }

  /**
   * 定义应用
   * @param app
   * @param name
   * @param args
   */
  const $define = function(app, name, ...args) {
    const definition = defineModule(app, name, args)

    if (isComponent(name)) {
      // 应用公共组件
      const cleanName = removeAppPrefix(name)
      // 将组件定义放入app.customComponentMap中
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace(`### App Framework ### 注册公共自定义组件 ${cleanName}`)
      defineCustomComponent(app, app, cleanName, definition)
    }

    if (isApplication(name)) {
      // 应用App数据
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace(`### App Framework ### 初始化App配置`, JSON.stringify(definition || {}))
      app.$def = definition
    }
  }

  /**
   * 封装定义函数
   * @param app app实例
   * @param inst page或者app实例
   * @param name
   * @param definition 组件函数定义
   */
  const $defineWrap = function(app, inst, name, definition) {
    // 应用定义
    const cleanName = removeAppPrefix(name)
    // 将组件定义放入app.customComponentMap中
    global.Env &&
      global.Env.logLevel === 'trace' &&
      console.trace(`### App Framework ### 注册自定义组件的包装函数 ${cleanName}`)
    defineCustomComponent(app, inst, cleanName, definition)
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  /**
   * 初始化App
   * @param inst
   * @param code
   * @returns {*}
   */
  function initApp(inst, code) {
    profiler.record(`### App Performance ### 初始化APP[PERF:initApp]开始：${new Date().toJSON()}`)
    profiler.time(`PERF:initApp`)
    global.Env &&
      global.Env.logLevel === 'trace' &&
      console.trace(`### App Framework ### 开始初始化App(${inst.id})`)

    let result

    // 准备App全局方法
    const instDefine = (...args) => {
      $define(inst, ...args)
    }
    const instBootstrap = (name, config) => {
      profiler.time(`PERF:bootstrapApp`)
      result = $bootstrap(inst, name, config)
      console.log(`### App Framework ### 完成App初始化(${inst.id})----`)
      profiler.timeEnd(`PERF:bootstrapApp`)
      profiler.record(
        `### App Performance ### 启动APP[PERF:bootstrapApp]结束：${new Date().toJSON()}`
      )
    }

    const instRequireModule = name => {
      return context.quickapp.platform.requireModule(inst, removeAppPrefix(name))
    }

    const instEvaluate = context.quickapp.dock.makeEvaluateBuildScript(null)

    // 处理代码
    let functionBody
    if (typeof code === 'function') {
      functionBody = code
    } else if (code) {
      functionBody = code.toString()
      // 重新封装代码
      functionBody = `(function(global){"use strict"; ${functionBody} \n })(Object.create(this))`
    }
    global.Env &&
      global.Env.logLevel === 'trace' &&
      console.trace(`### App Framework ### 开始编译代码----`)

    {
      // H5 渲染
      global.$app_define$ = instDefine
      global.$app_bootstrap$ = instBootstrap
      global.$app_require$ = instRequireModule
      global.$app_evaluate$ = instEvaluate

      functionBody()
    }

    profiler.timeEnd(`PERF:initApp`)
    profiler.record(`### App Performance ### 初始化APP[PERF:initApp]结束：${new Date().toJSON()}`)
    return result
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  // 本此轮询的索引
  let execPollUnique = 1

  class XExecutor {
    constructor(id, inst) {
      this.id = id
      this.inst = inst

      this.taskList = []
      this.taskHash = new Set()
      // 是否需要排序
      this.needSort = false
      // 下次回调
      this.nextTick = 0
      // 一次最多允许的回调数量
      this.warnSize = 1e4
      // 任务执行模式
      this.execMode = XExecutor.MODE.SYNC
    }

    /**
     * 加入task
     */
    join(tasks) {
      if (!Array.isArray(tasks)) {
        tasks = [tasks]
      }
      // 记录添加
      for (let i = 0, len = tasks.length; i < len; i++) {
        const task = tasks[i]
        if (!this.taskHash.has(task)) {
          this.taskList.push(task)
          this.taskHash.add(task)
          !this.needSort && (this.needSort = true)
          global.Env &&
            global.Env.logLevel === 'trace' &&
            console.trace(
              `### App Framework ### XExecutor.join() 添加单个task：${task.getter || task}`
            )
        } else {
          global.Env &&
            global.Env.logLevel === 'trace' &&
            console.trace(
              `### App Framework ### XExecutor.join() 过滤重复task：${task.getter || task}`
            )
        }
      }

      // 下次回调
      this._defineNextTick()
    }

    /**
     * 执行task
     */
    exec() {
      let result
      switch (this.execMode) {
        case XExecutor.MODE.SYNC:
          result = this._execSync()
          global.Env &&
            global.Env.logLevel === 'trace' &&
            console.trace(
              `### App Framework ### XExecutor.exec() 执行：${this.id}:${execPollUnique}`
            )
          execPollUnique++
          break
      }

      // 检查异常情况
      if (this.taskList.length > 0 || this.taskHash.size > 0) {
        throw new Error(`### App Framework ### XExecutor.exec() 异常:存在未执行的任务`)
      }

      return result
    }

    /**
     * 重置相关数据
     */
    reset() {
      this.taskList.length = 0
      this.taskHash.clear()
      this.needSort && (this.needSort = false)
    }

    _execSync() {
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace(`### App Framework ### XExecutor._execSync() 开始：${this.taskList.length}`)

      let taskLoopIndex = 0
      while (this._hasTask()) {
        // 有新加入task时,重新对任务队列进行排序
        if (this.needSort) {
          this._sort()
        }

        // 原子操作：允许再次添加
        const task = this.taskList.shift()
        this.taskHash.delete(task)

        // 执行任务,避免本次出错影响全局机制
        try {
          task.id ? task.run() : task()
        } catch (err) {
          // 抛错前重置相关数据
          this.reset()
          throw err
        }

        if (++taskLoopIndex > this.warnSize) {
          console.warn(`### App Framework ### XExecutor._execSync() 循环次数已达：${taskLoopIndex}`)
        }
      }

      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace(`### App Framework ### XExecutor._execSync() 结束：${this.taskList.length}`)
      return this.inst.doc.listener.hasActions()
    }

    /**
     * 对任务队列进行排序
     */
    _sort() {
      const subList = []
      const len = this.taskList.length
      for (let i = 0; i <= len; i++) {
        const task = this.taskList[i]

        if (task && task.id) {
          subList.push(task)
        } else if (subList.length > 0) {
          subList.sort((a, b) => a.id - b.id)
          this.taskList.splice.apply(
            this.taskList,
            [i - subList.length, subList.length].concat(subList)
          )
          subList.splice(0)
        }
      }
      this.needSort = false
    }

    /**
     * 判断任务队列中是否存在待执行任务
     */
    _hasTask() {
      return this.taskList.length > 0
    }

    _defineNextTick() {
      if (!this.nextTick) {
        this.nextTick = Promise.resolve().then(() => {
          this.nextTick = null
          if (this.inst && this.inst.$valid) {
            global.Env &&
              global.Env.logLevel === 'trace' &&
              console.trace(`### App Framework ### XExecutor._defineNextTick() Actions尝试轮询`)
            updatePageActions(this.inst)
          }
        })
      }
    }
  }

  XExecutor.MODE = {
    SYNC: 1
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  /**
   * 创建页面实例
   * @param page
   * @param name  ‘@app-component/xxxx’
   * @param config
   * @param query
   * @returns {Error}
   */
  const $bootstrap$1 = function(page, name, config, query) {
    console.log(`### App Framework ### 启动页面---- ${name}`)

    // 验证页面‘@app-component/xxxx’
    let pageName
    if (isComponent(name)) {
      pageName = removeAppPrefix(name)
    } else {
      return new Error(`bootstrap: 错误页面名: ${name}`)
    }

    // 验证配置信息（确保config是对象）,确保文件打包版本与Runtime版本保持兼容
    config = isPlainObject(config) ? config : {}

    profiler.record(`### App Performance ### 实例化页面VM[PERF:newVm]开始：${new Date().toJSON()}`)
    profiler.time(`PERF:newVm`)
    // 当前页面名
    page.name = pageName
    global.Env &&
      global.Env.logLevel === 'trace' &&
      console.trace(`### App Framework ### 创建页面VM---- ${pageName}`)
    page.vm = new XVm(null, pageName, { _page: page }, null, query, {})
    profiler.timeEnd(`PERF:newVm`)
    profiler.record(`### App Performance ### 实例化页面VM[PERF:newVm]结束：${new Date().toJSON()}`)
  }

  /**
   * 定义组件
   * @param app
   * @param name
   * @param args
   */
  const $define$1 = function(page, name, ...args) {
    global.Env &&
      global.Env.logLevel === 'trace' &&
      console.trace(`### App Framework ### 定义组件---- ${name}`)

    // 应用定义
    if (!isComponent(name)) {
      return new Error(`define: 非法组件名 ${name}, 必须是"@app-component/XXXX"格式`)
    }

    const definition = defineModule(page, name, args)

    // 应用定义
    const cleanName = removeAppPrefix(name)
    // 将组件定义放入app.customComponentMap中
    global.Env &&
      global.Env.logLevel === 'trace' &&
      console.trace(`### App Framework ### 注册自定义组件---- ${cleanName}`)
    defineCustomComponent(page.app, page, cleanName, definition)
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  /**
   * 初始化页面
   * @param page
   * @param code
   * @param query
   * @returns {*}
   */
  function initPage(page, code, query, globals) {
    profiler.record(`### App Performance ### 初始化Page[PERF:initPage]开始：${new Date().toJSON()}`)
    profiler.time(`PERF:initPage`)
    global.Env &&
      global.Env.logLevel === 'trace' &&
      console.trace(`### App Framework ### 开始初始化页面(${page.id})---- `, JSON.stringify(query))
    page.executor = new XExecutor(page.id, page)

    let result
    // 准备App全局方法
    const instDefine = (...args) => {
      $define$1(page, ...args)
    }
    const instBootstrap = (name, configs) => {
      profiler.record(
        `### App Performance ### 启动Page[PERF:bootstrapPage]开始：${new Date().toJSON()}`
      )
      profiler.time(`PERF:bootstrapPage`)
      result = $bootstrap$1(page, name, configs, query)
      page.doc.listener.createFinish()
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace(`### App Framework ### 完成实例初始化(${page.id})----`)
      profiler.timeEnd(`PERF:bootstrapPage`)
      profiler.record(
        `### App Performance ### 启动Page[PERF:bootstrapPage]结束：${new Date().toJSON()}`
      )
    }
    const instDefineWrap = (name, definition) => $defineWrap(page.app, page, name, definition)
    const instDocument = page.doc
    const instRequireModule = name => {
      return context.quickapp.platform.requireModule(page, removeAppPrefix(name))
    }

    const instEvaluate = context.quickapp.dock.makeEvaluateBuildScript(globals)

    // 处理代码
    let functionBody
    if (typeof code === 'function') {
      functionBody = code
    } else if (code) {
      functionBody = code.toString()
      // 重新封装代码
      functionBody = `(function(global){"use strict"; ${functionBody}  \n })(Object.create(this))`
    }
    global.Env &&
      global.Env.logLevel === 'trace' &&
      console.trace(`### App Framework ### 开始编译代码----`)

    {
      // H5 渲染
      global.$app_define$ = instDefine
      global.$app_bootstrap$ = instBootstrap
      global.$app_require$ = instRequireModule
      global.$app_define_wrap$ = instDefineWrap
      global.$app_evaluate$ = instEvaluate

      global.setTimeout = globals.setTimeout
      global.setInterval = globals.setInterval
      global.clearTimeout = globals.clearTimeout
      global.clearInterval = globals.clearInterval
      global.requestAnimationFrame = globals.requestAnimationFrame
      global.cancelAnimationFrame = globals.cancelAnimationFrame

      functionBody()
    }

    profiler.timeEnd(`PERF:initPage`)
    profiler.record(`### App Performance ### 初始化Page[PERF:initPage]结束：${new Date().toJSON()}`)
    return result
  }

  /**
   * 调用页面VM的生命周期事件
   * @param {object} page 对应的页面
   * @param {string} event 传入的事件名
   * @param {any} params 事件触发时的参数
   * @param {array} args 事件除了params额外携带的参数
   */
  function invokePageEvent(event, page, params, ...args) {
    let result = false
    if (page.vm && page.vm._ready) {
      result = page.vm._emit(`xlc:${event}`, params, ...args)
      updatePageActions(page)
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace(`### App Framework ### 页面(${page.id})触发事件(${event})完毕`)
    } else {
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace(`### App Framework ### 页面(${page.id})触发事件(${event})失败`)
    }
    return result
  }

  /**
   * 处理特殊事件：点击菜单
   * @param {object} page 对应的页面
   */
  function handleMenuPressEvent(page) {
    let result = false
    if (page.vm && page.vm._ready) {
      const events = page.vm._vmEvents
      const handlerList = events && events['xlc:onMenuPress']
      if (handlerList && handlerList.length) {
        result = true
      }
    }
    return result
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  // 底层传递的事件
  const VM_KEYS = {
    onShow: 'onShow',
    onHide: 'onHide',
    onBackPress: 'onBackPress',
    onMenuButtonPress: 'onMenuButtonPress',
    onKey: 'onKey',
    onMenuPress: 'onMenuPress',
    onConfigurationChanged: 'onConfigurationChanged',
    onOrientationChange: 'onOrientationChange',
    onRefresh: 'onRefresh',
    onReachTop: 'onReachTop',
    onReachBottom: 'onReachBottom',
    onPageScroll: 'onPageScroll'
  }

  function init$3(quickapp) {
    context.quickapp = quickapp

    quickapp.subscribe(APP_KEYS.initApp, args => {
      return initApp(...args)
    })

    quickapp.subscribe(APP_KEYS.initPage, args => {
      XLinker.resetTarget()
      return initPage(...args)
    })
    quickapp.subscribe(APP_KEYS.destroyPage, args => {
      XLinker.resetTarget()
      destroyPage$2(...args)
    })

    quickapp.subscribe(APP_KEYS.fireEvent, args => {
      const result = fireEvent$1(...args)
      updatePageActions(args[0])
      return result
    })

    quickapp.subscribe(APP_KEYS.callbackDone, args => {
      updatePageActions(args[0])
    })

    quickapp.subscribe(APP_KEYS.onShow, args => {
      return invokePageEvent(VM_KEYS.onShow, ...args)
    })

    quickapp.subscribe(APP_KEYS.onHide, args => {
      return invokePageEvent(VM_KEYS.onHide, ...args)
    })

    quickapp.subscribe(APP_KEYS.onBackPress, args => {
      return invokePageEvent(VM_KEYS.onBackPress, ...args)
    })

    // tv menu button
    quickapp.subscribe(APP_KEYS.onMenuButtonPress, args => {
      return invokePageEvent(VM_KEYS.onMenuButtonPress, ...args)
    })

    // tv onKey
    quickapp.subscribe(APP_KEYS.onKey, args => {
      return invokePageEvent(VM_KEYS.onKey, ...args)
    })

    quickapp.subscribe(APP_KEYS.onMenuPress, args => {
      const result = handleMenuPressEvent(...args)
      invokePageEvent(VM_KEYS.onMenuPress, ...args)
      return result
    })

    quickapp.subscribe(APP_KEYS.onConfigurationChanged, args => {
      return invokePageEvent(VM_KEYS.onConfigurationChanged, ...args)
    })

    quickapp.subscribe(APP_KEYS.onOrientationChange, args => {
      return invokePageEvent(VM_KEYS.onOrientationChange, ...args)
    })

    quickapp.subscribe(APP_KEYS.onRefresh, args => {
      return invokePageEvent(VM_KEYS.onRefresh, ...args)
    })

    quickapp.subscribe(APP_KEYS.onReachTop, args => {
      return invokePageEvent(VM_KEYS.onReachTop, ...args)
    })

    quickapp.subscribe(APP_KEYS.onReachBottom, args => {
      return invokePageEvent(VM_KEYS.onReachBottom, ...args)
    })

    quickapp.subscribe(APP_KEYS.onPageScroll, args => {
      return invokePageEvent(VM_KEYS.onPageScroll, ...args)
    })
  }

  var framework = {
    init: init$3
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  /**
   * 根据id查找元素(添加对应原生组件的接口函数)
   * @param  {string} id, 如果没有指定,则返回根节点
   * @return {Element}
   */
  function $element(id) {
    if (id === undefined) {
      return typeof this.$rootElement === 'function' && this.$rootElement()
    }

    const info = this._ids[id]
    if (info) {
      context.quickapp.dock.bindComponentMethods(info.vm._page || {}, info.element)
      return info.element
    }
  }

  /**
   * 返回当前组件根元素(添加对应原生组件的接口函数)
   * @return {Element}
   */
  function $rootElement() {
    if (this._rootElement) {
      context.quickapp.dock.bindComponentMethods(this._page || {}, this._rootElement)
      return this._rootElement
    }
  }

  /**
   * 根据Id获取vm
   * @param id
   * @returns {*}
   */
  function $child(id) {
    const info = this._ids[id]
    if (info) {
      if (info.vm._destroyed) {
        console.warn(`### App Framework ### 组件Vm(${info.vm._type})已销毁`)
      }
      return info.vm
    }
  }

  /**
   * 根据Id获取vm
   * @deprecated 请使用$child替代
   * @param id
   * @returns {*}
   */
  function $vm(id) {
    const info = this._ids[id]
    if (info) {
      return info.vm
    }
  }

  /**
   * 获取App实例配置
   */
  function $config() {
    if (this._destroyed) {
      console.error(`### App Framework ### 组件Vm(${this._type})已销毁`)
    }
    if (this._page && this._page.app && this._page.app.options) {
      return this._page.app.options
    } else {
      console.error(`### App Framework ### 获取配置失败！`)
    }
  }

  /**
   * 扩展属性
   * @type {*}
   */
  const $extend$1 =
    Object.assign ||
    function(target) {
      for (let i = 1; i < arguments.length; i++) {
        const source = arguments[i]
        for (const key in source) {
          if (Object.prototype.hasOwnProperty.call(source, key)) {
            target[key] = source[key]
          }
        }
      }
      return target
    }

  /**
   * 转换为字符串
   * @param v
   * @returns {*}
   */
  function $stringify(v) {
    const type = $typeof(v)
    switch (type) {
      case 'undefined':
      case 'null':
        return '' // 空字符串
      case 'number':
      case 'boolean':
      case 'function':
      case 'regexp':
        return v.toString()
      case 'date':
        return v.toISOString() // 日期
      case 'string':
        return v
      default:
        return JSON.stringify(v) // 其余一律转换为字符串
    }
  }

  /**
   * 创建jsx元素
   * @param type
   * @param attrs
   * @param children
   */
  function $createElement(type, attrs, children) {
    const parser = context.quickapp.platform.requireBundle('parser.js')
    const elem = {
      __jsx__: true,
      type: type,
      attr: {},
      events: {},
      style: {},
      classList: [],
      children: []
    }

    // 处理属性
    if (attrs) {
      // 属性分类
      Object.keys(attrs).forEach(key => {
        const value = attrs[key]
        if (key === 'style') {
          value.split(';').forEach(function(declarationText) {
            let k, v
            let pair = declarationText.trim().split(':')
            // 如果出现xxx:xxx:xxx的情况, 则将第一个:之后文本作为value
            if (pair.length > 2) {
              pair[1] = pair.slice(1).join(':')
              pair = pair.slice(0, 2)
            }
            if (pair.length === 2) {
              k = pair[0].trim()
              v = parser.validateStyle(k, pair[1].trim())
              if (v.value) {
                v.value.forEach(t => {
                  elem.style[t.n] = t.v
                })
              }
              if (v.log) {
                console.error('### App Parser ###', v.log)
              }
            }
          })
        } else if (key === 'class') {
          elem.classList = value.split(/\s+/)
        } else if (key === 'id') {
          elem.id = value
        } else if (key.match(/^(on|@)/)) {
          const eventName = key.replace(/^(on|@)/, '')
          if (eventName) {
            elem.events[eventName] = value
          }
        } else {
          elem.attr[key] = value
        }
      })
    }

    // 处理子节点（children数据扁平化处理）
    function textElement(parent, value) {
      return {
        type: parent === 'text' ? 'span' : 'text',
        attr: {
          value: $stringify(value)
        }
      }
    }

    // 扁平化
    function flatArray(arr, output) {
      arr.forEach(item => {
        if (Array.isArray(item)) {
          flatArray(item, output)
        } else {
          if (type === 'span' || type === 'a') {
            output.attr.value = item
          } else {
            output.children.push(isJsxNode(item) ? item : textElement(type, item))
          }
        }
      })
    }

    // 是否为jsx节点
    function isJsxNode(item) {
      return $typeof(item) === 'object' && item.__jsx__
    }

    if (children && children.length) {
      children.forEach(item => {
        if (Array.isArray(item)) {
          flatArray(item, elem)
        } else if (item != null) {
          // item可能为空
          if (type === 'span' || type === 'a') {
            elem.attr.value = $stringify(item)
          } else {
            elem.children.push(isJsxNode(item) ? item : textElement(type, item))
          }
        }
      })
    }

    return elem
  }

  const methods = {
    $child,
    $vm,
    $element,
    $rootElement,
    $config,
    $createElement,
    $extend: $extend$1,
    $stringify
  }

  // 給Vm原型注册方法
  XVm.registerMethods(methods)

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */
  global.registerDsl(framework)

  function styleInject(css, ref) {
    if (ref === void 0) {
      ref = {}
    }
    var insertAt = ref.insertAt

    if (!css || typeof document === 'undefined') {
      return
    }

    var head = document.head || document.getElementsByTagName('head')[0]
    var style = document.createElement('style')
    style.type = 'text/css'

    if (insertAt === 'top') {
      if (head.firstChild) {
        head.insertBefore(style, head.firstChild)
      } else {
        head.appendChild(style)
      }
    } else {
      head.appendChild(style)
    }

    if (style.styleSheet) {
      style.styleSheet.cssText = css
    } else {
      style.appendChild(document.createTextNode(css))
    }
  }

  var css_248z =
    '*{margin:0;padding:0;border-width:0;text-size-adjust:none}html{cursor:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDAgNzkuMTYwNDUxLCAyMDE3LzA1LzA2LTAxOjA4OjIxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+LUNEtwAAASNJREFUOI2lkzFOm0EQRt83i+XGVkQB6UBBSUXlFgosuANRLsFhuARSuAIornwDKiSgBiQoXezsRwEmxkIiP3nlzPdmVlqNRqMRmUlmUkqhtbZpe0fSFrDOM7fAdWZOJd285LDNCgu01n4BY0kssQFslFL2bE+Ak3kjFsJHwHjZXEbS2PbR64BaK7Z/Str+SF5gGziURNRav9re7yA/b444ANYiIjrLc2yPQ9L3T8pExI+w/eWzLwBWA2j/MYDIzMd3/v1feYjBYHBZa+1sSqK1dhmz2ezPvNCViJhEr9e77/f7Z5nZSbZ9DtzFcDiklHJq+6KDf2H7d2uNyExsI+kYmHywFUmTlyzA22sETmxPJe0C3/h7zneSrmxPW2s3pZRX4QnsXH+em4VqRwAAAABJRU5ErkJggg==") 8 8,auto}div::-webkit-scrollbar,root::-webkit-scrollbar,tab-bar::-webkit-scrollbar{display:none}#hap,body,html{width:100%;height:100%;background-color:#fff;font-size:.4rem;font-family:sans-serif,PingFang SC;color:rgba(0,0,0,.545)}ol,ul{list-style:none}input:active,input:focus,textarea:active,textarea:focus{outline:none}textarea::-webkit-input-placeholder{color:var(--placeholder-color)}.root-container{height:100%;width:100%;overflow-x:hidden;overflow-y:scroll;display:block}.root-container>div{margin:0 auto;pointer-events:auto}.hap-container,.hap-div{box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:flex;flex:0 1 auto;max-width:100%}.hap-div{pointer-events:none;overflow:hidden}.hap-a{pointer-events:auto;overflow:hidden}.hap-richtext{pointer-events:auto;width:-webkit-fill-available;text-size-adjust:200%;padding-bottom:20px}.hap-container-bak{-webkit-box-orient:vertical;-webkit-flex-direction:column;flex-direction:column;align-items:stretch;box-align:stretch;align-content:flex-start}.hap-container-bak,.hap-element{-webkit-flex-grow:0;flex-grow:0;-webkit-flex-basis:auto;flex-basis:auto;position:relative;border:0 solid #000;margin:0;padding:0;min-width:0}.hap-element{box-sizing:border-box;-webkit-flex-shrink:0;flex-shrink:0;width:auto;white-space:normal;pointer-events:auto}.hap-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-box-pack:center;word-break:break-word;box-sizing:border-box;line-height:normal;z-index:0;text-align:left;width:fit-content;white-space:pre-line}.hap-marquee{white-space:nowrap}.hap-text-center{display:flex;align-items:center}.hap-stack{display:block;position:relative;width:-webkit-fill-available}.hap-stack-wrap{display:flex;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;flex-direction:inherit;justify-content:inherit;align-items:inherit}.hap-web{flex:1 1 auto;overflow:auto}.page-push{animation:push-animation .3s;position:relative}.page-back{animation:back-animation .3s;position:relative}@keyframes push-animation{0%{transform:translateX(100%)}to{transform:translateX(0)}}@keyframes back-animation{0%{transform:translateX(-100%)}to{transform:translateX(0)}}'
  styleInject(css_248z)

  let componentList = [
    {
      name: 'a',
      methods: []
    },
    {
      name: 'div',
      methods: []
    },
    {
      name: 'image',
      methods: ['startAnimation', 'stopAnimation']
    },
    {
      name: 'popup',
      methods: []
    },
    {
      name: 'rating',
      methods: []
    },
    {
      name: 'refresh',
      methods: []
    },
    {
      name: 'select',
      methods: []
    },
    {
      name: 'slider',
      methods: []
    },
    {
      name: 'progress',
      methods: []
    },
    {
      name: 'tabs',
      methods: []
    },
    {
      name: 'tab-bar',
      methods: []
    },
    {
      name: 'tab-content',
      methods: []
    },
    {
      name: 'switch',
      methods: []
    },
    {
      name: 'text',
      methods: []
    },
    {
      name: 'richtext',
      methods: []
    },
    {
      name: 'list-item',
      methods: []
    },
    {
      name: 'list',
      methods: ['scrollTo', 'scrollBy']
    },
    {
      name: 'swiper',
      methods: ['swipeTo']
    },
    {
      name: 'input',
      methods: ['focus', 'select', 'setSelectionRange', 'getSelectionRange']
    },
    {
      name: 'picker',
      methods: ['show']
    },
    {
      name: 'textarea',
      methods: ['focus', 'select', 'setSelectionRange', 'getSelectionRange']
    },
    {
      name: 'video',
      methods: ['start', 'pause', 'setCurrentTime', 'requestFullscreen', 'exitFullscreen']
    },
    {
      name: 'canvas',
      methods: ['getContext']
    },
    {
      name: 'stack',
      methods: ['requestFullscreen']
    },
    {
      name: 'web',
      methods: [
        'reload',
        'forward',
        'back',
        'canForward',
        'canBack',
        'postMessage',
        'isSupportWebRTC'
      ]
    },
    {
      name: 'map',
      methods: [
        'getCenterLocation',
        'translateMarker',
        'moveToMyLocation',
        'includePoints',
        'getRegion',
        'getScale',
        'getSupportedCoordTypes',
        'getCoordType',
        'convertCoord',
        'setCompassPosition',
        'setScalePosition',
        'setZoomPosition'
      ]
    },
    {
      name: 'custommarker',
      methods: []
    },
    {
      name: 'marquee',
      methods: ['start', 'stop']
    },
    {
      name: 'drawer',
      methods: ['openDrawer', 'closeDrawer']
    },
    {
      name: 'camera',
      methods: [
        'takePhoto',
        'setSceneMode',
        'setPreviewFpsRange',
        'setExposureCompensation',
        'getExposureCompensationRange',
        'getSupportedPreviewFpsRange',
        'getExposureCompensation',
        'getPreviewFpsRange',
        'startRecord',
        'stopRecord'
      ]
    }
  ]

  // 组件通用方法
  const commonMethods = ['toTempFilePath', 'getBoundingClientRect']

  componentList = componentList.map(component => {
    Array.prototype.push.apply(component.methods, commonMethods)
    return component
  })

  const config$1 = {
    version: '0.5.0',
    debug: false,
    validRoots: ['div', 'list', 'vlist', 'scroller'],
    downgrade: {
      // root: true
    },
    componentList
  }

  const defaultManifest = {
    package: 'com.example.demo',
    name: 'demo',
    icon: 'https://quickapp.vivo.com.cn/content/images/2019/03/quickapp-logo-4.png',
    versionCode: 1,
    config: {},
    router: {
      entry: '',
      pages: {}
    }
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  function supportRender$1(node) {
    return node._render
  }

  function renderParent$1(node, includeSelf = false) {
    let nodeTmp = includeSelf ? node : node.parentNode
    while (nodeTmp && !supportRender$1(nodeTmp)) {
      nodeTmp = nodeTmp.parentNode
    }
    return nodeTmp
  }

  function renderParents$1(node, includeSelf = false) {
    const list = []
    let nodeTmp = renderParent$1(node, includeSelf)
    while (nodeTmp) {
      list.push(nodeTmp)
      nodeTmp = renderParent$1(nodeTmp)
    }
    return list
  }

  /**
   * 节点的样式缓存，进行排序
   * @param usedCSSPropertyMap
   * @param nodeStyleCache
   * @return {*}
   */
  function sortNodeStyleCache(nodeStyleCache) {
    const cssRuleList = []

    // 收集：TAG, CLASS, ID, INLINE
    for (const k in nodeStyleCache) {
      const v = nodeStyleCache[k]
      if (v && v.length) {
        cssRuleList.push.apply(cssRuleList, v)
      }
    }

    // 排序
    cssRuleList.sort((prev, next) => {
      return prev.score.sum - next.score.sum
    })

    return cssRuleList
  }

  /**
   * 合并节点的样式Style
   * @param usedCSSPropertyMap
   * @param nodeStyleCache
   * @return {*}
   */
  function mergeNodeStyle(usedCSSPropertyMap, nodeStyleCache) {
    if (!nodeStyleCache) {
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace(`### App Runtime ### 计算节点CSS样式优先级 没有样式缓存对象，不再计算`)
      return {}
    }

    const cssRuleList = sortNodeStyleCache(nodeStyleCache)

    // 只有style
    const cssRuleStyleList = cssRuleList.map(info => info.style)

    global.Env &&
      global.Env.logLevel === 'trace' &&
      console.trace(
        `### App Runtime ### 按照优先级合并节点样式：`,
        cssRuleList.map(info => `"${info.name}"`).join(' < ')
      )
    const styleHash = Object.assign({}, ...cssRuleStyleList)

    const propertyList = Object.keys(Object.assign({}, usedCSSPropertyMap, styleHash))
    for (let i = 0, len = propertyList.length; i < len; i++) {
      const propertyName = propertyList[i]
      if (styleHash[propertyName] !== undefined && usedCSSPropertyMap[propertyName] === undefined) {
        // 新增
        usedCSSPropertyMap[propertyName] = true
      } else if (
        styleHash[propertyName] === undefined &&
        usedCSSPropertyMap[propertyName] !== undefined
      ) {
        // 保留原有
        styleHash[propertyName] = ''
      }
    }

    return styleHash
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  // 各中选择器中规则的优先级分数
  const WEIGHT = {
    TAG: 1,
    CLASS: 1e3,
    ID: 1e6,
    // 与order的间隔
    STEP: 1e6,
    // 内联最高
    INLINE: 1e9
  }

  // 选择器的类型
  const CSSStyleRuleType = {
    TAG: 1,
    CLASS: 2,
    ID: 3,
    DESC: 4,
    INLINE: 5
  }

  // 类似CSSStyleRule：记录Selector的完整信息
  const CSSStyleRuleDef = {
    // 选择器的声明名称
    name: null,
    // 选择器类型
    type: null,
    // 优先级分数对象: { self：仅权重之和, sum：self + order }
    score: null,
    // 在所有CSS声明中的先后顺序
    order: 0,
    // 样式信息
    style: null,
    // 所属样式表
    _sheetId: null,
    // 匹配的元素缓存
    _hitNodeMap: null,
    // 调试时的信息，仅调试用到，如：是否禁用
    _styleFullList: null
  }

  /**
   * 实例化TAG选择器对象
   * @param info
   * @return {*}
   */
  function createCssRuleTagInfo(info) {
    const item = Object.assign(
      {},
      CSSStyleRuleDef,
      {
        type: CSSStyleRuleType.TAG,
        score: { self: WEIGHT.TAG, depth: 1 },
        _hitNodeMap: {}
      },
      info
    )
    // 计算分数
    item.score.sum = item.score.self * WEIGHT.STEP + item.order
    return item
  }

  /**
   * 实例化Class选择器对象
   * @param info
   * @return {*}
   */
  function createCssRuleClassInfo(info) {
    const item = Object.assign(
      {},
      CSSStyleRuleDef,
      {
        type: CSSStyleRuleType.CLASS,
        score: { self: WEIGHT.CLASS, depth: 1 },
        _hitNodeMap: {}
      },
      info
    )
    // 计算分数
    item.score.sum = item.score.self * WEIGHT.STEP + item.order
    return item
  }

  /**
   * 实例化ID选择器对象
   * @param info
   * @return {*}
   */
  function createCssRuleIdInfo(info) {
    const item = Object.assign(
      {},
      CSSStyleRuleDef,
      {
        type: CSSStyleRuleType.ID,
        score: { self: WEIGHT.ID, depth: 1 },
        _hitNodeMap: {}
      },
      info
    )
    // 计算分数
    item.score.sum = item.score.self * WEIGHT.STEP + item.order
    return item
  }

  /**
   * 实例化后代选择器对象
   * @param info
   * @return {*}
   */
  function createCssRuleDescInfo(info) {
    const item = Object.assign(
      {},
      CSSStyleRuleDef,
      {
        type: CSSStyleRuleType.DESC,
        _hitNodeMap: {}
      },
      info
    )
    // 计算分数
    item.score = _calculateDescScore(item.meta.ruleDef, item.order)
    item.score.sum = item.score.self * WEIGHT.STEP + item.order
    return item
  }

  /**
   * 实例化内联样式
   * @param info
   * @return {*}
   */
  function createCssRuleInlineInfo(info) {
    const item = Object.assign(
      {},
      CSSStyleRuleDef,
      {
        name: 'INLINE',
        type: CSSStyleRuleType.INLINE,
        score: { self: WEIGHT.INLINE },
        _hitNodeMap: {}
      },
      info
    )
    // 计算分数
    item.score.sum = item.score.self * WEIGHT.STEP + item.order
    return item
  }

  /**
   * 计算后代选择器的分数
   * @param ruleTypeList
   * @param order
   */
  function _calculateDescScore(ruleTypeList, order) {
    const hash = {
      id: 0,
      class: 0,
      tag: 0,
      self: 0,
      depth: 1
    }
    // 分别计算
    for (let i = 0, len = ruleTypeList.length; i < len; i++) {
      const ruleTypeItem = ruleTypeList[i]

      if (isSelectorRuleTypeTag(ruleTypeItem)) {
        hash.tag += 1
      } else if (isSelectorRuleTypeId(ruleTypeItem)) {
        hash.id += 1
      } else if (isSelectorRuleTypeClass(ruleTypeItem)) {
        hash.class += 1
      } else if (isSelectorRuleTypePointer(ruleTypeItem)) {
        hash.depth += 1
      }
    }
    // 求和，方便排序
    hash.self = hash.id * WEIGHT.ID + hash.class * WEIGHT.CLASS + hash.tag * WEIGHT.TAG

    return {
      self: hash.self,
      depth: hash.depth
    }
  }

  /**
   * CSS选择器中某个规则类型为tag匹配
   * @param ruleTypeItem
   * @return {boolean}
   */
  function isSelectorRuleTypeTag(ruleTypeItem) {
    return ruleTypeItem.type === 'tag'
  }

  /**
   * CSS选择器中某个规则类型为class匹配
   * @param ruleTypeItem
   * @return {boolean}
   */
  function isSelectorRuleTypeClass(ruleTypeItem) {
    return ruleTypeItem.type === 'attribute' && ruleTypeItem.name === 'class'
  }

  /**
   * CSS选择器中某个规则类型为id匹配
   * @param ruleTypeItem
   * @return {boolean}
   */
  function isSelectorRuleTypeId(ruleTypeItem) {
    return ruleTypeItem.type === 'attribute' && ruleTypeItem.name === 'id'
  }

  /**
   * CSS选择器中某个规则类型为指向孩子或后代节点
   * @param ruleTypeItem
   * @return {boolean}
   */
  function isSelectorRuleTypePointer(ruleTypeItem) {
    return ruleTypeItem.type === 'descendant' || ruleTypeItem.type === 'child'
  }

  function saveNodeInCssRule(cssRule, nodeRef) {
    cssRule._hitNodeMap[nodeRef] = true
  }

  function removeNodeInCssRule(cssRule, nodeRef) {
    delete cssRule._hitNodeMap[nodeRef]
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  /**
   * 节点是否匹配某项CSS规则
   * @param cssRule
   * @param node
   */
  function isNodeMatchCssRule(cssRule, node) {
    let result
    switch (cssRule.type) {
      case CSSStyleRuleType.TAG:
        const matchT = cssRule.name === node._type
        result = { match: matchT, matchChanged: false, pathChanged: false }
        break
      case CSSStyleRuleType.CLASS:
        const matchC = getNodeAttrClassList(node).indexOf(cssRule.name.substring(1)) !== -1
        result = { match: matchC, matchChanged: false, pathChanged: false }
        break
      case CSSStyleRuleType.ID:
        const matchI = getNodeAttributesAsObject(node).id === cssRule.name.substring(1)
        result = { match: matchI, matchChanged: false, pathChanged: false }
        break
      case CSSStyleRuleType.DESC:
        result = isNodeMatchDescSelector(cssRule, node)
        break
      default:
        throw new Error(`不支持的CSS规则类型：${cssRule.type}`)
    }

    // 记录下来，待cssRule更新时通知
    if (result.match) {
      saveNodeInCssRule(cssRule, node.ref)
    } else {
      removeNodeInCssRule(cssRule, node.ref)
    }

    return result
  }

  /**
   * 节点是否满足选择器规则
   * @desc 当前的查询匹配仅限于DomElement
   * @param descCssRule {CssRule}
   * @param node {DomElement}
   */
  function isNodeMatchDescSelector(descCssRule, node) {
    const ruleTypeList = descCssRule.meta.ruleDef
    const nowMatchPathList = []
    let nodeList = [node]
    for (let i = ruleTypeList.length - 1; i >= 0; i--) {
      const ruleTypeItem = ruleTypeList[i]
      const isLast = i === ruleTypeList.length - 1
      nodeList = queryByRuleTypeItem(ruleTypeItem, nodeList)
      if (nodeList.length === 0 || node._depth < descCssRule.score.depth) {
        return _genMatchResult(descCssRule, node, false, [])
      } else {
        if (!isLast && ['descendant', 'child'].indexOf(ruleTypeItem.type) === -1) {
          nowMatchPathList.push(nodeList[0].ref)
        }
      }
    }
    return _genMatchResult(descCssRule, node, true, nowMatchPathList)
  }

  /**
   * 获取匹配的结果信息
   * @param cssRule
   * @param node
   * @param match
   * @param nowMatchPathList
   * @private
   */
  function _genMatchResult(cssRule, node, match, nowMatchPathList) {
    const result = {
      // 是否匹配
      match: match,
      // 匹配与之前的是否变化
      matchChanged: null,
      // 匹配路径是否变化
      pathChanged: null
    }

    if (match) {
      // 匹配成功时
      const preMatchPathList = node._ownCssRuleCache[cssRule.order]
      if (preMatchPathList) {
        if (preMatchPathList.join(',') === nowMatchPathList.join(',')) {
          result.matchChanged = false
          result.pathChanged = false
        } else {
          result.matchChanged = false
          result.pathChanged = true
        }
      } else {
        result.matchChanged = true
        result.pathChanged = true
      }
      node._ownCssRuleCache[cssRule.order] = nowMatchPathList
    } else {
      // 匹配失败时
      const preMatchPathList = node._ownCssRuleCache[cssRule.order]
      if (preMatchPathList) {
        result.matchChanged = true
        result.pathChanged = true
      } else {
        result.matchChanged = false
        result.pathChanged = false
      }
      node._ownCssRuleCache[cssRule.order] = null
    }

    global.Env &&
      global.Env.logLevel === 'trace' &&
      console.trace(
        `### App Runtime ### 节点(${node._type}:${node.ref})与后代CSS规则(${
          cssRule.name
        })的匹配计算：${JSON.stringify(result)}`
      )
    return result
  }

  /**
   * 获取满足某一项规则的节点列表
   * @param ruleTypeItem
   * @param nodeList {Array}
   * @return {Array}
   */
  function queryByRuleTypeItem(ruleTypeItem, nodeList) {
    const ruleTypeName = ruleTypeItem.type
    switch (ruleTypeName) {
      case 'attribute':
        // id, class
        return queryByRuleTypeAttribute(ruleTypeItem, nodeList)
      case 'tag':
        // 标签名
        return queryByRuleTypeTag(ruleTypeItem, nodeList)
      case 'descendant':
        // 所有后代
        return queryByRuleTypeDesc(ruleTypeItem, nodeList)
      case 'child':
        // 直接后代
        return queryByRuleTypeChild(ruleTypeItem, nodeList)
      default:
        console.warn(
          `### App Runtime ### 未知的CSS Selector规则：${ruleTypeName}，当前支持：tag, class, id, 后代, '>'`
        )
        return []
    }
  }

  /**
   * 是否满足class, id
   * @param ruleTypeItem
   * @param nodeList {Array}nodeList
   * @return {Array}
   */
  function queryByRuleTypeAttribute(ruleTypeItem, nodeList) {
    if (isSelectorRuleTypeClass(ruleTypeItem)) {
      const item = nodeList.find(
        node => getNodeAttrClassList(node).indexOf(ruleTypeItem.value) !== -1
      )
      return item ? [item] : []
    } else if (isSelectorRuleTypeId(ruleTypeItem)) {
      const item = nodeList.find(node => getNodeAttributesAsObject(node).id === ruleTypeItem.value)
      return item ? [item] : []
    } else {
      console.warn(
        `### App Runtime ### 未知的CSS Selector规则：${ruleTypeItem.name}，当前支持：class, id`
      )
      return []
    }
  }

  /**
   * 获取满足标签名称为指定名称的节点列表
   * @param ruleTypeItem
   * @param nodeList {Array}
   * @return {Array}
   */
  function queryByRuleTypeTag(ruleTypeItem, nodeList) {
    const item = nodeList.find(node => node._type === ruleTypeItem.name)
    return item ? [item] : []
  }

  /**
   * 获取满足所有后代的节点列表
   * @param ruleTypeItem
   * @param nodeList {Array}
   * @return {Array}
   */
  function queryByRuleTypeDesc(ruleTypeItem, nodeList) {
    const ret = []
    for (let i = 0, len = nodeList.length; i < len; i++) {
      const node = nodeList[i]
      ret.push.apply(ret, renderParents$1(node))
    }
    return ret
  }

  /**
   * 获取满足直接后代的节点列表
   * @param ruleTypeItem
   * @param nodeList {Array}
   * @return {Array}
   */
  function queryByRuleTypeChild(ruleTypeItem, nodeList) {
    const ret = []
    for (let i = 0, len = nodeList.length; i < len; i++) {
      const node = nodeList[i]
      const parent = renderParent$1(node)
      parent && ret.push(parent)
    }
    return ret
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  /**
   * 在节点上定义编译后的样式对象定义
   * @param document
   * @param styleObjectId
   * @param styleSheetInst
   * @param isDocLevel
   * @param node
   */
  function defineNodeStyleSheet(document, styleObjectId, styleSheetInst, isDocLevel, node) {
    // 注册
    if (styleObjectId) {
      document._styleSheetHash[styleObjectId] = styleSheetInst
    }

    if (isDocLevel) {
      document._styleSheetHash[0].push(styleSheetInst)
    } else {
      node._styleObjectId = styleObjectId
    }
  }

  /**
   * 获取文档中定义的样式表
   * @param docId
   * @param styleObjectId
   * @return {null}
   */
  function getDocumentStyleSheetById(docId, styleObjectId) {
    const document = getDocument(docId)
    if (document) {
      return document._styleSheetHash[styleObjectId]
    }
    return null
  }

  /**
   * 获取节点所依赖的样式表列表
   * @param node
   * @return {Array}
   */
  function getNodeStyleSheetList(node) {
    const list = []
    let curr = node

    const docId = node._docId
    const doc = getDocument(docId)

    // 公共
    const shareList = doc._styleSheetHash[0]
    list.push(...shareList)

    if (node._useParentStyle) {
      curr = node.parentNode
    }

    // 私有
    while (curr && !curr._styleObjectId) {
      curr = curr.parentNode
    }
    if (curr && curr._styleObjectId) {
      const currInst = getDocumentStyleSheetById(docId, curr._styleObjectId)
      if (currInst && list.indexOf(currInst) === -1) {
        list.push(currInst)
      }
    }

    global.Env &&
      global.Env.logLevel === 'trace' &&
      console.trace(
        `### App Runtime ### 获取节点(${node.ref}:${node._type})的样式表:${list
          .map(inst => inst.id)
          .join(',')}`
      )
    return list
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  /**
   * 计算节点的样式
   * @param node
   * @param calcType {CSSStyleRuleType}
   */
  function calcNodeStyle(node, calcType) {
    const doc = getDocument(node._docId)
    if (!doc) {
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace(
          `### App Runtime ### calcNodeStyle() 节点(${node.ref}:${node._type})暂无关联document`
        )
      return
    } else {
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace(
          `### App Runtime ### calcNodeStyle() 节点(${node.ref}:${node._type})计算类型：${calcType}`
        )
    }

    // 置空之前计算的结果缓存
    node._mergedStyleCache = null
    // 清空之前计算的分类缓存
    if (!calcType || calcType === CSSStyleRuleType.INLINE) {
      const existedCache = node._matchedCssRuleCache[CSSStyleRuleType.INLINE]
      node._matchedCssRuleCache[CSSStyleRuleType.INLINE] = existedCache || []
    }
    if (!calcType || calcType === CSSStyleRuleType.TAG) {
      node._matchedCssRuleCache[CSSStyleRuleType.TAG] = []
    }
    if (!calcType || calcType === CSSStyleRuleType.CLASS) {
      node._matchedCssRuleCache[CSSStyleRuleType.CLASS] = []
    }
    if (!calcType || calcType === CSSStyleRuleType.ID) {
      node._matchedCssRuleCache[CSSStyleRuleType.ID] = []
    }

    let cssRuleDefList,
      matchedListSimple,
      matchedListDesc,
      matchedListAll,
      cssRuleDefListCacheInParent

    const nodeStyle = getNodeInlineStyleAsObject(node)
    // 先计算内联样式：它不依赖于样式表
    if (!calcType || calcType === CSSStyleRuleType.INLINE) {
      // inline样式
      cssRuleDefList = node._matchedCssRuleCache[CSSStyleRuleType.INLINE]
      // 新增或复用
      if (!cssRuleDefList.length) {
        cssRuleDefList.push(
          createCssRuleInlineInfo({
            style: nodeStyle
          })
        )
      } else {
        cssRuleDefList[0].style = nodeStyle
      }

      // 仅计算内联
      if (calcType === CSSStyleRuleType.INLINE) {
        return
      }
    }

    // 样式节点列表
    const styleSheetInstList = getNodeStyleSheetList(node)

    for (let i = 0, len = styleSheetInstList.length; i < len; i++) {
      const styleSheetInst = styleSheetInstList[i]
      const styleSheetInstId = styleSheetInst.id

      const nameHash = styleSheetInst.nameHash
      const descLast = styleSheetInst.descLast

      if (!calcType || calcType === CSSStyleRuleType.TAG) {
        cssRuleDefList = node._matchedCssRuleCache[CSSStyleRuleType.TAG]
        const nodeType = node._type
        // 缓存获取
        cssRuleDefListCacheInParent = getCssRuleInNodeParentCache()
        if (cssRuleDefListCacheInParent) {
          cssRuleDefList.push.apply(cssRuleDefList, cssRuleDefListCacheInParent)
        } else {
          matchedListSimple = matchedListDesc = []
          // 简单
          if (nameHash.hasOwnProperty(nodeType)) {
            matchedListSimple = _getMatchedStyleForSimple([nameHash[nodeType]], node)
          }
          // 后代
          const typeDefList = (descLast[nodeType] && descLast[nodeType].list) || []
          if (typeDefList.length > 0) {
            matchedListDesc = _getMatchedStyleForDesc(typeDefList, node)
          }
          matchedListAll = matchedListSimple.concat(matchedListDesc)
          cssRuleDefList.push.apply(cssRuleDefList, matchedListAll)
          // 更新缓存
          // saveCssRuleInNodeParentCache(node, styleSheetInstId, nodeType, matchedListAll)
        }
      }

      const nodeClassList = getNodeAttrClassList(node)
      if (nodeClassList.length > 0 && (!calcType || calcType === CSSStyleRuleType.CLASS)) {
        cssRuleDefList = node._matchedCssRuleCache[CSSStyleRuleType.CLASS]
        // 转换
        const wrapClassList = nodeClassList.map(name => `.${name}`)
        for (let i = 0, len = wrapClassList.length; i < len; i++) {
          const wrapClassName = wrapClassList[i]
          // 缓存获取
          cssRuleDefListCacheInParent = getCssRuleInNodeParentCache()
          if (cssRuleDefListCacheInParent) {
            cssRuleDefList.push.apply(cssRuleDefList, cssRuleDefListCacheInParent)
          } else {
            matchedListSimple = matchedListDesc = []
            // 简单
            if (nameHash.hasOwnProperty(wrapClassName)) {
              matchedListSimple = _getMatchedStyleForSimple([nameHash[wrapClassName]], node)
            }
            // 后代
            if (descLast[wrapClassName]) {
              const typeDefList = descLast[wrapClassName].list || []
              matchedListDesc = _getMatchedStyleForDesc(typeDefList, node)
            }
            matchedListAll = matchedListSimple.concat(matchedListDesc)
            cssRuleDefList.push.apply(cssRuleDefList, matchedListAll)
            // 更新缓存
            // saveCssRuleInNodeParentCache(node, styleSheetInstId, wrapClassName, matchedListAll)
          }
        }
      }

      if (getNodeAttributesAsObject(node).id && (!calcType || calcType === CSSStyleRuleType.ID)) {
        cssRuleDefList = node._matchedCssRuleCache[CSSStyleRuleType.ID]
        const attrId = getNodeAttributesAsObject(node).id
        const attrIdSelector = `#${attrId}`
        // 缓存获取
        cssRuleDefListCacheInParent = getCssRuleInNodeParentCache()
        if (cssRuleDefListCacheInParent) {
          cssRuleDefList.push.apply(cssRuleDefList, cssRuleDefListCacheInParent)
        } else {
          matchedListSimple = matchedListDesc = []
          // 简单
          if (attrId && nameHash.hasOwnProperty(attrIdSelector)) {
            matchedListSimple = _getMatchedStyleForSimple([nameHash[attrIdSelector]], node)
          }
          // 后代
          const typeDefList = (descLast[attrIdSelector] && descLast[attrIdSelector].list) || []
          if (attrId && typeDefList.length > 0) {
            matchedListDesc = _getMatchedStyleForDesc(typeDefList, node)
          }
          matchedListAll = matchedListSimple.concat(matchedListDesc)
          cssRuleDefList.push.apply(cssRuleDefList, matchedListAll)
          // 更新缓存
          // saveCssRuleInNodeParentCache(node, styleSheetInstId, attrIdSelector, matchedListAll)
        }
      }
    }
  }

  /**
   * 获取节点在各个Selector下的样式列表
   * @param cssRuleList
   * @param node
   * @return {Array}
   */
  function _getMatchedStyleForSimple(cssRuleList, node) {
    const matchedList = []
    // 非后代
    for (let i = 0, len = cssRuleList.length; i < len; i++) {
      const cssRuleItem = cssRuleList[i]
      if (isNodeMatchCssRule(cssRuleItem, node).match) {
        matchedList.push(cssRuleItem)
      }
    }
    return matchedList
  }

  /**
   * 获取节点在各个Selector下的样式列表
   * @param nameHash
   * @param cssRuleList
   * @param node
   * @return {Array}
   */
  function _getMatchedStyleForDesc(cssRuleList, node) {
    const matchedList = []
    // 后代
    for (let i = 0; i < cssRuleList.length; i++) {
      const cssRuleItem = cssRuleList[i]
      if (isNodeMatchCssRule(cssRuleItem, node).match) {
        matchedList.push(cssRuleItem)
      }
    }
    return matchedList
  }

  function getCssRuleInNodeParentCache() {
    return false
  }

  function isArray(arr) {
    return Array.isArray
      ? Array.isArray(arr)
      : Object.prototype.toString.call(arr) === '[object Array]'
  }

  function slice(arr, start, end) {
    if (isArray(arr)) {
      return arr.slice(start, end)
    }
    const slice = Array.prototype.slice
    return slice.call(arr, start, end)
  }

  var commonjsGlobal =
    typeof globalThis !== 'undefined'
      ? globalThis
      : typeof window !== 'undefined'
      ? window
      : typeof global !== 'undefined'
      ? global
      : typeof self !== 'undefined'
      ? self
      : {}

  function unwrapExports(x) {
    return x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default')
      ? x['default']
      : x
  }

  function createCommonjsModule(fn, module) {
    return (module = { exports: {} }), fn(module, module.exports), module.exports
  }

  var parse_1 = createCommonjsModule(function(module, exports) {
    Object.defineProperty(exports, '__esModule', { value: true })
    exports.default = parse
    var reName = /^(?:\\([\da-f]{1,6}\s?|(\s)|.)|[\w\-\u00b0-\uFFFF])+/,
      reEscape = /\\([\da-f]{1,6}\s?|(\s)|.)/gi,
      //modified version of https://github.com/jquery/sizzle/blob/master/src/sizzle.js#L87
      reAttr = /^\s*((?:\\.|[\w\u00b0-\uFFFF-])+)\s*(?:(\S?)=\s*(?:(['"])([^]*?)\3|(#?(?:\\.|[\w\u00b0-\uFFFF-])*)|)|)\s*(i)?\]/
    var actionTypes = {
      undefined: 'exists',
      '': 'equals',
      '~': 'element',
      '^': 'start',
      $: 'end',
      '*': 'any',
      '!': 'not',
      '|': 'hyphen'
    }
    var Traversals = {
      '>': 'child',
      '<': 'parent',
      '~': 'sibling',
      '+': 'adjacent'
    }
    var attribSelectors = {
      '#': ['id', 'equals'],
      '.': ['class', 'element']
    }
    //pseudos, whose data-property is parsed as well
    var unpackPseudos = new Set(['has', 'not', 'matches'])
    var stripQuotesFromPseudos = new Set(['contains', 'icontains'])
    var quotes = new Set(['"', "'"])
    //unescape function taken from https://github.com/jquery/sizzle/blob/master/src/sizzle.js#L152
    function funescape(_, escaped, escapedWhitespace) {
      var high = parseInt(escaped, 16) - 0x10000
      // NaN means non-codepoint
      return high !== high || escapedWhitespace
        ? escaped
        : high < 0
        ? // BMP codepoint
          String.fromCharCode(high + 0x10000)
        : // Supplemental Plane codepoint (surrogate pair)
          String.fromCharCode((high >> 10) | 0xd800, (high & 0x3ff) | 0xdc00)
    }
    function unescapeCSS(str) {
      return str.replace(reEscape, funescape)
    }
    function isWhitespace(c) {
      return c === ' ' || c === '\n' || c === '\t' || c === '\f' || c === '\r'
    }
    function parse(selector, options) {
      var subselects = []
      selector = parseSelector(subselects, selector + '', options)
      if (selector !== '') {
        throw new Error('Unmatched selector: ' + selector)
      }
      return subselects
    }
    function parseSelector(subselects, selector, options) {
      var tokens = [],
        sawWS = false
      function getName() {
        var match = selector.match(reName)
        if (!match) {
          throw new Error('Expected name, found ' + selector)
        }
        var sub = match[0]
        selector = selector.substr(sub.length)
        return unescapeCSS(sub)
      }
      function stripWhitespace(start) {
        while (isWhitespace(selector.charAt(start))) {
          start++
        }
        selector = selector.substr(start)
      }
      function isEscaped(pos) {
        var slashCount = 0
        while (selector.charAt(--pos) === '\\') {
          slashCount++
        }
        return (slashCount & 1) === 1
      }
      stripWhitespace(0)
      while (selector !== '') {
        var firstChar = selector.charAt(0)
        if (isWhitespace(firstChar)) {
          sawWS = true
          stripWhitespace(1)
        } else if (firstChar in Traversals) {
          tokens.push({ type: Traversals[firstChar] })
          sawWS = false
          stripWhitespace(1)
        } else if (firstChar === ',') {
          if (tokens.length === 0) {
            throw new Error('Empty sub-selector')
          }
          subselects.push(tokens)
          tokens = []
          sawWS = false
          stripWhitespace(1)
        } else {
          if (sawWS) {
            if (tokens.length > 0) {
              tokens.push({ type: 'descendant' })
            }
            sawWS = false
          }
          if (firstChar === '*') {
            selector = selector.substr(1)
            tokens.push({ type: 'universal' })
          } else if (firstChar in attribSelectors) {
            var _a = attribSelectors[firstChar],
              name_1 = _a[0],
              action = _a[1]
            selector = selector.substr(1)
            tokens.push({
              type: 'attribute',
              name: name_1,
              action: action,
              value: getName(),
              ignoreCase: false
            })
          } else if (firstChar === '[') {
            selector = selector.substr(1)
            var data = selector.match(reAttr)
            if (!data) {
              throw new Error('Malformed attribute selector: ' + selector)
            }
            selector = selector.substr(data[0].length)
            var name_2 = unescapeCSS(data[1])
            if (
              !options ||
              ('lowerCaseAttributeNames' in options
                ? options.lowerCaseAttributeNames
                : !options.xmlMode)
            ) {
              name_2 = name_2.toLowerCase()
            }
            tokens.push({
              type: 'attribute',
              name: name_2,
              action: actionTypes[data[2]],
              value: unescapeCSS(data[4] || data[5] || ''),
              ignoreCase: !!data[6]
            })
          } else if (firstChar === ':') {
            if (selector.charAt(1) === ':') {
              selector = selector.substr(2)
              tokens.push({
                type: 'pseudo-element',
                name: getName().toLowerCase()
              })
              continue
            }
            selector = selector.substr(1)
            var name_3 = getName().toLowerCase()
            var data = null
            if (selector.charAt(0) === '(') {
              if (unpackPseudos.has(name_3)) {
                var quot = selector.charAt(1)
                var quoted = quotes.has(quot)
                selector = selector.substr(quoted ? 2 : 1)
                data = []
                selector = parseSelector(data, selector, options)
                if (quoted) {
                  if (selector.charAt(0) !== quot) {
                    throw new Error('Unmatched quotes in :' + name_3)
                  } else {
                    selector = selector.substr(1)
                  }
                }
                if (selector.charAt(0) !== ')') {
                  throw new Error(
                    'Missing closing parenthesis in :' + name_3 + ' (' + selector + ')'
                  )
                }
                selector = selector.substr(1)
              } else {
                var pos = 1,
                  counter = 1
                for (; counter > 0 && pos < selector.length; pos++) {
                  if (selector.charAt(pos) === '(' && !isEscaped(pos)) {
                    counter++
                  } else if (selector.charAt(pos) === ')' && !isEscaped(pos)) {
                    counter--
                  }
                }
                if (counter) {
                  throw new Error('Parenthesis not matched')
                }
                data = selector.substr(1, pos - 2)
                selector = selector.substr(pos)
                if (stripQuotesFromPseudos.has(name_3)) {
                  var quot = data.charAt(0)
                  if (quot === data.slice(-1) && quotes.has(quot)) {
                    data = data.slice(1, -1)
                  }
                  data = unescapeCSS(data)
                }
              }
            }
            tokens.push({ type: 'pseudo', name: name_3, data: data })
          } else if (reName.test(selector)) {
            var name_4 = getName()
            if (
              !options ||
              ('lowerCaseTags' in options ? options.lowerCaseTags : !options.xmlMode)
            ) {
              name_4 = name_4.toLowerCase()
            }
            tokens.push({ type: 'tag', name: name_4 })
          } else {
            if (tokens.length && tokens[tokens.length - 1].type === 'descendant') {
              tokens.pop()
            }
            addToken(subselects, tokens)
            return selector
          }
        }
      }
      addToken(subselects, tokens)
      return selector
    }
    function addToken(subselects, tokens) {
      if (subselects.length > 0 && tokens.length === 0) {
        throw new Error('Empty sub-selector')
      }
      subselects.push(tokens)
    }
  })

  unwrapExports(parse_1)

  var stringify_1 = createCommonjsModule(function(module, exports) {
    Object.defineProperty(exports, '__esModule', { value: true })
    var actionTypes = {
      equals: '',
      element: '~',
      start: '^',
      end: '$',
      any: '*',
      not: '!',
      hyphen: '|'
    }
    var simpleSelectors = {
      child: ' > ',
      parent: ' < ',
      sibling: ' ~ ',
      adjacent: ' + ',
      descendant: ' ',
      universal: '*'
    }
    function stringify(token) {
      return token.map(stringifySubselector).join(', ')
    }
    exports.default = stringify
    function stringifySubselector(token) {
      return token.map(stringifyToken).join('')
    }
    function stringifyToken(token) {
      if (token.type in simpleSelectors) {
        return simpleSelectors[token.type]
      }
      if (token.type === 'tag') {
        return escapeName(token.name)
      }
      if (token.type === 'pseudo-element') {
        return '::' + escapeName(token.name)
      }
      if (token.type === 'attribute') {
        if (token.action === 'exists') {
          return '[' + escapeName(token.name) + ']'
        }
        if (token.name === 'id' && token.action === 'equals' && !token.ignoreCase) {
          return '#' + escapeName(token.value)
        }
        if (token.name === 'class' && token.action === 'element' && !token.ignoreCase) {
          return '.' + escapeName(token.value)
        }
        var atributeName = escapeName(token.name)
        var action = actionTypes[token.action]
        var value = escapeName(token.value)
        var ignoreCase = token.ignoreCase ? 'i' : ''
        return '[' + atributeName + action + "='" + value + "'" + ignoreCase + ']'
      }
      if (token.type === 'pseudo') {
        if (token.data === null) {
          return ':' + escapeName(token.name)
        }
        if (typeof token.data === 'string') {
          return ':' + escapeName(token.name) + '(' + token.data + ')'
        }
        return ':' + escapeName(token.name) + '(' + stringify(token.data) + ')'
      }
      throw new Error('Unknown type')
    }
    function escapeName(str) {
      //TODO
      return str
    }
  })

  unwrapExports(stringify_1)

  var lib$1 = createCommonjsModule(function(module, exports) {
    function __export(m) {
      for (var p in m) {
        if (!exports.hasOwnProperty(p)) {
          exports[p] = m[p]
        }
      }
    }
    Object.defineProperty(exports, '__esModule', { value: true })
    __export(parse_1)
    var parse_1$1 = parse_1
    exports.parse = parse_1$1.default

    exports.stringify = stringify_1.default
  })

  var cssWhat = unwrapExports(lib$1)
  var lib_1 = lib$1.parse
  var lib_2 = lib$1.stringify

  /**
   * Stringfy the given styleObject.
   *
   * @param {Object} styleObject
   * @return {String}
   * @api public
   */

  function stringify(styleObject) {
    const selectorNameList = Object.keys(styleObject || {})
    let code = ''

    for (let i = 0, len = selectorNameList.length; i < len; i++) {
      const selectorName = selectorNameList[i]
      const selectorDefOri = styleObject[selectorName]

      if (!selectorDefOri || selectorName[0] === '_') {
        continue
      }

      if (selectorName === '@KEYFRAMES') {
        for (const key in selectorDefOri) {
          code += `@keyframes ${key} {\n`
          for (let j = 0, len = selectorDefOri[key].length; j < len; j++) {
            code += `  ${selectorDefOri[key][j].time || 0}% {\n`
            Object.keys(selectorDefOri[key][j]).forEach(property => {
              if (property !== 'time') {
                code += `    ${property.replace(/[A-Z]/g, i => {
                  return '-' + i.toLowerCase()
                })}: ${
                  property.indexOf('transform') > -1
                    ? selectorDefOri[key][j][property]
                        .replace(/{"/g, '')
                        .replace(/":"|":/g, '(')
                        .replace(/"}|}/g, ')')
                        .replace(/","|,"/g, ') ')
                    : selectorDefOri[key][j][property]
                };\n`
              }
            })
            code += `  }\n`
          }
          code += `}\n`
        }
      }
      // 由于暂未解决样式作用域问题，只能先注释并按原有的updateStyle方法来更新组件样式
      // else {
      //   code += `${selectorName} {\n`
      //   for (const key in selectorDefOri) {
      //     if (key !== 'animationKeyframes' && key !== '_meta') {
      //       code += `  ${key.replace(/[A-Z]/g, (i) => { return '-' + i.toLowerCase() })}: ${selectorDefOri[key]};\n`
      //     }
      //   }
      //   code += `}\n`
      // }
    }
    return code
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  const styleObjectCache = new WeakMap()

  /**
   * 编译样式节点，具备缓存能力;如：自定义组件的重复
   */
  function compileStyleObject(styleSheetName, styleObject) {
    if (!styleObjectCache.has(styleObject)) {
      const ret = compileStyleObjectImpl(styleSheetName, styleObject)
      styleObjectCache.set(styleObject, ret)
    }
    return styleObjectCache.get(styleObject)
  }

  // 样式节点的唯一ID
  let styleUniqueId = 1
  // 上次选择器定义的索引
  let styleSelectorLastIndex = 1
  // 匹配后代选择
  const regExpDesc = /\s/

  /**
   * 编译<style>节点对象，key为选择器，value为css样式定义
   * @param styleSheetName
   * @param styleObject
   */
  function compileStyleObjectImpl(styleSheetName, styleObject) {
    const selectorNameList = Object.keys(styleObject || {})

    const styleSheetInst = {
      // 样式定义信息
      id: styleUniqueId++,
      name: styleSheetName,
      from: 0,
      size: 0,
      // 选择器的定义：key为选择器，value为CSS规则
      nameHash: {},
      // 后代选择的最后一条规则的Hash：key为最后一条规则的名称，value.list为以其结尾的后代选择定义
      descLast: {},
      // 后代选择中非最后一条规则的Hash：key为每一个非最后的规则名称，value.list为对应的后代选择定义
      descNotLast: {}
    }

    // 更新信息
    styleSheetInst.from = styleSelectorLastIndex
    styleSheetInst.size = selectorNameList.length
    styleSelectorLastIndex += selectorNameList.length

    for (let i = 0, len = selectorNameList.length; i < len; i++) {
      const selectorName = selectorNameList[i]
      const selectorDefOri = styleObject[selectorName]
      // 定义出来的规则对象
      let selectorDefCssRule

      if (!selectorDefOri || selectorName[0] === '_') {
        continue
      }

      // 提前携带关键帧定义
      if (selectorDefOri.animationName) {
        const kf = _processAnimationName(selectorDefOri.animationName, styleObject)
        if (kf) {
          selectorDefOri.animationKeyframes = kf
        }
      }

      // 携带@fontFace定义
      if (selectorDefOri.fontFamily) {
        const fontFamilyDesc = _processFontFamily(selectorDefOri.fontFamily, styleObject)
        if (fontFamilyDesc) {
          selectorDefOri.fontFamilyDesc = fontFamilyDesc
        }
      }

      // 是否是后代选择器
      if (!selectorDefOri._meta && regExpDesc.test(selectorName)) {
        try {
          const selectorDefList = compileSelectorName(selectorName)
          const selectorDef0 = selectorDefList[0]
          if (selectorDef0.length > 1) {
            selectorDefOri._meta = {}
            selectorDefOri._meta.ruleDef = selectorDef0
          }
        } catch (err) {
          console.warn(`### App Runtime ### 编译CSS后代选择器(${selectorName})出错：${err.message}`)
          continue
        }
        global.Env &&
          global.Env.logLevel === 'trace' &&
          console.trace(`### App Runtime ### 编译CSS后代选择器(${selectorName})`)
      }

      // 处理后代选择器：增加对规则类型的标识(identity)
      if (selectorDefOri._meta && selectorDefOri._meta.ruleDef) {
        const ruleTypeList = selectorDefOri._meta.ruleDef
        for (let j = 0, lenJ = ruleTypeList.length; j < lenJ; j++) {
          const ruleTypeItem = ruleTypeList[j]
          if (isSelectorRuleTypeTag(ruleTypeItem)) {
            ruleTypeItem.idtt = ruleTypeItem.name
          } else if (isSelectorRuleTypeClass(ruleTypeItem)) {
            ruleTypeItem.idtt = `.${ruleTypeItem.value}`
          } else if (isSelectorRuleTypeId(ruleTypeItem)) {
            ruleTypeItem.idtt = `#${ruleTypeItem.value}`
          }
        }
      }

      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace(
          `### App Runtime ### 遍历样式节点(${
            styleSheetInst.id
          })的选择器(${selectorName})：${JSON.stringify(selectorDefOri)}`
        )

      // 复制一份
      const selectorDefNew = Object.assign({}, selectorDefOri)
      const selectorDefNewOrder = styleSheetInst.from + i
      if (selectorDefNew._meta) {
        // 后代选择
        const meta = selectorDefNew._meta
        // 删除引用
        delete selectorDefNew._meta

        styleSheetInst.nameHash[selectorName] = selectorDefCssRule = createCssRuleDescInfo({
          name: selectorName,
          score: null,
          order: selectorDefNewOrder,
          style: selectorDefNew,
          // 只有后代选择才有meta信息
          meta: meta,
          _sheetId: styleSheetInst.id
        })

        const ruleTypeList = selectorDefCssRule.meta.ruleDef
        const lastRuleTypeItem = ruleTypeList[ruleTypeList.length - 1]

        // 记录非末尾的ruleType
        for (let j = 0, lenJ = ruleTypeList.length; j < lenJ - 1; j++) {
          const ruleTypeItem = ruleTypeList[j]

          if (!isSelectorRuleTypePointer(ruleTypeItem)) {
            const ruleTypeIdtt = ruleTypeItem.idtt
            styleSheetInst.descNotLast[ruleTypeIdtt] = styleSheetInst.descNotLast[ruleTypeIdtt] || {
              list: []
            }
            styleSheetInst.descNotLast[ruleTypeIdtt].list.push(selectorDefCssRule)
          }
        }

        // 记录最后的ruleType
        if (!isSelectorRuleTypePointer(lastRuleTypeItem)) {
          const ruleTypeIdtt = lastRuleTypeItem.idtt
          styleSheetInst.descLast[ruleTypeIdtt] = styleSheetInst.descLast[ruleTypeIdtt] || {
            list: []
          }
          styleSheetInst.descLast[ruleTypeIdtt].list.push(selectorDefCssRule)
        }
      } else if (selectorName === '@KEYFRAMES') {
        // 动画帧跳过不处理
        continue
      } else {
        // 非后代选择
        if (selectorName[0] === '#') {
          // ID
          styleSheetInst.nameHash[selectorName] = selectorDefCssRule = createCssRuleIdInfo({
            name: selectorName,
            order: selectorDefNewOrder,
            style: selectorDefNew,
            _sheetId: styleSheetInst.id
          })
        } else if (selectorName[0] === '.') {
          // CLASS
          styleSheetInst.nameHash[selectorName] = selectorDefCssRule = createCssRuleClassInfo({
            name: selectorName,
            order: selectorDefNewOrder,
            style: selectorDefNew,
            _sheetId: styleSheetInst.id
          })
        } else {
          // TAG
          styleSheetInst.nameHash[selectorName] = selectorDefCssRule = createCssRuleTagInfo({
            name: selectorName,
            order: selectorDefNewOrder,
            style: selectorDefNew,
            _sheetId: styleSheetInst.id
          })
        }
      }
    }

    return styleSheetInst
  }

  /**
   * 返回动画帧的定义JSON
   * @param key
   * @param styleObject
   */
  function _processAnimationName(key, styleObject) {
    const keyframes = styleObject['@KEYFRAMES']
    // 处理动画信息, 替换为关键帧
    if (keyframes) {
      const kf = keyframes[key]
      if (kf) {
        return JSON.stringify(kf)
      }
    }
    return null
  }

  /**
   * 返回字体的定义JSON
   * @param {string} key
   * @param styleObject
   */
  function _processFontFamily(key, styleObject) {
    const fontFamilyDesc = styleObject['@FONT-FACE']
    // 剔除外层引号
    const fontFamilies = key.replace(/["']+/g, '').split(',')
    const result = []
    if (fontFamilies.length > 0) {
      fontFamilies.forEach(item => {
        item = item.trim()
        // 处理字体信息
        if (item) {
          if (fontFamilyDesc && fontFamilyDesc[item]) {
            result.push(fontFamilyDesc[item])
          } else {
            result.push({ fontName: item })
          }
        }
      })

      return JSON.stringify(result)
    }
    return null
  }

  // 选择器名称的缓存
  const selectorDefCache = new Map()

  /**
   * 编译选择器，缓存编译后的定义
   * @param selectorName
   * @return {V}
   */
  function compileSelectorName(selectorName) {
    if (!selectorDefCache.has(selectorName)) {
      selectorDefCache.set(selectorName, cssWhat(selectorName))
    }
    return selectorDefCache.get(selectorName)
  }

  /**
   * 恢复编译时对CSS的压缩，如：后代选择的规则定义
   * framework与loader中保持一致
   */
  const _compressedSelectorRuleTypeList = [
    {
      newN: 't',
      oldN: 'type',
      newV: ['d', 'a', 't', 'u', 'p', 'pe'],
      oldV: ['descendant', 'attribute', 'tag', 'universal', 'pseudo', 'pseudo-element']
    },
    { newN: 'n', oldN: 'name' },
    { newN: 'i', oldN: 'ignoreCase' },
    { newN: 'a', oldN: 'action' },
    { newN: 'v', oldN: 'value' }
  ]

  function _decompressStyleObject(styleObject) {
    for (const k in styleObject) {
      const styleItem = styleObject[k]
      if (styleItem && styleItem._meta && styleItem._meta.ruleDef) {
        const ruleTypeList = styleItem._meta.ruleDef

        for (let i = 0, lenI = ruleTypeList.length; i < lenI; i++) {
          const item = ruleTypeList[i]
          for (let j = 0, lenJ = _compressedSelectorRuleTypeList.length; j < lenJ; j++) {
            const ccl = _compressedSelectorRuleTypeList[j]
            if (item.hasOwnProperty(ccl.newN)) {
              item[ccl.oldN] = item[ccl.newN]
              delete item[ccl.newN]
              if (ccl.newV && ccl.newV.indexOf(item[ccl.oldN]) > -1) {
                item[ccl.oldN] = ccl.oldV[ccl.newV.indexOf(item[ccl.oldN])]
              }
            }
          }
        }
      }
    }
  }
  const stylesCache = {}
  // CSS后代选择器全写-缩写对照表
  const cssDescSelectorList = [
    {
      newN: 't',
      oldN: 'type',
      newV: ['d', 'a', 't', 'u', 'p', 'pe'],
      oldV: ['descendant', 'attribute', 'tag', 'universal', 'pseudo', 'pseudo-element']
    },
    { newN: 'n', oldN: 'name' },
    { newN: 'i', oldN: 'ignoreCase' },
    { newN: 'a', oldN: 'action' },
    { newN: 'v', oldN: 'value' }
  ]
  // 复合选择器：tag, class, id后代选择
  const REGEXP_SEL_COMPLEX = /^([.#]?[A-Za-z0-9_-]+(\s+|\s*>\s*))+([.#]?[A-Za-z0-9_\-:]+)$/

  /**
   * 压缩后代选择器
   * @param itemList
   * @returns {*|Array}
   */
  function compressDescSelector(itemList) {
    itemList = itemList[0] || []
    for (let i = 0; i < itemList.length; i++) {
      const item = itemList[i] || {}

      cssDescSelectorList.forEach(function(ccl) {
        if (item.hasOwnProperty(ccl.oldN)) {
          item[ccl.newN] = item[ccl.oldN]
          delete item[ccl.oldN]
          if (ccl.oldV && ccl.oldV.indexOf(item[ccl.newN]) > -1) {
            item[ccl.newN] = ccl.newV[ccl.oldV.indexOf(item[ccl.newN])]
          }
        }
      })
    }
    return itemList
  }
  /**
   * 删除后代选择中的样式解析meta
   * @param styleObject
   */
  function _addRuleDefInStyleObject(styleObject) {
    for (const k in styleObject) {
      if (k.match(REGEXP_SEL_COMPLEX)) {
        const styleItem = styleObject[k]
        styleItem._meta = {}
        const parse = cssWhat.parse ? cssWhat.parse : cssWhat
        styleItem._meta.ruleDef = compressDescSelector(parse(k))
      }
    }
  }

  function parseStyleObject(node, isDocLevel, styleSheetName, styleObjectId, styleObject) {
    if (!styleObject) {
      return
    }
    // 将meta加回来
    _addRuleDefInStyleObject(styleObject)
    _decompressStyleObject(styleObject)
    const document = node._ownerDocument
    const styleSheetInst = compileStyleObject(styleSheetName, styleObject)
    defineNodeStyleSheet(document, styleObjectId, styleSheetInst, isDocLevel, node)
    // add test 这个地方影响用到transform等动画样式的页面 比如诗文小札 先这么处理 后面可尝试用web-component解决
    // 区分每页style 避免重复加载样式
    if (!stylesCache[document._docId]) {
      stylesCache[document._docId] = {
        styleSheetName: styleObject
      }
    } else if (stylesCache[document._docId] && !stylesCache[document._docId][styleSheetName]) {
      stylesCache[document._docId][styleSheetName] = styleObject
    } else {
      return
    }
    const cssStr = stringify(styleObject)
    if (cssStr) {
      const style = global.document.createElement('style')
      style.type = 'text/css'
      style.innerHTML = cssStr
      style.setAttribute(`component-${styleSheetName}`, '')
      global.document.head.appendChild(style)
    }
  }

  /* global Image */

  const vendors = ['ms', 'moz', 'webkit', 'o']

  let _isWebpSupported = false
  ;(function isSupportWebp() {
    try {
      const webP = new Image()
      webP.src =
        'data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdA' +
        'SoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA'
      webP.onload = function() {
        if (webP.height === 2) {
          _isWebpSupported = true
        }
      }
    } catch (e) {
      // do nothing.
    }
  })()

  const _isStickySupported = false

  // export function extend (to, from) {
  //   for (const key in from) {
  //     to[key] = from[key]
  //   }
  //   return to
  // }

  // export function isPlainObject (obj) {
  //   return Object.prototype.toString.call(obj)
  //     .slice(8, -1).toLowerCase() === 'object'
  // }

  function getType$1(obj) {
    return Object.prototype.toString
      .call(obj)
      .slice(8, -1)
      .toLowerCase()
  }

  function appendStyle(css, styleId, replace) {
    let style = document.getElementById(styleId)
    if (style && replace) {
      style.parentNode.removeChild(style)
      style = null
    }
    if (!style) {
      style = document.createElement('style')
      style.type = 'text/css'
      styleId && (style.id = styleId)
      document.getElementsByTagName('head')[0].appendChild(style)
    }
    style.appendChild(document.createTextNode(css))
  }

  function getUniqueFromArray(arr) {
    if (!isArray(arr)) {
      return []
    }
    const res = []
    const unique = {}
    let val
    for (let i = 0, l = arr.length; i < l; i++) {
      val = arr[i]
      if (unique[val]) {
        continue
      }
      unique[val] = true
      res.push(val)
    }
    return res
  }

  function detectWebp() {
    return _isWebpSupported
  }

  function detectSticky() {
    return _isStickySupported
  }

  function getRandom(num) {
    const _defaultNum = 10
    if (typeof num !== 'number' || num <= 0) {
      num = _defaultNum
    }
    const _max = Math.pow(10, num)
    return Math.floor(Date.now() + Math.random() * _max) % _max
  }

  function getRgb(color) {
    let match
    color = color + ''
    match = color.match(/#([\da-fA-F]{2})([\da-fA-F]{2})([\da-fA-F]{2})/)
    if (match) {
      return {
        r: parseInt(match[1], 16),
        g: parseInt(match[2], 16),
        b: parseInt(match[3], 16)
      }
    }
    match = color.match(/rgb\((\d+),\s*(\d+),\s*(\d+)\)/)
    if (match) {
      return {
        r: parseInt(match[1]),
        g: parseInt(match[2]),
        b: parseInt(match[3])
      }
    }
  }

  // direction: 'l' | 'r', default is 'r'
  // num: how many times to loop, should be a positive integer
  function loopArray(arr, num, direction) {
    if (!isArray(arr)) {
      return
    }
    let isLeft = (direction + '').toLowerCase() === 'l'
    const len = arr.length
    num = num % len
    if (num < 0) {
      num = -num
      isLeft = !isLeft
    }
    if (num === 0) {
      return arr
    }
    let lp, rp
    if (isLeft) {
      lp = arr.slice(0, num)
      rp = arr.slice(num)
    } else {
      lp = arr.slice(0, len - num)
      rp = arr.slice(len - num)
    }
    return rp.concat(lp)
  }

  function throttle(func, wait) {
    let result
    let timerId = null
    let previous = 0
    let context
    let args
    const later = function() {
      previous = Date.now()
      timerId = null
      result = func.apply(context, args)
    }
    return function() {
      const now = Date.now()
      const remaining = wait - (now - previous)
      context = this
      args = Array.prototype.slice.call(arguments)
      if (remaining <= 0) {
        clearTimeout(timerId)
        timerId = null
        previous = now
        result = func.apply(context, args)
      } else if (!timerId) {
        timerId = setTimeout(later, remaining)
      }
      return result
    }
  }

  function camelToKebab(name) {
    if (!name) {
      return ''
    }
    return name.replace(/([A-Z])/g, function(g, g1) {
      return `-${g1.toLowerCase()}`
    })
  }

  function kebabToCamel(name) {
    if (!name) {
      return ''
    }
    return name.replace(/-([a-z])/g, function(g, g1) {
      console.log(g1)
      return `${g1.toUpperCase()}`
    })
  }

  function findEnterKeyType(key) {
    const keys = ['default', 'go', 'next', 'search', 'send']
    if (keys.indexOf(key) > -1) {
      return key
    }
    return 'done'
  }

  function getLength(length) {
    if (length.indexOf('px') > -1) {
      return length
    } else {
      return `${length}px`
    }
  }

  /**
   * 与父document通信
   */
  const defaultOrigin = window.location.origin
  const isInSandbox = document.domain === ''
  const notFileProtocol = window.location.protocol !== 'file:'

  class Telegram {
    constructor() {
      this.msgId = 1
      this.callbackMap = {}
      this.delayPostActions = []
      this.contentWindow = null
      if (notFileProtocol && isInSandbox) {
        this.postMessage = this._sandboxPost
        window.addEventListener('message', this.getMessage.bind(this))
      } else {
        this.postMessage = this._commonPost
      }
    }
    _commonPost(data, callback) {
      if (data.method === 'getItem') {
        const getData = window.sessionStorage.getItem(data.args)
        callback(getData)
      } else if (data.method === 'setItem') {
        window.sessionStorage.setItem(data.key, data.value)
      }
    }
    getMessage(event) {
      if (event.origin === defaultOrigin) {
        if (event.data.cmd === 'call') {
          this.contentWindow = event.source
          this.postMessage({
            cmd: 'called'
          })
        } else if (event.data.id) {
          this.callbackMap[event.data.id] && this.callbackMap[event.data.id](event.data.data)
        }
      } else {
        event.source.postMessage(
          {
            data: {
              cmd: 'called'
            }
          },
          '*'
        )
        console.error('预览host与父级不一致，请修改')
      }
    }
    _sandboxPost(data, callback) {
      const id = this.msgId++
      const postData = {
        id,
        data
      }
      if (callback) {
        this.callbackMap[id] = callback
      }
      if (!this.contentWindow) {
        this.delayPostActions.push(postData)
      } else if (this.delayPostActions.length > 0) {
        this.delayPostActions.push(postData)
        this.delayPostActions.forEach(data => {
          this.contentWindow.postMessage(data, '*')
        })
        this.delayPostActions = []
      } else {
        this.contentWindow.postMessage(postData, '*')
      }
    }
  }

  /**
   * 获取页面中z-index最大值
   */
  function getMaxZindex() {
    return (
      Array.from(document.querySelectorAll('body *')).reduce((total, node) => {
        const tempCurr = +getComputedStyle(node).zIndex
        const curr = isNaN(tempCurr) ? 0 : tempCurr
        let firstSon = 0
        if (node.shadowRoot) {
          const tempFirst = +getComputedStyle(node.shadowRoot.querySelector('div')).zIndex
          firstSon = isNaN(tempFirst) ? 0 : tempFirst
        }
        return Math.max(total, curr, firstSon)
      }, 0) + 1
    )
  }

  /**
   * 提示报错页
   */
  function showErrorLayer(error) {
    let $mask = document.createElement('div')
    $mask.id = 'mask'
    $mask.style.display = 'none'
    let $btn = document.createElement('div')
    $btn.id = 'btn'
    $btn.innerHTML = '&times;'
    $btn.onclick = function() {
      document.body.removeChild($mask)
    }
    $mask.appendChild($btn)
    let $text = document.createElement('pre')
    $text.id = 'text'
    $mask.appendChild($text)
    $text.innerHTML = 'ERROR:\n' + error
    $mask.style.display = 'block'
    document.body.appendChild($mask)
  }

  /**
   * 获取符合条件的祖先元素
   */
  function recentAncestorNode(currNode, tagName) {
    if (!(currNode instanceof Node)) {
      return null
    }
    let node = currNode
    while (node && node.nodeName !== 'BODY') {
      if (node.nodeName.toLowerCase() === tagName) {
        return node
      }
      node = node.parentNode
    }
    return null
  }

  var utils = {
    __proto__: null,
    isArray: isArray,
    slice: slice,
    vendors: vendors,
    getType: getType$1,
    appendStyle: appendStyle,
    getUniqueFromArray: getUniqueFromArray,
    detectWebp: detectWebp,
    detectSticky: detectSticky,
    getRandom: getRandom,
    getRgb: getRgb,
    loopArray: loopArray,
    throttle: throttle,
    camelToKebab: camelToKebab,
    kebabToCamel: kebabToCamel,
    findEnterKeyType: findEnterKeyType,
    getLength: getLength,
    Telegram: Telegram,
    getMaxZindex: getMaxZindex,
    showErrorLayer: showErrorLayer,
    recentAncestorNode: recentAncestorNode,
    parseStyleObject: parseStyleObject,
    extend: $extend,
    isObject: isObject,
    isPlainObject: isPlainObject,
    typof: $typeof
  }

  const watchedComponents = []
  let listened = false
  let scrollY = 0

  function needWatch(component) {
    const events = component.data.event
    if (events && (events.indexOf('appear') !== -1 || events.indexOf('disappear') !== -1)) {
      return true
    }
    return false
  }

  function watchIfNeeded(component) {
    if (needWatch(component)) {
      watchedComponents.push(component)
      if (!listened) {
        listened = true
        const handler = throttle(onScroll, 100)
        window.addEventListener('scroll', handler, false)
      }
    }
  }

  function isComponentInWindow(component) {
    const rect = component.node.getBoundingClientRect()
    return (
      rect.right > 0 &&
      rect.left < window.innerWidth &&
      rect.bottom > 0 &&
      rect.top < window.innerHeight
    )
  }

  function hasIntersection(rect, ctRect) {
    return (
      rect.left < ctRect.right &&
      rect.right > ctRect.left &&
      rect.top < ctRect.bottom &&
      rect.bottom > ctRect.top
    )
  }

  function isComponentAppear(component) {
    // NOTE: no more support embeded scrollers.
    const parentScroller = component.getParentScroller()
    if (!parentScroller) {
      return isComponentInWindow(component)
    }
    return (
      isComponentInWindow(component) &&
      hasIntersection(
        component.node.getBoundingClientRect(),
        parentScroller.node.getBoundingClientRect()
      )
    )
  }

  function onScroll(e) {
    let direction
    // NOTE: this condition strongly relies on the scroller's implementation.
    if (e.originalType === 'scrolling') {
      direction = e.direction
    } else {
      // NOTE: only VERTICAL window scroll can be detected.
      const y = window.scrollY
      direction = y >= scrollY ? 'up' : 'down'
      scrollY = y
    }
    const len = watchedComponents.length
    for (let i = 0; i < len; i++) {
      const component = watchedComponents[i]
      const appear = isComponentAppear(component)
      if (appear) {
        component.dispatchEvent('appear', { direction })
      } else if (!appear) {
        component.dispatchEvent('disappear', { direction })
      }
    }
  }

  function init$4() {
    class TitleBar extends window.HTMLElement {
      constructor() {
        super()
        const shadowRoot = this.attachShadow({ mode: 'open' })
        const style = document.createElement('style')
        style.textContent = `
.title-bar {
  display: flex;
  flex: 0 1 auto;
  width: 100%;
  height: 1.55rem;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
  background-color: #ffffff;
  color: #ffffff;
  z-index: 100001;
}

.button {
  display: flex;
  height: 100%;
  width: 0.8rem;
  flex-shrink: 0;
}

.back {
  overflow: hidden;
  margin-left: 20px;
}

.svg-img {
  align-self: center;
}

.menu {
  overflow: hidden;
  margin-right: 20px;
}

.title-text {
  font-size: .52rem;
  width: 100%;
  text-align: left;
  padding-left: 40px;
  text-overflow: ellipsis;
  overflow: hidden;
  white-space: nowrap;
}

.page-push {
  animation: push-animation 0.3s;
}

.page-back {
  animation: back-animation 0.3s;
}

@keyframes push-animation {
  from {
    transform: translateX(100%);
  } to {
    transform: translateX(0);
  }
}

@keyframes back-animation {
  from {
    transform: translateX(-100%);
  } to {
    transform: translateX(0);
  }
}
`
        const div = document.createElement('div')
        div.classList.add('title-bar')
        // 后退按钮
        const backBtn = (this.backBtn = document.createElement('div'))
        backBtn.classList.add('back')
        backBtn.classList.add('button')
        const backSvg =
          '<svg t="1550914388347" class="svg-img" width="64" height="64" style="fill:#ffffff" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1789" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M671.3 480.1H301.7L473.8 308c12.4-12.4 12.4-32.8 0-45.3-12.4-12.4-32.8-12.4-45.3 0L201.9 489.5c-5 5-8 11.2-9 17.7v0.1c-0.1 0.4-0.1 0.9-0.2 1.3v0.3c0 0.4-0.1 0.8-0.1 1.2v4c0 0.4 0.1 0.8 0.1 1.2v0.3c0 0.4 0.1 0.9 0.2 1.3v0.1c1 6.5 4 12.7 9 17.7l226.7 226.7c12.4 12.4 32.8 12.4 45.3 0 12.4-12.4 12.4-32.8 0-45.3l-172.2-172h369.6c17.6 0 32-14.4 32-32s-14.4-32-32-32z" p-id="1790" ></path></svg>'
        backBtn.innerHTML = backSvg

        div.appendChild(backBtn)
        // 标题栏文字
        const titleText = document.createElement('div')
        titleText.classList.add('title-text')
        titleText.textContent = ''
        div.appendChild(titleText)
        // 菜单按钮
        const menuBtn = (this.menuBtn = document.createElement('div'))
        menuBtn.classList.add('menu')
        menuBtn.classList.add('button')
        const menuSvg =
          '<svg t="1551148315549" class="svg-img"  width="64" height="64" style="fill:#ffffff" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3461" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M510.583233 336.595085c39.638789 0 71.828932-32.160467 71.828932-71.830979s-32.190143-71.829955-71.828932-71.829955c-39.702234 0-71.830979 32.159444-71.830979 71.829955S470.880999 336.595085 510.583233 336.595085M510.583233 408.42504c-39.702234 0-71.830979 32.160467-71.830979 71.830979 0 39.669488 32.128745 71.797209 71.830979 71.797209 39.638789 0 71.828932-32.127721 71.828932-71.797209C582.412165 440.585507 550.222021 408.42504 510.583233 408.42504M510.583233 623.88523c-39.702234 0-71.830979 32.191166-71.830979 71.828932 0 39.703257 32.128745 71.830979 71.830979 71.830979 39.638789 0 71.828932-32.127721 71.828932-71.830979C582.412165 656.076396 550.222021 623.88523 510.583233 623.88523" p-id="3462"></path></svg>'
        menuBtn.innerHTML = menuSvg
        shadowRoot.appendChild(style)
        shadowRoot.appendChild(div)
      }

      setTitleBarBackgroundColor(val) {
        this.setAttribute('background-color', val)
        this.shadowRoot.querySelector('.title-bar').style.backgroundColor = val
      }

      setTitleBarTextColor(val) {
        this.setAttribute('text-color', val)
        this.shadowRoot.querySelector('.title-bar').style.color = val
        const svgs = this.shadowRoot.querySelectorAll('.svg-img')
        svgs.forEach(svg => {
          svg.style.fill = val
        })
      }

      setTitleBarText(val) {
        this.setAttribute('text', val)
        this.shadowRoot.querySelector('.title-text').textContent = val
      }

      setTitleBarBackgroundOpacity(val) {
        this.setAttribute('opacity', val)
        this.shadowRoot.querySelector('.title-text').style.backgroundOpacity = val
      }

      setMenuBtn(val) {
        if (val === true) {
          this.shadowRoot.querySelector('.menu').style.display = ''
        } else {
          this.shadowRoot.querySelector('.menu').style.display = 'none'
        }
      }

      setBackBtn(val) {
        if (val === true) {
          this.shadowRoot.querySelector('.back').style.display = ''
        } else {
          this.shadowRoot.querySelector('.back').style.display = 'none'
        }
      }

      bindEvents(router) {
        this.backBtn.addEventListener('click', function() {
          if (!global.backPressPage(router.instanceId)) {
            router.back()
          }
        })
        this.menuBtn.addEventListener('click', function() {
          global.menuPressPage(router.instanceId)
        })
      }
    }

    window.customElements.define('h-titlebar', TitleBar)
  }

  var titlebar = { init: init$4 }

  const titleBarManager = {
    showTitleBar: false,
    instance: null,
    createPageTitleBar(options, router, routeURI) {
      const titlebar = document.createElement('h-titlebar')
      this.showTitleBar = true
      this.instance = titlebar
      titlebar.bindEvents(router)
      this.updatePageTitleBar(options)
      global._pageCache[routeURI].titlebar = titlebar
      document.body.appendChild(titlebar)
      global._pageCache[routeURI].titlebar.shadowRoot.children[1].classList.add('page-push')
      global.Env.titleBarHeight = titlebar.getBoundingClientRect().height
    },
    updatePageTitleBar(options) {
      if (options.text) {
        document.title = options.text || ''
        console.info(`[sitemap info] setTitleBar 设置的title为: ${options.text}`)
      }
      if (options && this.instance) {
        const titlebar = this.instance
        options.text && titlebar.setTitleBarText(options.text)
        options.textColor && titlebar.setTitleBarTextColor(options.textColor)
        options.backgroundColor && titlebar.setTitleBarBackgroundColor(options.backgroundColor)
        options.backgroundOpacity &&
          titlebar.setTitleBarBackgroundOpacity(options.backgroundOpacity)
        typeof options.back === 'boolean' && titlebar.setBackBtn(options.back)
      }
    },
    reset() {
      this.instance = null
      this.showTitleBar = false
      global.Env.titleBarHeight = 0
    }
  }

  const img =
    'data:image/png;base64,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'

  const img$1 =
    'data:image/png;base64,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'

  const img$2 =
    'data:image/png;base64,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'

  const img$3 =
    'data:image/png;base64,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'

  const img$4 =
    'data:image/png;base64,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'

  const img$5 =
    'data:image/png;base64,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'

  const STATUSBAR_ICON = {
    sim: img,
    sim_light: img$1,
    battery: img$2,
    battery_light: img$3,
    wifi: img$4,
    wifi_light: img$5
  }

  let statusbarHtml = `
<style>
.statusbar,
.info_left,
.info_right {
display: flex;
height: 0.75rem;
align-items: center;
position: relative;
flex: 1;
}
.statusbar {
background-color: #000000;
width: 100%;
flex: 0 1 auto;
z-index: 100001;
}
.info_right {
justify-content: flex-end;
}
.wifi {
width: 0.6rem;
height: 0.5rem;
}
.battery,
.sim{
margin:0 20px;
width: 0.7rem;
height: 0.65rem;
}
.time {
display: flex;
height: 100%;
align-items: center;
color: #ffffff;
font-size: 0.4rem;
line-height: 0.45rem;
}
.page-push {
animation: push-animation 0.3s;
}

.page-back {
animation: back-animation 0.3s;
}

@keyframes push-animation {
from {
transform: translateX(100%);
} to {
transform: translateX(0);
}
}

@keyframes back-animation {
from {
transform: translateX(-100%);
} to {
transform: translateX(0);
}
}
</style>
<div class="statusbar">
<div class="info_left">
<img class="sim" src="${img$1}" />
<span class="time">19:26</span>
</div>
<div class="info_right">
<img class="wifi" src="${img$5}" />
<img class="battery" src="${img$3}" />
</div>
</div>`

  function getCurrentPage(type = 'pages') {
    let obj = null
    if (type === 'pages') {
      obj = (global.manifest && global.manifest.display && global.manifest.display.pages) || {}
    } else if (type === 'router') {
      obj = (global.manifest && global.manifest.router && global.manifest.router.pages) || {}
    }
    let fullPathArr = window.location.pathname.replace(/\/+$/, '').split('/')
    let flen = fullPathArr.length
    for (const key in obj) {
      if (window.location.pathname.indexOf(key) !== -1) {
        let currentPathArr = key.split('/')
        let clen = currentPathArr.length
        if (currentPathArr[clen - 1] === fullPathArr[flen - 1]) {
          if (type === 'pages') {
            return {
              obj: obj[key],
              key: key
            }
          }
          if (type === 'router') {
            return key
          }
        }
      }
    }
    return false
  }

  function getAttrConfiguration(attr, defaultConfig) {
    // 获取当前页
    let currentPageSet = getCurrentPage().obj
    if (
      !!currentPageSet &&
      (!!currentPageSet[attr] || currentPageSet[attr] === false || currentPageSet[attr] === 0)
    ) {
      // 当前页面是否配置
      return currentPageSet[attr]
    } else if (
      global.manifest &&
      global.manifest.display &&
      (!!global.manifest.display[attr] ||
        global.manifest.display[attr] === false ||
        global.manifest.display[attr] === 0)
    ) {
      // 全局是否配置
      return global.manifest.display[attr]
    } else {
      return defaultConfig
    }
  }

  // 处理传入style对象为字符串
  function stringForStyle(styleObj) {
    let cantStr = ''
    let obj = {}
    let transformStr = ''
    for (const key in styleObj) {
      if (/[A-Z]/g.test(styleObj[key]) || /\,/g.test(styleObj[key])) {
        if (key === 'fontFamily' || key === 'font-family') {
          cantStr += `${key.replace(/\B([A-Z])/g, '-$1').toLowerCase()}:"${styleObj[key]}";`
        } else if (key === 'transform') {
          let temp = styleObj[key]
          for (const key2 in temp) {
            transformStr += ` ${key2}(${temp[key2]})`
          }
          cantStr += `${key}:${transformStr};`
        } else {
          cantStr += `${key.replace(/\B([A-Z])/g, '-$1').toLowerCase()}:${styleObj[key]};`
        }
      } else {
        if (key === 'width' || key === 'height') {
          let temp = styleObj[key].toString()
          styleObj[key] = temp.indexOf('px') > -1 ? styleObj[key] : `${styleObj[key]}px`
        }
        obj[key] = styleObj[key]
      }
    }
    let str = JSON.stringify(obj)
      .replace(/\"/g, '')
      .replace(/\,/g, ';')
      .replace('{', '')
      .replace('}', '')
    str = cantStr + str.replace(/\B([A-Z])/g, '-$1').toLowerCase()
    return str
  }

  function base64toBlob(dataURI, mimeType = 'image/jpeg') {
    const byteString = atob(dataURI.split(',')[1]) //base64 解码
    const arrayBuffer = new ArrayBuffer(byteString.length) //创建缓冲数组
    const intArray = new Uint8Array(arrayBuffer) //创建视图
    for (let i = 0; i < byteString.length; i++) {
      intArray[i] = byteString.charCodeAt(i)
    }
    return new Blob([intArray], { type: mimeType })
  }

  function blobToBase64(blob, callback) {
    let reader = new FileReader()
    reader.onload = function(e) {
      callback(e.target.result)
    }
    reader.readAsDataURL(blob)
  }
  //16进制颜色转化为RGB颜色
  function colorRgb(str) {
    if (str.indexOf('rgba') === 0) {
      return str
    }
    let reg = /^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/
    let sColor = str.toLowerCase()
    if (sColor && reg.test(sColor)) {
      if (sColor.length === 4) {
        let sColorNew = '#'
        for (let i = 1; i < 4; i += 1) {
          sColorNew += sColor.slice(i, i + 1).concat(sColor.slice(i, i + 1))
        }
        sColor = sColorNew
      }
      //处理六位的颜色值
      let sColorChange = []
      for (let i = 1; i < 7; i += 2) {
        sColorChange.push(parseInt('0x' + sColor.slice(i, i + 2)))
      }
      return 'rgb(' + sColorChange.join(',') + ')'
    } else {
      return sColor
    }
  }

  const BRIGHTNESS_THRESHOLD = 70

  // 获取深浅度灰度
  function getGrayscaleFromColor(color) {
    const r = (color >> 16) & 0xff
    const g = (color >> 8) & 0xff
    const b = color & 0xff

    const grayscale = (r * 30 + g * 59 + b * 11) >> 8

    return grayscale
  }

  // 与深浅度阈值对比
  function checkIsLight(grayscale) {
    return grayscale > BRIGHTNESS_THRESHOLD
  }

  // rgb rgba 转成 16进制表示
  function colorHex(str) {
    const aColor = str.replace(/(?:\(|\)|rgba|RGBA|rgb|RGB)*/g, '').split(',')
    let strHex = '0x'
    // 取前三位，不要第四位透明度（若有的话）
    for (let i = 0; i < 3; i++) {
      let hex = Number(aColor[i]).toString(16)
      // 单位数前面需要补0
      hex = hex.padStart(2, '0')
      strHex += hex
    }

    return strHex
  }

  function getDomColor(color) {
    let bkgColor = color
    if (bkgColor[0] === '#') {
      bkgColor = colorRgb(bkgColor)
    }
    const bkgColorVal = colorHex(bkgColor)
    const grayscale = getGrayscaleFromColor(bkgColorVal)
    let isLight = checkIsLight(grayscale)
    isLight = isLight === true ? 'dark' : 'light'
    return isLight
  }

  class StatusBar extends window.HTMLElement {
    constructor() {
      super()
      const shadowRoot = this.attachShadow({ mode: 'open' })
      shadowRoot.innerHTML = statusbarHtml
      this.$statusBar = shadowRoot.querySelector('.statusbar')
      this.$time = shadowRoot.querySelector('.time')
      this.$sim = shadowRoot.querySelector('.sim')
      this.$wifi = shadowRoot.querySelector('.wifi')
      this.$battery = shadowRoot.querySelector('.battery')
      this.createStatusBar()
    }
    updateTime() {
      let date = new Date()
      let hour = date.getHours() < 10 ? `0${date.getHours()}` : date.getHours()
      let mins = date.getMinutes() < 10 ? `0${date.getMinutes()}` : date.getMinutes()
      this.$time.innerText = `${hour}:${mins}`
      let sec = 60000 - date.getSeconds()
      clearInterval(this.timer)
      this.timer = null
      this.timer = setInterval(() => {
        this.updateTime()
      }, sec)
    }
    statusBarTextStyleHandle(statusBarTextStyle) {
      if (statusBarTextStyle === 'dark') {
        this.$time.style.color = '#000000'
        this.$sim.src = STATUSBAR_ICON.sim
        this.$wifi.src = STATUSBAR_ICON.wifi
        this.$battery.src = STATUSBAR_ICON.battery
      }
      if (statusBarTextStyle === 'light') {
        this.$time.style.color = '#ffffff'
        this.$sim.src = STATUSBAR_ICON.sim_light
        this.$wifi.src = STATUSBAR_ICON.wifi_light
        this.$battery.src = STATUSBAR_ICON.battery_light
      }
    }
    createStatusBar() {
      // 是否全屏
      const fullScreen = getAttrConfiguration('fullScreen', false)
      if (fullScreen) {
        // 全屏时，statusBar相关配置均无效，背景色默认为黑色，不再受titleBar影响
        this.$statusBar.innerHTML = ''
        return
      }
      // 状态栏文字颜色
      const statusBarTextStyle = getAttrConfiguration('statusBarTextStyle', 'auto')
      // 标题栏背景色
      let titleBarBackgroundColor = getAttrConfiguration('titleBarBackgroundColor', '#000000')
      // 状态栏透明度
      let statusBarBackgroundOpacity = getAttrConfiguration('statusBarBackgroundOpacity', false)
      // 状态栏背景色（默认值同标题栏背景色）
      let statusBarBackgroundColor = getAttrConfiguration(
        'statusBarBackgroundColor',
        titleBarBackgroundColor
      )
      if (statusBarBackgroundColor === titleBarBackgroundColor) {
        if (!getAttrConfiguration('titleBar', false)) {
          // 自定义标题栏titlebar相关设置均为默认值
          titleBarBackgroundColor = '#000000'
        }
      }
      // statusBarTextStyle:auto，根据状态栏背景色自动切换light/dark
      if (statusBarTextStyle === 'auto') {
        // 判断是否为亮色
        let statusTextColor = getDomColor(statusBarBackgroundColor)
        this.statusBarTextStyleHandle(statusTextColor)
      } else {
        this.statusBarTextStyleHandle(statusBarTextStyle)
      }
      this.$statusBar.style.backgroundColor = statusBarBackgroundColor
      // 默认值同标题栏透明度
      if (titleBarBackgroundColor.indexOf('rgba') === 0) {
        statusBarBackgroundOpacity = titleBarBackgroundColor
          .replace('rgba(', '')
          .replace(')', '')
          .split(',')
          .pop()
      }
      if (statusBarBackgroundOpacity || statusBarBackgroundOpacity === 0) {
        let rgba = statusBarBackgroundColor
        if (statusBarBackgroundColor.indexOf('rgb') === 0) {
          rgba = statusBarBackgroundColor
            .replace(')', `,${statusBarBackgroundOpacity})`)
            .replace('rgb', 'rgba')
        }
        if (statusBarBackgroundColor.indexOf('#') === 0) {
          let rgb = colorRgb(statusBarBackgroundColor)
          rgba = rgb.replace(')', `,${statusBarBackgroundOpacity})`).replace('rgb', 'rgba')
        }
        // vivo samples 的 状态栏颜色为 英文字母 black
        if (statusBarBackgroundColor === 'black') {
          rgba = `rgba(0,0,0,${statusBarBackgroundOpacity})`
        }
        this.$statusBar.style.backgroundColor = rgba
      }
      this.updateTime()
    }
  }

  const statusbarManager = {
    instance: null,
    statusBarImmersive: false,
    create(routeURI) {
      const statusbar = document.createElement('h-statusbar')
      // 显示沉浸式状态需要隐藏 titleBar
      this.statusBarImmersive = getAttrConfiguration('statusBarImmersive', false)
      this.instance = statusbar
      global._pageCache[routeURI].statusbar = statusbar
      global._pageCache[routeURI].statusbar.shadowRoot.children[1].classList.add('page-push')
      document.body.appendChild(statusbar)
      global.Env.statusBarHeight = statusbar.getBoundingClientRect().height
    },
    reset() {
      this.instance = null
      global.Env.statusBarHeight = 0
    }
  }

  function init$5() {
    window.customElements.define('h-statusbar', StatusBar)
  }
  var statusbar = { init: init$5 }

  /* global Event */

  // const lazyload = require('./lazyload')
  // const animation = require('./animation')
  const RENDERING_INDENT = 800

  const _instanceMap = {}
  const typeMap = {}
  const scrollableTypes = ['scroller', 'hscroller', 'vscroller', 'list', 'hlist', 'vlist']

  function getNodeMergedStyleAsObject$1(node) {
    if (!node._mergedStyleCache) {
      node._mergedStyleCache = mergeNodeStyle(node._usedCSSPropertyCache, node._matchedCssRuleCache)
    }
    return node._mergedStyleCache
  }
  function diffStyles(oldstyle, newstyle) {
    Object.keys(newstyle).forEach(key => {
      if (newstyle[key] === oldstyle[key]) {
        delete newstyle[key]
      }
    })
  }

  function getMetaTag(name) {
    let $tag = document.querySelector(`meta[name='${name}']`)
    if (!$tag) {
      $tag = document.createElement('meta')
      $tag.setAttribute('name', name)
      document.head.appendChild($tag)
    }
    return $tag
  }

  function getChildNodesLength(node) {
    const childNodes = node.childNodes
    let childNodesLength = childNodes.length
    if (childNodesLength === 0) {
      return childNodesLength
    } else {
      childNodes.forEach(curNode => {
        if (curNode._nodeName === '#figment') {
          childNodesLength = childNodesLength - 1 + getChildNodesLength(curNode)
        }
      })
    }
    return childNodesLength
  }

  function ComponentManager(id) {
    // 区分页面的id
    this.id = id
    this.batched = false
    this.updates = []
    // 根节点(非root)序号
    this.rootRef = 1
    this.componentMap = {}
    this.tilebar = titleBarManager
    this.statusbar = statusbarManager
    _instanceMap[this.id] = this
  }

  ComponentManager.getInstance = instanceId => _instanceMap[instanceId]

  ComponentManager.registerComponent = (type, definition) => {
    typeMap[type] = definition
  }

  ComponentManager.getScrollableTypes = () => scrollableTypes

  ComponentManager.prototype = {
    getHapInstance() {
      if (!this._hapInstance) {
        this._hapInstance = global.hap ? global.hap.getInstance(this.id) : null
      }
      return this._hapInstance
    },
    /**
     * 获取对应的元素节点
     * @param node
     * @return {*}
     */
    getNodeByRef(ref) {
      // const instId = getStylingDocumentId(node._docId)
      const document = getDocument(this.id)
      const newNode = getDocumentNodeByRef(document, ref)
      return newNode
    },
    /**
     * ide 更新 appdata
     * @param node
     * @return {*}
     */
    updateAppData(json) {
      const node = this.getNodeByRef(this.rootRef)
      if (node && node._vm) {
        Object.assign(node._vm._data, json)
      }
    },
    // Fire a event 'renderbegin'/'renderend' on body element.
    rendering() {
      function _renderingEnd() {
        // get hap instance root
        window.dispatchEvent(new Event('renderend'))
        this._renderingTimer = null
      }
      if (this._renderingTimer) {
        clearTimeout(this._renderingTimer)
        this._renderingTimer = setTimeout(_renderingEnd.bind(this), RENDERING_INDENT)
      } else {
        window.dispatchEvent(new Event('renderbegin'))
        this._renderingTimer = setTimeout(_renderingEnd.bind(this), RENDERING_INDENT)
      }
    },

    getComponent(ref) {
      return this.componentMap[ref]
    },

    removeComponent(ref) {
      const self = this
      if (!ref || !this.componentMap[ref]) {
        return
      }
      ;(function _removeCursively(_ref) {
        const child = self.componentMap[_ref]
        const listeners = child._listeners
        const children = child.data.children
        if (children && children.length) {
          for (let i = 0, l = children.length; i < l; i++) {
            _removeCursively(children[i].ref)
          }
        }
        // remove events from _ref component
        if (listeners) {
          for (const type in listeners) {
            child.node.removeEventListener(type, listeners[type])
          }
        }
        delete child._listeners
        delete child.node._listeners
        // remove _ref component
        delete self.componentMap[_ref]
      })(ref)
    },

    /**
     * 发送"createFinish"信号
     * @param callback
     * @returns {*}
     */
    createFinish(callback) {
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace('### App Runtime ### createFinish---- ')
      window.dispatchEvent(new Event('createfinish'))
    },

    /**
     * 发送"ideBackPress"信号
     * @param callback
     * @returns {*}
     */
    ideBackPress(callback) {
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace('### App Runtime ### ideBackPress---- ')
      window.dispatchEvent(new Event('ideBackPress'))
    },

    /**
     * 发送"updateFinish"信号.
     * @param callback
     * @returns {*}
     */
    updateFinish(callback) {
      global.Env &&
        global.Env.logLevel === 'trace' &&
        console.trace('### App Runtime ### updateFinish---- ')
      window.dispatchEvent(new Event('updatefinish'))
      // add test 后续可能要发事件
    },

    createElement(data, nodeType) {
      let ComponentType = typeMap[data.type]
      if (!ComponentType) {
        ComponentType = typeMap.div
      }

      data.instanceId = this.id
      nodeType = nodeType || data.type
      const component = new ComponentType(data, nodeType)
      const ref = data.ref
      this.componentMap[ref] = component
      component.node.setAttribute('ref', ref)

      return component
    },

    /**
     * 发送"createBody"信号
     * @param node
     * @returns {undefined|number}
     */
    createBody(args) {
      const body = args[0]
      const children = body.children
      delete body.children
      const node = this.getNodeByRef(body.ref)
      let isDocLevel = false
      if (node) {
        const styleSheetName = (node._vm && node._vm._type) || `body-${body.ref}`
        if (node._vm && node._vm._page && node._vm._page.app) {
          isDocLevel = node._vm._page.app._shareDocStyle
        }
        parseStyleObject(
          node,
          isDocLevel,
          styleSheetName,
          body.prop._styleObjectId,
          body.styleObject
        )
        calcNodeStyle(node)
        const style = getNodeMergedStyleAsObject$1(node)
        if (style && Object.keys(style).length) {
          body.style = style
        }
      }

      // console.log('### Web Render ###  createBody', body)
      // if (this.componentMap['_root']) {
      //   return
      // }

      // const nodeType = body.type
      // body.ref = '_root'
      this.rootRef = body.ref
      const root = document.createElement('root')
      root.classList.add('root-container')
      const bodydom = document.body
      if (this.tilebar.showTitleBar) {
        // 标题没隐藏，statusBarImmersive无效果
        root.style.height = `calc(100% - ${global.Env.titleBarHeight +
          global.Env.statusBarHeight}px)`
      } else {
        if (this.statusbar.statusBarImmersive) {
          this.statusbar.instance.setAttribute(
            'style',
            'position:absolute;top:0;left:0;width: 100%;'
          )
        } else {
          root.style.height = `calc(100% - ${global.Env.statusBarHeight}px)`
        }
      }
      root.classList.add('page-push')
      bodydom.appendChild(root)
      const data = Object.assign({}, body)

      if (data.style && data.style.height && data.style.height !== '100%') {
        delete data.style.height
      }

      const bodyEl = this.createElement(data)
      if (!data.style || !data.style.height) {
        bodyEl.node.style.minHeight = '100%'
      }

      // add test canvas处理 先放这里
      if (data.type === 'canvas') {
        bodyEl.node.width = root.clientWidth
        bodyEl.node.height = root.clientHeight
      }
      root.appendChild(bodyEl.node)

      if (children) {
        children.map(child => {
          this.addElement(child, data.ref, -1)
        })
      }

      root._appended = true

      let routes
      const _postcallback = routesStr => {
        try {
          routes = JSON.parse(routesStr) || []
          if (routes.length > 0) {
            const curRoute = routes[routes.length - 1]
            const routeURI = curRoute.routeURI
            global._pageCache[routeURI].routeCnt = global._pageCache[routeURI].routeCnt
              ? ++global._pageCache[routeURI].routeCnt
              : 1
            global._pageCache[routeURI].root = root
          }
        } catch (e) {
          console.log(e)
        }
      }
      const telegram = new Telegram()
      telegram.postMessage(
        {
          method: 'getItem',
          args: 'routes'
        },
        _postcallback
      )
      // this.handleAppend(root)
    },

    /**
     * 发送"addElement"信号
     * @param node  新添加节点 可能是element或者figment
     * @param parent  渲染父节点
     * @param index  索引
     * @returns {undefined|number}
     */
    addNode(node, parent, index) {
      if (!parent || !supportRender(parent)) {
        console.error(`### App Runtime ### addNode的parent(${parent.type})必须是可渲染节点`)
      }

      // 任何无效索引替换为-1
      if (index < 0) {
        index = -1
      }

      let result
      if (node.nodeType === Node$1.NodeType.FIGMENT) {
        let startIndex = index
        node.layoutChildren.every(child => {
          if (child.nodeType === Node$1.NodeType.FIGMENT) {
            result = this.addNode(child, parent, startIndex)
          } else {
            result = this.addElement(child, parent.ref, startIndex)
          }
          startIndex += calcRenderCount(child)
          return result !== -1
        })
      } else {
        result = this.addElement(node, parent.ref, index)
      }
      return result
    },

    /**
     *
     * @param node
     * @param ref
     * @param index
     * @returns {undefined|number}
     */
    addElement(args) {
      const ref = args[0]
      let nodeJson = args[1]
      let index = args[2]
      const node = this.getNodeByRef(nodeJson.ref)
      if (node) {
        const styleSheetName = (node._vm && node._vm._type) || `component-${nodeJson.ref}`
        parseStyleObject(
          node,
          false,
          styleSheetName,
          nodeJson.prop._styleObjectId,
          nodeJson.styleObject
        )
        calcNodeStyle(node)
        const style = getNodeMergedStyleAsObject$1(node)
        if (style && Object.keys(style).length) {
          nodeJson.style = style
        }
        // fire event for rendering dom on body elment.
        // this.rendering()

        const COMMONEVENTS = ['click', 'touchmove', 'touchstart', 'touchcancel', 'touchend']
        // 过滤掉通过emit触发的自定义事件, 仍然需要保留一些通用事件的绑定
        if (node._vm && node._vm._vmEvents && nodeJson.event) {
          const vmEvents = Object.keys(node._vm._vmEvents).filter(
            e => COMMONEVENTS.indexOf(e) === -1
          )
          nodeJson.event = nodeJson.event.filter(e => vmEvents.indexOf(e) === -1)
        }

        // 预判该节点会有多少个children
        nodeJson._childNodesLength = getChildNodesLength(node)
      }
      const parent = this.componentMap[ref]
      if (!parent) {
        return
      }
      const children = parent.data.children
      // 任何无效索引替换为-1
      if (!(index >= 0)) {
        index = -1
      }
      const data = Object.assign({}, nodeJson)
      // return this.addActions(_createAction('addElement', [ref, getNodeAsJSON(node), index]))
      if (children && children.length && children.length > index && index !== -1) {
        this.insertBefore(children[index].ref, data)
      } else {
        this.appendChild(ref, data)
      }
    },

    appendChild(parentRef, data) {
      // console.log('### Web Render ###  appendChild', parentRef, data)
      let parent = this.componentMap[parentRef]

      if (this.componentMap[data.ref] || !parent) {
        return
      }

      if (parentRef === '_root' && !parent) {
        parent = this.createElement({
          type: 'root',
          rootId: 'hap',
          ref: '_root'
        })
        parent._appended = true
      }
      // 容器传递给后代的数据
      data.props = parent.data.props
      data._parentRef = parentRef
      const child = parent.appendChild(data)

      // In some parent component the implementation of method
      // appendChild didn't return the component at all, therefor
      // child maybe a undefined object.
      if (child) {
        child.parentRef = parentRef
      }

      parent._appended = true
      if (child && parent._appended) {
        this.handleAppend(child)
      }
      return child
    },

    handleAppend(component) {
      component._appended = true
      component.onAppend && component.onAppend()

      // invoke onAppend on children recursively
      const children = component.data.children
      if (children) {
        for (let i = 0; i < children.length; i++) {
          const child = this.componentMap[children[i].ref]
          if (child) {
            this.handleAppend(child)
          }
        }
      }

      // watch appear/disappear of the component if needed
      watchIfNeeded(component)

      // do lazyload if needed
      component.fireLazyload()
      // lazyload.startIfNeeded(component);
    },

    /**
     * 发送"removeElement"信号
     * @param ref  待删除的节点引用列表
     * @returns {undefined|number}
     */
    removeElement(args) {
      const ref = args[0]
      if (isArray(ref)) {
        return ref.map(r => this.removeElement(r))
      }
      const component = this.componentMap[ref]
      // fire event for rendering dom on body elment.
      this.rendering()

      if (component && component.parentRef) {
        const parent = this.componentMap[component.parentRef]
        component.onRemove && component.onRemove()
        parent.removeChild(component)
        parent.removeChildHandler()
      } else if (!component) {
        console.error(`### Web Render ###  component of ref '${ref}' does not exist.`)
      } else {
        console.error(
          `### Web Render ###  parent component '${component.parentRef}' does not exist.`
        )
      }
    },

    /**
     * 发送"moveElement"动作
     * @param target  移动的节点ref
     * @param ref  父节点ref
     * @param index 新索引
     * @returns {undefined|number}
     */
    moveElement(target, ref, index) {
      // return this.addActions(_createAction('moveElement', [target, ref, index]))
      // const component = this.componentMap[ref]
      // const newParent = this.componentMap[parentRef]
      // const oldParentRef = component.parentRef
      // let children, before, i, l
      // if (!component) {
      //   return console.error(`### Web Render ###  component of ref '${ref}' does not exist.`)
      // }
      // if (!newParent) {
      //   return console.error(
      //     `### Web Render ###  parent component '${parentRef}' does not exist.`)
      // }
      // if (index < -1) {
      //   index = -1
      //   return console.error('### Web Render ###  index cannot be less than -1.')
      // }
      // // fire event for rendering.
      // this.rendering()
      // children = newParent.data.children
      // if (children
      //     && children.length
      //     && index !== -1
      //     && index < children.length) {
      //   before = this.componentMap[newParent.data.children[index].ref]
      // }
      // // remove from oldParent.data.children
      // if (oldParentRef && this.componentMap[oldParentRef]) {
      //   children = this.componentMap[oldParentRef].data.children
      //   if (children && children.length) {
      //     for (i = 0, l = children.length; i < l; i++) {
      //       if (children[i].ref === ref) {
      //         break
      //       }
      //     }
      //     if (l > i) {
      //       children.splice(i, 1)
      //     }
      //   }
      // }
      // newParent.insertBefore(component, before)
      // component.onMove && component.onMove(parentRef, index)
    },

    insertBefore(ref, data) {
      // console.log('### Web Render ###  insertBefore', ref, data)
      let child, parent
      const before = this.componentMap[ref]
      child = this.componentMap[data.ref]
      before && (parent = this.componentMap[before.parentRef])
      if (child || !parent || !before) {
        return
      }
      // 容器传递给后代的数据
      data.props = parent.data.props
      data._parentRef = before.parentRef
      child = this.createElement(data)
      if (child) {
        child.parentRef = before.parentRef
        parent.insertBefore(child, before)
      } else {
        return
      }

      if (this.componentMap[before.parentRef]._appended) {
        this.handleAppend(child)
      }
    },

    /**
     * 更新element属性，发送"updateProps"信号.
     * @param ref
     * @param key
     * @param value
     * @returns {undefined|number}
     */
    updateProps(args) {
      const ref = args[0]
      const result = args[1]
      const component = this.componentMap[ref]
      if (!component) {
        return console.error(`[h5-render] component of ref '${ref}' does not exist.`)
      }
      component.updateProp(result)
    },

    /**
     * 更新element属性，发送"updateAttrs"信号.
     * @param ref
     * @param key
     * @param value
     * @returns {undefined|number}
     */
    updateAttrs(args) {
      const ref = args[0]
      const result = args[1].attr
      // add test componentManager
      const component = this.componentMap[ref]
      if (!component) {
        return console.error(`### Web Render ###  component of ref '${ref}' does not exist.`)
      }
      component.updateAttrs(result)
    },

    /**
     * 更新elemnt样式，发送"updateStyle"信号.
     * @param ref
     * @param key
     * @param value
     * @returns {undefined|number}
     */
    updateStyle(args) {
      const ref = args[0]
      const style = args[1].style
      const component = this.componentMap[ref]
      if (!component) {
        return console.error(`### Web Render ###  component of ref '${ref}' does not exist.`)
      }
      component.updateStyle(style)
      // return this.addActions(_createAction('updateStyle', [ref, result]))
    },

    /**
     * 发送"updateStyle"信号.
     * @param ref
     * @param style
     * @param attr class或者id
     * @returns {undefined|number}
     */
    updateStyles(args) {
      const ref = args[0]
      const attr = args[1].attr
      // let style = args[1].stylej
      // const result = {
      //   attr: attr
      // }
      // if (style && Object.keys(style).length) {
      //   result.style = style
      // }
      // add test componentManager
      const node = this.getNodeByRef(ref)
      if (!node) {
        return
      }
      const oldStyle = getNodeMergedStyleAsObject$1(node)
      let rule
      if (attr && Object.keys(attr)) {
        const key = Object.keys(attr)
        switch (key[0]) {
          case 'class':
            rule = CSSStyleRuleType.CLASS
            break
          case 'id':
            rule = CSSStyleRuleType.ID
            break
          default:
            rule = CSSStyleRuleType.INLINE
        }
      } else {
        rule = CSSStyleRuleType.INLINE
      }
      calcNodeStyle(node, rule)
      const style = getNodeMergedStyleAsObject$1(node)

      const component = this.componentMap[ref]
      if (!component) {
        return console.error(`### Web Render ###  component of ref '${ref}' does not exist.`)
      }

      component.delAttrs(attr && Object.keys(attr))
      diffStyles(oldStyle, style)
      component.updateStyle(style)
      component.updateAttrs(attr)
      // return this.addActions(_createAction('updateStyle', [ref, result]))
    },

    updateStyleObject(ref, isDocLevel, styleSheetName, styleObjectId, styleObject) {
      // return console.log('setStyleObject', this.id, ref, isDocLevel, styleSheetName, styleObjectId, styleObject)
    },

    parseStyleObject(args) {
      const [docId, ref, isDocLevel, styleSheetName, styleObjectId, styleObject] = args
      parseStyleObject(docId, ref, isDocLevel, styleSheetName, styleObjectId)
    },
    addEvent(args) {
      const ref = args[0]
      const type = args[1]
      const component = this.componentMap[ref]
      if (!component) {
        return console.error(`### Web Render ###  component of ref '${ref}' does not exist.`)
      }
      component.bindEvents([type])
    },

    removeEvent(args) {
      const ref = args[0]
      const type = args[1]
      const component = this.componentMap[ref]
      if (!component) {
        return console.error(`### Web Render ###  component of ref '${ref}' does not exist.`)
      }
      component.unbindEvents([type])
    },

    /**
     * 更新页面标题栏
     * @param ref
     * @param attr
     * @returns {undefined|number}
     */
    updateTitleBar(args) {
      const attr = args[0]
      this.tilebar.updatePageTitleBar(attr)
      // return this.addActions(_createAction('updateTitleBar', [attr]))
    },
    /**
     * 更新页面标题栏
     * @param ref
     * @param attr
     * @returns {undefined|number}
     */
    setMeta(args) {
      const attr = args[0]
      let errorInfo = ''
      const errInfoTitle = `[sitemap error] setMeta title不能为空！`
      const errInfoDes = `[sitemap error] setMeta description不能为空！`
      if (attr) {
        if (attr.title) {
          document.title = attr.title || ''
        } else {
          console.error(errInfoTitle)
          errorInfo += errInfoTitle
        }
        if (attr.pic) {
          const $tag = getMetaTag('pic')
          $tag.setAttribute('content', attr.pic)
        }
        if (attr.description) {
          const $tag = getMetaTag('description')
          $tag.setAttribute('content', attr.description)
        } else {
          console.error(errInfoDes)
          errorInfo += '<br/>' + errInfoDes
        }
        if (attr.keywords) {
          const $tag = getMetaTag('keywords')
          $tag.setAttribute('content', attr.keywords)
        }
        console.info(`[sitemap info] setMeta 设置的信息为: ${JSON.stringify(attr)}`)
      } else {
        errorInfo = errInfoTitle + '<br />' + errInfoDes
      }
      errorInfo && showErrorLayer(errorInfo)
      // return this.addActions(_createAction('updateTitleBar', [attr]))
    },
    /**
     * 更新页面状态栏
     * @param attr
     * @returns {undefined|number}
     */
    updateStatusBar(args) {},
    /**
     * 页面滚动至指定位置
     * @param attr
     * @returns {undefined|number}
     */
    scrollTo(attr) {
      console.warn('### Web Render ###  预览暂不支持 scrollTo，请以真机为准')
    },
    /**
     * 页面按指定的偏移量滚动文档
     * @param attr
     * @returns {undefined|number}
     */

    scrollBy(attr) {
      console.warn('### Web Render ###  预览暂不支持 scrollBy，请以真机为准')
    },
    /**
     * 退出全屏
     */
    exitFullscreen() {
      if (window.document.fullscreenElement) {
        window.document.exitFullscreen()
      } else {
        console.warn('### Web Render ### exitFullscreen: 尚未进入全屏，无法退出')
      }
    },
    /**
     * 发送统计数据
     * @param hash
     * @return {undefined|number}
     */
    statistics(hash) {},

    /**
     * 当前页面是否有需要更新的action
     * @return {boolean}
     */
    hasActions() {
      return !!this.actionLen
    }
  }

  var protocol = {
    // hap instances
    _instances: {},

    // api meta info
    _meta: {},

    // Hap.registerApiModule used this to register and access apiModules.
    apiModule: {},

    // get the api method meta info array for the module.
    getApiModuleMeta: function(moduleName) {
      const metaObj = {}
      metaObj[moduleName] = this._meta[moduleName]
      return metaObj
    },

    // Set meta info for a api module.
    // If there is a same named api, just replace it.
    // opts:
    // - metaObj: meta object like
    // {
    //    dom: [{
    //      name: 'addElement',
    //      args: ['string', 'object']
    //    }]
    // }
    setApiModuleMeta: function(metaObj) {
      let moduleName
      for (const k in metaObj) {
        if (metaObj.hasOwnProperty(k)) {
          moduleName = k
        }
      }
      const metaArray = this._meta[moduleName]
      if (!metaArray) {
        this._meta[moduleName] = metaObj[moduleName]
      } else {
        const nameObj = {}
        metaObj[moduleName].forEach(function(api) {
          nameObj[api.name] = api
        })
        metaArray.forEach(function(api, i) {
          if (nameObj[api.name]) {
            metaArray[i] = nameObj[api.name]
            delete nameObj[api.name]
          }
        })
        for (const k in metaObj) {
          if (metaObj.hasOwnProperty(k)) {
            metaArray.push(metaObj[k])
          }
        }
      }
      this._meta[moduleName] = metaObj[moduleName]
    },

    // Set meta info for a single api.
    // opts:
    //  - moduleName: api module name.
    //  - meta: a meta object like:
    //  {
    //    name: 'addElement',
    //    args: ['string', 'object']
    //  }
    setApiMeta: function(moduleName, meta) {
      const metaArray = this._meta[moduleName]
      if (!metaArray) {
        this._meta[moduleName] = [meta]
      } else {
        let metaIdx = -1
        metaArray.forEach(function(api, i) {
          let name // todo
          if (meta.name === name) {
            metaIdx = i
          }
        })
        if (metaIdx !== -1) {
          metaArray[metaIdx] = meta
        } else {
          metaArray.push(meta)
        }
      }
    }
  }

  // _registerModules([{
  //   modal: [{
  //     name: 'toast',
  //     args: ['object', 'function']
  //   }, {
  //     name: 'alert',
  //     args: ['object', 'function']
  //   }, {
  //     name: 'confirm',
  //     args: ['object', 'function']
  //   }, {
  //     name: 'prompt',
  //     args: ['object', 'function']
  //   }]
  // }, {
  //   animation: [{
  //     name: 'transition',
  //     args: ['string', 'object', 'function']
  //   }]
  // }])

  const _senderMap = {}

  function Sender(instance) {
    if (!(this instanceof Sender)) {
      return new Sender(instance)
    }
    this.instanceId = instance.instanceId
    this.hapInstance = instance
    _senderMap[this.instanceId] = this
  }

  function _send(instanceId, msg) {
    processCallbacks(instanceId, [msg])
  }

  Sender.getSender = function(instanceId) {
    return _senderMap[instanceId]
  }

  Sender.prototype = {
    // perform a callback to jsframework.
    performCallback: function(callbackId, data, keepAlive) {
      const args = [callbackId]
      data && args.push(data)
      keepAlive && args.push(keepAlive)
      _send(this.instanceId, {
        action: '2',
        method: 'callback',
        args: args
      })
    },

    fireEvent: function(ref, type, func, event) {
      func.extra && $extend(event, func.extra())
      _send(this.instanceId, {
        action: '1',
        method: 'fireEvent',
        args: [ref, type, event, func.updator && func.updator()]
      })
    }
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */
  const CALLBACK_RESULT_SUCCESS = 0
  const CALLBACK_RESULT_FAIL = 999
  const CALLBACK_RESULT_CANCEL = 100
  const fileMap = {}

  const hybrid = {
    invokeCallback(callbackId, data, code) {
      global.execInvokeCallback({
        callback: callbackId,
        data: {
          code: code || CALLBACK_RESULT_SUCCESS,
          content: data
        }
      })
    },
    callbackSuccess(callbackId, data) {
      global.execInvokeCallback({
        callback: callbackId,
        data: {
          code: CALLBACK_RESULT_SUCCESS,
          content: data
        }
      })
    },
    callbackFail(callbackId, data, code) {
      global.execInvokeCallback({
        callback: callbackId,
        data: {
          code: code || CALLBACK_RESULT_FAIL,
          content: data
        }
      })
    },
    callbackCancel(callbackId, data) {
      global.execInvokeCallback({
        callback: callbackId,
        data: {
          code: CALLBACK_RESULT_CANCEL,
          content: data
        }
      })
    },
    syncResult(data) {
      return data !== null
        ? { code: CALLBACK_RESULT_SUCCESS, content: data }
        : { code: CALLBACK_RESULT_SUCCESS, content: '' }
    },
    polyfillPrompt(moduleName, methodName, options) {
      console.warn(
        `### Web Render ### ${moduleName} => ${methodName}:${JSON.stringify(options) ||
          ''}\n\n==可能返回模拟数据，请使用真机调试体验完整功能==`
      )
    },
    errorTip(moduleName, methodName, msg) {
      // 对于校验的必填信息
      console.error(`### Web Render ### ${moduleName} => ${methodName}:${msg || '是必填项'}`)
    },
    saveFile(uri, blob) {
      fileMap[uri] = blob
    },
    getFile(uri) {
      return fileMap[uri]
    },
    // 同步,回调,订阅
    MODE: {
      SYNC: 0,
      CALLBACK: 1,
      SUBSCRIBE: 2
    },
    // 方法,属性,事件
    TYPE: {
      METHOD: 0,
      ATTRIBUTE: 1,
      EVENT: 2
    },
    // 无,可读,可写
    ACCESS: {
      NONE: 0,
      READ: 1,
      WRITE: 2
    },
    // 传递参数的类型
    NORMALIZE: {
      RAW: 0,
      JSON: 1
    },
    // 方法返回的数据类型
    RESULT: {
      MODULE_INST: 0
    }
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  function loadScriptByXHR(url, callback) {
    const xmlhttp = new global.XMLHttpRequest()

    xmlhttp.onreadystatechange = function() {
      if (xmlhttp.readyState === 4 && xmlhttp.status === 200) {
        typeof callback === 'function' && callback(xmlhttp.responseText, null)
      }
    }

    xmlhttp.onloadend = function() {
      // add hack for load sitemap callback
      if (xmlhttp.status === 404) {
        callback(null, null)
      } else if (xmlhttp.status === 0 && xmlhttp.responseText) {
        // 适配加载本地文件
        typeof callback === 'function' && callback(xmlhttp.responseText, null)
      }
    }
    xmlhttp.onerror = function(error) {
      callback(null, error)
    }
    xmlhttp.open('GET', url, true)
    xmlhttp.send()
  }

  function loadScript(url, callback) {
    const head = document.head
    const script = document.createElement('script')
    script.type = 'text/javascript'
    script.charset = 'utf-8'
    script.async = true
    script.timeout = 120000

    script.src = url
    const timeout = setTimeout(onScriptComplete, 120000)
    script.onerror = script.onload = onScriptComplete
    function onScriptComplete(event) {
      // avoid mem leaks in IE.
      script.onerror = script.onload = null
      clearTimeout(timeout)
      const err = event.type === 'error' ? new Error('ScriptError') : undefined
      callback(err)
    }
    if (global._willDispatchRoute) {
      loadScriptByXHR(url, function(text) {
        // 增加用户是否有设置title的标记
        global.setTitleFlag = false
        global.setMetaFlag = false
        const matches = text.match(/\.setTitleBar\({?([\w"'-_,#.()\s\u2E80-\u9FFF]+)}?\)/)
        const matches_setMeta = text.match(/\.setMeta\({?([\w"'-_,#.()\s\u2E80-\u9FFF]+)}?\)/)
        if (matches && matches[1]) {
          if (typeof matches[1] === 'string' && matches[1].indexOf('text') > -1) {
            global.setTitleFlag = true
          }
        }
        if (matches_setMeta && matches_setMeta[1]) {
          if (typeof matches_setMeta[1] === 'string' && matches_setMeta[1].indexOf('text') > -1) {
            global.setMetaFlag = true
          }
        }
        head.appendChild(script)
      })
    } else {
      head.appendChild(script)
    }
  }

  /**
   * from https://github.com/MrRaindrop/modals
   * MIT license
   */
  const queue = []
  let isProcessing = false
  let toastWin
  const TOAST_WIN_CLASS_NAME = 'hap-prompt-toast'

  function showToastWindow(opt, callback) {
    if (!toastWin) {
      toastWin = document.createElement('div')
      toastWin.style.cssText =
        'position: fixed;width: fit-content;max-width: 80%;bottom: 1rem;left: 50%;padding: .133rem .22rem;transform: translate(-50%, -1rem);color: #fff;background-color: #555;transition: opacity .4s ease-out;font-size: .373rem;border-radius: .2rem;'
      toastWin.classList.add(TOAST_WIN_CLASS_NAME)
      document.body.appendChild(toastWin)
    }
    toastWin.textContent = opt.msg
    toastWin.style.opacity = 0.8
    setTimeout(function() {
      callback && callback()
    }, opt.duration * 1000)
  }

  function hideToastWindow(callback) {
    const handleTransitionEnd = function() {
      toastWin.removeEventListener('transitionend', handleTransitionEnd)
      toastWin.removeEventListener('webkitTransitionEnd', handleTransitionEnd)
      callback && callback()
    }
    if (!toastWin) {
      return
    }
    toastWin.addEventListener('transitionend', handleTransitionEnd)
    toastWin.addEventListener('webkitTransitionEnd', handleTransitionEnd)
    toastWin.style.opacity = 0
  }

  const toast = {
    push: function(msg, duration) {
      // 解决页面跳转引起的bug
      if (isProcessing && document.querySelector('.' + TOAST_WIN_CLASS_NAME) === null) {
        queue.length = 0
        isProcessing = false
        toastWin = null
      }
      duration = duration === 0 ? 1.5 : 2.5
      queue.push({
        msg: msg,
        duration: duration
      })
      this.show()
    },

    show: function() {
      const that = this
      // the previous toast is not ended yet.
      if (isProcessing) {
        return
      }
      isProcessing = true

      const toastInfo = queue.shift()
      showToastWindow(toastInfo, function() {
        isProcessing = false
        if (queue.length) {
          that.show()
        } else {
          hideToastWindow(function() {
            if (!isProcessing) {
              toastWin && toastWin.parentNode.removeChild(toastWin)
              toastWin = null
            }
          })
        }
      })
    }
  }

  const img$6 =
    'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAtFJREFUeAHtlz1rFFEUhhOVgIiNYCFKwjYKYqWi5SJp/ANW6QLGyj/gB0FE/4NR0qUSrEWIsqUWViGFhUsWrQRBRISgxvcJO2G47Ow9M0lGMO+Bd3fuPWfOPfeZe2fvTkzYTMAETMAETMAETMAETMAETMAETMAETMAETMAETMAEDg6ByX801SMatyOdHI7/Rd996dew3dpX2wCmNbN5qSsdT2b5Xe2etCwNEt++NdsCwDgLEpM/nJnNb/mBsCRtZWJ37U4B0L4qXZFYnj+kdemNxBNqYuR8KF2vefNLxd+XmkJghV2TzkvHJLbZO+mttJOzDOC0HIvSRSm1r+p4JPVSR6B9SzE3A3GjQp6q88koR6avK/9d6cSIuPfqeyB9xlcAgBIDHaVzjBFDUVFjzz+Xcsu+Kh/b4YZU550AbKCPs59yErN+SB9TEkRyk1fI9pO8wEXQInt+XCrAkSNq1BZZbcyVOU8BYE7qSBEj/k4kUDH81LEUd2vkIFfEqI0aI8ac5wiejUSXYs7q+kypXXXJAOlPXVXsuH5yRB4QNVFbHZsFwEydO4ax7O2cFYecXFzEH8kVqSkdaya6XNIb/5s2ADYazGYQuIff3b2ySK5ITWk9GwBYTXsz7Q/yf8rE4O5LTQ9P5fTkIFfOqIna6tgqAFakyAAk/iM95iJg/LHpBeJyIeSI/kmiNmqMGHNeAcCmtChxOMgZh6C1XFDJv6xrDjNNjXvJETVqixzUmCtz3ixOaOyxV9I56ZSUGkfhe9KL1JFpf5OfMS5l4qrcz+R4XeWs6Oeoy1a4LI063OG/LX2Udo7CXGOT0oH9M7RNYJ8+ALsgzUvFqqsaqlj2SwrYqgraq34Ka9OmNRgQulJ6SuRtzwuPPT+QWrG2ARST4mzfkYoTHu+gvhR92yvUZgImYAImYAImYAImYAImYAImYAImYAImYAImYAImYAJ1CfwFAQBwnHQdbEcAAAAASUVORK5CYII='

  const img$7 =
    'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAupJREFUeAHtmL9qFFEUh2dWEURsBCslIU0KsbLQcpE0voAQSBdI8gCxUmRZRN8hBrdL5QvYBNlSCytJkSYkxEqwkSCIun4/vRtmrzNzTybuKptz4DD3zvlzz/lyJ3Nns8zFCTgBJ+AEnIATcAJOwAk4ASfgBJyAE3ACTsAJOAEn4ATODoH8X7Q6GAzOs+4cejWs/5HrXp7n38J8YpeJAqDxGTpbRtvo5ajLz8z7aA8QB5FtbNOJAKBxrbOKqvlziW6+Y++hzwExSPie2jwCIBR6h6y3UW3PI3QHfU0x+gudWELOJwTeO2HwK/wfN4XAutphd9Eb6CVUj9lb9E0x5zEAAq5h7KC30Fg+ceMpgf3YkJqTdw2flZRfhX2TNTcqbJW3WVOP2CP0SonTO+51yftBtl8ACBAlLXRRN2tkg8DNGvuIibx65l+iqW0/EleY6HG4z5rm/wmsKdiCXidfMK6Rd6dFwAUmXTTVvBKu4H9TA6NYnvm6VAKnHCYJtVl2m3rtqvcWgyV0zrRClsn/ocWX5HrVaSueVtohlyWPalONFlHPS3JesHgXfOYp6HphXjXUAvGrrsq37r5yJP9Aoab5ukQltgUBmC0xpG7p2U7J8JCT8rPYLbksNcVrzVq3Sxw4NXMB2G/QzYEhRu/dvyWWXJaa4nr2BWA7vpuY7/L6OEz4yLyHNjo8RbmVQ7lqJdS0W+v0p3FbALbQ5AIh9gfXZ2Fce6Egfdj0a51sxn7IZfFWbarRIup5q0Xyrww6qA4HKdHJ7H3KqWDvMdZhpqkMvwtM8aE2y0FNvXbUu3ZAxkDn/UVUx8Qy0VF4HT9L8uN4/PVcCkJTeRFymONDjQ8IUM1loh4X8VPPv4/CQy/epTnjs/kxNIQwjmsAu0ruZTT1XTDc9pP/HB5H88WcgJgJENpc41Pi9P4gUoSgMSD+m5/E4tp87gScgBNwAk7ACTgBJ+AEnIATcAJOwAk4ASfgBJyAE3AC00zgJ3PjvyFJhL3NAAAAAElFTkSuQmCC'

  const img$8 =
    'data:image/png;base64,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'

  const img$9 =
    'data:image/png;base64,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'

  const img$a =
    'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAAM1BMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACjBUbJAAAAEHRSTlMADQgFD9Wslx/dJ5GAc6Fhclo4qgAAARRJREFUWMPt2FsKwzAMRNFq1PT9yP5XWwr96zSOcsGkkFnAQVYglrXbsuUvklJ8IiXG4isAzfiRZaRiIoLV8SoVzYiU55PAQ6JidkQ8L1Y9LmYUkyWPi7EgoIE+Agf2yeKBr8N1Py3WDvwcx/EwLapU4H1si6UOnoa2mI0C66IvEIhpPwkQZU9MRAci0bUQiWlaiEQZEIkyLWSiAYFoQSJ6sC5y8HJ+g0dQofcAaD0Ieq8NinkyIPAcmMDzf1jg+f8h8Dwo4smACTx/jwIvShf9DC8ro8it7UVpWLq3PZXGuf1juMV0OgycbCTuObTzZwUXs8PTjIjq+LzlD3AuZrclBl+z8CK1hlXV72XamtZ9W7b0yQu3TBbqb3+zUQAAAABJRU5ErkJggg=='

  const img$b =
    'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAABIlJREFUeAHlm7tuE0EUhrGDHSxbIghFQpQoFW269FEKSlCk1HkG6GhAoklLQQpoLUWihLxBJIo0SPAQQaSJHRmDDfONfFbj3fVeZ3dmw5GOZ7Key/n/c9ld76Z1q3ppqy3WlNKKtlQfNeWv+gOdGzpb9FVTjYSNsLULgDtKBXiZdSEEIn4v2jJrRebaJIC1AI3i6SoEMiACJVpKiw0CWKO70NIG5VhgqsaipYgoQwBzbytdV1pmHTW9sAD+l9I/SgsRUdRwQvyOUnLcB6FGTJSSIrmkCAF4HfBF5uYyLudgIgASiIbMkteDFLieUt/AAxibsA8iMkdCVgJYHK+T774LEUqKkhapkoUAwON1Fm6KgAtNTYcsBOD5JoEXJxEFOC+RhDQCyKkmhL2ADrfgS6wJSQTgdUK/6QIOimJsYVx1ySrn+aaDF/tJ41iscQel4tPeFFmJKY4AQiYpNZpKCpgixTxMAExZL3pbW1ut6+vrN7PZ7MtoNHq1vb0d3rcuUiP3LeEwZwB3dlbl4uLi2ebm5gdZdDqdftzZ2Tk8Pz+PLUwyrqKWO0huoLSYnoAM6+DZpdPp3NW7LT663e7Ts7Oz944iAYyB400COOdXIkdHR8P5fP7NXNwxCQHWgAllXF+pSYhpb+n+cDi8v7+//6ndbj82F3OUDqTeGDsEMBVS+hy3LgcHBz9PTk6eqEj4bi7uKBLAqs90AjoICdM4233PSNCYhYDazvsekRBEACQIEbadHrueJyRo3HzU5n2TDU9IWKvd+56R0HZKAGQ4jgT3BDgmQRNgXgyZEVpr31EktEgBLwhwFAmagFo9nbZZ3ZFABHgnGxsb661Wi5+xlkRdRv+wfQvtHQGnp6cP9/b2PisCHpnoJ5PJu16v98I8ZqMPAYWeqtrYPLxG3eDB7g0BDsDDvybAxc9SS853BB4b5kSAUwIcgndPgGPwAQGZHiMz2qZ4AB44M0mBWtPAE/Bg1jVAM8FHHeIJeKDqyCcCEN67q1w8Ag9WjVkIgI1K08Az8GBdioCAETq25fj4+F6dl7cZ7A8i3rwVpj/IMDn3kKurq+eDweClObGqa3tzj4T+SH2nbwEkBRjLAR4cWhf1VFg/hZGFHYNfer02/IswucEDAzMyxO7C7eXl5dfd3d0H6rFYZzwev+33+68LL1ZuIk7mZcpA4oBCQORePJjR7A7gg/wHipkCAo3XynSFlAM3pAVT5JW5OAIkTHSRuCHgV2IK1wDBywSpB3KsyS2hHxvVqwgALARAROTFIr5skCS+QZ5EABghgTRJG8dYH4WCl3hqzwKM0GFcXL3wEbTYhN1Lpzz5wmyzEMB4qienzKzjmeNS8DzgUwt5HkCQ0ISaAPDEsFffB5KHACZRE1AKY9xFlDrsTHBOYsGLs6woCOoBV4t5CYyzwcYxyXeck0uKEsAmzCUSIq+f8mVNgted/NuciQ8i/st/nDRJoA8R3EihVZ0yCXEqPJpa4dWYVCmTAkmLUxsggrYsGYAmxwFNa1WqIsA0EgKECPoo+4b3xqMogEUBTL8y+Qek8MIj89gxHAAAAABJRU5ErkJggg=='

  const img$c =
    'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMAAAADACAMAAABlApw1AAAAZlBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwbJTWAAAAIXRSTlMNAF0yCwQ3CAb02Mm2O1ka5I6KLBX86aODcWpkVlBDDrCFOo8NAAADX0lEQVR42u2diXLqMAxFLyDjhCVl6UL3+v9/8jVxyIS2wbw2k/ganQ9gdGxJhkFjY3IZxmRWRDAAImIzYy4MDJcEbwUjINb0IZAJRkSyvwkYi9Gx5tcCRhAFck4BkebOxZmEyFe/YxeCAhHk/lfsfwgYRIn5UYBj+T32MoHIsr+N/CAQe/WGahkc6d9dCCCL/5sB2OL/agC6+L8YgC/+UwNw9M/ubgrC+E8MEP/5e/5MBl0BeMw3AZDRxM2YQO0kAmUCtZIIdB3oiLQFMhCSeQHWDThuAUgroKkC0G5AvQXg3QC/BWA8A9pnAQgP4YYqeNIe2nRS0JZwXcZgziCU0fP2IN+HwNuDfB8CcwmURQDqEgAmoC4BwPALEB9jJRmomxBgQd2EAFGBcWEPX1EURVEURVEU5YpZ75abO/dr7jbL3RrjMVu5HljNMBJF7nohLzAKU9cbU4zAOne9kY9RCEtXsdw+T3/N8/b4KRicV790T/gjT34jXzE0Dz55+yqlBwzNfdUB0QNVL77HwNy6kkf0wKMrucWw7F3JG3rgzZXsMSwzVzJHD8xdSeg4VgEVUAEVUAEVGERg4c6yiF7ABVABFQgI5O4sefQC6+lZ1tEL0LdRFehABVRABVTgSg4y+q8S9F/mVOAM+pPyKtqoCnSgAiqgAiqQlgD936z0f3TTjxrwD3vQj9uEBp4KnFBEN/AUHDk7oMUhwpGz4NDfCxpeYhz6C45d5jPUzPIoxy6Dg6+LG1TcLCIdfA2OHq/e8cn7KtrR424KV7HFJ1tXUYCKXV2dTa3vwEWdN/l8nh+ziYy6cjebYz3TMctPOiohL+0zjZKDqzmAlA9X8QFWbhesBXxk/2mw2IOYm6IgXn9FURRFUdKH/JatBG45oxegv6qQ/rJI+us66QXor6zlvzSYug3ZFC7Opi6CNC6PJz7KsjQeUODtQzaVR0RYy1jSeUiHcwskpcekGLdA0npQje8ssKk9KsiWRCa9hzWpOpGk+bgsTxmYVB9YJjEwKT8yTmBgUn9oP+5u6vtnl0D8Z7KddAlwFIKZdAhwbIJf/k6B2GvZV29QoE0WkYJkPqYugch3wa9+QKBDIYJasD78kECkmeRzJyAQxNhRJKRZ+7BAGGMyKzKIiIjYzPjgw/wDNJLfyBN5PfQAAAAASUVORK5CYII='

  const img$d =
    'data:image/png;base64,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'

  const img$e =
    'data:image/png;base64,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'

  const img$f =
    'data:image/png;base64,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'

  const img$g =
    'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMAAAADACAMAAABlApw1AAAAqFBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAs30iGAAAAN3RSTlMNAAoDBvv489KGYlKlLRHq58eNRTgjmDIgHtmqae5DzcBdWBSBfJ9xKSYWtJM+GuLdlrqxS09597SnyQAABh5JREFUeNrslQkOwjAQA4fN/v/NCFL1oAeRQDSD6hd4YnvDrU0lMyL4iSIiszQao8V8BCcoonwDIIMTFfkZQAlO15sc6PbxG2Ng3z4daR+BjsvTVCQU9g8Q6L49k7IVoMPnr4otAEV9DmrEyj9da0WAy/+aAMV8D6aMzf8rAar+bLQIn/8lAUL/CwIE/9fhj4bR/5wA1QHaOEX4BrCcAcYCzUuENIAxAqQBjBFgXHBVzgBQqlrXBjBEgHQB4wpwnqDpEOENoEaAdsLDjNFOeJgx4gY9O4S5QTzce29QvUOYGwTxDwCodUM9ASiIfwGA9AOoNwxxAZwru/1Ll+7s2cmWokAQBdC3YXRABKdyxrEoLcfq9/9/1ico2hZIatEuUvp4dyxYQEZkvISXl5eXl/9WJ/xyN85pt9zMr+EnKsdmxgUVU2OW0UO1zJjTRaWEzLMGqJI1vxlji6kVKqRvkuR4G8vF596Qq1YT1eFQtJG6ULiojIWXlM87UgHFFJUxohjiZkoRoCKabxR73LgUZ1SEQ+HfP9KhSl0wMSgi3FlReA1UwMhUtGzcovCueD51/3JaucG2mdRKdGbCCFR9TWM9QWIQ1kbO+ryEdiv+4U3to8XUEjlDpg7TmX80mYqgWWhSpY682KeK14dWTZsqJxTFZ357qoNCmwpeBKVfJhVG0CjdMQ3eaa0+UWJ7slgw3kKfN4oPdPbRpj08+359OcFP4mj3Ydv+R3fpXnsDW/eAnlOM3/GP9gbFHrrYjxZxO11BTaKHU/KiRRFCD5+ihgdsKIbQ4krh4xGLJKYaDehwoViinCSeWjjAD3YUO+gwo7B6KNFwbCZsp4ESPUvjOH73KKZNqPS7Bm+Mbh8qC5vC60CLWnnwwaTFjNYECl0mvqDJrjQSz03mmPOyfZht6NKcloziickCc4Kc7ZjCb0KbhqVMM32PCavuBoFbt5ho9ZE10x/m4DLhKkt72EGiM2Siq7x3Dq3WFMfsuhgUDm4cKubVgWINveJDMU84xXwwpHCKHXxcQLMRxboQUq0O7nSSPrAzz/Qs37qO+RoaqI71dYoB/koGxRv0q1PEuAlVr9bN5+b+0/x4WlFs8wM6QEaQb5UexQb6/WbX3JYTBGIwnBvxjIIHBEGxYAFR1Au77/9mHdnVUmJbDp3JMsN3rQyHTfLnT3gQGGUf4CRDDs20hYuyR8iQZnAWpzpBLRvEifgVOZGS6pnyadRKdQT9DsKSl6iihQz/kZi5wkVCaSkhorg7BlIOwpurIuY01NARwGNTGVeR06cOUTuDFbFfraE5MlEcyBCegluspZStpQdQ0Q0Ua+rxCyDiKo5AdVvFfhxBEoSncKxjbI0eI00KtiINlrYWcRrWgAL/P7KgTliPzTQEHRNqkDhphloBCXr9T9AX5iQNCyV9fRFUZtUVVyBiWXfEtSa2hsJOtvnywrHhFflwi+SZiCnmM1jNTO57Jz0u4M6jt1/HUldLuR+ai7bWg92U3JvzLIa52PADux7DnBOgQkhijBu+jNiYISiqMM6DmKkBiPGFIWjme3jGgcHbcdGUvcIiN3e5JO5a7kgPgv31cZs9L/egGuM47/p+v4y3POaVOZAzs29GJg6H55eDL1+crYEHAjWcDfZDkA/TZby84pLLtAgagNrD0alLcuDL5NZukpH9TrOWp/ng7AOeBLIYoQUxeInNr6ZJkHGKEn83/4fCfGgOuVUinpdkTJl/bNP17d3ttrN9Jss8rzg2yyLNOKw4KlI+zgEahc++oDehK2AqOdnfCBGRJXCtSYdxHMuVYRxZAdPYbIwVtLS0tLS0fLZ3BjkMxCAMFIb/v7lSr26knLqMtbyACSbc7LdiC+5zFuAzhwfAm0XiAfCGqXjLWr5pMB4AvQSdYF1O1pAy7PvBGkqJsMD+Q50S40Jd48mJMmKOYJLivIgfUWdF2vFG0GmxjjARKTHalLQGnRnviyHo3IhrBMFkx7yvJ+gyACNYfA/UdQYAXDRVnQAQqzx1AkDISF0HAATCt/0zwHoduXocwGuWTEHWvgMsFpKJ5xfA2jHY418B+BwegZC//T2AQ8zoXxySZvqysQ/oun2XbD/gTgAAAABJRU5ErkJggg=='

  const img$h =
    'data:image/png;base64,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'

  const img$i =
    'data:image/png;base64,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'

  const img$j =
    'data:image/png;base64,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'

  const img$k =
    'data:image/png;base64,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'

  const img$l =
    'data:image/png;base64,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'

  const img$m =
    'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAhFBMVEUAAADb29v////S0tLBwcHBwcHBwcHBwcHDw8PCwsLJycnBwcHBwcHBwcHBwcHBwcHCwsLAwMDBwcHBwcHBwcHCwsLExMTBwcHBwcHAwMDCwsLDw8PCwsLDw8PCwsLBwcHBwcHBwcHBwcHCwsLBwcHExMTBwcHBwcHBwcHBwcHCwsLAwMCSSGZAAAAAK3RSTlMABQIL596gaC0pEerYyrmVSvzDgT05Hvezp3tgRSUX8ePRrY1PNIl4cFdUnAe84wAAAXFJREFUWMPt1clywjAQBNCWF7xgY4NZwhrWQNL//385UFSkwEiyuXDg3TUlzbQkvL26rE6aqkmOaYD21OoQ82ZbrRTa+SloipcB/I1L3tut4Osy5EMLeFE9SuYh3IIPykYKTgfa9OCypN0FdtMZ7YYZrHp0+YBNSrcxLPZ0G0AWzmiImvq0amIahhuIjjT08mvZioalbwvPuEl821gYqdOun5HOPkSf1KR6PKhTYg+piaErqZlCsJanNadmAkH2bIGN5xHWEAT0a2IOSV8a48CIYgDJgLqFEKQSooVXlA8QjWmKvupJ3WxpOkKkZnQb5l4PkmwPiwndatgUdIkC2CR0WcBKxbSLQth90y6BQ1DSplBwGXuOQPZFWQUPakdJHMJHOvP41TqF4QxfFR+Zw5sa8F4Zwl9e8L/tBm2sI5r6GdrJInN9CjxT4fOE9rL+3/oJukij2/5P6GZ6nUW8Rlf5iORug+7CPUc5nhEsFd5e3i9Ng9PW+R/BuQAAAABJRU5ErkJggg=='

  const img$n =
    'data:image/png;base64,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'

  const img$o =
    'data:image/png;base64,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'

  const img$p =
    'data:image/png;base64,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'

  const img$q =
    'data:image/png;base64,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'

  const img$r =
    'data:image/png;base64,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'

  const img$s =
    'data:image/png;base64,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'

  const img$t =
    'data:image/png;base64,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'

  const img$u =
    'data:image/png;base64,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MEtFowggQGCxBxBAIBgBAiuYpaJRBBAgsNgDCCAQjACBFcxS0SgCCBBY7AEEEAhGgMAKZqloFAEECCz2AAIIBCNAYAWzVDSKAAIEFnsAAQSCESCwglkqGkUAAQKLPYAAAsEIEFjBLBWNIoAAgeV5D3zxxRfy5ptvyscffyyrV6+Wn3/+Wfbaay8ZMGCAHHXUUTJ8+HA58sgjPXe58/ItLS2ybNkyefvtt+WHH37IzkGPfv36yf777y8nnniinHLKKdKnT5+6Po/ly5dn5/Hpp5/KqlWr5Ndff83OQdfi2GOPzdbikEMOqetz2NWbI7A8rfD7778vc+bMkc8//7xiBwcffLBMmDAh+4ExxlQcX6sBv/zyizz77LPyyiuvyPr163datlevXnLOOefI+PHjZc8996xVixXrtLe3yxtvvCFPP/20fPvttxXHDx48WC6++GI57rjjKo5lQP4CBFb+pjudUX+wb7/9dnnnnXecK+sPyW233Sa9e/d2fm3eL9DA1fNobW11mrpv377Z64455hin1xUxOE1TmT59unzyySfO059xxhly4403SlNTk/NreUH3BQis7ts5v1J/uK+//vouvava0eT6buu+++6TOI6d6+f1gpdfflnuvffeqqabMWOGnHrqqVXNUc2L9eP3ddddl32E7e6hoVutQ3dr99TXEVg1Wnlrrdx0003y4YcfVl1RP5ZoaPn4v7v2r+eh51PNob3rOei51Pr47bff5Oqrr5avvvqq6tJ6be6WW26peh4m6JoAgdU1p6pHPfXUU/Lkk09WPU/HBBdccIFMnDgxt/m6MpFes7roootk3bp1XRlecYxey9JrR/oxsZbH3XffLYsWLcqt5OTJk2XUqFG5zcdEOxYgsGqwO/QHXS82b9iwIbdq+g5l7ty52W+xanXMmjVLlixZkmu5cePGyZVXXpnrnDub7JtvvpFLL70013pRFGVr0dzcnOu8TLatAIFVg13x0EMPyfPPP597pXPPPVcmTZqU+7zbm/DHH3/MQreIQ3/LWKsfdr129tZbb+V+GldddZWMHTs293mZcEsBAqsGO2L06NHZPT15H3vvvbe88MILeU+73fmee+45efjhhwuppb+pO+200wqZu/Okeu3q7LPPlra2ttxrHX744aL/Y+IoVoDAKtY3u7B7+eWXF1bl0UcflUMPPbSw+TsmvuGG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'

  // menu

  const DIALOG_ICON = {
    attention: img$n,
    page_icon: img$o,
    source_icon: img$p
  }

  const CUSTOM_ICON = {
    qq: img$q,
    friends: img$r,
    wechat: img$s,
    weibo: img$t,
    more: img$u
  }

  const LIGHT_ICON = {
    menu_light: img$7,
    close_light: img$9,
    about_light: img$b,
    feedback_light: img$d,
    home_light: img$f,
    setting_light: img$h
  }

  const DARK_ICON = {
    menu: img$6,
    close: img$8,
    about: img$a,
    feedback: img$c,
    home: img$e,
    setting: img$g
  }

  const OPTIONS = {
    quickcenter: img$i,
    share: img$j,
    shortcut: img$k,
    favorite: img$l,
    map: img$m
  }

  const ITEM_ARR = [
    {
      icon:
        'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAgAElEQVR4Xu1dCXhU1dl+z53JZCAhC5CwJCyhbIKI+CtKrShWK6Itq7ZSd7HKb6ugti5ULbXSarXKb3+tVgW1LVb0R6pWFCzgAiguCAiyyZpI2ELALJPJzPmfd8hoCDOZe+/ce+femfs9T56gOec73/nOee/ZvkXAJVcDrgbiakC4unE14GogvgZcgLizw9VAKxpwAeJOD1cDLkDcOeBqQJ8G3BVEn97cWhmiARcgGTLQbjf1acAFiD69ubUyRAMuQDJkoN1u6tOACxB9enNrZYgGXIBkyEC73dSnARcg+vSmplZfAP0A8HcXAO1j/PD/1wM4EOenAsAGABsBbFbTqFvGWA24AElen20AnA3gDAADmgBBYJhB65sA8zmApQAWmtGIy/NbDbgA0TcbygBcCOB8ACMA+PWxSbpWDYBFAP4N4HUA5UlzdBkcpQEXIOonRB6AnwG4tmmVUF/TupJrAPwVwFMA6qxrNn1bcgGSeGxLAdwC4BoA7RIXt0WJ/QD+AmAmgL22kMihQrgAiT9wJwK4E8BFDh3bqNizAcwAsMnh/UiJ+C5AjlU7b5v+0LRiKCkZFeMbDQJ4GMB0ALXGs09fji5Avh1bguF6AL8DUJimQ85D/K0AXkjT/hneLRcgR1R6ctPhltuqTKB3my4b+MbiUisacAFy5Iv6ewDeDJspvOW6HMBLGdZvTd3NZIDwRupvAH6kSWPpV/hxAFMANKRf15LvUaYCZBCA+QD44OcS8CmAH7oPjcdOhUwECF/AX3VRcYwGaA/2AwAfu7r5VgOZBpALALySgecNtXP+EIBzAKxUWyHdy2USQMYCeNEFR8Ip/XWT8aULEgCZAhCCYy4AT8Lp4RagBgiS8wAsy3R1ZAJA3DOHvllOS+HvAlitr3p61Ep3gPQC8BmA3PQYLst7sQPACQCqLW/ZJg2mM0AIio+avPpsom5HikF/E263wo6UPkmh0xkgdCKiQ5NLyWvgfgC3J8/GeRzSFSDTmowOnTci9pV4PID/s6945kiWjgAZ2HTucG+sjJ0zdMLqDeCgsWztzS3dAML+8CV4iFVq79mzJ0aPHg3+LigowLZt27B06VIsWbLEdBHY3hVXXBFp98QTT8SqVasiP/Pn04rGFJoF4GpTONuUaboB5AYAf7ZC15yUDz/8MK688sqYzXGiXnXVVZEJawbdc889mDJlSgQcLYkgnTp1Kl55hUYDhhOvfpcbztWmDNMJIJ2aYkeZfqXL1WLevHmRr3YiIkhmz6bXqzFEQCxevFhV27/5zW8wfTqdCA0l+pAcD6DRUK42ZZZOAOFL+QSz9axlgkZlMQoketrmSvLII48YrZa7MuUSJF0AMhTAB0bPglj8uHKMGTNGc1NDhgxJeruVyrZbdJimKHQV2KdZEQ6rkC4AeQvAuWbr/qyzzopsb/QQzyIEiV5Kpm1eGIwYwfh2htIfAfzKUI42ZJYOALFs9SA4OFH1UjJbra1bt0ZuyvRSMm3HaZMuu93TfRVJB4AwRu1wvRNHbT0eyD/9lI53+knvKpLM6hGVlle/eraGCXrLw81U/Rqxf02nA+T7TbFpTdc0D7o33XRT0u3oOYvwFozvHclSYWEhDh409J2Pfuxc1r5KVja71nc6QN5schM1Xb9cPdRc6yYSRM+tUlVVVcz3jkRttfy7CdssNsGIMIxAmZbkZIB0A7DdKqcvKaUhE4Cv7FrOMUZs7aKC802EbyMGE01QOqfru4iTAfIAgF8aPNgx2WmZpNzCcL/P32eeeWbMVUcI9WrnS/2sWbTwSJ60glNDiz9ucmfWUMUZRdWPlL36wyBvlU0Zm0yXTO0hmYdwXqc23+fHOrtoAQi/+DQrMYJMBAjvvplEKO3IqQC5FMDzVo2GGoAQFGVlZTEPwS0f+FiO9lJqyCEAYVf6pGOaOKcCxJKr3egEVgOQ1uye+H7Bd4wocZVRa+3bEiAEIleCqOUu/ztqzcutILd1sQwY2fb27duTektJAOgHrdryqvmwGFXGiQBhegKaOFgmuxqAJLq+bf7Qp+W6NQoQAmHmzJkRu6rWrmoJDp5baGnckkzcYrEpLolpF6nSsklmFKKb0qA9YSC/hKzUHNITnSt40I6axicq21wgAoT+JlpN52O9+psMEIo9ON2ioDgRIG8AGJlwVhtcINE1b6JJzy86/Teqq6s1vWlMmDABixYt+mbVyM/Pj7yI8ye6leJ2i1u2qKMUy/CM03KrZdI1b3NN8zbhtwarPqXsnAYQRmTn9spntdY4CQcP5gcyNnEbxi90PIp+0bV+xUtLS7Fr164IW76mc4sV74xBUPDVneCJ9ag5duxYs5yoot2mLc5JVo+Nme05DSA/ATDHTIXE453I1IR/5yt5LOIXPXpu4DmCK4kW4sGbk15rvZZtaDn7aJGvRdmu6WR64jSAPAfgsiQGT3fVROcQAoC3VdxCtSS+Y0RfsBMd5mMJSNdZnkOSIa0rVxJtTW7KsJsEC/tUdRpAaBRHs4aUUKJtFicyD+LNQcKvf/RKV+81qxGv6SbZYcUaB+Y/vCQlA2RCo04CCK1Gv31MMEEZiVhym8NHv9Yoeg4gmFi+eVCHZCYp+fbo0SORiDH/rheYuhoDKgCU6Kxru2pOAgjz6T2bag1yNeCqoJWSnaTJrCJaHia19itOecZETunHzKB+WPfYZoDATzXlLjeAlX4WPGdwdeDBWwvpOXu05K/HL+TZZ5+NG5pIi/wayzIWUso/ZhpljlncSSsIw830NaLTyfLggZ0riVqQJLO1ai4rr3fZbmvXzc3LpwgcFOFpAJOS1bMd6jsFIDlNSV3soLOIDAQJD+WtnQt4WOfWyMgAbgQJV5JEt1p6rpMNVG7avIc4BSCnAPjQwAE0hFXU7onvEy2Bwq83r3bVWu1qFYgPk+Tf8jzE13S+yag1htTarsryAQB+lWVtXcwpAOHbB99AbEtRi1oCwixQxOs8wcJ3GLPCnOpUOq/cmIDH0eQUgMwAcIejNZ15wjOl9EKnd9spAGFeCibidMk5GrgRwKPOETe2pE4ByDoAxzlB2V3bA0X5AqUdBAZ2ExjYXUHPYoFg6Ij0Pi/QoR3QMU+gMLd19VcckNh/SKKK6TSbqD4o8cUuiXU7JTaUh7HnIFBZLXGo1nbaeQwAo+07mpwCEGNCihg0VEV5wOAyBSUdBLoWAgO6KTihTOC4UsWgFrSzOXBY4rNtYXy2VWL7XondVRJb90h8siVlqluQDinwnACQDqkOb9mni8APhij4bn8Fp/VT0K2jE9T2LcjeXRfGig1hvPN5GG9+alkuTmYXTpwfQvu3wNIaThhp5qJYY6lWaEzUHvjhUA9+coYnAox0of2HJZ79TwivrQzhvfWmri6MOpMyw1KjxssJAGHUdkZvt4RO6ydw2zgvLjg5/VMc7tgr8bsXGzH7P00HJGM1TPRRiaai0FiRj+XmBIBY8gZSViww+6YsDEuj1ULt5OGqMvXpIF541/DtVxcAu9XKYcdyTgAIc1AwT7dp9N3+Aq/f5UOO3wnqME0NePhfjbjtWUMzqzEhijlJGs1Tw1GcnTAj/gDgNjP18cKtWRg3LP23VGp0ePItAazeZtiuiNvjRWratWsZJwCEAcluMVOBd4z3YPrELDObcATvQ7USfScHcIAJ1oyh8QD4yOtYcgJAmKQl+cQcCYbo9vEe/DaDQfLZ1jAmPhTEpq8MWz2ocSY1sbUNXSLkOgEgNFf4eaKOGPH3U/oI/OX6LAzqmT7Xumr0cu+Ljbj3n4aePaLN8iWdL+qOJScAhApmpAxLiJkJbhjlwb0TvWl/aF+yNoRJjwaxw7xctTw7Mk2FY8kJAGGY0Z9ZreGOecA153hw/UhvxKQknWjL7jDufL4R81YYfq3bUk33Arjbybpzwsin3Bf9uvM8uG28N2KA6GSatyKEWW+HsOAT04ERVdNDAG51ss6cMOIpB0h0gH/8PQW3jvFGDBWdQofrZAQUM19txE7ztlLx1OH4lAhOAMiTAK6104Tkw+LPR3kx4XT7vp2s3hbG42+E8I93QqhjLtrUEB3dpqWmaWNadQJALD2ka1Fr+1zgkuEeXD7CgyG9Ur+q0OR9/ochPLUwhJWbDL2u1aKW5mV5/uA5xLHkBIDMBEDvNFsTfURo/Xv2IAVnn6BEHKKsIJqwL/oshIWrwvg4db4f8brKJKvcZjmWrBnF5NRj+kt6cuLFrn1imYisKsd3FxjQXeD47go6FehXd11AYu0OifW7JNZuD2PNdollX4RTuX1So7b/BvC4moJ2LaN/xKzr0e1MVn+BPxfVMoT3AnXWtWxwSwU5wMDuAp0LBYrzRMT1Viixh4BmH3ur6RkIbNsj8WWlLbZMqjXSRgjckdfhyclt858s+mrLx6or2qygEwBCld24uet3/piveHy7GoNYUP81FtXXYGWgHoekZVeWNhs6+4lT6vHiFF8bTMzJ3316dpuCLCEYG+uVol0bHRtwwxEA2de17xipIGZY9Q3BAN4J1OKd+trI71rprC+t/aa5eok6Kh6MbJODC/ztqk7J9vvzFU+bWLX9wVCndpVb9qjnbJ+SjgDI3pI+8yHEj9So7cNAHT5sqMP7gTp8FKjDQXeFUaM2VWV6erIwNLtN9Sh/7qGTs/3ZnTzeYlUVZfjmovLNx6bdVVU5tYVsD5Cvi8s61fmydHulbW9sCH/UUK980lCPNQ0BrA7Wo8ZdZRLOus6KFyf4snGar03lCH/b2r7e7A4+ReQlrBirgJTri8o3DdBVN8WVbA+QvV37/BKKMNTgraIxWLu+MRD+IFCfuz4YwPpgA7aHgikeitQ1PzDLh5N9/oqTstrUnJTt9/T0ZBX5FYUJUw0j0YihHXdvXGkYQ4sY2R8gJX3XQ6C/2fpolLJxX7gxsDPU6NkWDPp3hYLY2hjEpsYGbAw2OPoygIfnfl5f3SCfv2qg11fbw5sV7uzx+tp7PLnZQulotm4j/KV8vKh8E699HUW2Bsj+kt6nhYWy3A4arQmHD+8JN1aVNwblzlBj1vbGYM6OUDB/d6gRX4clamT4yE84bPq5p60QyBHKkR/lyL8LFU9tmddX1dPjrenp9TWUeL2i2OP1t1c837GD/iBxuGN5Q7HAtnpbyKNSCFsDZG9JnycghOWm7ip112qxgJQNh2WorioUDuwLNzZWhkLhfeEQ4+skvGbzAMEsIQJtoAS7eDy+jh6vr0BR2uQqSm5boRQYIV9KeITlxKKKTSlJ4623v7YFiETv7L0lyn5+LPV2zq1nMw1IuaiofBMDOTiGbAuQfSW9L5NCcbQ/s2NmgVWCSikRaCgp2red6bwdQbYFyN6Svv+BwAhHaNEVUr0GpLy7qHyTYyx8bQmQqi5lPRoV71YIeoi7lE4akBLbiss3ljmlT7acgHtL+vwWQtzlFCW6cmrVQHhE0a7NS7TWSkV5ewKktG85gK6pUIjbpvkakBLPFZdvZMws25PtALK/a59zw4qwLJq77UcoDQWUkPVF4ZoOoqLCfnmxWujbdgDZW9rnH4C4JA3nhdulozQQvrZo12YG5LA12Qog+9v3zgu1FZUCET8Cl9JYA1JiWXH5xtPt3kVbAWRfSe/JUiiODlVp9wG3k3zeULBn4Vdbt9tJppay2Aoge0v70trzZDsrzJXNOA3IsLy/uGITXaptS7YByKk+/7OvFXe/3LaacgUzXAPV4VBDv4otk0PAM4YzN4ihXQBS1N3j3X1VboEy0p+L3lk+g7rnsrGrBuj5+VZ9DZ7+uuqLr6U8zq5y2gUgjJ/0jVNUD08WLmiTG/F3HuprA4/7oG7X+aNaLroBLAnU4M26mkjQjarwUcE2TgHwkWpmFha0C0DWA7GdogqEgvPb5OIsf1t8L7stij1eC9XjNpWMBjYHG7A4UIPF9bVYWF/TGitezDCXiO3IDgAZCuADtZrp5/XhDH9bnJHdFqdnt0G+Yt/4uGr7lC7ldjYG8W6gFu8FarG0vhZ7wqrTS1cB6ATAdn7PdgBIUrF3h2T5I0AZ4vNjkC8bZV73/GIV4NYwEEYwgI8b6iPAoItyEmTLfIZ2AAi/HoZ5yeUIgeOzjoDlx4OH4L9y2iG0aQsQTGrwkhh351cVuTnwDjwOL362CosrdkVAwXhkBmv0XwBG201bqQbIBABzzVLKY489hsmTJ0fAQZA0rl2Hxs/Xo3Hd+shvedi4dK5m9cFqvkrnThEweI8fcOT3gOOg9OgWEePiiy/G3LmmDRebYJytvVb3ubX2Ug2QV8z8arz99ts4++yzY/Y/uPwDhLdsRXj/AchQCI0bNiG05UuENmyy0/iYJovIawfPd3rB07sXvP36wjugP7yDBkAUxF/Mp02bhhkzmPLDNPoFgD+bxl0H41QCJB/AQR0yq66yc+dOlJaWxixf+6dHUfvw0WORNWwoRF4ePCVdAEUB6gMI19QgXF6B0O5KhPfsA+qdE5RD5OdBKS6C0rULvL3KImDw9O0NT6+yyP/XSrNnz8ZVV12ltZqW8u8BOENLBbPLphIg9AeYbVYHfT4fAoFAXPaxANKaLAQPSelUDKWgALK2BsLnBzwCoerDEFleoK4e4epqyIPVR35XH4r8GEWiYwco+fmITHz+Lsg78u/CQij8W1ERlE5FR0BRWmJUs9/wWbFiBYYNG2Y43xYMuwDQHUnTaOFSCZA3AIw0ukNRfgMHDsTatWsNA4gWOT0D+kPJz4N/wlhkXzwusurIyE9Ds38HIv8PzWMHe7wQ/mwIvz/yg+i/8wwNcqilK0eV3b17N7p04fw1lZj0k8k/bUGpAkhh02HMtEeMc845BwsXLkwJQKKNtp36c7S9mdvq9CAGJVG49TSXaLB6ZLm2AaUKIEzKyeScptFPf/pT/O1vf3MBYrCGO3XqhD17TM9k0APADoNF18UuVQB5G0Ds6yVd3Ti20s0334yHHoq/Ums9g+gRK91WEOpg0KBBrW5d9egpRp07mVXMIF5JsUkFQGhSwMBhprZ9//3341e/+pW7giQ1PY6tzK0rr89Nps8AnGhyG6rYmzpJ40gwGYDpXoO8krziiviBM9wVRNX8OKbQxIkTMWeOJeF1+wHYqE9K42qlAiA8OZ9jXBdic3r99dcxatQodwUxWNE33ngjHn30UYO5xmT3awD3WdFQa21YDRBmKDoAwLTbq2hnFy9ejLPOOssFiMEz7LbbbsMDDxiazyiehB8CONVg8TWzsxogPwbwgmYpdVRYtmxZq49a7hZLh1IB3H333bj3XktC6zJNBG2z9umT1JhaVgPk7wAmGiN661w++eQTDBkyxF1BDFb2fffdh1//mrsfS2gSgKctaSlOI1YChG3RtJ02WKbT559/jgED4ueNdFcQfUPw4IMP4pe/pIe0JfQSgIssackGAGE4H8uSOG7ZsgW9evVyVxCDZxcP6DyoW0Q0Zm2vJiuXWfJYuYLcAcBUW+nmStq1axdKSuIb7LkriL4p9eSTT+K6667TV1lfLX5YP9ZXNflaVgLkP4B1CXEqKytRXBw/z70LEH2TZ9asWbj66qv1VdZXi4Hl7tdXNflaVgGEoUjqAFgWkqQ1XxCqzQWIvsmTghVkAYDz9UmbfC2rAPJdAO8nL656Dhs3bkSfPn3cM4h6lakqafEZhDLRocaSi51YCrAKIDSKsnSZXL16dcSwLh65K4gqPBxTyOJbrGj7HMj4zj36uqKqllUAMdX3PFZPP/jgAwwdGt+twAWIqvlxTCGL30Gi7fNWwFT3iHjasAogFQBMd0Vr3smlS5di+PDh7gqiDwdxa1n4kt5chr8C+JnBXVHFzgqA8CqpUpU0BhZasGABzjvvPBcgBuqUrCy0xWouOeP2Mn6v5WQFQC4A8JrVPXvllVcwenT8OGTuFkvfiEyZMgUzZ87UV1l/LcaoY9axoyJe62envqYVAKF3mOVmy88880yrIWpcgKifJM1L0sfmueee01c5uVoDAaxLjoX22lYA5B8AkknKScfyS7V2jYfJO+8kNmOTCxCtGj1S/txzz8WiRYv0VH6RwRn1VGyqw7qmhnWMJZsVAFlNV2adimGyeZqoLNda/4YbbsCf/xw/SJ8LEK0aPVKe4ZTWrdP8IecjcRmAzQBy9bWM6QB+o7Ou7mpWAIR2/XpoP4DBABgiaI1WBuPGjcPLL78ctxoDun0To/fQYTAUKcnImL0599yBNpOu1Cq6rcsXFhbi4EHNATF5SdO5aSfBHYUe+ieAn+ipmEwdswHCqMd6w7dcgyO567oD0JwJ9dRTTwUjAeqlKICa1w8up5Pb0RSNuBj9v57SEijdYoc71SuLXerV1tYiJydHjzj0LaePOUlvwEB+wU7T03gydcwGyJkAuE3SSksBNPeX1bwKtW/fHvv3cxFyySgNrFq1qlUntFbaebNZFE1utfgq3lajXNFVSGO15IqbDZCfAogfvS227LS94Y3FrmZ//hxAfO+nODr46quv0LkzV3aXjNAAA/Fddtllelj9CcAtzSryZfwvOhiZPV+PEcnsBhln9Y8aFfEjAK+2qMPDxDiNfCK3Ld///ve1VnPLx9HA7bffDsYb00F8BedreHPSY37UtSmmmg4R9FUxGyAMf6HFP/N/ANwUoyu8wbhbaxf5oGWh95tW8RxX/sILLwTDKekgnh1a5qFkhBtutY5k51FHxwPgbsIyMhsgT2iwodnQFE0vVgIOxtGKH4k6jrquueYaPPXUU5YpM90b6tatG+ipqZGYg4JXu40x6vGcSUc6tfOQuRf037xoFJzF1Qqmg3WkCs8fPIeoIYaaZMjJWEQzA96la6LevXtj06bMyBilSTE6CtPHn/rUQby1ih/BD3iwxfmktSYYz3mxDhl0VzEbIIyBxVhYiWgKgEQGPrzZim+eG6eFrVu3omfPnonad/+eQANPPPEErr/+ej164habIGiN+M7F7VMi4k7C9MDAzYUwGyAM4procSfRFyYqL4MxaY5YlsgmK9GIuH8/ooGLLroIL73EKDyaicHJViWo1RfApyqufkfofDbQLHS0gtkA4UNfa0ntdgI4SWX0vO80mSpo6iyDLf/974xX51IyGujQoQMOHGDUWE30BYDjVNbg/XEiK0iavNP03TIyGyBM0HFznN7UNr2MajEj4U2IpuxDubm5kQdD5ix0SZ8GGOc4XrbgBBy15vlIdB7hR/JLfb3QV8tsgMRLdVDT9LLKrKZa6AY9aYJfffVV8IrSJX0aYBwsRjPRQTQT4i5BC80CEM+Azez5eoycZjfIa7llMbTDw/a7WrTWVLajnkTzl156KZ5//nkdzblVQqEQOnbsqMdAkdfyP9CpwVguEinxKjQbINQPU/oyqxSJm1jeaulyKGjiQRMFTaH93G2WzmkKgK7L55+vKywV/Z3f0t/yMU8E06yMzBmV2wqA0CqXr3UEBd9Eks0Ayct4zY8bjAh45ZXpZXqexORTXXXs2LGg+7JG4o0UL1+SJX5MOXdoqMhcIZZbn1oBkGSVFKs+7xvHa2Hct29ffPHFFxDCqV3W0ltjyjL4Xr9+USt1TTx5tU//DceTU2cLX935ldJE7mFdk7oiMXi58mqk5r4fGqvar7hTAUJN8s5ck+31sGHDwMxTLiXWQEVFRavR8VvhwOtCXRaNiaWyvoSTAULTZ55FNDnezJs3D2PGjLFe0w5rkTd/Oh5Yk7m5sqWGnAwQKlSz+QktUml4l5WVZcsBsYNQK1eubDVsaxwZQwD667F2sEOf48ngdICwX1sAxE8lFaPnM2bMwB13MFiKSy01IKXE4MGDsWaNFgOHCBc6xjFIeVpROgCExnD0EVBtS9K2bdtI6JoePXqk1WAa0RmGSvrFL36hlRXdFGgnxQiIaUXpABAOyFQA9HtWTaeffjree0+rpYtq9o4suH379si1biBAHyfVdBjACQC2qa7hoILpAhCqnPF/GQdYNT3++ON6fRxUt+Gkgvxo6Ljl443HfCf1U4us6QSQDgAYuEr1eYQmKGvXrnW3WgAeeeQRTJ3KhVgTMXSl5v2YphZSXDidAEJVMucajdoYEEAVlZWVRQLMtZbwUxUjBxeiKcn48eMRDmsKns4r3ZGpiLhuparTDSDUHYPVcfBU3+MOGDAA77//PgoKCqzUvS3aYmikkSNHgla7Gojxlpl3km4LaU3pCBAO2EQAmtwITzrpJCxZsgTt2rVL6wFv3jk6Qo0aNQr19bECycRVA62zeXPI32lP6QoQDtzPATyqZQR5/88vKv0f0p3eeOONiEVBQ0ODlq4ylR5D9Wi2ptbSiJ3KpjNAqOdrATA2l+p+0ur3nXfeQadOURcWOw2XMbLMnTsXl1xyidZtFYOQn5FEMHJjhLeYi+qJY7FcRjZH02vG5/KoZcoHRE6iU05JSVo8tWLqKqczSy1XDK4cXEEyijIBIBxQxvulfwID0Kkir9eL6dOng/FoFUVRVcfOhcrLyyOhe5Yv15yLaCUAuhRa7qxkB31mCkCoa0aM54MWI2OopjPPPBOMal5a6tycH3PmzIk8iB46xMD5mojefAyUoemgoqkFmxfOJIBwKPg+wlx58fNDxxgwJo154IEHMHnyZEd5JFZWVuLaa68FHcU0EgHBeGZ6s0FpbM6+xdMeIPL/0KEBvnOFxA8klHOFlK8VTAzsrW3AXVqHZfjw4WAIzv79adVtb2ImWqZsrqqq0iro9vHDcN2cW/13Qco8CLwlJBZ6OwSWihHQdB+stWE7lk9LgMiPkBXa7hsdgpgkJM6FEEcdIiTkl9PnBKbPeAm3a4j89834MecIVxPmYedZxS7Ecwaj2TOGFT0CNRKzeP3vtqeyNnQtUH4PIY5OtillDSD/CSH/6hsftDTCusZ+GFo8rQAiX0aXBpk9VQhxNQDaZrVKtYHQQ12vDNbXNkRymKg2l48y7dq1a8Rvm9uY7t0ZIy01xJwdTz/9NJDkB5EAAATdSURBVOgtqZM2jRyCW+dPy75BCJEwlpWE3CgE/jerMPBkuq8qaQEQ+aK/LOiRd0LicgihaaJLiR3PLGr44+S/hJmLnaFldBFDc06aNCkSQ8oKkxXmC+RVNIMqMNWcXvIq+EPdXF+NlOJOCNFGI589QoT/5PU0PCZGg2bvaUeOBoicj67BRv/vAVye7MhIKV8bPi3wzw824L8BMCKkbjrhhBNwxhlnRH6YV5xuvvn5+br5MWkN0zh8+OGHWLp0aeQhs7q6Wje/plwrT74+zfPuOSd5ZwgIRlfXT1IeEpAPeDs0PJRuK4ojASLno11D0H+ngJwCIVS/bSSeATIAKf8+ZkbDu//+BNym8eXYEKIXY69evSJWw1xh8vLyIj+0/aJ/fF1dXeQalj+c/IykTmDs2KE3i3ZMsWlc+PjS33lWDeufNQniqEzCSfdTArsEcFfWuPrnhIAm0+CkGzeJgeMA0vBy1mlSel4SAiUm6STCVkK+ecezwbf+9K8wI6fR+PHoQ6uZjRvP+zO/Dy+suN/bcFw3z/VCCLoFmEnLs0L148TFzjdodBRA5MsoDSJ7DSAss0uXUm7+uk7OGXlPw+6VX0aCMfNVWdM5x8yZ2ApvLj3/ePBKrLvxh/6zIeWEY26mzBXsfd/4+u+Z24T53B0FkMBL2a8KIVKXx0Bi2caK0Nwf3hes2VoZMfkmYDS9zJs4pHyjoB3J0kuHY+vTN/r7QuAKAaTOBEDKyb4JAT350E1UkzbWjgGInIeCYNiv+dVLmzo0lV4hgAXzltUvu/ghFAJg/jwGbP4vTVz0Fy5vSqP8XnE+VlTMyvaHJS6UUpwvBFJ359y8P1K+7ZsQoF4cS84ByIvIDXr8dr1K3CMh31cgVwqI1bf8NbBn5oKIWQvTj/EMwz0/t4W8Rm3+wwuGnGazh/1j5i1m9I3+8GBNMDBNNn82f/QAQoN6+45DWBkkhDwFEMz+ajuSUr6aPSFAQ1HHkmMAQg03vOyPplJwgMLlwSMBtkUlpKwUQlZKqVQKyHKI0NdSETVZIaUGWYEaNCILHoTR6MsJemSOCMscAaU4LEUnCVEshOwkJToJIXgx4RQb/D1QQuf5xgYTJfC09Vg6CiDUpHwRRUHFPwaCV7ByCCDUpA+21yBIWSeF2Cek3CcFCoUUUgoZFECDlKKjEOhsL4FVS7MCUi5XBJZ4QoGF4mLtue1Vt2RRQccBJJZeIrdbMqtIwNMhjHCRgGgvhGwfhnKUk5SAzIWUhVKIQgHw5a5AAvlCChrlFTXx3i/58CVwCBB8jaONUjOSISlxSAhxCJCHJATPRUfd+SsyHJQQ1RLyoIe/lVBVOKxU+bIaqsRodU5H8t/IQ52/MChD7YX0HPPKKDwyNwSZL8KiQEAWhIVyTJAKQWNDyHwpRB4k8oQQbZv6nxf5mxD5gKylrJCyWvC3aGmQKIMSOCgkqqRAlSJllYSyX0H4gFSUfeFweJ8v3LBHXIy9Fs1ZS5tJC4BYqjG3sYzSgAuQjBput7NaNeACRKvG3PIZpQEXIBk13G5ntWrABYhWjbnlM0oDLkAyarjdzmrVgAsQrRpzy2eUBlyAZNRwu53VqgEXIFo15pbPKA24AMmo4XY7q1UDLkC0aswtn1EacAGSUcPtdlarBlyAaNWYWz6jNPD/DB0XbuhH9YwAAAAASUVORK5CYII=',
      name: '发送给好友'
    },
    {
      icon:
        'data:image/png;base64,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',
      name: '发送给朋友'
    },
    {
      icon:
        'data:image/png;base64,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',
      name: '备份到云服务'
    },
    {
      icon:
        'data:image/png;base64,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',
      name: '互传（零流量）'
    },
    {
      icon:
        'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANcAAADICAYAAAB7/XT7AAAPr0lEQVR4Xu2de4xcVR3Hv7+Z3bbbVqCPnSntziiGEB5iREBAiVqqSMqrwM7lWRAhBg0hNESMBk2MT9T4iAlIkJeA4kzLWwRKKSg1ShBfIAURyswu7czsllcpbXdnfubutrhgt52Ze889d85857/N3vP73d/n/D57Zs69c1fwrldqeXEJ6nIqoAcJ5AAIet59DH8mARLYTkD1KQBP1yErq17muolcZMcPvfnKTMHWq0SwlOBIgASaJ6DAKtWp51S91AZ/9Jhc6Qc2zNDXRp4UwX7Nh+QIEiCBCQSG64ojq17m+TG5UvnSNSL4PBGRAAmEQED1mXJP12Eyt1D6ZBJYHUJIhiABEnibgCyTVKF4p0BOJhUSIIHwCCjwV0kXik8BclB4YRmJBEhgbEMjnS9t5nY7m4EEwicg6UJJww/LiCRAApSLPUAChghQLkNgGZYEKBd7gAQMEaBchsAyLAlQLvYACRgiQLkMgWVYEqBc7AESMESAchkCy7AkQLnYAyRgiADlMgSWYUmAcrEHSMAQAcplCCzDkgDlYg+QgCEClMsQWIYlAcrFHiABQwQolyGwDEsClIs9QAKGCFAuQ2AZlgQoF3uABAwRoFyGwDIsCVAu9gAJGCJAuQyBZVgSoFzsARIwRIByGQLLsCRAudgDJGCIAOUyBJZhSYBysQdIwBABymUILMOSAOViD5CAIQKUyxBYhiUBysUeIAFDBCiXIbAMSwKUiz1AAoYIUC5DYBmWBCgXe4AEDBGgXIbAMiwJUC72AAkYIkC5DIFlWBKgXOwBEjBEgHIZAsuwJEC52AMkYIgA5TIElmFJgHKxB0jAEAHKZQgsw5IA5WIPkIAhApTLEFiGJQHKxR4gAUMEKJchsAxLApSLPUAChghQLkNgGZYEKBd7gAQMEaBchsAyLAm0jVyq+gogfwZQBbQqgq0A5gHSC9WDILKPi9Opij8BGIRoVZEYEugsgfaqyjwRfNzNmnWDQJ5U0SEgURXVEYXOE3+ugQ9CkGmHuuMvl+pv6iI3VXOZ3+0KaKow+FGgthSKs0Rkj3aAP+k5qj6jkBtqwK+GvczgZMftkS/Nngb0C3ABBB9p65oBKPSXkOTNlf4FD+2qlt4VxY8nanIuBGcCmB7XuuMq12Yorq0lp105dFrv+mbgzb2r+h7ZtvXihOoyCPy/dO3zUjwO0e+Uc9m7mj1pv+GkhitE5NPNjrV5vCo2Abh6M7p+sMnbu9rMuex1xyt7TRnddClULxGRWc2MjeLY+Mmlum5rd/fCV0/Ze10QAHve+9KsqW8l7hXgo0HiRDFWARXIFeVc33eC5ksVSmcDuFGArqCxIhi/dqQ7cezGJQtKQXKlb9+Q0trI/QIcEiRO2GNjJZcCf9zaUz/htRPe+0ooha7WrtTQgN9ofsPF86W6BYIzWlmtJito7C2y1u6N41/zHeesqg8ppp1S9VL+yhX8tfrFaamh5G0COTl4sHAixEgufaI8I3M0Fou/URHqK1Uo3iiQ80INGkIwVdSBxHEVb8HKEMK9I0Tv8sFDEvX6Ggh6wo4dOJ7i0TL6FsGTWuBYEwOoSqowcLsIloQat8VgsZBLVTe81dN18Bsnzh9qsY5dD3tCu9MvDDwWtw/9Cv1SJZf9oZGaAaSWF5eIyh2m4rcSV4F/j86YftjGxXNeb2X8bsfkSz1p6OMQ+cBujzV8QCzkAuRT5VzfKpO17rXi5fdOrY8+C8hUk3kaja2qaype9uhGj2/1uFS+eIOIfLbV8WGPq6scUvX6/hZ23InxZufXH9iF0X+IIGkyz+5i25dL9Z6ylz1pdycaxu/TheK3AflqGLGCxPA3MGqSPHC4f/7aIHEaGTszv753hoz6m0PWt6wVuKWSyyxt5LyDHpPOl34GwcVB4wQZb1UuVR1BYsr+lf55LwQpouGx97w8Pf1WbZ3tLXqF/rySy36h4fMOeGC6MPBVQL8dMEzQ4ZtriWn7NntppdWkY7vFm+U/Njd1LMuFOype5tRWAbYyrrcw8M0E9IpWxoY1pqaJ/Ye8Bc+GFW93cWblN+7ZjTeHbb5NUuhNlVw20ren6ULppwAu2R0fU7+3Kldd9IJqf/Z6U8XtLG56eekIjN9SZOel+mLZy74/6uTpfOlhCBZGnXdHvjrEq+b6ClHmT+UHPy1SfzDKnBNzWZVr87Rkr7EdwsmIqkq6MFC29dawDv1JNZddFvWEpwrFywRibGdyV/WoolbpSe6BE+dvjrTu+3RqetPAMAQzIs27PZk1ufzt94qX3dtG0alC6SEBFtnIXVc5v+r13Rh17nRhYBGgu7xnz9Q5+dvvlVxmP1PxdxU3nS89DsHhNnJbkwvQp8u5rJVrEelCKQ8gZwM4JHFSuX/BPVHnHruorPUno87r5/Pv7K94maNs5E7lS/eL4DM2cluTS6F/qOSyVr4ykSoUrxbIRTaAayJxdOW0BWuizj0r/3J2itReijrvWD7Fb8te5gQbuVP50q0iOMtGbntyWf1rVrxKRCLbCp84sTVg4VAu80jUkz37zsFM90i9GHXe7SvXAxUvc5yN3KlC6RZb95Zakwuq68pe1soXHFP5kn//2Sk2JrsGPXMol70t6txzVhQP76rL41Hn3S7X3yte5kM2ctv8fG1Trm1lL2vlVqRUobTG2ldRFJeWvYx//SXS19zCwAlJaOSf9cblsrd5lc4X/2nrPkN7cgGI+mLqWDfnNZnGwBu27ha3cTHVLzuVL31dBN+I1OgJyd7UrlSzX4YMfK7jN/G+CpEpgWO1EMCqXKp6WcXL/qiF8255iM0t6e0f7qvlXF8aItpyES0MtLkl7Z9uXXFh1ctc18KptzwklS+dIoLbWw4QcKBVuaB4uOxlIr3e1Fso/jgBuTQgt0DDRxVHDHuZyD7/vOf2gTnTa/7DXuy9VKO/1S1dKPkyf85W1Vbl8r8sWO+SA4ZO7XsuCgCz7xveo2vTm+ts3sy5/QP+zRUvc24UNfs54nA/pX+T9rbu7v2CPr6hUWZx+DaAVbm2v026r+xljm8UWpDjUoXSlQJcHiRGaGOTenD51OxTocWbJNB4k42UYvI9tl+Xc5lIrjnZvJa5Yyrsy+VvbCTkmKHT+labbLS5dxXnJ7fhhZg0mX9hdXXZyxxjsmY/djpf+gUEF5jO02j8WiJx6NBpC4zeKdKbL+0rwFqb3wLwecRCLoWuH+1OHhH0KUCTTXBvvjJTsOURETm00SaI4jiFfr2Sy37TVK5UfmApRG8SQEzlaDqu6ou1ZM/HTH2vy3+WYw/0MYgc0PS5hTwgFnKNvz3UddvQ9YlXvPmh3kUwLtbWlSI4MmR2oYRT4MuVXOb7oQSbEKQ3P3h6QuqRX6xusI61OmXKJysnp8sNHt/QYWPPMRx5Y5WIfLihAYYPio9c4xcby3V0HT/kzf9LGHWPvRXcigdsXURstAYFrq30910EkXqjY3Z1XKpQuhyK74ogEUY8EzFUMTiKrmM3env/K4z4e92x/n1TRkb9P6L7hhEvjBixkmtHQQqcU8llbg1SYCo/cJSI3ulfPw0SJ6qxqrpyC+SM173MxpZzrn5xWnooeRUg57ccI8KB/tN2BYmzy96Cu4OknbtiYGGypsshmB0kTthjYynX2LtEYFVNkhc3+xCXsaevjm67EiLnxeqzRiMzp9iool+raOaaZp/pl15ePFNVvi9AXyOp4nSMqt6NxJRlzT5LZfaKgb7uev0HgJwRp3p2nEts5Xp7FVOsgMhKVV1V9TLP7wyiv908XUaPFegiQE6Pw5OOgky2Kp4T0RUqyYcrc7Y9hoX7bNlZvNSKwY+hVl8EwZK4Pcq5lfpVsRzAyhEk75/ss3dvvjIPiS2LReUYW3e7N1pb7OV6RyH+o58hVYVWAdkq0HkK6RXBzEYLbtPjhv1/naSqQyKYNfZvk9rk7W7LvBVvjdU8Ptcj/lyP1W3pK/ut1NFecrVSIceQgCUClMsSeKZ1nwDlcn+OWaElApTLEnimdZ8A5XJ/jlmhJQKUyxJ4pnWfAOVyf45ZoSUClMsSeKZ1nwDlcn+OWaElApTLEnimdZ8A5XJ/jlmhJQKUyxJ4pnWfAOVyf45ZoSUClMsSeKZ1nwDlcn+OWaElApTLEnimdZ8A5XJ/jlmhJQKUyxJ4pnWfAOVyf45ZoSUClMsSeKZ1nwDlcn+OWaElApTLEnimdZ8A5XJ/jlmhJQKUyxJ4pnWfAOVyf45ZoSUClMsSeKZ1nwDlcn+OWaElApTLEnimdZ8A5XJ/jlmhJQKUyxJ4pnWfAOVyf45ZoSUClMsSeKZ1nwDlcn+OWaElApTLEnimdZ8A5XJ/jlmhJQKUyxJ4pnWfAOVyf45ZoSUClMsSeKZ1nwDlcn+OWaElApTLEnimdZ8A5XJ/jlmhJQKUyxJ4pnWfAOVyf45ZoSUClMsSeKZ1nwDlcn+OWaElApTLEnimdZ8A5XJ/jlmhJQKUyxJ4pnWfAOVyf45ZoSUClMsSeKZ1nwDlcn+OWaElApTLEnimdZ8A5XJ/jlmhJQKUyxJ4pnWfAOVyf45ZoSUClMsSeKZ1m4BCH6Rcbs8xq7NEQIFzKJcl+EzrMAHFo2X0LaJcDs8xS4uegKquGZ05Y/HGxXNep1zR82dGBwkoMCrQb5Q18114UvNLbFu5VPF7AdTBeWJJbUJAodsE8qwm5OkaEo8M989fO/HU204uVdQhOLeSy9zaJnPA0+xQAm0lF8Xq0C5t07LbRi6K1aYd1sGn3RZyUawO7tA2Lj32clGsNu6uDj/1WMtFsTq8O9u8/NjKRbHavLN4+vG8zqXj16+WcrudHdrOBGK3cvliqeiF1f7s9e0MludOArGSi2KxIV0iEBu5KJZLbcVaYnNvIcViM7pIwPrKRbFcbCvWZH3lolhsQpcJWFu5KJbLbcXarK1cFIvN1wkEIl+5KFYntBVrtLJy1UUv4AViNl8nEIh05VLVL1a87NWdAJY1kkBkclEsNlunEYhELorVaW3FeiP5zEWx2GidSsDoykWxOrWtWLfRlYtiscE6nYCRlYtidXpbsX4jKxfFYmORwDiBUFcuisW2IoH/EQhNLorFtiKBdxIISS5ZVs71/YRwSYAEQl25KBYbigR2RiDgykWx2FYkMBmBAHJRLLYVCeyKQItyUSy2FQnsjkALclGs3UHl70mghetcFIttQwKNEmhi5aJYjULlcSTQxMpFsdguJNAsgQZWLorVLFQeTwINrFwUi21CAq0SmHTlqiu+UvUy32s1MMeRQKcT2KlcFKvT24L1h0Hg/+SiWGFgZQwSeNf3uSgWW4IEwiPw9spFscKDykgk8PZuIcViM5BA+AQkXSheUc5lvxV+aEYkgc4m8F95JGlNUR9mzAAAAABJRU5ErkJggg==',
      name: '信息'
    },
    {
      icon:
        'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMkAAADICAYAAABCmsWgAAATzUlEQVR4Xu2de3Bc1X3Hf+fu6mUsy8GmEB4JxQFDGAh2Fey105ZiLNtkBjKZ0mkLf7RQGZeEzqRtbFPyR6aTRpbtlgwEyzApzCSkQAiYDA8hyYANxJIRz9KEGIjBsiTHsqR9alfa3XtP5+x65ZW0q73P3bP3fvcvBp3H73zP7+Nzv3vOuctIks9ojB9hjC6TJByEUWkFOIWWLGSfq3QYon8mQxAiBkAiy0xIEgcgmTsRgESS5JQlDEACSGTJRWnjACSARNrklCUwQAJIZMlFaeMAJIBE2uSUJTBAAkhkyUVp4wAkgETa5JQlMEACSGTJRWnjACSARNrklCUwQAJIZMlFaeMAJIBE2uSUJTBAAkhkyUVp4wAkgETa5JQlMEACSGTJRWnjACSARNrklCUwQAJIZMlFaeMAJIBE2uSUJTBAAkhkyUVp4wAkgETa5JQlMEACSGTJRWnjACSARNrklCUwQAJIZMlFaeMAJIBE2uSUJTBAAkhkyUVp4wAkgETa5JQlMEACSGTJRWnjACSARNrklCUwQAJIZMlFaeMAJIBE2uSUJTBAAkhkyUVp4wAkgETa5JQlMC9BcsO2t5oYTzYrpHyBM34BEb+QGF1ARLWMsxAnChNjoYf++U9uX3SWf4ksc1TNcbzU/weKxdOmh3Du5+roT68+x3R9OyomU9rk37W9eT9nfDERa2JETZxII05DnPHjTKNhImVA9bF3Xm5bNWZHn8XasP1HfK7/7q+X1fjYJk5sNXFayRhdoWcAu++6hs5fUq+nKMqUUOA7P36XTganTOt05R8vontv+7Lp+nZUnEio1Lq7X29Tn3Giw0zjfSqxrv07Ax/qrainnG2Q3LD90AofZ98jRt8gIkVP5/llAIlRxYqX9yAks8V4SWN8R0/bmoN2qGoZkpZtvZsYo61EdJ2VgACJFfVm1gUkWT3E6sKJt/fsCDxLxLhZhU1Bcsst3Bde1vfXjDJwXG22c6wkdig3tw1AMksTzo9wTrvGQrU/ffvh5pRR1Q1DIoy4jyU7iVjAaGfzlcdKYp+agKSwlpzz93xKfUtn28pTRtQ2BMmmrX0XakzbT4wtN9KJnrKARI9K+soAkvl04sdSKl/3yq61v9enpoGfqN64tX85Z+kDxOg8vY0bKQdIjKg1f1lAUkJLTuOa5lvXs+va9/Sormsl2XjP4YCmaZ2MUZOeRs2UASRmVCtcB5Do0jJORDd37QjsL1W6JCRiBdFY+l3GqKFUY1b+DkisqDezLiDRqSXnqsqVr+3fubpvvhrzQiJMusKS7zBil+js1nQxQGJaujkVAYl+LTnnI6Tyq7p3rx0pVmseSDjbsK23hxhbp79L8yUBiXntZtcEJMa05Jz6xoI1f1bs6+GikGzY1vsfxOjfjHVnvjQgMa8dILGuHef8oe72NVsKtVQQktO76C9a71p/C4BEv1alSmIlKaVQkb9r7Paunasfnf3XOZAEvnOoYVEtGyBGS012ZaoaIDElW8FKgMSclpxTIpmu+cKB/2wezW9hDiQbtvVuJUbt5roxXwuQmNcOj1v2aacRibNe24tCUqlVRAQESOybaKwk5rXMrCZT9ecf+NGKUK6VGStJy7ZD/8oY22W+C/M1ZYBk3+tD9MHRsOlB1NcqtPVvLjddX1Ts/e0Y9fSftNTGplXn0cIGv+k2FtT76YvnLjBd346KBu+T2NHldBuc8x3d7WvumQNJJVcRWVaSB575mHp/Y/6Sm4DkkW3XWpqw53qH6fH9A5ba+K9vXUPnnV3dF9gqCgnxWHKy4aLcajK9kmzY3vcvRHy3pdmxUFmGlQSQWJhAm6tWEpLMUDj9sKs9cK/4z2lIWrb3DjCii2weq+7mAElWKqwkWR0qDQnnFO5uDyyehmTd9v5L/JTWfXRYd+YbKAhIAEl+ulQaksxiwmh1d1vgcGYladl+6HZG7L8N5LTtRQEJIJENEiLa3rUj0J6FZFvvzxij22zPfAMNAhJAIhsknFNnd3vgxtOQHDrJGPsjAzlte1FAAkhkg4Q4j3Y1BBaztVvfaFyo+CK2Z73BBgEJIJEOEiJK+bSL2cbtvRdzok8N5rTtxQEJIJEREk6smW34bu9K8tHbtme9wQYBCSCRERKN2AbWsrVvPVN4t8Gctr04IAEkMkJCnN8qIPlLpvCnbM96gw0CEkAiIySc012sZeuhbzCF7TOY07YXBySAREZIiKiVbdh+aCMR67Q96w02CEgAiZSQiMet9VsPNyuKpvsd9wZzX3dxQAJIZIRE5Xwj23TPO+dofKro61R0Z7nFgjJAYvU+Sa2f0c1fE79PZP7z0WCU3v/E/J0W0fO3v/klOrux1nwQEtSU4eyWkEHV6Mvsuu//38K6yWi00rrIAIlVDRJTKt2x09qi/PXVn6db13/RaihVX18WSNLkXwZIbEwnQGKfmICkgJZYSbKiYCXJ6gBIAEnRf3IBCSApmhxYSbCSyPjtFjyJfY/QmZbgSewTFI9beNzC41YJngAJIAEkgMT4sgtPAk8irSdp3TvcMXpyZEs8kTCe2TbWACSAREZIplTfCrZ5z1CXorCWxOQkjY0HKZVM2pj6+psCJIBEKkg4F68UopTqv24aEhEg55yisRgFQyHSVE1/httQEpAAkspDIt6LwonnvbUxqfpmQpILUtU0CociFIlGMuCU4wNIAEklIclmOSd25qWmmf9TFJJcsMlUioLjQSqHXwEkgKRikIiFgBX+ZcSSkOSCLodfASSApNyQZB6sOCvGh76VJD9op/0KIAEk5YEku2IIQOb9ffbTweheSfKDF34lFA5TNBK11a+4ARKh0y8PDlqycMsvaqSrLmmy1IYbKjux417Md8ynlylInPIrboHEDQkqwxjshiS7cuhZO2aO3hIkdvsVQCJDasoTg12QZFaP4r685IBtgSQTgw37K4Ck5Hx5qoA1SLL7HTM2PEyqZxskuf6t+BVAYnIWXVrNLCRmfIdjnmTehsX+SjBE8Xhc9xQCEt1SeaKgGUjm2e4wrZntK8nsSDL7K2PjlEqlSgYJSEpK5KkCeiHJHCHJPVkZ9+UlNXUckmm/Eo1RMBwmTVWLBgVISs6XpwqUgmT6fFX+QSsHFCoLJGf8ikqhcISi4ejpI2QzRwRIHJjhKm6yFCTkxLNVAb3KCkmu/8x5sAJ+BZBUcUY7EHphSE5/a+VAf8WarAgkuWASiUT2/sppvwJIyjjzVdBVPiTZJyqHn6uKaFJRSGb7lZ13XkXnL6mvgulDiOVQQEDyD7uzr4ytFCCi74pDku9X/vzKRtqwsokUpRxTgD5kV+Cdj0O0+/EPix5hL1f80kCSG/CSRh/d2NxEl19YVy4N0I9kCowEp+hn3Z/R2x8FpYhMOkhyqlxyXi3dtKqJzlnkl0IoBOG8AomkSk8fHKTu/j9QWi3PbVg9o5IWksxzKCP66pcW0PqVi2hBrQO7RHoUQhnHFdA40YF3R+jJVwcoGk873p/RDqSGJDeY+hpG13+lkQLLz4JfMTrDkpf/cCBCj77wKQ2OVvZ1VvPJVBWQ5PuVrzc30XL4FclTv3R4Gd/R8xm9fUQO3+EaSOBXSief7CWE73jmtSHqevOEVL7DdZBM+5VLF9D6FfArsoMh4pPdd7gSEviVakAjG2M1+A5XQwK/Ii8swnc8tv8YvfW7cXmD1BFZVRl3HeMh7K/oUcnZMsJ37HttiF6qIt/hiZUkf5CZ/RX4FWdJKNC6OLl+4D2x33GcIhOlL9mVPUCTHbpuJcnXIbO/ck0jBS7D/orJ/NBd7chgNLPfMTCi/7q27sYrXNDVkMCvOJ9dp8JT9FjXMeo/Ut2+w3OPW8UGDL9iHzRTSY2efn2QXjpcPfsdZkfviZUEfsVsesyt51bfgZWkgALwK8bBcbPvACTzKLBU3F/5ahMtvwD3V4rJlPEd3ceov8r3O4z/s5Ct4bnHLfgV/akifMczrw9Spwd8B1YSnXkh9leuvXQB3eDx82DCdxx8f4SefOU4hV2036EzDeYUw0pSQLmGGkZ/4dH9Fa/6DqwkJv8J8ZJfEb7j593H6E2P+g5AYhKSXDU3768I37HvjUF6UfiOtDz3yi1Oma3V8bilU07l9Hkwt/gV4Ttee/8UPfHKAHxHiRwAJDohyRUTfkWcB1tdxefB4DuMTTogMabXdOlq9CvCdzzeM0B9H46ZHLU3qwESi/NeDX5F+I5n3xiiFw4Pw3eYmG9AYkK02VVk9SsZ3/G/p+jJVwYoFHPP/Q4bpsxQE4DEkFzzF5bJr3wyFKOfPH/Ulfc7bJwyXU0BEl0yGStUSb8yHknSYz3HqO+38B3GZq14aUBil5IF2imnX0mmxH7HEL3QB99h95QCErsVndWe8CviPNg6h86DCd/x+gen6ImX4TucmkpA4pSys9p1wq8I3/FI56f02YmJMo3Cm90AkjLP+9JFfrqxeZGl+yvwHeWdNEBSXr2nezPjV4Tv+NWvh+j53hOUSmsVitx73QKSCs65Xr8ifMcbH5yix+E7KjJbgKQiss/sVPiVddc00qoC58HgOyo/QYCk8nMwHUG+XxG+4+f7j1Hvb7DfUekpAiSVnoEC/S+s0+iTgRFKJKYkjM57IQESSeecc07RaJSC4QhpqipplN4IC5BIPs8CkGAoTNFojDjh5mAlpguQVEJ1E30mUykKjgcpnpD3BzhNDKsqqgCSqpimM0EmEgkaGw9SKoWj7+WaOkBSLqVt7Ef4lUg0RqFwGH7FRl2LNQVIyiCyU12oqkoh+BWn5J1uF5A4LrHzHcCvOKsxIHFW37K2Dr/ijNyAxBldK9Yq/Ir90gMS+zWVosWMXwmHKRrB/orVCQEkVhWUvH4ymaJgEPsrVqYJkFhRr4rqwq+YnyxAYl67qqs57VdCIdI0XNrSO4GARK9SLiqX8ytiQ5LEjS585lUAkHg4QcT+ijjiMonzYIDEwxzoGno8nqDxIM6DFRMLK4muNHJ/oez9lRgF4VfmTDYgcX/+Gxoh/MpcuQCJoRTyTmH4lTNzDUi8k/emRgq/QgRITKWOtyp53a8AEm/lu6XR5u6vRGLe2l8BJJbSxpuVveZXAIk389yWUYuXUox74L49ILElXbzbiBf8CiDxbn7bOnI3+xVAYmuqoDE3+hVAgrx2RAE3+RVA4kiKoFGhQPb+SjTz2qNqvr8CSJDPjitQ7X4FkDieIuggp0C1+hVAghwuuwLV5lcykNzZMfQyY+z6squFDj2tQDgSqQq/wjXWwjbvGfxIUZRLPT1jGHxFFBB+RfxQkfjBIlnv26sav5tt3jscUoiaKqISOoUCRCTeDyauEItXH0n34fxB8biVYoz5pQsOAXlOgXg8TuPBkFS/v6ISPcm27B3Ge2U8l45yDzgcye2vVP73IjVGz7DNHUMJhbF6uWVDdF5TQBa/wok9zVo7Bo/7mHKh1yYB460OBSq9v6Jx7VG2+cHj/YrP11wdkiFKrypQMb/C+L+z1o6hZ32M3exV8THu6lFAO/379uU8D8YVupFt6Rj+ATG6t3qkQqReV6BsfoVzWnQ0UMf+cc+JTVzhL3pdeIy/+hRw2q9wTqnu9kAtu/v+sUWp2qlw9UmEiKFAVgHn/Ao/1rVjzcVMdLK5Y/gThdEyiA4FqlUBJ/wKV9kj3btW35GB5M69ww8zotZqFQhxQ4GcAtn7KxGKxKyfB6tlZ13xXNvVv8tAsqXjxHXE+KuQGgq4RQGrfoVzHutuX9Mo9MhAknnk2jP4vqIoV7tFJIwDCljxK7lHrRmQ3Ll3+JuM6GlICwXcpoBhv8KJK/GlizsfuDQyAxLiXJwIPsoU5WK3iYTxQAGhgF6/whm92t0WmL6IOP24lTXwQ3cwYj+BpFDAzQqU8CtabX3Nuc99v3k0p8EMSG75Ba89e3ToJFOUxW4WCWODAsX8ijjQ2NO+9vZ8hWZAIv4gduA1pr3I2Jw/QVko4DoFMn5F3F8Jh8XjWKy7PdBExGb80H1BElr3Dt/jI/qh6xTBgKBAAQXEy/MGh0/wtJoOdLcFDs8uUnS5aH3weJfP52uBqlDA1QpwohMjJ2kynniwq33NtwuNtSgkd9/P6xLK8Y/9fv9FrhYJg/O0AmNj4xSJRD/uag9cVkyIeY3H5odOfZ7UqaOKouB6r6dTyZ2DD4bCFAyGQ01HV5371FMsaQqS7NfCJ7/C08lexe9rcKdUGJUXFcisINFovGYhv+z5760Zmk8DXV9hfevHg0smSXurxu/HRqMXM8pFY+acaHR0lGKxifHahprl+fshpleSXMVbfsF9jSMD/1Prr/krF2mGoXhIgXQ6TadGxyiRmPq06eiqy+d7xMqXRddKkl/h7/ccu62G+X6qMMVwXQ/NB4YqmQKxiQkaPTXOOalPdO1Y87dGwjOV6Fs6Ri9ITMWera+racamoxG5UbbcCkwfQYknIpriu6mn7dqDRmMwBUmuk1sfOH6VX03va6irW3bm0L3REFAeCtivgHb6ZdyRcCSmEbX1tAdMb45bgiQ3tNaHT1ypJqaeqq2rvcL+4aJFKKBfgcnJSZpIJCgWix9Xk9p93btW3ae/duGStkCSa3pLx9CKqVTqPr/ft8an+GqsBof6UECPAonJSYpPxCken4gl1fRr/gn6p84H1v5eT109ZWyFJL9DsbpMxRN3+RjdxJiylBRWozBFfJiSd3hSfOOQTquaohDPuyipJ3aUcbUCnDSVM06USRdxFyStqqSmNVJVkTNpLZ1Wo2lVHSTO+5W49gM7wciX9v8BczviJyGqYNMAAAAASUVORK5CYII=',
      name: '电子邮箱'
    },
    {
      icon:
        'data:image/png;base64,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',
      name: '蓝牙'
    },
    {
      icon:
        'data:image/png;base64,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',
      name: '微博好友'
    },
    {
      icon:
        'data:image/png;base64,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',
      name: '保存到QQ收藏'
    },
    {
      icon:
        'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAASfUlEQVR4Xu2df6xfdXnHX8/33t7ejjoKsjgXYJnRYKCtYWFRFx3XhK3cqtBW7TSbGMUtmyxFhl0rlJaWFtthB5KxTRQWcAmkQmkZ6w+GsUwTNYJbW11m3DRTEtLgGCR23Pbe+32W77333B/tvfec8/meH8855/n+1eR+fjyf5/159fO997yf8xH8YyMDj+kKWtw6FkybHXxQDtsIrNlRSLOXX/LqVVvs5UMInwXeNiMa5bsIO1gj+0uOstHTOyBlyL9He+jlD1A+i/DWmBCOonyOUR5jrYyWEW6T53RAilT/69rPK1xHmw0Ib0o1tfJjWuziIv6eK2Q4VV9vHJwBByQ4dSk6HtZzOMmnUP4c4VdT9Jyt6c+Az3Me9/MeGepyLO8ekwEHJM8tskfPpYd1CDcCr894qhPAbka4n7XyasZj+3ATGXBA8tgK+/UNjLIO5QaEc/OYYnJM5VWE+xhhN2vl5VznauDgDkiWoj+uFyJsRLkeoT/LoWPHUk4Cf0cvd3GtdE4X/2SQAQckgyTypP4Gw2PPMD6K0JfFkMFjKEMID9DLbq6RnwSP4x3HMuCAdLMR9uky2vwFykcQeroZKvO+yijCI/SwnWvlh5mP35ABHZAQoffrFYyyBXhfSPdC+yhtYC89bGOVHC907hpM5oCkEXGvvgvYDPxumm6G2j4F7GKNfNNQTKZDcUCSyDPlk3p3kuYVaPMN93slU8kBmStP8/mkkuXWfiv3e8Vq5ICcmaJ0PqnYBFekgfu95hDKAYkS041PqiIUxIbpfq+zUuSAZOuTit2DFWngfq8JoZoLSL4+qYpwEBtm4/1ezQOkSJ9U7P6rSIMG+72aA0iZPqmKcBAbZgP9XvUHxJJPKnYHVqRBg/xe9QXEsk+qIhzEhtkAv1f9AKmSTyp2B1akQY39XvUBpPo+qYrQEBtmrfxe1Qekfj6p2B1YkQa18HtVE5Am+KQqQkFsmBX3e1ULkGb6pGL3YEUaVNLvVQ1A3CdVEQYShFkxv5dtQNwnlWDHVbZJJfxeNgFxn1Rld31A4Kb9XrYAcZ9UwP6qSRejfi8bgLhPqia7PINlGPN7lQuI+6Qy2FE1HcKI36scQNwnVdNdncOySvZ7FQuI+6Ry2EENGbIkv1cxgLhPqiG7uLBlFub3yhcQ90kVtmMaOlHufq/sAXGfVEP3aonLztHvlR0g7pMqcYf41BMZyNzv1T0gz+kCfsbHg+7dc109A3lkIEO/Vzgg4z6p64HPABflsU4f0zPQZQa69nulB8R9Ul1q5t1LyECw3ys5IHv0fHq5uZB790rIoE/ZgAwE+L3iAen4pODTwJ8gnNOANPoS656ByO8F9/ABeWG+5c4NiPuk6r5NfH3KMPAwC9gx132OZwOyXy9hlE0m791zST0DeWRgHr/XFCAdn9QIG4A1CK084vAxPQOmMxD5vXrZxbXyXCdWwX1SpjXz4ErLwD8D2zqAXImyE+EdpYXiE3sGrGVA+TbCxqmvWHv1amAH8JvWYvV4PAMFZuB7CJtYLQfHv2JN/6gK+/gwbbYivKXAoHwqz0C5GVB+RIstrOJRRDQKZvY/835de/lfPoqyBeHXy43cZ/cM5JgB5b8RtnIeX+E9MnLmTPM/KNyjffTwSYRbgV/LMUwf2jNQdAZeRNnOKF9mrZyea/L4J+mdnnt0Eb38KcpGhF8peiU+n2cgswwoLyHsZIS/Za28FjduMkCiUfboYnrGnpV8GmFx3OD+c8+AmQwov6BjLRllF2ul8+9EH3ntOAOLlnEkUeuo0T/qBQyzYcK4uChVX2/sGSgyA8prCPexgF28X36eZmq9+uoBGTpG5zf2Iy1lY9/b+E6aAXhc3wjcAvwxQl+qvt7YM5BnBpTO7xX3A3fyAXkxzVT6eyvfTkt3IjIJSNT/QKuHTX2X8a9pBuRJvZhhNiN8DOhN1dcbewayzcAIykMsYBvXyE/TDK2Dg5ePPwuUwahfdIJMH0dRnpAeblu4lH9PMwH79c2MjD2VX3PWM5ZUA3ljz0DKDHR8VMIj9HA718p/pumtg4OXonIH6GpEZvxePhsg0dhthUelhy39l5FqQh7TyxG2I6xME6i39QwEZUA5QA/rWSWp/kPXFSveTKu1FeTDMLtBdz5AxmNVRkR4uK/FVllKqiOLffp22uwEBoIW7p08A/Nn4AgtNrJKUv3urFdddTELFmxBuQ6ReX8liAdkKsDTCF9e2MN2uZRUv/S4IdL3eaYZmDASskaeTTOurljxRqRnE8InIdkfldIAEp0onYcrf7Own51yCan+bMbjuhq4A+GyNAvztp6BiQzMMBImzcoYGK3WzSCfAlI9lkgPyFRUv1DhC/193JMKlM6bF/fx+26ITCqvt2MOI2FcZnTg/RewaGRjCBjR2N0AEo0xDsoIn5fLeSUu6MmfuyEycaoa2zDGSDhXXnRgYAkLF30G4UZEunJ8ZAFI9NXrFRF297W4R5aOPdZP9nFDZLI8NatVIiPhmSnRgYHF9P9SxwZ1M7Aki5RlB8hENKr8XGDXwvO5Ty4i1gw2uYiOIbKHmxDWZ7W4LBLkYxSYgZRGwigyfec7F7FkyQ0gHZ/gBVlGnDkgk0HDiwI7Frb4kiwde+yf7POELqE99j+AGyKTZawOrV5BuYtR7k1jJNRLP9THRSf/CNFbEenYnjL/5AbIJCid75Et7uhfykMinFWQMueK3BCZudjmBoyMhMIOVkvi3191YKCX/v6PIa3bIN+CvtwBmRRF+ZEIW/uW8YgI7cRiuSEycaoq0zDQSKidp92Dgx8B2QLFlIQXB8jUd68fCGzpW84TqUDpGCJHuHPihXb+3q7K0DAj0CAj4RgYK1auRnQrIoU+QysekLNB2SsyZrlP9tmnlzLKNjdEJkuXiVaBRkLtvFRkxco1ZYAR5a08QKZA+R4tNvcv459SiemGyFTpKq1xuJHwvUhrGyKlvoaqfEAmlFP4di9sXLCcVP4aN0SWtvXjJg4zEg4OXgkdg6uYeJGhGUCmZTusutHfEBm3YYv5eaiRcFoVXzGBJpvFIiBR5GHVjW6ITKZ89q3CjISzVPFlH1r4iJYB6awqrLrRDZHhOyJtT+UHwG2sYd/0NxLGDTNfFV9c3yJ/bh2QKBdh1Y1uiMxvL0VGwtU8hEji51pjYNB5EeHcVXz5BZ1+5KoAMr6yiepG7eFzqcqA3RCZfmfM3SPMSJigvDXLILMaq1qARKsOLQN2Q2T4vgk1EqYobw0PLr+e1QRkKh9hZcBuiEyzo8KMhAHlrWmCKqpt1QGJvnqFlQG7IXLufRZsJOy+iq+ozZ9knnoAMrXSsOpGN0ROZTDUSJhhFV+SjVtUm7oBEp0oYdWNzTZEhhkJc6jiK2rzJ5mnnoBMrDy4urFJhshQI2GOVXxJNm5RbWoNyNQfvQKrG+ttiOw8hN1LD5vTvJFwrLz1l8/7RJ5VfEVt/iTzNAKQSVCi6kbhK6nKgOv3hsgjCDexWv4tySYZewRVQHlr0liKbNcoQM4CJW0Z8Lgh8m6EzlvAq/cJMBIWWd5qMaGNBGRSiJAy4M5NwHtZVbE3RKY2EpZR3uqAWMzA2PcHojLg5NWNVTBEBhgJLVTxWdomzT5BzlRCSV/daNEQGWokXLHCRBWfA2IpA7PEElTd2DFE9vJnJd8EHGYkNFbFZ2l7+AkyvxrpqxvHbwJeV+gbIkONhB0wlNs7d/FZ2pSWYnFAkqmRvrqxGENkmJHQaHlrMimKbeWAJM/3WHVjq5ftqS45zcMQGd353WJ3qjcSGi9vTS5FcS0dkPS5DisDHjdEdi4PCr8JODIS9rE1zZ3fVSlvTS9F/j0ckPAch5UBd24CHuX2lG+IDDMSVrSKL1yS7Hs6IN3mNLS6MYkhMtRIWPEqvm4lybK/A5JdNsOqG2c3RIYZCWtSxZedJN2P5IB0n8OZI3Qq8UIuOe0YIke5B2EotZEwg7v4sk5DXcZzQPJTMqy6MUU8Y5dULhzpXDTU9V18KaZtVFMHJG+5lfHqxlH+OtUlp/PEleUllXkvv+rjOyBFKRiBkvaS02nx5XFJZVHLr+o8DkjByoWUAed5SWXBy6/cdA5ISZJpgktOm1rFV5Iks07rgJSshsJPW8L6hcvYMz0UXbFyLS3uAi4uOcRGT++AGJBf4VuLlvPbMwAZHPyWlUtkDKSotBAckNJSPzWxA2JAhDlCcEAMaOOAGBDBAbErggNiVxs/QQxo44AYEMFPELsiOCB2tfETxIA2DogBEfwEsSuCA2JXGz9BDGjjgBgQwU8QuyI4IHa18RPEgDYOiAER/ASxK4IDYlcbP0EMaOOAGBDBTxC7IjggdrXxE8SANg6IARH8BLErggNiVxs/QQxo44AYEMFPELsiOCB2tfETxIA2DogBEfwEsSuCA2JXGz9BDGjjgBgQwU8QuyI4IHa18RPEgDYOiAER/ASxK4IDYlcbP0EMaOOAGBDBTxC7IjggdrXxE8SANg6IARH8BLErggNiVxs/QQxo44AYEMFPELsiOCB2tfETxIA2DogBEfwEsSuCA2JXGz9BDGjjgBgQwU8QuyI4IHa18RPEgDYOiAER/ASxK4IDYlcbP0EMaOOAGBDBTxC7IjggdrXxE8SANg6IARH8BLErggNiVxs/QQxo44AYEMFPELsiOCB2tfETxIA2DogBEfwEsSuCA2JXGz9BDGjjgBgQwU8QuyI4IHa18RPEgDYOiAER5jpBTh1jUxtuEjjfbpj1jkzhXxYt58rpq9TBlc8Cv1PvlRtenerLIHdLJ0Q9yjmnWlyvynqBCw2HXcvQFJ5dtJyBmYAMHgGZAU0tF29uUfoCKnfRHnlAnn765Bgg0UefY8GpPj4ObADeZC72mgbkgJgQ9scof8lLJx6U558fjiKaAcgkKErP8DH+sC1sBN5qIvwaB+GAlCiu8h/Q3snrXvcP8tWvjp4ZyayATAOldfo417ThFoHfKnEZtZ7aASlBXtXvItzJwYNPCrTnimBeQKZ3GjrK1doBRXh3Ccup9ZQOSIHyKt9AuVMOHziUZNbEgESDDX+fd42OsgHhfUkm8DbxGXBA4nOUQYun0PYuOXTom2nGSg1INPipYyxT2AysAVppJvW2MzPggOS2I9qgexHZJgcOHA+ZJRiQaLKho1wCrAeuQ1gQEkTT+zggGe8A1WGQh6F9lxw69MNuRu8akMlf6I9y4anxv3pdD/R3E1TT+jogGSmuOgTyAKI75eDBF7IYNTNAJkE5zhuG2qwTuAHh3CyCrPsYDkiXCqu+inAfp0/fK1/72okuR5vRPXNAJkH5L849fZJ1bbhR4PVZBl23sRyQQEVV/wflC4wO3yvPPPNq4CjzdssNkGlfvdzGEqOcA5J2a8+0g6TtnaZ97oBMguI2ljl1cUASb9lZ7SCJewc0LAyQSVCUntPf54Oq3AIsD4i5dl0ckLgjVo+NPfVevPix2ewgeW6IwgGZvphTx1jlNhZwQObY4hN2EDl4cF+eEMw3dqmARIE13cbigJyxRZVnoL1DDh06UhYY0bwmAImCaaqNxQGZxOAphK1y4MBzZYNhEpAoqKbZWBoOSNd2kDxhMnWCnLnQpthYGglIhnaQxgIy7VlKrW0sjQIkBztI4wGZBKWmNpZGAJKjHcQBOfOPHDWzsdQakALsIA7IXH8mr8nbWOoJSHF2EAck7kFrxW0sNQOkcDuIA5IwA1pRG0stANHy7CAJt0dQM9N/5g1a0USnKtlYKg2IATtIN/skrm9tAYkW/tpxBkS5FbgqLhll/bySgBiyg+SpW+0BiZJ3+jhXtNtssfg2looBYs4O4oBkmAGLNpYKADIK+igiu0LfDpKhhIUO1ZgTxLKNxSwgkR2kPbJDnn76J4XuTCOTNRYQSzYWc4CongT5IqJ3Z/V2ECP7PXUYjQfEgo3FDCCRHaTd3i2HD7+cejfVsIMDYsDGUjogFbeD5MmlA2LAxlIeIPWwgzggeWbAgI2lBEBqZQfJc3v4CZIwu3naWAoDpKZ2kIQSBjVzQALSlrWNJXdAam4HCZAwcRcHJHGqzm6YlY0lN0AaYgfpQsLYrg5IbIriG3RrY8kBkEbZQeIVCm/hgITn7qyeoTaWjABprB0kQwnPGsoBySG7ad/G0hUgbgfJQcGpIR2QHNOrCS8VCgLE7SA5KueAFJLcaBKNeRtLKkDcDlKodn6CFJhuneNtLAkBOUFb/4rR4S/mdVlMgamozFQOSAlS6RlvY5kfkAk7yND/3S9HjgyVEG6jp3RASpRfJ97GIvCOhcv5xPRQdHDwQVS+w0snHpTnnx8uMcxGT/3/SQlW8qLTsW8AAAAASUVORK5CYII=',
      name: '添加到微信收藏'
    },
    {
      icon:
        'data:image/png;base64,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',
      name: '发送到我的电脑'
    },
    {
      icon:
        'data:image/png;base64,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',
      name: '知乎'
    },
    {
      icon:
        'data:image/png;base64,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',
      name: '排序'
    }
  ]

  const NORMAL_DOT =
    'data:image/png;base64,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'
  const ACTIVE_DOT =
    'data:image/png;base64,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'

  let shareInnerHtml = `<style>
div,
p,
h4 {
box-sizing: border-box;
margin: 0;
padding: 0;
}
.mask {
display: none;
width: 100%;
height: 100%;
background-color: rgba(0, 0, 0, 0.65);
position: fixed;
bottom: 0;
left: 0;
z-index: 1000;
}
.prompt {
padding: 20px 0;
background-color: #fff;
display: none;
flex-direction: column;
justify-content: center;
align-items: center;
width: 100%;
height: 30%;
position: absolute;
bottom: 0;
left: 0;
overflow: hidden;
}
.title {
text-align: left;
width: 100%;
padding-left: 0.6rem;
font-weight: 600;
font-size: 28px;
color: #333;
height: 0.6rem;
line-height: 0.6rem;
font-family: 'HYQiHei-FES'
}
.content {
width: 100%;
height: 100%;
position: relative;
}
.box {
display: flex;
height: 100%;
flex-direction: row;
width: 100%;
justify-content: space-between;
position: absolute;
left: 0;
top: 0;
}
.swiper {
display: flex;
width: 100%;
height: 100%;
justify-content: flex-start;
align-items: center;
flex-wrap: wrap;
}
.item {
display: flex;
width: 25%;
flex-direction: column;
align-items: center;
justify-content: center;
}
.item img {
display: block;
width: 0.96rem;
height: 0.96rem;
border: 1px solid #f3f3f3;
border-radius: 10px;
}
.item .name {
font-size: 22px;
color: #333;
height: 0.28rem;
line-height: 14px;
text-align: center;
margin: 0.28rem 8px 0 8px;
font-family: 'HYQiHei-FES';
}
.border {
width: 0.28rem;
height: 100%;
position: absolute;
bottom: 0;
background-color: #fff;
}
.border:nth-child(1) {
left: 0;
}
.border:nth-child(2) {
right: 0;
}
.indicator img {
width: 10px;
height: 10px;
margin: 0 10px;
}
.dialog {
width: 70%;
background-color: #fff;
display: none;
align-items: center;
justify-content: center;
position: absolute;
top: 50%;
left: 50%;
transform: translate(-50%,-50%);
flex-direction: column;
border-radius: 20px;
max-width: 72%;
max-height: 48%;
}
.container {
padding: 0 30px;
display: flex;
align-items: center;
justify-content: center;
flex-direction: column;
width: 100%;
overflow:hidden;
}
.container h4 {
border-bottom: 1px solid #e3e3e3;
width: 100%;
padding: 30px 0;
}
.share_info {
line-height: 30px;
width: 100%;
padding: 30px 0;
text-align: left;
word-wrap:break-word;
word-break:break-all;
overflow: scroll;
}
.buttons {
width: 100%;
height: 1.2rem;
display: flex;
align-items: center;
justify-content: center;
border-top: 1px solid #e3e3e3;
min-height: 1.2rem;
}
.buttons span {
color: #1d99db;
flex: 1;
text-align: center;
}
.buttons span:nth-child(1) {
color: #aaa;
}
.scrollBox{
width:100%;
max-height: 7rem;
}
.scrollBox img{
object-fit: contain;
width:100%;
}
</style>
<div id="share" class="share-pannel">
<div class="mask">
<div class="prompt">
<div class="title">分享方式</div>
<div class="content">
<div class="box">
<div class="swiper swiper0">
<div class="item">
<img src="${ITEM_ARR[0].icon}" alt="${ITEM_ARR[0].name}" />
<p class="name">${ITEM_ARR[0].name}</p>
</div>
<div class="item">
<img src="${ITEM_ARR[1].icon}" alt="${ITEM_ARR[1].name}" />
<p class="name">${ITEM_ARR[1].name}</p>
</div>
<div class="item">
<img src="${ITEM_ARR[2].icon}" alt="${ITEM_ARR[2].name}" />
<p class="name">${ITEM_ARR[2].name}</p>
</div>
<div class="item">
<img src="${ITEM_ARR[3].icon}" alt="${ITEM_ARR[3].name}" />
<p class="name">${ITEM_ARR[3].name}</p>
</div>
<div class="item">
<img src="${ITEM_ARR[4].icon}" alt="${ITEM_ARR[4].name}" />
<p class="name">${ITEM_ARR[4].name}</p>
</div>
<div class="item">
<img src="${ITEM_ARR[5].icon}" alt="${ITEM_ARR[5].name}" />
<p class="name">${ITEM_ARR[5].name}</p>
</div>
<div class="item">
<img src="${ITEM_ARR[6].icon}" alt="${ITEM_ARR[6].name}" />
<p class="name">${ITEM_ARR[6].name}</p>
</div>
<div class="item">
<img src="${ITEM_ARR[7].icon}" alt="${ITEM_ARR[7].name}" />
<p class="name">${ITEM_ARR[7].name}</p>
</div>
</div>
<div class="swiper swiper1">
<div class="item">
<img src="${ITEM_ARR[8].icon}" alt="${ITEM_ARR[8].name}" />
<p class="name">${ITEM_ARR[8].name}</p>
</div>
<div class="item">
<img src="${ITEM_ARR[9].icon}" alt="${ITEM_ARR[9].name}" />
<p class="name">${ITEM_ARR[9].name}</p>
</div>
<div class="item">
<img src="${ITEM_ARR[10].icon}" alt="${ITEM_ARR[10].name}" />
<p class="name">${ITEM_ARR[10].name}</p>
</div>
<div class="item">
<img src="${ITEM_ARR[11].icon}" alt="${ITEM_ARR[11].name}" />
<p class="name">${ITEM_ARR[11].name}</p>
</div>
<div class="item">
<img src="${ITEM_ARR[12].icon}" alt="${ITEM_ARR[12].name}" />
<p class="name">${ITEM_ARR[12].name}</p>
</div>
</div>
</div>
<div class="border"></div>
<div class="border"></div>
</div>
<div class="indicator">
<img src="${ACTIVE_DOT}" class="indicator0" alt="indicator">
<img src="${NORMAL_DOT}" class="indicator1" alt="indicator">
</div>
</div>
<div class="dialog">
<div class="container">
<h4>分享内容</h4>
<div class="share_info"></div>
</div>
<div class="buttons">
<span class="cancel">取消</span>
<span class="affirm">确认</span>
</div>
</div>
</div>
</div>
`

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  const config$2 = {
    name: 'system.share',
    methods: [
      // Method
      {
        name: 'share',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      }
    ]
  }

  class Share extends HTMLElement {
    constructor() {
      super()
      const shadowRoot = this.attachShadow({ mode: 'open' })
      shadowRoot.innerHTML = shareInnerHtml
      this.$mask = shadowRoot.querySelector('.mask')
      this.$prompt = shadowRoot.querySelector('.prompt')
      this.$shareInfo = shadowRoot.querySelector('.share_info')
      this.$dialog = shadowRoot.querySelector('.dialog')
      const $affirm = shadowRoot.querySelector('.affirm')
      const $cancel = shadowRoot.querySelector('.cancel')
      this.$box = shadowRoot.querySelector('.box')
      this.$indicator0 = shadowRoot.querySelector('.indicator0')
      this.$indicator1 = shadowRoot.querySelector('.indicator1')
      this.$swiper0 = shadowRoot.querySelector('.swiper0')
      this.$swiper1 = shadowRoot.querySelector('.swiper1')
      this.$designWith = document.body.clientWidth
      const itemsArr = shadowRoot.querySelectorAll('.item')
      $affirm.addEventListener('click', () => {
        this.maskClickHandle()
        toast.push('share success')
        this._opt.success({})
      })
      $cancel.addEventListener('click', () => {
        this.maskClickHandle()
        this.$dialog.style.display = 'none'
      })
      this.$dialog.addEventListener('click', evt => {
        evt.stopPropagation()
      })
      for (let i = 0; i < itemsArr.length; i++) {
        this.delTextOfSpace(itemsArr[i], itemsArr[i].childNodes)
        let item = itemsArr[i].childNodes[0]
        item.addEventListener('click', evt => {
          evt.stopPropagation()
          if (i === itemsArr.length - 1) {
            this.sort()
          } else {
            this.clickHandle()
          }
        })
      }
      this.promptOfShare()
    }

    promptOfShare() {
      let count = Math.ceil(ITEM_ARR.length / 8)
      this.$box.style.width = `${this.$designWith * count}px`
      this.resetSwiper()
      this.swipeHandle()
      this.promptShowAnimate(this.$prompt)
      this.$mask.addEventListener('click', () => {
        this.maskClickHandle()
      })
      this.$prompt.addEventListener('click', evt => {
        evt.stopPropagation()
      })
    }

    sort() {
      toast.push('请在真机上体验!')
      this.maskClickHandle()
    }

    clickHandle() {
      this.$dialog.style.display = 'flex'
      this.$prompt.style.display = 'none'
      if (this._opt.type.indexOf('text/') === 0) {
        this.$shareInfo.innerText = this._opt.data || ''
      }
      if (this._opt.type.indexOf('image/') === 0) {
        let uri = hybrid.getFile(this._opt.data)
        this.$shareInfo.innerHTML = `<div class="scrollBox"><img src=${uri} alt="image" /></div>`
      }
    }

    swipeHandle() {
      const box = this.$box
      let border = this.$designWith
      let startStep = 0
      let steps = 0
      let distance = 0
      let keyframes = []
      let num = Math.ceil(ITEM_ARR.length / 8)
      box.addEventListener('touchstart', e => {
        startStep = e.targetTouches[0].clientX
      })
      box.addEventListener('touchmove', e => {
        steps = e.targetTouches[0].clientX
        if (steps <= border && steps >= 0) {
          if (steps >= startStep) {
            // swipe to left
            if (parseInt(box.style.left) === 0) {
              // swipe to border left of swiper
              return
            }
            distance = parseInt(box.style.left) + border
            keyframes = [{ left: box.style.left }, { left: `${distance}px` }]
          } else {
            // swipe to right
            distance = parseInt(box.style.left) - border
            if (Math.abs(distance / border) >= num) {
              // swipe to border right of swiper
              return
            }
            keyframes = [{ left: box.style.left }, { left: `${distance}px` }]
          }
          box.animate(
            // @keyframes
            keyframes,
            // options
            {
              duration: 500,
              iterations: 1
            }
          )
        }
      })
      box.addEventListener('touchend', e => {
        let idx = Math.abs(distance / border)
        if (idx >= 0 && idx < num) {
          box.style.left = `${distance}px`
          this.indicatorFn(idx)
        }
      })
    }

    indicatorFn(num) {
      if (num === 0) {
        this.$indicator0.src = ACTIVE_DOT
        this.$indicator1.src = NORMAL_DOT
      }
      if (num === 1) {
        this.$indicator0.src = NORMAL_DOT
        this.$indicator1.src = ACTIVE_DOT
      }
    }

    resetSwiper() {
      let num = Math.ceil(ITEM_ARR.length / 8)
      let arr = ITEM_ARR
      let arrLen = arr.length
      let len = arrLen >= 8 ? 8 : arrLen
      if (num === 0) {
        this.$swiper0.style.width = `${this.$designWith}px`
        this.$swiper0.style.padding = `0 20px`
        if (len <= 4) {
          this.$swiper0.style.alignItems = 'flex-start'
          this.$swiper0.marginTop = '28px'
        }
      }
      if (num === 1) {
        this.$swiper1.style.width = `${this.$designWith}px`
        this.$swiper1.style.padding = `0 20px`
        if (len <= 4) {
          this.$swiper1.style.alignItems = 'flex-start'
          this.$swiper1.marginTop = '28px'
        }
      }
      this.$box.style.left = 0
      this.indicatorFn(0)
    }
    // 清除childNodes中text节点
    delTextOfSpace(dom, nodeList) {
      for (let i = 0; i < nodeList.length; i++) {
        if (nodeList[i].nodeName == '#text' && !/\s/.test(nodeList.nodeValue)) {
          dom.removeChild(nodeList[i])
        }
      }
    }

    promptShowAnimate() {
      this.$prompt.animate(
        [
          // @keyframes
          { bottom: '-30%' },
          { bottom: '-20%' },
          { bottom: '-10%' },
          { bottom: '25px' },
          { bottom: '15px' },
          { bottom: '10px' },
          { bottom: '0px' }
        ],
        // options
        {
          duration: 500,
          iterations: 1
        }
      )
      this.$prompt.style.display = 'flex'
      this.$mask.style.display = 'flex'
    }

    maskClickHandle() {
      this.$prompt.animate(
        [
          { left: 0, display: 'flex', bottom: 0 },
          { left: '30%', display: 'flex', bottom: '-5px' },
          { left: '60%', display: 'flex', bottom: '-15px' },
          { left: '100%', display: 'none', bottom: '-20px' }
        ],
        {
          duration: 200,
          iterations: 1
        }
      )
      // hidden mask
      setTimeout(() => {
        this._opt = null
        this.$dialog.style.display = 'none'
        this.$prompt.style.display = 'none'
        this.$mask.style.display = 'none'
        this.resetSwiper()
      }, 100)
    }
  }

  Share._shareInstance = null
  Share.reset = function() {
    Share._shareInstance = null
  }
  function getInstance(options) {
    if (!Share._shareInstance) {
      Share._shareInstance = document.createElement('h-share')
      document.body.appendChild(Share._shareInstance)
    }
    Share._shareInstance._opt = options
    return Share._shareInstance
  }

  function init$6() {
    window.customElements.define('h-share', Share)
  }

  const moduleOwn = {
    share(options = {}) {
      getInstance(options).promptShowAnimate()
    }
  }
  var share = {
    module: moduleOwn,
    config: config$2,
    init: init$6,
    Share
  }

  function dialogShow(dialog) {
    dialog.animate(
      [
        // @keyframes
        { opacity: 0 },
        { opacity: 0.5 },
        { opacity: 1 }
      ],
      // options
      {
        duration: 500,
        iterations: 1
      }
    )
    if (dialog.style.display === 'none' || !dialog.style.display) {
      setTimeout(() => {
        dialog.style.display = 'flex'
      }, 100)
    }
  }

  function panelHidden(pannel) {
    pannel.animate(
      [
        // @keyframes
        { bottom: '0px' },
        { bottom: '10px' },
        { bottom: '15px' },
        { bottom: '25px' },
        { bottom: '-10%' },
        { bottom: '-20%' },
        { bottom: '-30%' }
      ],
      // options
      {
        duration: 200,
        iterations: 1
      }
    )
    setTimeout(() => {
      pannel.style.display = 'none'
    }, 100)
  }

  function panelShow(pannel) {
    pannel.animate(
      [
        // @keyframes
        { bottom: '-30%' },
        { bottom: '-20%' },
        { bottom: '-10%' },
        { bottom: '25px' },
        { bottom: '15px' },
        { bottom: '10px' },
        { bottom: '0px' }
      ],
      // options
      {
        duration: 500,
        iterations: 1
      }
    )
    if (pannel.style.display === 'none') {
      setTimeout(() => {
        pannel.style.display = 'flex'
      }, 300)
    }
  }

  function showMask(mask) {
    mask.animate([{ opacity: 0 }, { opacity: 0.5 }, { opacity: 0.8 }, { opacity: 1 }], {
      duration: 200,
      iterations: 1
    })
    mask.style.display = 'flex'
  }

  function HiddenMask(mask, pannel = null, dialog = null) {
    mask.animate([{ opacity: 1 }, { opacity: 0.8 }, { opacity: 0.5 }, { opacity: 0 }], {
      duration: 200,
      iterations: 1
    })
    if (pannel) {
      panelHidden(pannel)
    }
    if (dialog) {
      dialog.style.display = 'none'
    }
    setTimeout(() => {
      mask.style.display = 'none'
    }, 200)
  }

  // dialog
  let shareInfo = [
    { icon: DIALOG_ICON.attention, name: '分享描述' },
    { icon: DIALOG_ICON.page_icon, name: '分享页面' },
    { icon: DIALOG_ICON.source_icon, name: '分享渠道' }
  ]

  // custom
  let shareItem = [
    { icon: CUSTOM_ICON.qq, name: 'QQ', evt_click: shareMsg, type: '发送给好友' },
    { icon: CUSTOM_ICON.friends, name: '微信', evt_click: shareMsg, type: '发送给朋友' },
    { icon: CUSTOM_ICON.wechat, name: '朋友圈', evt_click: shareMsg, type: '分享到朋友圈' },
    { icon: CUSTOM_ICON.weibo, name: '微博', evt_click: shareMsg, type: '分享到微博' },
    { icon: CUSTOM_ICON.more, name: '更多', evt_click: moreMethod, type: '更多' }
  ]

  let DEFAULT_MenuBarData = {
    shareTitle: '',
    shareDescription: '打开快应用，无需下载，即点即用！',
    shareIcon: 'https://doc.quickapp.cn/assets/images/logo.png',
    shareCurrentPage: false,
    shareParams: '',
    shareUrl: ''
  }

  function delTextOfSpace(dom, nodeList) {
    for (let i = 0; i < nodeList.length; i++) {
      if (nodeList[i].nodeName == '#text' && !/\s/.test(nodeList.nodeValue)) {
        dom.removeChild(nodeList[i])
      }
    }
  }

  function shareMsg(mask, custom, source) {
    delTextOfSpace(mask, mask.childNodes)
    let dialog = mask.childNodes[2]
    delTextOfSpace(dialog, dialog.childNodes)
    let box = dialog.childNodes[0]
    let affirm = dialog.childNodes[1]
    delTextOfSpace(box, box.childNodes)
    let {
      shareTitle = '',
      shareDescription = '打开快应用，无需下载，即点即用！',
      shareIcon = 'https://doc.quickapp.cn/assets/images/logo.png',
      shareCurrentPage = false,
      shareParams = '',
      shareUrl = ''
    } = getAttrConfiguration('menuBarData', DEFAULT_MenuBarData)
    if (!shareTitle) {
      shareTitle = global.manifest.name
    }
    let box_title = box.childNodes[0]
    // 分享标题
    box_title.innerText = shareTitle

    for (let i = 1; i < box.childNodes.length; i++) {
      let item = box.childNodes[i]
      delTextOfSpace(item, item.childNodes)
      let title = item.childNodes[0]
      let desc = item.childNodes[1]
      delTextOfSpace(title, title.childNodes)
      delTextOfSpace(desc, desc.childNodes)

      title.childNodes[0].setAttribute('src', `${shareInfo[i - 1].icon}`)
      title.childNodes[1].innerText = shareInfo[i - 1].name
      let path = ''
      if (desc.className === 'page') {
        if (shareCurrentPage === true) {
          path = getCurrentPage().key
        }
        // 分享页面
        let uri = `http://qapp-h5-pre.vivo.com.cn/packageName=${
          global.manifest.package
        }&path=${path}&shareUrl=${shareUrl}&params=${JSON.stringify(shareParams)}`
        desc.innerText = uri
      }
      if (desc.className === 'desc') {
        // 分享描述
        desc.innerText = shareDescription
      }

      if (desc.className === 'source') {
        // 分享渠道
        desc.innerText = source
      }
    }
    dialogShow(dialog)
    dialog.addEventListener('click', evt => {
      evt.stopPropagation()
    })
    affirm.addEventListener('click', () => {
      HiddenMask(mask, null, dialog)
      dialog.style.display = 'none'
    })
    mask.addEventListener('click', () => {
      HiddenMask(mask, custom, dialog)
    })
  }

  function moreMethod(mask, prompt) {
    HiddenMask(mask, prompt)
    const uri = `http://qapp-h5-pre.vivo.com.cn/packageName=${global.manifest.package}&path=&shareUrl=&params=`
    const options = {
      type: 'text/html',
      data: `【${global.manifest.name}】${uri}`,
      success: () => {},
      fail: () => {},
      cancel: () => {},
      complete: () => {}
    }
    share.module.share(options)
  }

  let shadowRootInnerHtml = `
<style>
.menu-bar {
position: fixed;
display: flex;
top: 1.145rem;
right: 0.45rem;
padding: 0.14rem 0.315rem;
background: rgba(255,255,255,0.80);
border: 1px solid rgba(0,0,0,0.08);
border-radius: 38.88px;
border-radius: 38.88px;
z-index: 999;
}
.menu-bar .menu,
.menu-bar .close{
width: 0.45rem;
height: 0.45rem;
}
.menu {
padding-right: 0.32rem;
border-right: 1px solid rgba(0,0,0,0.08);
}
.close {
padding-left: 0.32rem;
display: flex;
align-items: center;
}
.mask{
position: fixed;
display: none;
top: 0;
left: 0;
width: 100%;
height: 100%;
background-color: rgba(0,0,0,0.65);
z-index: 1000;
}
.prompt{
position: absolute;
display: flex;
bottom: 0;
left: 0;
width: 100%;
height: 9.51rem;
background-color:  #ffffff;
flex-direction: column;
box-sizing:border-box;
}
.prompt .title{
display: flex;
width: 100%;
height: 1.5rem;
padding:0 0.556rem;
align-items: center;
box-sizing:border-box;
}
.prompt .logo{
width: 0.667rem;
height: 0.667rem;
}
.prompt .about{
width: 0.556rem;
height: 0.556rem;
}
.prompt .name{
margin-left:0.22222rem;
margin-right:0.1rem;
font-family: "HYQiHei-FES";
font-size: 30px;
font-weight: 600;
color: #000000;
line-height: 60px;
}
.prompt .content{
display: flex;
align-items: center;
    flex-direction: column;
justify-content: center;
width:100%;
flex:1;
padding:0 0.18518519rem;
box-sizing:border-box;
}
.prompt .others,
.prompt .options{
display: flex;
align-items: center;
box-sizing:border-box;
width:100%;
flex:1;
padding:0.444444rem 0.2963rem;
}

.prompt .options{
padding-top:0.222222rem;
border-bottom:1px solid #F2F2F2;
}

.prompt .others img,
.prompt .options img{
width:1.3334rem;
height:1.3334rem;
}

.prompt .others .item,
.prompt .options .item{
box-sizing:border-box;
display:flex;
align-items: center;
flex-direction: column;
justify-content: center;
width:1.92592593rem;
height:2.5rem;
}
.prompt .others .item_name,
.prompt .options .item_name{
text-align:center;
width:100%;
height:0.722222rem;
font-family: "HYQiHei-FZS";
font-size: 20px;
color: #000000;
text-align: center;
line-height: 28px;
margin-top:0.2222rem;
font-weight:500;
padding:0 0.15rem;
display:block;
box-sizing:border-box;
}
.prompt .cancel{
height:1.444445rem;
width:100%;
font-family: HYQiHei-FZS;
font-size: 30px;
color: rgba(0,0,0,0.30);
display:flex;
justify-content: center;
align-items: center;
border-top:1px solid #F2F2F2;
font-weight:600;
letter-spacing: 4px;
}

.custom {
padding: 0.556rem 0;
background-color: #fff;
box-sizing: border-box;
display: none;
flex-direction: column;
justify-content: center;
align-items: center;
width: 100%;
height: 30%;
position: absolute;
bottom: 0;
left: 0;
overflow: hidden;
}
.custom .title {
padding-left: 1.2rem;
text-align: left;
width: 100%;
font-weight: 600;
font-size: 30px;
color: #333;
height: 1.2rem;
line-height: 0.6rem;
font-family: "HYQiHei-FES";
}
.custom .content {
flex: 1;
width: 100%;
box-sizing: border-box;
display: flex;
flex-wrap: wrap;
align-content: space-between;
}
.custom_item {
display: flex;
width: 25%;
flex-direction: column;
align-items: center;
justify-content: center;
}
.custom_item img {
display:block;
width:1.3334rem;
height:1.3334rem;
border:1px solid #f3f3f3;
border-radius: 20px;
}
.custom_item p {
font-size:22px;
color:#333;
height:30px;
line:height:14px;
text-align:center;
margin:10px 8px 0 8px;
box-sizing:border-box;
font-family: "HYQiHei-FES";
}
.dialog {
display: none;
width: 70%;
position: absolute;
top: 50%;
left: 50%;
transform: translate(-50%, -50%);
background-color: #fff;
border-radius: 20px;
flex-direction: column;
overflow: hidden;
}
.dialog .box {
display: flex;
width: 100%;
flex: 1;
flex-direction: column;
padding: 0 20px;
box-sizing: border-box;
position: relative;
}
.dialog h4 {
padding:40px 0px 20px;
margin:0;
box-sizing:border-box;
width:100%;
border-bottom:1px solid #e1e1e1;
color:#000;
font-size:26px;
}
.dialog .box .content {
display:flex;
flex-direction:column;
padding:20px 0;
}
.dialog .box .content .title {
display:flex;
align-items:center;
}
.dialog .box .content .title img {
display:block;
width:25px;
height:25px;
margin-right:8px;
}
.dialog .box .content .title .name {
display:block;
font-size:24px;
color:#666;
}
.dialog .box .content .desc,
.dialog .box .content .source {
display:block;
font-size:24px;
margin-left:25px;
line-height:40px;
color:#000;
}
.dialog .box .content .page {
display:block;
font-size:24px;
margin-left:25px;
line-height:40px;
word-wrap:break-word;
word-break:break-all;
}
.dialog .affirm {
color: #1d99db;
border-top: 1px solid #e1e1e1;
width: 100%;
padding: 20px 0;
display: flex;
align-items: center;
justify-content: center;
}
.page-push {
animation: push-animation 0.3s;
}

.page-back {
animation: back-animation 0.3s;
}

@keyframes push-animation {
from {
transform: translateX(750px);
} to {
transform: translateX(0);
}
}

@keyframes back-animation {
from {
transform: translateX(-750px);
} to {
transform: translateX(0);
}
}
</style>
<div id="menubar" class="menu-bar">
<img class="menu">
<img class="close">
<div class="mask">
<div class="prompt">
<div class="title">
<img class="logo">
<p class="name"></p>
<img class="about">
</div>
<div class="content">
<div class="options"></div>
<div class="others"></div>
</div>
<div class="cancel">取消</div>
</div>
<div class="custom">
<div class="title">分享</div>
<div class="content">
<div class="custom_item">
  <img src="${shareItem[0].icon}" id="qq" />
  <p>${shareItem[0].name}</p>
</div>
<div class="custom_item">
  <img src="${shareItem[1].icon}" id="wx" />
  <p>${shareItem[1].name}</p>
</div>
<div class="custom_item">
  <img src="${shareItem[2].icon}" id="pyq" />
  <p>${shareItem[2].name}</p>
</div>
<div class="custom_item">
  <img src="${shareItem[3].icon}" id="wb" />
  <p>${shareItem[3].name}</p>
</div>
<div class="custom_item">
  <img src="${shareItem[4].icon}" id="more" />
  <p>${shareItem[4].name}</p>
</div>
</div>
</div>
<div class="dialog">
<div class="box">
<h4>API</h4>
<div class="content">
  <div class="title">
    <img />
    <span class="name"></span>
  </div>
  <span class="desc"></span>
</div>
<div class="content">
  <div class="title">
    <img />
    <span class="name"></span>
  </div>
  <p class="page"></p>
</div>
<div class="content">
  <div class="title">
    <img />
    <span class="name"></span>
  </div>
  <span class="source"></span>
</div>
</div>
<div class="affirm">确定</div>
</div>
</div>
</div>
`

  let OPTION = [
    { icon: OPTIONS.share, name: '分享', method: 'share' },
    { icon: OPTIONS.shortcut, name: '添加到桌面', method: 'shortCut' },
    { icon: OPTIONS.favorite, name: '收藏', method: 'favorite' },
    { icon: OPTIONS.quickcenter, name: '前往快应用中心', method: 'quickCenter' }
  ]

  let OTHER = [
    { icon: DARK_ICON.home, name: '返回首页', method: 'backHome' },
    { icon: DARK_ICON.feedback, name: '帮助与反馈', method: 'feedBack' },
    { icon: DARK_ICON.setting, name: '设置', method: 'setting' }
  ]

  class MenuBar extends window.HTMLElement {
    constructor() {
      super()
      const shadowRoot = this.attachShadow({ mode: 'open' })
      shadowRoot.innerHTML = shadowRootInnerHtml
      this.$menuBtn = shadowRoot.querySelector('.menu')
      this.$closeBtn = shadowRoot.querySelector('.close')
      this.$mask = shadowRoot.querySelector('.mask')
      this.createPrompt(shadowRoot)
    }

    createPrompt(shadowRoot) {
      this.$logo = shadowRoot.querySelector('.logo')
      this.$about = shadowRoot.querySelector('.about')
      this.$name = shadowRoot.querySelector('.name')
      this.$prompt = shadowRoot.querySelector('.prompt')
      this.$options = shadowRoot.querySelector('.options')
      this.$others = shadowRoot.querySelector('.others')
      this.$cancel = shadowRoot.querySelector('.cancel')
      this.$custom = shadowRoot.querySelector('.custom')
      this.$dialog = shadowRoot.querySelector('.dialog')
      const items = shadowRoot.querySelectorAll('.custom_item')
      items.forEach((ele, idx) => {
        ele.addEventListener('click', evt => {
          panelHidden(this.$custom)
          shareItem[idx].evt_click(this.$mask, this.$custom, shareItem[idx].type)
        })
      })
      this.$custom.addEventListener('click', evt => {
        evt.stopPropagation()
      })
    }

    init(opt) {
      this._opt = opt
      this.updateMenubarStyle(opt.menuBarStyle)
    }

    bindEvents(router) {
      this.$menuBtn.addEventListener('click', () => {
        // 获取rpk icon 及 name
        let _basePath = location.pathname.replace(global.history.state.uri, '')
        let imageSrc = ''
        const iconPath = global.manifest.icon
        if (iconPath.indexOf('http') === 0) {
          imageSrc = iconPath
        } else {
          imageSrc = _basePath + iconPath.replace(/^\/|\/$/g, '')
        }
        this.$logo.setAttribute('src', imageSrc)
        this.$about.setAttribute('src', DARK_ICON.about)
        this.$name.innerHTML = global.manifest.name
        // menubar 弹出动画
        global.menuPressPage(router.instanceId)
        this.$mask.animate([{ opacity: 0 }, { opacity: 0.5 }, { opacity: 0.8 }, { opacity: 1 }], {
          duration: 200,
          iterations: 1
        })
        this.$mask.style.display = 'flex'
        this.$prompt.animate(
          [{ bottom: '-100%' }, { bottom: '-50%' }, { bottom: '-20%' }, { bottom: 0 }],
          {
            duration: 200,
            iterations: 1
          }
        )
        this.$prompt.style.display = 'flex'
      })
      this.$closeBtn.addEventListener('click', () => {
        toast.push('退出应用！')
      })
    }

    hiddenMask() {
      this.$cancel.addEventListener('click', () => {
        this.hiddenMaskHandle()
      })
      this.$mask.addEventListener('click', () => {
        this.hiddenMaskHandle()
      })
      this.$prompt.addEventListener('click', evt => {
        evt.stopPropagation()
      })
    }

    hiddenMaskHandle() {
      this.$mask.animate([{ opacity: 1 }, { opacity: 0.8 }, { opacity: 0.5 }, { opacity: 0 }], {
        duration: 200,
        iterations: 1
      })
      this.$prompt.animate(
        [
          { bottom: 0 },
          { bottom: '-20%' },
          { bottom: '-50%' },
          { bottom: '-80%' },
          { bottom: '-100%' }
        ],
        {
          duration: 400,
          iterations: 1
        }
      )
      setTimeout(() => {
        this.$prompt.style.display = 'none'
        this.$mask.style.display = 'none'
      }, 200)
    }
    share() {
      // 弹出分享面板
      this.$prompt.style.display = 'none'
      showMask(this.$mask)
      this.$custom.style.display = 'flex'
      panelShow(this.$custom)
      this.$mask.addEventListener('click', () => {
        HiddenMask(this.$mask, this.$custom)
      })
    }
    shortCut(item) {
      let name = '已添加桌面图标'
      this.hiddenMaskHandle()
      if (item.childNodes[1].innerText !== name) {
        setTimeout(() => {
          toast.push(`已在桌面创建${global.manifest.name}`)
          item.childNodes[1].innerText = name
        }, 800)
      }
    }
    favorite(item) {
      let name = '取消收藏'
      let msg = '收藏成功!去查看'
      if (item.childNodes[1].innerText === name) {
        name = '收藏'
        msg = '已取消收藏'
      }
      this.hiddenMaskHandle()
      setTimeout(() => {
        toast.push(msg)
        item.childNodes[1].innerText = name
      }, 800)
    }
    backHome() {
      menubarManager.router.push({
        uri: `/${global.manifest.router.entry}`
      })
      menubarManager.router.clear()
    }
    getItemDom(arr) {
      let str = ''
      for (let i = 0; i < arr.length; i++) {
        str += `<div class="item"><img id="${i}" src="${arr[i].icon}"><span class="item_name">${arr[i].name}</span></div>`
      }
      return str
    }
    createPromptPannel() {
      this.$options.innerHTML = this.getItemDom(OPTION)
      this.$others.innerHTML = this.getItemDom(OTHER)
      this.$options.addEventListener('click', e => {
        if (e.target.id) {
          let key = parseInt(e.target.id)
          switch (key) {
            case 0:
              this.share()
              break
            case 1:
              this.shortCut(this.$options.childNodes[1])
              break
            case 2:
              this.favorite(this.$options.childNodes[2])
              break
            default:
              this.hiddenMaskHandle()
              toast.push('请在真机上测试!')
              break
          }
        }
      })
      this.$others.addEventListener('click', e => {
        if (e.target.id) {
          let key = parseInt(e.target.id)
          switch (key) {
            case 0:
              this.backHome()
              break
            default:
              this.hiddenMaskHandle()
              toast.push('请在真机上测试!')
              break
          }
        }
      })
    }
    updateMenubarStyle(menuBarStyle) {
      this.createPromptPannel()
      let $backhome = this.$others.childNodes[0]
      let $help = this.$others.childNodes[1]
      let $set = this.$others.childNodes[2]
      const themeMode = getAttrConfiguration('themeMode', -2)
      if (themeMode <= -2) {
        menuBarStyle = 'light'
      }
      if (menuBarStyle === 'dark') {
        // 系统当前是暗色(dark)主题
        this.$menuBtn.setAttribute('src', LIGHT_ICON.menu_light)
        this.$closeBtn.setAttribute('src', LIGHT_ICON.close_light)
        $backhome.childNodes[0].setAttribute('src', LIGHT_ICON.home_light)
        $help.childNodes[0].setAttribute('src', LIGHT_ICON.feedback_light)
        $set.childNodes[0].setAttribute('src', LIGHT_ICON.setting_light)
      }
      if (menuBarStyle === 'light') {
        // 系统当前是亮色(light)主题
        this.$menuBtn.setAttribute('src', DARK_ICON.menu)
        this.$closeBtn.setAttribute('src', DARK_ICON.close)
        $backhome.childNodes[0].setAttribute('src', DARK_ICON.home)
        $help.childNodes[0].setAttribute('src', DARK_ICON.feedback)
        $set.childNodes[0].setAttribute('src', DARK_ICON.setting)
      }
    }
    updateMenubarData(options) {
      Object.assign(DEFAULT_MenuBarData, options)
    }
  }

  const menubarManager = {
    router: null,
    instance: null,
    defaults: {
      menuBarStyle: 'light',
      shareTitle: '',
      shareDescription: '',
      shareIcon: '',
      shareCurrentPage: false,
      shareParams: '',
      shareUrl: ''
    },
    create(routeURI, options, router) {
      let opt
      if (typeof options === 'object') {
        opt = Object.assign({}, menubarManager.defaults, options)
      } else {
        opt = menubarManager.defaults
      }
      if (opt.menuBar === false) {
        return false
      }
      const menubar = document.createElement('h-menubar')
      menubar.init(opt)
      menubar.bindEvents(router)
      menubar.hiddenMask()
      this.instance = menubar
      global._pageCache[routeURI].menubar = menubar
      global._pageCache[routeURI].menubar.shadowRoot.children[1].classList.add('page-push')
      document.body.appendChild(menubar)

      this.router = router
    },
    setMenubarData(options) {
      if (options && this.instance) {
        this.instance._opt = Object.assign(this.instance._opt, options.attr)
        this.instance.updateMenubarData(this.instance._opt)
      }
    },
    reset() {
      this.instance = null
    }
  }

  function init$7() {
    window.customElements.define('h-menubar', MenuBar)
  }
  var menubar = { init: init$7 }

  let mediaInnerHtml = `<style>
div,
p,
h4 {
box-sizing: border-box;
margin: 0;
padding: 0;
}
.mask {
display: none;
width: 100%;
height: 100%;
background-color: rgba(0, 0, 0, 0.65);
position: fixed;
bottom: 0;
left: 0;
z-index: 100002;
}
input[type='file'] {
display: none;
}
.prompt {
display: none;
width: 100%;
height: 15%;
position: absolute;
bottom: 0;
left: 0;
background-color: #fff;
flex-direction: column;
justify-content: center;
padding: 20px 0;
overflow: hidden;
}
.title {
text-align: left;
width: 100%;
padding-left: 0.6rem;
font-weight: 600;
font-size: 28px;
color: #333;
height: 0.6rem;
line-height: 0.6rem;
font-family: 'HYQiHei-FES'
}
.prompt .content {
flex:1;
background-color: #fff;
align-items: center;
}
.item{
display: flex;
align-items: center;
flex-direction: column;
justify-content: center;
width: 25%;
height: 100%;
float: left;
}
.icon {
display: block;
width: 0.96rem;
height: 0.96rem;
border: 1px solid #f3f3f3;
border-radius: 10px;
}
.icon:active{
opacity: 0.6;
}
.name {
font-size: 22px;
color: #333;
height: 0.28rem;
line-height: 14px;
text-align: center;
margin: 0.28rem 8px 0 8px;
font-family: 'HYQiHei-FES';
}
#fileSrc {
display: none;
}
.swiper {
display: none;
flex-direction: column;
justify-content: center;
overflow: hidden;
width:100%;
flex:1;
}
.swiper .content {
background-color:#333
align-items: center;
position:absolute;
top:50%;
left:0;
transform:translateY(-50%);
}
.swiper .content img {
height:100%;
display:flex;
float:left
}
.swiper .title {
position:absolute;
top:30px;
left:0;
}
</style>
<div id="media" class="media-button">
<div class="mask">
<div class="prompt">
<h4 class="title">选择操作</h4>
<div class="content">
    <div class="item">
        <img class="icon" id="album_control" />
        <span class="name">相册</span>
    </div>
    <div class="item">
        <img class="icon" id="file_control" />
        <span class="name">文件管理</span>
    </div>
    <input type="file" id="fileElem" multiple accept="image/*" />
    <img id="fileSrc" />
</div>
</div>
<div class="swiper">
<h4 class="title" style="color:#fff;"></h4>
<div class="content">222</div>
</div>
</div>
</div>
`

  function swiperContent(box, arr, current) {
    let str = ''
    let $disgnWidth = document.body.clientWidth
    delTextOfSpace$1(box, box.childNodes)
    arr.forEach((ele, idx) => {
      str += `<img src="${ele}"/>`
      if (ele === current) {
        current = idx
      }
    })
    let title = box.childNodes[0]
    let content = box.childNodes[1]
    title.innerText = `${current + 1}/${arr.length}`
    content.innerHTML = str
    content.setAttribute(
      'style',
      `width:${arr.length * $disgnWidth}px;height:${$disgnWidth}px;left:-${current *
        $disgnWidth}px;`
    )
    swipeHandle(content, title, arr)
  }

  function delTextOfSpace$1(dom, nodeList) {
    for (let i = 0; i < nodeList.length; i++) {
      if (nodeList[i].nodeName == '#text' && !/\s/.test(nodeList.nodeValue)) {
        dom.removeChild(nodeList[i])
      }
    }
  }

  function swipeHandle(box, title, arr) {
    let border = document.body.clientWidth
    let startStep = 0
    let steps = 0
    let distance = 0
    let keyframes = []
    let num = arr.length
    box.addEventListener('touchstart', e => {
      startStep = e.targetTouches[0].clientX
    })
    box.addEventListener('touchmove', e => {
      steps = e.targetTouches[0].clientX
      if (steps <= border && steps >= 0) {
        if (steps >= startStep) {
          // swipe to left
          if (parseInt(box.style.left) === 0) {
            // swipe to border left of swiper
            return
          }
          distance = parseInt(box.style.left) + border
          keyframes = [{ left: box.style.left }, { left: `${distance}px` }]
        } else {
          // swipe to right
          distance = parseInt(box.style.left) - border
          if (Math.abs(distance / border) >= num) {
            // swipe to border right of swiper
            return
          }
          keyframes = [{ left: box.style.left }, { left: `${distance}px` }]
        }
        box.animate(
          // @keyframes
          keyframes,
          // options
          {
            duration: 500,
            iterations: 1
          }
        )
      }
    })
    box.addEventListener('touchend', () => {
      let idx = Math.abs(distance / border)
      if (idx >= 0 && idx < num) {
        box.style.left = `${distance}px`
        idx++
        title.innerText = `${idx}/${arr.length}`
      }
    })
  }

  const img$v =
    'data:image/png;base64,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'

  const img$w =
    'data:image/png;base64,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'

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */
  const config$3 = {
    name: 'system.media',
    methods: [
      // Method
      {
        name: 'takePhoto',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'takeVideo',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'pickImage',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'pickImages',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'pickVideo',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'pickVideos',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'pickFile',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'pickFiles',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'saveToPhotosAlbum',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'getRingtone',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'setRingtone',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'previewImage',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      }
    ]
  }

  let uniId = 0
  let $mask = null
  let $prompt = null
  let $swiper = null
  let $file = null
  let successExport = null

  class Media extends HTMLElement {
    constructor() {
      super()
      const shadowRoot = this.attachShadow({ mode: 'open' })
      shadowRoot.innerHTML = mediaInnerHtml
      $mask = shadowRoot.querySelector('.mask')
      $prompt = shadowRoot.querySelector('.prompt')
      $file = shadowRoot.getElementById('fileElem')
      $swiper = shadowRoot.querySelector('.swiper')
      this.$fileSrc = shadowRoot.getElementById('fileSrc')
      this.$control = shadowRoot.getElementById('file_control')
      this.$control.setAttribute('src', img$v)
      this.$control.addEventListener('click', () => {
        $file.click()
      })
      this.$album = shadowRoot.getElementById('album_control')
      this.$album.setAttribute('src', img$w)
      this.$album.addEventListener('click', () => {
        $file.click()
      })
      $file.addEventListener('change', e => {
        let files = $file.files
        this.handleMedia(files)
      })
      $mask.addEventListener('click', () => {
        hiddenMaskHandle()
      })
      $prompt.addEventListener('click', evt => {
        evt.stopPropagation()
      })
    }
    init(opt) {
      this._opt = opt
    }
    handleMedia(files) {
      let fileArr = []
      let optionsArr = []
      let options = {}

      for (let i = 0; i < files.length; i++) {
        let reader = new FileReader()
        reader.readAsDataURL(files[i])
        reader.onloadend = async e => {
          let uri = await getPicUri(files[i].name)
          hybrid.saveFile(uri, e.target.result)
          options = {
            uri: uri,
            name: files[i].name,
            size: files[i].size
          }
          if (files[i].type.indexOf('video/') === 0) {
            uri = URL.createObjectURL(files[i])
          }
          if (files.length === 1) {
            successExport.success({
              uri: uri
            })
            hybrid.polyfillPrompt(config$3.name, 'pickImage', JSON.stringify(options))
          }
          fileArr.push(uri)
          optionsArr.push(options)
        }
      }
      if (files.length > 1) {
        successExport.success({
          uris: fileArr
        })
        hybrid.polyfillPrompt(config$3.name, 'pickImage', JSON.stringify(optionsArr))
      }
      hiddenMaskHandle()
      $prompt.style.display = 'none'
      $mask.style.display = 'none'
    }
    previewImageHandle(arr, current) {
      $mask.setAttribute('style', 'background-color:#333')
      $swiper.style.display = 'flex'
      openMaskHandle($swiper, $prompt)
      swiperContent($swiper, arr, current)
    }
  }

  let $previewImageHandle = null
  const mediaManager = {
    instance: null,
    create() {
      let opt
      const media = document.createElement('h-media')
      media.init(opt)
      this.instance = media
      document.body.appendChild(media)
      $previewImageHandle = media.previewImageHandle
    }
  }

  function init$8() {
    window.customElements.define('h-media', Media)
  }

  function openMaskHandle(pannel = $prompt, hiddenEle = $swiper, mask = $mask) {
    pannel.animate(
      [
        // @keyframes
        { bottom: '-30%' },
        { bottom: '-20%' },
        { bottom: '-10%' },
        { bottom: '25px' },
        { bottom: '15px' },
        { bottom: '10px' },
        { bottom: '0px' }
      ],
      // options
      {
        duration: 500,
        iterations: 1
      }
    )
    hiddenEle.style.display = 'none'
    mask.style.display = 'flex'
    pannel.style.display = 'flex'
  }

  function hiddenMaskHandle(pannel = $prompt, mask = $mask) {
    pannel.animate(
      [
        { left: 0, display: 'flex', bottom: 0 },
        { left: '30%', display: 'flex', bottom: '-5px' },
        { left: '60%', display: 'flex', bottom: '-15px' },
        { left: '100%', display: 'none', bottom: '-20px' }
      ],
      {
        duration: 200,
        iterations: 1
      }
    )
    // hidden mask
    setTimeout(() => {
      pannel.style.display = 'none'
      mask.style.display = 'none'
    }, 100)
  }

  function getPicUri(fileName) {
    let filePath = `internal://tmp/${parseInt(Math.random() * 1000)}a-${parseInt(
      Math.random() * 100000
    )}c-${parseInt(Math.random() * 10000000)}d/${fileName}`
    return filePath
  }

  const moduleOwn$1 = {
    takePhoto(options = {}) {
      if (navigator.mediaDevices) {
        navigator.mediaDevices
          .getUserMedia({ video: true })
          .then(mediaStream => {
            const track = mediaStream.getVideoTracks()[0]
            const imageCaptureObj = new ImageCapture(track)
            imageCaptureObj
              .takePhoto()
              .then(blob => {
                const uri = URL.createObjectURL(blob)
                hybrid.saveFile(uri, blob)
                return {
                  uri,
                  size: blob.size
                }
              })
              .then(res => {
                res.name = `tempPhotoName${++uniId}`
                options.success(res)
                track.stop()
              })
          })
          .catch(e => {
            console.log(e)
          })
      } else {
        options.fail('user denied', 201)
      }
    },

    pickImage(options = {}) {
      $file.setAttribute('accept', 'image/*')
      $mask.setAttribute('style', 'background-color:rgba(0, 0, 0, 0.65);')
      openMaskHandle()
      successExport = Object.assign(options)
    },

    pickImages(options = {}) {
      $file.setAttribute('accept', 'image/*')
      $mask.setAttribute('style', 'background-color:rgba(0, 0, 0, 0.65);')
      openMaskHandle()
      successExport = Object.assign(options)
    },

    takeVideo(options = {}) {
      hybrid.polyfillPrompt(config$3.name, 'takeVideo', options)
      options.success({})
    },

    pickVideo(options = {}) {
      $file.setAttribute('accept', 'video/*')
      successExport = Object.assign(options)
      $file.click()
    },

    pickVideos(options = {}) {
      $file.setAttribute('accept', 'video/*')
      successExport = Object.assign(options)
      $file.click()
    },

    pickFile(options = {}) {
      $file.setAttribute('accept', '*')
      successExport = Object.assign(options)
      $file.click()
    },

    pickFiles(options = {}) {
      $file.setAttribute('accept', '*')
      successExport = Object.assign(options)
      $file.click()
    },

    saveToPhotosAlbum(options = {}) {
      hybrid.polyfillPrompt(config$3.name, 'saveToPhotosAlbum', options)
      options.success({})
    },
    getRingtone(options = {}) {
      hybrid.polyfillPrompt(config$3.name, 'getRingtone', options)
      options.success({})
    },
    setRingtone(options = {}) {
      hybrid.polyfillPrompt(config$3.name, 'setRingtone', options)
      options.success({})
    },
    previewImage(options = {}) {
      let uris = []
      let current = options.current
      let currentInUris = false
      uris = options.uris.filter(ele => {
        if (current === ele) {
          currentInUris = true
        }
        if (hybrid.getFile(ele)) {
          ele = hybrid.getFile(ele)
        }
        return ele
      })
      if (currentInUris) {
        $previewImageHandle(uris, current)
      } else {
        options.fail(`Parameter of 'current' error.`, 202)
      }
      hybrid.polyfillPrompt(config$3.name, 'previewImage', options)
    }
  }

  var media = {
    module: moduleOwn$1,
    config: config$3,
    init: init$8
  }

  var compressor = createCommonjsModule(function(module, exports) {
    /*!
     * Compressor.js v1.0.6
     * https://fengyuanchen.github.io/compressorjs
     *
     * Copyright 2018-present Chen Fengyuan
     * Released under the MIT license
     *
     * Date: 2019-11-23T04:43:12.442Z
     */

    ;(function(global, factory) {
      module.exports = factory()
    })(commonjsGlobal, function() {
      function _classCallCheck(instance, Constructor) {
        if (!(instance instanceof Constructor)) {
          throw new TypeError('Cannot call a class as a function')
        }
      }

      function _defineProperties(target, props) {
        for (var i = 0; i < props.length; i++) {
          var descriptor = props[i]
          descriptor.enumerable = descriptor.enumerable || false
          descriptor.configurable = true
          if ('value' in descriptor) {
            descriptor.writable = true
          }
          Object.defineProperty(target, descriptor.key, descriptor)
        }
      }

      function _createClass(Constructor, protoProps, staticProps) {
        if (protoProps) {
          _defineProperties(Constructor.prototype, protoProps)
        }
        if (staticProps) {
          _defineProperties(Constructor, staticProps)
        }
        return Constructor
      }

      function _defineProperty(obj, key, value) {
        if (key in obj) {
          Object.defineProperty(obj, key, {
            value: value,
            enumerable: true,
            configurable: true,
            writable: true
          })
        } else {
          obj[key] = value
        }

        return obj
      }

      function _extends() {
        _extends =
          Object.assign ||
          function(target) {
            for (var i = 1; i < arguments.length; i++) {
              var source = arguments[i]

              for (var key in source) {
                if (Object.prototype.hasOwnProperty.call(source, key)) {
                  target[key] = source[key]
                }
              }
            }

            return target
          }

        return _extends.apply(this, arguments)
      }

      function ownKeys(object, enumerableOnly) {
        var keys = Object.keys(object)

        if (Object.getOwnPropertySymbols) {
          var symbols = Object.getOwnPropertySymbols(object)
          if (enumerableOnly) {
            symbols = symbols.filter(function(sym) {
              return Object.getOwnPropertyDescriptor(object, sym).enumerable
            })
          }
          keys.push.apply(keys, symbols)
        }

        return keys
      }

      function _objectSpread2(target) {
        for (var i = 1; i < arguments.length; i++) {
          var source = arguments[i] != null ? arguments[i] : {}

          if (i % 2) {
            ownKeys(Object(source), true).forEach(function(key) {
              _defineProperty(target, key, source[key])
            })
          } else if (Object.getOwnPropertyDescriptors) {
            Object.defineProperties(target, Object.getOwnPropertyDescriptors(source))
          } else {
            ownKeys(Object(source)).forEach(function(key) {
              Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key))
            })
          }
        }

        return target
      }

      function createCommonjsModule(fn, module) {
        return (module = { exports: {} }), fn(module, module.exports), module.exports
      }

      var canvasToBlob = createCommonjsModule(function(module) {
        if (typeof window === 'undefined') {
          return
        }

        ;(function(window) {
          var CanvasPrototype = window.HTMLCanvasElement && window.HTMLCanvasElement.prototype

          var hasBlobConstructor =
            window.Blob &&
            (function() {
              try {
                return Boolean(new Blob())
              } catch (e) {
                return false
              }
            })()

          var hasArrayBufferViewSupport =
            hasBlobConstructor &&
            window.Uint8Array &&
            (function() {
              try {
                return new Blob([new Uint8Array(100)]).size === 100
              } catch (e) {
                return false
              }
            })()

          var BlobBuilder =
            window.BlobBuilder ||
            window.WebKitBlobBuilder ||
            window.MozBlobBuilder ||
            window.MSBlobBuilder
          var dataURIPattern = /^data:((.*?)(;charset=.*?)?)(;base64)?,/

          var dataURLtoBlob =
            (hasBlobConstructor || BlobBuilder) &&
            window.atob &&
            window.ArrayBuffer &&
            window.Uint8Array &&
            function(dataURI) {
              var matches, mediaType, isBase64, dataString, byteString, arrayBuffer, intArray, i, bb // Parse the dataURI components as per RFC 2397

              matches = dataURI.match(dataURIPattern)

              if (!matches) {
                throw new Error('invalid data URI')
              } // Default to text/plain;charset=US-ASCII

              mediaType = matches[2]
                ? matches[1]
                : 'text/plain' + (matches[3] || ';charset=US-ASCII')
              isBase64 = !!matches[4]
              dataString = dataURI.slice(matches[0].length)

              if (isBase64) {
                // Convert base64 to raw binary data held in a string:
                byteString = atob(dataString)
              } else {
                // Convert base64/URLEncoded data component to raw binary:
                byteString = decodeURIComponent(dataString)
              } // Write the bytes of the string to an ArrayBuffer:

              arrayBuffer = new ArrayBuffer(byteString.length)
              intArray = new Uint8Array(arrayBuffer)

              for (i = 0; i < byteString.length; i += 1) {
                intArray[i] = byteString.charCodeAt(i)
              } // Write the ArrayBuffer (or ArrayBufferView) to a blob:

              if (hasBlobConstructor) {
                return new Blob([hasArrayBufferViewSupport ? intArray : arrayBuffer], {
                  type: mediaType
                })
              }

              bb = new BlobBuilder()
              bb.append(arrayBuffer)
              return bb.getBlob(mediaType)
            }

          if (window.HTMLCanvasElement && !CanvasPrototype.toBlob) {
            if (CanvasPrototype.mozGetAsFile) {
              CanvasPrototype.toBlob = function(callback, type, quality) {
                var self = this
                setTimeout(function() {
                  if (quality && CanvasPrototype.toDataURL && dataURLtoBlob) {
                    callback(dataURLtoBlob(self.toDataURL(type, quality)))
                  } else {
                    callback(self.mozGetAsFile('blob', type))
                  }
                })
              }
            } else if (CanvasPrototype.toDataURL && dataURLtoBlob) {
              CanvasPrototype.toBlob = function(callback, type, quality) {
                var self = this
                setTimeout(function() {
                  callback(dataURLtoBlob(self.toDataURL(type, quality)))
                })
              }
            }
          }

          if (module.exports) {
            module.exports = dataURLtoBlob
          } else {
            window.dataURLtoBlob = dataURLtoBlob
          }
        })(window)
      })

      var isBlob = function isBlob(input) {
        if (typeof Blob === 'undefined') {
          return false
        }

        return input instanceof Blob || Object.prototype.toString.call(input) === '[object Blob]'
      }

      var DEFAULTS = {
        /**
         * Indicates if output the original image instead of the compressed one
         * when the size of the compressed image is greater than the original one's
         * @type {boolean}
         */
        strict: true,

        /**
         * Indicates if read the image's Exif Orientation information,
         * and then rotate or flip the image automatically.
         * @type {boolean}
         */
        checkOrientation: true,

        /**
         * The max width of the output image.
         * @type {number}
         */
        maxWidth: Infinity,

        /**
         * The max height of the output image.
         * @type {number}
         */
        maxHeight: Infinity,

        /**
         * The min width of the output image.
         * @type {number}
         */
        minWidth: 0,

        /**
         * The min height of the output image.
         * @type {number}
         */
        minHeight: 0,

        /**
         * The width of the output image.
         * If not specified, the natural width of the source image will be used.
         * @type {number}
         */
        width: undefined,

        /**
         * The height of the output image.
         * If not specified, the natural height of the source image will be used.
         * @type {number}
         */
        height: undefined,

        /**
         * The quality of the output image.
         * It must be a number between `0` and `1`,
         * and only available for `image/jpeg` and `image/webp` images.
         * Check out {@link https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement/toBlob canvas.toBlob}.
         * @type {number}
         */
        quality: 0.8,

        /**
         * The mime type of the output image.
         * By default, the original mime type of the source image file will be used.
         * @type {string}
         */
        mimeType: 'auto',

        /**
         * PNG files over this value (5 MB by default) will be converted to JPEGs.
         * To disable this, just set the value to `Infinity`.
         * @type {number}
         */
        convertSize: 5000000,

        /**
         * The hook function to execute before draw the image into the canvas for compression.
         * @type {Function}
         * @param {CanvasRenderingContext2D} context - The 2d rendering context of the canvas.
         * @param {HTMLCanvasElement} canvas - The canvas for compression.
         * @example
         * function (context, canvas) {
         *   context.fillStyle = '#fff';
         * }
         */
        beforeDraw: null,

        /**
         * The hook function to execute after drew the image into the canvas for compression.
         * @type {Function}
         * @param {CanvasRenderingContext2D} context - The 2d rendering context of the canvas.
         * @param {HTMLCanvasElement} canvas - The canvas for compression.
         * @example
         * function (context, canvas) {
         *   context.filter = 'grayscale(100%)';
         * }
         */
        drew: null,

        /**
         * The hook function to execute when success to compress the image.
         * @type {Function}
         * @param {File} file - The compressed image File object.
         * @example
         * function (file) {
         *   console.log(file);
         * }
         */
        success: null,

        /**
         * The hook function to execute when fail to compress the image.
         * @type {Function}
         * @param {Error} err - An Error object.
         * @example
         * function (err) {
         *   console.log(err.message);
         * }
         */
        error: null
      }

      var IS_BROWSER = typeof window !== 'undefined' && typeof window.document !== 'undefined'
      var WINDOW = IS_BROWSER ? window : {}

      var slice = Array.prototype.slice
      /**
       * Convert array-like or iterable object to an array.
       * @param {*} value - The value to convert.
       * @returns {Array} Returns a new array.
       */

      function toArray(value) {
        return Array.from ? Array.from(value) : slice.call(value)
      }
      var REGEXP_IMAGE_TYPE = /^image\/.+$/
      /**
       * Check if the given value is a mime type of image.
       * @param {*} value - The value to check.
       * @returns {boolean} Returns `true` if the given is a mime type of image, else `false`.
       */

      function isImageType(value) {
        return REGEXP_IMAGE_TYPE.test(value)
      }
      /**
       * Convert image type to extension.
       * @param {string} value - The image type to convert.
       * @returns {boolean} Returns the image extension.
       */

      function imageTypeToExtension(value) {
        var extension = isImageType(value) ? value.substr(6) : ''

        if (extension === 'jpeg') {
          extension = 'jpg'
        }

        return '.'.concat(extension)
      }
      var fromCharCode = String.fromCharCode
      /**
       * Get string from char code in data view.
       * @param {DataView} dataView - The data view for read.
       * @param {number} start - The start index.
       * @param {number} length - The read length.
       * @returns {string} The read result.
       */

      function getStringFromCharCode(dataView, start, length) {
        var str = ''
        var i
        length += start

        for (i = start; i < length; i += 1) {
          str += fromCharCode(dataView.getUint8(i))
        }

        return str
      }
      var btoa = WINDOW.btoa
      /**
       * Transform array buffer to Data URL.
       * @param {ArrayBuffer} arrayBuffer - The array buffer to transform.
       * @param {string} mimeType - The mime type of the Data URL.
       * @returns {string} The result Data URL.
       */

      function arrayBufferToDataURL(arrayBuffer, mimeType) {
        var chunks = []
        var chunkSize = 8192
        var uint8 = new Uint8Array(arrayBuffer)

        while (uint8.length > 0) {
          // XXX: Babel's `toConsumableArray` helper will throw error in IE or Safari 9
          // eslint-disable-next-line prefer-spread
          chunks.push(fromCharCode.apply(null, toArray(uint8.subarray(0, chunkSize))))
          uint8 = uint8.subarray(chunkSize)
        }

        return 'data:'.concat(mimeType, ';base64,').concat(btoa(chunks.join('')))
      }
      /**
       * Get orientation value from given array buffer.
       * @param {ArrayBuffer} arrayBuffer - The array buffer to read.
       * @returns {number} The read orientation value.
       */

      function resetAndGetOrientation(arrayBuffer) {
        var dataView = new DataView(arrayBuffer)
        var orientation // Ignores range error when the image does not have correct Exif information

        try {
          var littleEndian
          var app1Start
          var ifdStart // Only handle JPEG image (start by 0xFFD8)

          if (dataView.getUint8(0) === 0xff && dataView.getUint8(1) === 0xd8) {
            var length = dataView.byteLength
            var offset = 2

            while (offset + 1 < length) {
              if (dataView.getUint8(offset) === 0xff && dataView.getUint8(offset + 1) === 0xe1) {
                app1Start = offset
                break
              }

              offset += 1
            }
          }

          if (app1Start) {
            var exifIDCode = app1Start + 4
            var tiffOffset = app1Start + 10

            if (getStringFromCharCode(dataView, exifIDCode, 4) === 'Exif') {
              var endianness = dataView.getUint16(tiffOffset)
              littleEndian = endianness === 0x4949

              if (
                littleEndian ||
                endianness === 0x4d4d
                /* bigEndian */
              ) {
                if (dataView.getUint16(tiffOffset + 2, littleEndian) === 0x002a) {
                  var firstIFDOffset = dataView.getUint32(tiffOffset + 4, littleEndian)

                  if (firstIFDOffset >= 0x00000008) {
                    ifdStart = tiffOffset + firstIFDOffset
                  }
                }
              }
            }
          }

          if (ifdStart) {
            var _length = dataView.getUint16(ifdStart, littleEndian)

            var _offset

            var i

            for (i = 0; i < _length; i += 1) {
              _offset = ifdStart + i * 12 + 2

              if (
                dataView.getUint16(_offset, littleEndian) === 0x0112
                /* Orientation */
              ) {
                // 8 is the offset of the current tag's value
                _offset += 8 // Get the original orientation value

                orientation = dataView.getUint16(_offset, littleEndian) // Override the orientation with its default value

                dataView.setUint16(_offset, 1, littleEndian)
                break
              }
            }
          }
        } catch (e) {
          orientation = 1
        }

        return orientation
      }
      /**
       * Parse Exif Orientation value.
       * @param {number} orientation - The orientation to parse.
       * @returns {Object} The parsed result.
       */

      function parseOrientation(orientation) {
        var rotate = 0
        var scaleX = 1
        var scaleY = 1

        switch (orientation) {
          // Flip horizontal
          case 2:
            scaleX = -1
            break
          // Rotate left 180°

          case 3:
            rotate = -180
            break
          // Flip vertical

          case 4:
            scaleY = -1
            break
          // Flip vertical and rotate right 90°

          case 5:
            rotate = 90
            scaleY = -1
            break
          // Rotate right 90°

          case 6:
            rotate = 90
            break
          // Flip horizontal and rotate right 90°

          case 7:
            rotate = 90
            scaleX = -1
            break
          // Rotate left 90°

          case 8:
            rotate = -90
            break
        }

        return {
          rotate: rotate,
          scaleX: scaleX,
          scaleY: scaleY
        }
      }
      var REGEXP_DECIMALS = /\.\d*(?:0|9){12}\d*$/
      /**
       * Normalize decimal number.
       * Check out {@link https://0.30000000000000004.com/}
       * @param {number} value - The value to normalize.
       * @param {number} [times=100000000000] - The times for normalizing.
       * @returns {number} Returns the normalized number.
       */

      function normalizeDecimalNumber(value) {
        var times = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 100000000000
        return REGEXP_DECIMALS.test(value) ? Math.round(value * times) / times : value
      }

      var ArrayBuffer$1 = WINDOW.ArrayBuffer,
        FileReader = WINDOW.FileReader
      var URL = WINDOW.URL || WINDOW.webkitURL
      var REGEXP_EXTENSION = /\.\w+$/
      var AnotherCompressor = WINDOW.Compressor
      /**
       * Creates a new image compressor.
       * @class
       */

      var Compressor =
        /*#__PURE__*/
        (function() {
          /**
           * The constructor of Compressor.
           * @param {File|Blob} file - The target image file for compressing.
           * @param {Object} [options] - The options for compressing.
           */
          function Compressor(file, options) {
            _classCallCheck(this, Compressor)

            this.file = file
            this.image = new Image()
            this.options = _objectSpread2({}, DEFAULTS, {}, options)
            this.aborted = false
            this.result = null
            this.init()
          }

          _createClass(
            Compressor,
            [
              {
                key: 'init',
                value: function init() {
                  var _this = this

                  var file = this.file,
                    options = this.options

                  if (!isBlob(file)) {
                    this.fail(new Error('The first argument must be a File or Blob object.'))
                    return
                  }

                  var mimeType = file.type

                  if (!isImageType(mimeType)) {
                    this.fail(new Error('The first argument must be an image File or Blob object.'))
                    return
                  }

                  if (!URL || !FileReader) {
                    this.fail(new Error('The current browser does not support image compression.'))
                    return
                  }

                  if (!ArrayBuffer$1) {
                    options.checkOrientation = false
                  }

                  if (URL && !options.checkOrientation) {
                    this.load({
                      url: URL.createObjectURL(file)
                    })
                  } else {
                    var reader = new FileReader()
                    var checkOrientation = options.checkOrientation && mimeType === 'image/jpeg'
                    this.reader = reader

                    reader.onload = function(_ref) {
                      var target = _ref.target
                      var result = target.result
                      var data = {}

                      if (checkOrientation) {
                        // Reset the orientation value to its default value 1
                        // as some iOS browsers will render image with its orientation
                        var orientation = resetAndGetOrientation(result)

                        if (orientation > 1 || !URL) {
                          // Generate a new URL which has the default orientation value
                          data.url = arrayBufferToDataURL(result, mimeType)

                          if (orientation > 1) {
                            _extends(data, parseOrientation(orientation))
                          }
                        } else {
                          data.url = URL.createObjectURL(file)
                        }
                      } else {
                        data.url = result
                      }

                      _this.load(data)
                    }

                    reader.onabort = function() {
                      _this.fail(new Error('Aborted to read the image with FileReader.'))
                    }

                    reader.onerror = function() {
                      _this.fail(new Error('Failed to read the image with FileReader.'))
                    }

                    reader.onloadend = function() {
                      _this.reader = null
                    }

                    if (checkOrientation) {
                      reader.readAsArrayBuffer(file)
                    } else {
                      reader.readAsDataURL(file)
                    }
                  }
                }
              },
              {
                key: 'load',
                value: function load(data) {
                  var _this2 = this

                  var file = this.file,
                    image = this.image

                  image.onload = function() {
                    _this2.draw(
                      _objectSpread2({}, data, {
                        naturalWidth: image.naturalWidth,
                        naturalHeight: image.naturalHeight
                      })
                    )
                  }

                  image.onabort = function() {
                    _this2.fail(new Error('Aborted to load the image.'))
                  }

                  image.onerror = function() {
                    _this2.fail(new Error('Failed to load the image.'))
                  } // Match all browsers that use WebKit as the layout engine in iOS devices,
                  // such as Safari for iOS, Chrome for iOS, and in-app browsers.

                  if (
                    WINDOW.navigator &&
                    /(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(WINDOW.navigator.userAgent)
                  ) {
                    // Fix the `The operation is insecure` error (#57)
                    image.crossOrigin = 'anonymous'
                  }

                  image.alt = file.name
                  image.src = data.url
                }
              },
              {
                key: 'draw',
                value: function draw(_ref2) {
                  var _this3 = this

                  var naturalWidth = _ref2.naturalWidth,
                    naturalHeight = _ref2.naturalHeight,
                    _ref2$rotate = _ref2.rotate,
                    rotate = _ref2$rotate === void 0 ? 0 : _ref2$rotate,
                    _ref2$scaleX = _ref2.scaleX,
                    scaleX = _ref2$scaleX === void 0 ? 1 : _ref2$scaleX,
                    _ref2$scaleY = _ref2.scaleY,
                    scaleY = _ref2$scaleY === void 0 ? 1 : _ref2$scaleY
                  var file = this.file,
                    image = this.image,
                    options = this.options
                  var canvas = document.createElement('canvas')
                  var context = canvas.getContext('2d')
                  var aspectRatio = naturalWidth / naturalHeight
                  var is90DegreesRotated = Math.abs(rotate) % 180 === 90
                  var maxWidth = Math.max(options.maxWidth, 0) || Infinity
                  var maxHeight = Math.max(options.maxHeight, 0) || Infinity
                  var minWidth = Math.max(options.minWidth, 0) || 0
                  var minHeight = Math.max(options.minHeight, 0) || 0
                  var width = Math.max(options.width, 0) || naturalWidth
                  var height = Math.max(options.height, 0) || naturalHeight

                  if (is90DegreesRotated) {
                    var _ref3 = [maxHeight, maxWidth]
                    maxWidth = _ref3[0]
                    maxHeight = _ref3[1]
                    var _ref4 = [minHeight, minWidth]
                    minWidth = _ref4[0]
                    minHeight = _ref4[1]
                    var _ref5 = [height, width]
                    width = _ref5[0]
                    height = _ref5[1]
                  }

                  if (maxWidth < Infinity && maxHeight < Infinity) {
                    if (maxHeight * aspectRatio > maxWidth) {
                      maxHeight = maxWidth / aspectRatio
                    } else {
                      maxWidth = maxHeight * aspectRatio
                    }
                  } else if (maxWidth < Infinity) {
                    maxHeight = maxWidth / aspectRatio
                  } else if (maxHeight < Infinity) {
                    maxWidth = maxHeight * aspectRatio
                  }

                  if (minWidth > 0 && minHeight > 0) {
                    if (minHeight * aspectRatio > minWidth) {
                      minHeight = minWidth / aspectRatio
                    } else {
                      minWidth = minHeight * aspectRatio
                    }
                  } else if (minWidth > 0) {
                    minHeight = minWidth / aspectRatio
                  } else if (minHeight > 0) {
                    minWidth = minHeight * aspectRatio
                  }

                  if (height * aspectRatio > width) {
                    height = width / aspectRatio
                  } else {
                    width = height * aspectRatio
                  }

                  width = Math.floor(
                    normalizeDecimalNumber(Math.min(Math.max(width, minWidth), maxWidth))
                  )
                  height = Math.floor(
                    normalizeDecimalNumber(Math.min(Math.max(height, minHeight), maxHeight))
                  )
                  var destX = -width / 2
                  var destY = -height / 2
                  var destWidth = width
                  var destHeight = height

                  if (is90DegreesRotated) {
                    var _ref6 = [height, width]
                    width = _ref6[0]
                    height = _ref6[1]
                  }

                  canvas.width = width
                  canvas.height = height

                  if (!isImageType(options.mimeType)) {
                    options.mimeType = file.type
                  }

                  var fillStyle = 'transparent' // Converts PNG files over the `convertSize` to JPEGs.

                  if (file.size > options.convertSize && options.mimeType === 'image/png') {
                    fillStyle = '#fff'
                    options.mimeType = 'image/jpeg'
                  } // Override the default fill color (#000, black)

                  context.fillStyle = fillStyle
                  context.fillRect(0, 0, width, height)

                  if (options.beforeDraw) {
                    options.beforeDraw.call(this, context, canvas)
                  }

                  if (this.aborted) {
                    return
                  }

                  context.save()
                  context.translate(width / 2, height / 2)
                  context.rotate((rotate * Math.PI) / 180)
                  context.scale(scaleX, scaleY)
                  context.drawImage(image, destX, destY, destWidth, destHeight)
                  context.restore()

                  if (options.drew) {
                    options.drew.call(this, context, canvas)
                  }

                  if (this.aborted) {
                    return
                  }

                  var done = function done(result) {
                    if (!_this3.aborted) {
                      _this3.done({
                        naturalWidth: naturalWidth,
                        naturalHeight: naturalHeight,
                        result: result
                      })
                    }
                  }

                  if (canvas.toBlob) {
                    canvas.toBlob(done, options.mimeType, options.quality)
                  } else {
                    done(canvasToBlob(canvas.toDataURL(options.mimeType, options.quality)))
                  }
                }
              },
              {
                key: 'done',
                value: function done(_ref7) {
                  var naturalWidth = _ref7.naturalWidth,
                    naturalHeight = _ref7.naturalHeight,
                    result = _ref7.result
                  var file = this.file,
                    image = this.image,
                    options = this.options

                  if (URL && !options.checkOrientation) {
                    URL.revokeObjectURL(image.src)
                  }

                  if (result) {
                    // Returns original file if the result is greater than it and without size related options
                    if (
                      options.strict &&
                      result.size > file.size &&
                      options.mimeType === file.type &&
                      !(
                        options.width > naturalWidth ||
                        options.height > naturalHeight ||
                        options.minWidth > naturalWidth ||
                        options.minHeight > naturalHeight
                      )
                    ) {
                      result = file
                    } else {
                      var date = new Date()
                      result.lastModified = date.getTime()
                      result.lastModifiedDate = date
                      result.name = file.name // Convert the extension to match its type

                      if (result.name && result.type !== file.type) {
                        result.name = result.name.replace(
                          REGEXP_EXTENSION,
                          imageTypeToExtension(result.type)
                        )
                      }
                    }
                  } else {
                    // Returns original file if the result is null in some cases.
                    result = file
                  }

                  this.result = result

                  if (options.success) {
                    options.success.call(this, result)
                  }
                }
              },
              {
                key: 'fail',
                value: function fail(err) {
                  var options = this.options

                  if (options.error) {
                    options.error.call(this, err)
                  } else {
                    throw err
                  }
                }
              },
              {
                key: 'abort',
                value: function abort() {
                  if (!this.aborted) {
                    this.aborted = true

                    if (this.reader) {
                      this.reader.abort()
                    } else if (!this.image.complete) {
                      this.image.onload = null
                      this.image.onabort()
                    } else {
                      this.fail(new Error('The compression process has been aborted.'))
                    }
                  }
                }
                /**
                 * Get the no conflict compressor class.
                 * @returns {Compressor} The compressor class.
                 */
              }
            ],
            [
              {
                key: 'noConflict',
                value: function noConflict() {
                  window.Compressor = AnotherCompressor
                  return Compressor
                }
                /**
                 * Change the default options.
                 * @param {Object} options - The new default options.
                 */
              },
              {
                key: 'setDefaults',
                value: function setDefaults(options) {
                  _extends(DEFAULTS, options)
                }
              }
            ]
          )

          return Compressor
        })()

      return Compressor
    })
  })

  const img$x =
    'data:image/png;base64,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'

  const img$y =
    'data:image/png;base64,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'

  const img$z =
    'data:image/png;base64,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'

  const imageStyle = `<style>
div,
span,
img {
display: flex;
box-sizing: border-box;
}
.mask {
display: none;
width: 100%;
height: 100%;
background-color: #303030;
position: fixed;
top: 0;
left: 0;
flex-direction: column;
z-index: 100001;
}
.title {
background-color: #212121;
width: 100%;
height: 1.5rem;
display: flex;
align-items: center;
justify-content: space-between;
position: relative;
padding: 20px;
z-index: 1;
}
.back,
.items {
align-items: center;
height: 0.8rem;
}
.title img {
height: 0.6rem;
margin-right: 0.3rem;
}
.options {
width: 0px;
height: 0px;
display: none;
background-color: #303030;
flex-direction: column;
position: absolute;
top: 0.2rem;
right: 0;
box-shadow: 0px 0px 10px #000;
z-index: 10;
}
.open_options {
display: flex;
width: 4rem;
height: 2rem;
}
.options span {
color: #ffffff;
align-items: center;
flex: 1;
padding-left: 0.5rem;
font-size: 28px;
}
.options span:active {
background-color: rgba(255, 255, 255, 0.3);
}
#crop {
color: #ffffff;
height: 0.8rem;
line-height: 0.8rem;
}
/* 内容 */
.box {
flex: 1;
justify-content: center;
align-items: center;
flex-direction: column;
position: relative;
width: 100%;
top: calc(50% - 1.5rem);
left: 50%;
transform: translateX(-50%) translateY(calc(-50% + 1.5rem / 2));
}
.img-container {
// position: relative;
top: 50%;
// width: 100%;
align-items: center;
justify-content: center;
}
.cropper-img {
width: 100%;
}
.cropper-hidden {
display: none !important;
}
.cropper-container {
width: 100%;
position: relative;
}
.cropper-wrap-box {
width: 100%;
}
.origin-bottom-left {
transform-origin: bottom left;
}
.origin-bottom-right {
transform-origin: bottom right;
}
.origin-top-left {
transform-origin: top left;
}
.origin-top-right {
transform-origin: top right;
}
.origin-auto {
transform-origin: 50% 50% 0;
}
.cropper-canvas {
width: 100%;
}
.cropper-drag-mask {
position: absolute;
top: 0;
left: 0;
background-color: #000;
opacity: 0.5;
// min-width: 100%;
// min-height: 100%;
}
.cropper-crop-box {
position: absolute;
top: 0;
left: 0;
}
.cropper-view-box {
overflow: hidden;
display: block;
}
.cropper-view-box img {
display: block;
max-height: none !important;
max-width: none !important;
min-height: 0 !important;
min-width: 0 !important;
}
.cropper-line {
background-color: rgba(255, 255, 255, 0.6);
position: absolute;
}
.cropper-line.line-n {
left: 0.1rem;
height: 0.1rem;
width: calc(100% - 0.2rem);
}
.cropper-line.line-s {
bottom: 0px;
left: 0.1rem;
height: 0.1rem;
width: calc(100% - 0.2rem);
}
.cropper-line.line-w {
left: 0px;
top: 0px;
width: 0.1rem;
height: 100%;
}
.cropper-line.line-e {
right: 0px;
top: 0px;
width: 0.1rem;
height: 100%;
}
.cropper-dashed {
border: 0 solid #eee;
display: none;
opacity: 0.5;
position: absolute;
}
.cropper-dashed.dashed-v {
border-left-width: 2px;
border-right-width: 2px;
height: 100%;
left: calc(100% / 3);
top: 0;
width: calc(100% / 3);
}
.cropper-dashed.dashed-h {
border-bottom-width: 2px;
border-top-width: 2px;
height: calc(100% / 3);
left: 0;
top: calc(100% / 3);
width: 100%;
}
.cropper-dashed-block {
display: block;
}
.cropper-crop-box:focus .cropper-dashed {
display: block;
}
.cropper-corner {
width: 0.35rem;
height: 0.35rem;
border: 0.07rem solid #fff;
position: absolute;
}
.corner-ne {
top: 0.15rem;
right: 0.15rem;
border-left: none;
border-bottom: none;
}
.corner-nw {
top: 0.15rem;
left: 0.15rem;
border-right: none;
border-bottom: none;
}
.corner-sw {
bottom: 0.15rem;
left: 0.15rem;
border-right: none;
border-top: none;
}
.corner-se {
bottom: 0.15rem;
right: 0.15rem;
border-left: none;
border-top: none;
}
.cropper-point{
background-color: #fff;
height: 20px;
opacity: 0;
width: 20px;
position: absolute;
}
.cropper-point.point-e {
cursor: ew-resize;
margin-top: -6px;
right: -6px;
top: 50%;
}
.cropper-point.point-n {
cursor: ns-resize;
left: 50%;
margin-left: -6px;
top: -6px;
}
.cropper-point.point-w {
cursor: ew-resize;
left: -6px;
margin-top: -6px;
top: 50%;
}
.cropper-point.point-s {
bottom: -6px;
cursor: s-resize;
left: 50%;
margin-left: -6px;
}
.cropper-point.point-ne {
cursor: nesw-resize;
right: -6px;
top: -6px;
}
.cropper-point.point-nw {
cursor: nwse-resize;
left: -6px;
top: -6px;
}
.cropper-point.point-sw {
bottom: -6px;
cursor: nesw-resize;
left: -6px;
}
.cropper-point.point-se {
bottom: -6px;
cursor: nwse-resize;
right: -6px;
}
</style>
<div class="mask">
<div class="title">
<img class="back" src="${img$x}" />
<div class="items">
    <img id="rotate" class="rotate" src="${img$z}" />
    <img id="overturn" class="overturn" src="${img$y}" />
    <span id="crop">裁切</span>
</div>
<div class="options">
    <span id="turnX">水平翻转</span>
    <span id="turnY">垂直翻转</span>
</div>
</div>
<div class="box">
<div class="img-container">
    <canvas id="canvas" class="cropper-hidden"></canvas>
    <div class="cropper-container">
        <div class="cropper-wrap-box">
            <div class="cropper-canvas">
                <img class="cropper-img crop-image" alt="" />
            </div>
        </div>
        <div class="cropper-drag-mask"></div>
        <div class="cropper-crop-box">
            <span class="cropper-view-box">
                <img class="cropper-img view-image" alt="" />
            </span>
            <span class="cropper-dashed dashed-h"></span>
            <span class="cropper-dashed dashed-v"></span>
            <span class="cropper-face"></span>
            <span class="cropper-corner corner-ne"></span>
            <span class="cropper-corner corner-nw"></span>
            <span class="cropper-corner corner-sw"></span>
            <span class="cropper-corner corner-se"></span>
            <span class="cropper-line line-e"></span>
            <span class="cropper-line line-n"></span>
            <span class="cropper-line line-w"></span>
            <span class="cropper-line line-s"></span>
            <span class="cropper-point point-e" id="e"></span>
            <span class="cropper-point point-n" id="n"></span>
            <span class="cropper-point point-w" id="w"></span>
            <span class="cropper-point point-s" id="s"></span>
            <span class="cropper-point point-ne" id="ne"></span>
            <span class="cropper-point point-nw" id="nw"></span>
            <span class="cropper-point point-sw" id="sw"></span>
            <span class="cropper-point point-se" id="se"></span>
        </div>
    </div>
</div>
</div>
</div>`

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  const DEFAULY_QUALITY = 75

  const config$4 = {
    name: 'system.image',
    methods: [
      // Method
      {
        name: 'getImageInfo',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'compressImage',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'applyOperations',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'editImage',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'getExifAttributes',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'setExifAttributes',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      }
    ]
  }

  let $mask$1,
    $img = new Image(),
    editImgArr = [],
    optionsExport = null
  let operations = {
    rotate: 0,
    x: 1,
    y: 1,
    crop: {
      scaleX: 16,
      scaleY: 9
    }
  }
  class Mask extends HTMLElement {
    constructor() {
      super()
      const shadowRoot = this.attachShadow({ mode: 'open' })
      shadowRoot.innerHTML = imageStyle
      this.canvas = shadowRoot.getElementById('canvas')
      $mask$1 = shadowRoot.querySelector('.mask')
      editImgArr = shadowRoot.querySelectorAll('.cropper-img')
      this.$pageClientWidth = global.document.body.clientWidth
      this.$container = shadowRoot.querySelector('.cropper-container')
      this.cropImg = shadowRoot.querySelector('.crop-image')
      this.viewImg = shadowRoot.querySelector('.view-image')
      this.dragMask = shadowRoot.querySelector('.cropper-drag-mask')
      this.cropBox = shadowRoot.querySelector('.cropper-crop-box')
      this.flagHoriz = [90, 270]
      this.flagVertical = [0, 180, 360]
      this.cropBoxStyle = {}
      this.viewImgStyle = {}
      this.cropImgStyle = {}
      const $back = shadowRoot.querySelector('.back'),
        $options = shadowRoot.querySelector('.options'),
        $items = shadowRoot.querySelector('.items'),
        // 方框内虚线
        dashedH = shadowRoot.querySelector('.dashed-h'),
        dashedV = shadowRoot.querySelector('.dashed-v'),
        dashedHClass = dashedH.className,
        dashedVClass = dashedV.className
      // 初始化 Container
      this.containerWidth = this.$pageClientWidth
      this.containerHeight = 0
      let viewImageScale = 0
      $img.width = this.$pageClientWidth
      $img.onload = () => {
        viewImageScale = $img.naturalWidth / $img.naturalHeight
        this.containerHeight = this.containerWidth / viewImageScale
        this.getContainerBoundingClientRect(this.containerWidth, this.containerHeight)
      }
      // init cropBox
      let cropBoxWidth = 0,
        cropBoxHeight = 0,
        viewImgWidth = 0,
        viewImgHeight = 0,
        origin = {},
        startX = 0,
        startY = 0,
        initX = 0,
        initY = 0
      // 是否处于可缩放状态
      let canStretch = false
      // 正在使用哪条边进行缩放 用于区分方位
      let currentLine = ''
      this.cropBox.addEventListener('click', evt => {
        if (!!evt.target.id) {
          canStretch = true
        } else {
          canStretch = false
          return
        }
      })
      this.cropBox.addEventListener('touchstart', evt => {
        const touches = evt.changedTouches[0]
        if (!!evt.target.id) {
          currentLine = evt.target.id
          canStretch = true
        } else {
          canStretch = false
        }
        dashedH.className += ' cropper-dashed-block'
        dashedV.className += ' cropper-dashed-block'
        cropBoxWidth = this.getNumber(this.cropBoxStyle.width)
        cropBoxHeight = this.getNumber(this.cropBoxStyle.height)
        viewImgWidth = this.getNumber(this.viewImgStyle.width)
        viewImgHeight = this.getNumber(this.viewImgStyle.height)
        // 初始clientX,clinetY分别到cropBox左、上边框的内边距
        origin = {
          x: touches.clientX,
          y: touches.clientY
        }
        startX = this.getNumber(this.cropBoxStyle.transform.translateX)
        startY = this.getNumber(this.cropBoxStyle.transform.translateY)
        initX = origin.x - this.cropBox.getBoundingClientRect().left
        initY = origin.y - this.cropBox.getBoundingClientRect().top
      })
      this.cropBox.addEventListener('touchmove', evt => {
        const rotate = operations.rotate === 360 ? 0 : operations.rotate
        const _this = this
        let clientX = evt.changedTouches[0].clientX,
          clientY = evt.changedTouches[0].clientY
        let translateX = startX + clientX - origin.x,
          translateY = startY + clientY - origin.y,
          imgX = -translateX,
          imgY = -translateY
        if (canStretch) {
          // 缩放
          const rate = operations.crop.scaleX / operations.crop.scaleY
          const MIN_SIZE = 150
          let width = cropBoxWidth,
            height = cropBoxHeight
          translateX = this.getNumber(this.cropBoxStyle.transform.translateX)
          translateY = this.getNumber(this.cropBoxStyle.transform.translateY)
          let range = viewImgWidth - translateX
          let temp = clientX - origin.x
          // 上下
          if (currentLine === 'n' || currentLine === 's') {
            const reverseY = viewImgHeight - startY - cropBoxHeight
            temp = clientY - origin.y
            range = viewImgWidth / rate
            if (currentLine === 'n') {
              translateY = temp + startY
              height = viewImgHeight - reverseY - translateY
              height = height > range ? range : height < MIN_SIZE / rate ? MIN_SIZE / rate : height
              if (height < MIN_SIZE) {
                translateY = viewImgHeight - MIN_SIZE
              }
              if (height > viewImgHeight - reverseY) {
                height = viewImgHeight - reverseY
                translateY = 0
              }
            }
            if (currentLine === 's') {
              height = cropBoxHeight + temp
              height = height > range ? range : height < MIN_SIZE / rate ? MIN_SIZE / rate : height
              if (height > viewImgHeight - startY) {
                height = viewImgHeight - startY
                translateY = startY
              }
            }
            width = height * rate
            translateX = startX + (cropBoxWidth - width) / 2
          }
          // 左右
          if (currentLine === 'w' || currentLine === 'e') {
            width = cropBoxWidth + temp
            if (currentLine === 'w') {
              width = cropBoxWidth - temp
              range = viewImgWidth - startX
            }
            width = width > range ? range : width < MIN_SIZE ? MIN_SIZE : width
            if (temp < 0 && currentLine === 'w') {
              if (rate < 1) {
                range = viewImgHeight - translateY
                temp = clientY - origin.y
                height =
                  height < range + translateY < viewImgHeight ? height : viewImgHeight - startY
                width = width * rate
              } else {
                width = width - temp
                width = width < range + translateX < viewImgWidth ? width : viewImgWidth - startX
                height = width / rate
                translateY = (viewImgHeight - height) / 2
              }
            }
            if (currentLine === 'w') {
              translateX = -width + startX + cropBoxWidth
            }
          }
          // 有问题
          if (currentLine === 'nw' || currentLine === 'sw') {
            if (temp > 0) {
              let reverseX = viewImgWidth - cropBoxWidth - startX
              let tempRange = viewImgWidth - reverseX - MIN_SIZE
              translateX = temp + startX > tempRange ? tempRange : temp + startX
              range = range - startX
              width = width + temp
            } else {
              translateX = temp + translateX < 0 ? 0 : temp + translateX
              width = cropBoxWidth + (startX - translateX)
            }
            width = width < MIN_SIZE ? MIN_SIZE : width > range ? range : width
            height = width / rate
            if (currentLine === 'nw') {
              translateY = viewImgHeight - height - startY
            }
          }
          if (currentLine === 'ne') {
            temp = clientY - origin.y
            range = range / rate
            height = cropBoxHeight - temp
            height = height < MIN_SIZE / rate ? MIN_SIZE / rate : height > range ? range : height
            width = height * rate
          }
          if (currentLine === 'se') {
            width = cropBoxWidth + temp
            width = width < MIN_SIZE ? MIN_SIZE : width > range ? range : width
            height = width / rate
          }
          this.cropBoxStyle.width = width
          this.cropBoxStyle.height = height
        }
        imgX = getMovingRange(translateX, translateY).imgX
        imgY = getMovingRange(translateX, translateY).imgY
        translateX = getMovingRange(translateX, translateY).x
        translateY = getMovingRange(translateX, translateY).y
        this.cropBoxStyle.transform.translateX = `${translateX}px`
        this.cropBoxStyle.transform.translateY = `${translateY}px`
        this.viewImgStyle.transform.translateX = `${imgX}px`
        this.viewImgStyle.transform.translateY = `${imgY}px`
        this.cropBox.setAttribute('style', stringForStyle(this.cropBoxStyle))
        this.viewImg.setAttribute('style', stringForStyle(this.viewImgStyle))
        // cropBox可移动范围
        function getMovingRange(x, y) {
          const bottomOfViewImg = _this.viewImg.getBoundingClientRect().bottom,
            topOfViewImg = _this.viewImg.getBoundingClientRect().top
          let imgX = 0,
            imgY = 0
          if (rotate === 0 || rotate === 180) {
            x = x < 0 ? 0 : x + cropBoxWidth > viewImgWidth ? viewImgWidth - cropBoxWidth : x
            y = y < 0 ? 0 : y + cropBoxHeight > viewImgHeight ? viewImgHeight - cropBoxHeight : y
            if (rotate === 0) {
              imgX = -x
              imgY = -y
            } else {
              imgX = x
              imgY = y
            }
          }
          if (rotate === 90 || rotate === 270) {
            // leftRange
            if (clientX - initX < 0) {
              x = startX - (origin.x - initX)
            }
            // rightRange
            if (clientX - initX + cropBoxWidth > viewImgHeight) {
              x = startX - (origin.x - initX) + viewImgHeight - cropBoxWidth
            }
            // topRange
            if (clientY - initY <= topOfViewImg) {
              y = startY - (origin.y - initY) + topOfViewImg
            }
            // bottomRange
            if (clientY - initY + cropBoxHeight >= bottomOfViewImg) {
              y = startY - (origin.y - initY) + topOfViewImg + viewImgWidth - cropBoxHeight
            }
            if (rotate === 90) {
              imgX = -y
              imgY = x
            }
            if (rotate === 270) {
              imgX = y
              imgY = -x
            }
          }
          if (operations.x === -1) {
            imgX = -imgX
          }
          if (operations.y === -1) {
            imgY = -imgY
          }
          return {
            x,
            y,
            imgX,
            imgY
          }
        }
      })
      this.cropBox.addEventListener('touchend', evt => {
        dashedH.className = dashedHClass
        dashedV.className = dashedVClass
        const touches = evt.changedTouches[0]
      })
      // 操作按钮：旋转、翻转、裁剪
      $items.addEventListener('click', e => {
        switch (e.target.id) {
          case 'rotate':
            this.rotateAndOverturnHandler(viewImageScale, 'rotate')
            break
          case 'overturn':
            $options.className = 'options open_options'
            break
          case 'crop':
            this.cropImageHandler()
        }
      })
      // 翻转按钮 - options
      $options.addEventListener('click', e => {
        if (e.target.id === 'turnX') {
          if (this.flagVertical.indexOf(operations.rotate) > -1) {
            operations.x = operations.x === 1 ? -1 : 1
          } else {
            operations.y = operations.y === 1 ? -1 : 1
          }
        }
        if (e.target.id === 'turnY') {
          if (this.flagVertical.indexOf(operations.rotate) > -1) {
            operations.y = operations.y === 1 ? -1 : 1
          } else {
            operations.x = operations.x === 1 ? -1 : 1
          }
        }
        this.rotateAndOverturnHandler(viewImageScale)
        setTimeout(() => {
          $options.className = 'options'
        }, 200)
      })
      // 返回
      $back.addEventListener('click', () => {
        $mask$1.style.display = 'none'
      })
    }
    getNumber(target) {
      if (Number(target.match(/\d+/g)[0]) === 0) {
        return 0
      }
      return Number(target.replace('px', ''))
    }
    getContainerBoundingClientRect(containerWidth, containerHeight) {
      let translateX = 0,
        translateY = 0,
        cropBoxWidth = 0,
        cropBoxHeight = 0,
        imgTranslate = {}
      const rate = operations.crop.scaleX / operations.crop.scaleY
      if (rate > 1) {
        if (containerWidth > containerHeight) {
          let temp = containerWidth * 0.8
          if (this.flagHoriz.indexOf(operations.rotate) > -1) {
            temp = containerHeight
          }
          cropBoxHeight = temp
          cropBoxWidth = cropBoxHeight / rate
          // 置换
          temp = cropBoxWidth
          cropBoxWidth = cropBoxHeight
          cropBoxHeight = temp
          translateX = (containerWidth - cropBoxWidth) / 2
          translateY = (containerHeight - cropBoxHeight) / 2
          imgTranslate.x = -translateX
          imgTranslate.y = -translateY
        } else {
          translateX = containerWidth * 0.1
          if (containerWidth > containerHeight) {
            translateX = containerWidth * 0.15
          }
          cropBoxWidth = containerWidth - translateX * 2
          cropBoxHeight = cropBoxWidth / rate
          translateY = (containerHeight - cropBoxHeight) / 2
          imgTranslate.x = -translateX
          imgTranslate.y = -translateY
        }
      }
      if (rate === 1) {
        if (containerWidth > containerHeight) {
          translateY = containerHeight * 0.1
          cropBoxHeight = containerHeight - translateY * 2
          cropBoxWidth = cropBoxHeight * rate
          translateX = (containerWidth - cropBoxWidth) / 2
        } else {
          translateX = containerWidth * 0.15
          cropBoxWidth = containerWidth - translateX * 2
          cropBoxHeight = cropBoxWidth / rate
          translateY = (containerHeight - cropBoxHeight) / 2
        }
        imgTranslate.x = -translateX
        imgTranslate.y = -translateY
      }
      if (rate < 1) {
        if (containerWidth > containerHeight) {
          translateY = containerHeight * 0.1
          cropBoxHeight = containerHeight - translateY * 2
        } else {
          cropBoxHeight = containerWidth
          translateY = (containerHeight - cropBoxHeight) / 2
        }
        cropBoxWidth = cropBoxHeight * rate
        translateX = (containerWidth - cropBoxWidth) / 2
        imgTranslate.x = -translateX
        imgTranslate.y = -translateY
      }
      if (operations.rotate === 90) {
        imgTranslate.x = -translateY
        imgTranslate.y = translateX
      }
      if (operations.rotate === 180) {
        imgTranslate.x = translateX
        imgTranslate.y = translateY
      }
      if (operations.rotate === 270) {
        imgTranslate.x = translateY
        imgTranslate.y = -translateX
      }
      if (operations.x === -1) {
        imgTranslate.x = -imgTranslate.x
      }
      if (operations.y === -1) {
        imgTranslate.y = -imgTranslate.y
      }
      this.cropImgStyle = {
        width: containerWidth,
        height: containerHeight,
        transform: {
          rotate: `${operations.rotate}deg`,
          scaleX: operations.x,
          scaleY: operations.y
        }
      }
      this.viewImgStyle = {
        width: containerWidth,
        height: containerHeight,
        transform: {
          rotate: `${operations.rotate}deg`,
          scaleX: operations.x,
          scaleY: operations.y,
          translateX: `${imgTranslate.x}px`,
          translateY: `${imgTranslate.y}px`
        }
      }
      this.cropBoxStyle = {
        width: cropBoxWidth,
        height: cropBoxHeight,
        transform: {
          translateX: `${translateX}px`,
          translateY: `${translateY}px`
        }
      }
      this.cropImg.setAttribute('style', stringForStyle(this.cropImgStyle))
      this.dragMask.setAttribute('style', stringForStyle(this.cropImgStyle))
      this.viewImg.setAttribute('style', stringForStyle(this.viewImgStyle))
      this.cropBox.setAttribute('style', stringForStyle(this.cropBoxStyle))
    }
    rotateAndOverturnHandler(viewImageScale, type = 'overturn') {
      let containerHeight = this.getNumber(this.viewImgStyle.height),
        containerWidth = this.getNumber(this.viewImgStyle.width)
      if (type === 'rotate') {
        operations.rotate += 90
        if (this.flagVertical.indexOf(operations.rotate) > -1) {
          containerWidth = this.$pageClientWidth
          containerHeight = this.$pageClientWidth / viewImageScale
        } else {
          containerHeight = this.$pageClientWidth
          containerWidth = this.$pageClientWidth * viewImageScale
        }
      }
      this.getContainerBoundingClientRect(containerWidth, containerHeight)
      if (operations.rotate === 360) {
        operations.rotate = 0
      }
    }
    cropImageHandler() {
      let sx = this.getNumber(this.cropBoxStyle.transform.translateX),
        sy = this.getNumber(this.cropBoxStyle.transform.translateY),
        sWidth = this.getNumber(this.cropBoxStyle.width),
        sHeight = this.getNumber(this.cropBoxStyle.height),
        dWidth = this.getNumber(this.viewImgStyle.width),
        dHeight = this.getNumber(this.viewImgStyle.height)
      const ctx = this.canvas.getContext('2d')
      ctx.clearRect(0, 0, dWidth, dHeight)
      this.canvas.width = dWidth
      this.canvas.height = dHeight
      if (this.flagHoriz.indexOf(operations.rotate) > -1) {
        sy = this.cropBox.getBoundingClientRect().left - this.viewImg.getBoundingClientRect().left
        sx = this.cropBox.getBoundingClientRect().top - this.viewImg.getBoundingClientRect().top
        this.canvas.width = dHeight
        this.canvas.height = dWidth
      }
      const img = new Image()
      img.src = this.viewImg.src
      let imgX = 0,
        imgY = 0,
        transX = 0,
        transY = 0
      img.onload = () => {
        if (operations.rotate === 90) {
          if (operations.x === -1) {
            transX = this.canvas.height
          }
          if (operations.y === -1) {
            transY = -this.canvas.width
          }
          imgX = 0
          imgY = -dHeight
        }
        if (operations.rotate === 180) {
          if (operations.x === -1) {
            transX = -this.canvas.width
          }
          if (operations.y === -1) {
            transY = -this.canvas.height
          }
          imgX = -dWidth
          imgY = -dHeight
        }
        if (operations.rotate === 270) {
          if (operations.x === -1) {
            transX = -this.canvas.height
          }
          if (operations.y === -1) {
            transY = this.canvas.width
          }
          imgX = -dWidth
          imgY = 0
        }
        if (operations.rotate === 0 || operations.rotate === 360) {
          if (operations.x === -1) {
            transX = this.canvas.width
          }
          if (operations.y === -1) {
            transY = this.canvas.height
          }
        }
        ctx.rotate((operations.rotate * Math.PI) / 180)
        ctx.translate(transX, transY)
        ctx.scale(operations.x, operations.y)
        ctx.drawImage(img, imgX, imgY, dWidth, dHeight)

        let imgData = ctx.getImageData(sx, sy, sWidth, sHeight)
        if (this.flagHoriz.indexOf(operations.rotate) > -1) {
          imgData = ctx.getImageData(sy, sx, sWidth, sHeight)
        }
        ctx.clearRect(0, 0, dWidth, dHeight)
        this.canvas.width = sWidth
        this.canvas.height = sHeight
        ctx.putImageData(imgData, 0, 0)
        this.canvas.toBlob(blob => {
          if (blob) {
            const random =
              Math.random()
                .toString()
                .substr(2, 16) +
              Math.random()
                .toString()
                .substr(3, 3)
            let uri = `internal://cache/edit/${random}.png`
            hybrid.saveFile(uri, blob)
            optionsExport.success({ uri })
            setTimeout(() => {
              operations = {
                rotate: 0,
                x: 1,
                y: 1,
                crop: {
                  scaleX: 16,
                  scaleY: 9
                }
              }
              this.getContainerBoundingClientRect(this.containerWidth, this.containerHeight)
              $mask$1.style.display = 'none'
            }, 200)
          }
        })
      }
    }
    init(opt) {
      this._opt = opt
    }
  }

  const maskManager = {
    instance: null,
    create() {
      let opt
      const mask = document.createElement('h-mask')
      mask.init(opt)
      this.instance = mask
      document.body.appendChild(mask)
    },
    reset() {
      instance = null
    }
  }

  function init$9() {
    window.customElements.define('h-mask', Mask)
  }

  const imageMimes = {
    jpg: 'image/jpeg',
    jpeg: 'image/jpeg',
    png: 'image/png',
    webp: 'image/webp'
  }
  const moduleOwn$2 = {
    getImageInfo(options = {}) {
      let $img = new Image(0, 0)
      const basePath = global.Hap.basePath
      let uri = options.uri
      if (uri === '') {
        options.fail(`uri can't be empty`, 202)
      }
      if (options.uri[0] === '/') {
        uri = basePath + options.uri
      } else if (options.uri.indexOf('internal://') === 0) {
        uri = URL.createObjectURL(hybrid.getFile(options.uri))
      } else {
        options.fail(`invalid uri:${uri}`, 202)
      }

      $img.src = uri
      $img.onload = e => {
        const $target = e.target
        const width = $target.naturalWidth
        const height = $target.naturalHeight
        const response = {
          uri: options.uri,
          width,
          height,
          size: hybrid.getFile(options.uri).size
        }
        options.success(response)
        document.body.removeChild($img)
        $img = null
      }
      $img.onerror = () => {
        options.fail('No such file or directory', 301)
        document.body.removeChild($img)
        $img = null
      }
      document.body.appendChild($img)
    },
    compressImage(options = {}) {
      const file = hybrid.getFile(options.uri)
      const ratio = options.ratio || 1
      const quality = (options.quality || DEFAULY_QUALITY) / 100
      const mimeType = imageMimes[options.format.toLowerCase()] || imageMimes.jpeg
      const uri = `internal://cache/compress${Date.now()}.webp`
      const width = file.width / ratio
      const height = file.height / ratio
      new compressor(file, {
        quality,
        mimeType,
        width,
        height,
        success(_blob) {
          _blob.compress = { width, height }
          hybrid.saveFile(uri, _blob)
          options.success({ uri })
          hybrid.polyfillPrompt(config$4.name, 'compressImage', options)
        },
        error(err) {
          options.fail(err.message)
        }
      })
    },
    applyOperations(options = {}) {
      // TODO：只完成了压缩步骤
      const quality = (options.quality || DEFAULY_QUALITY) / 100
      const mimeType = options.format ? imageMimes[options.format.toLowerCase()] : imageMimes.jpeg
      const uri = `internal://cache/applyOperations${Date.now()}.webp`
      const file = hybrid.getFile(options.uri)
      new compressor(file, {
        quality,
        mimeType,
        success(_blob) {
          if (options.operations) {
            hybrid.saveFile(uri, _blob)
            options.success({ uri })
            hybrid.polyfillPrompt(config$4.name, 'compressImage', options)
          }
        },
        error(err) {
          options.fail(err.message)
        }
      })
    },
    editImage(options = {}) {
      try {
        operations.crop.scaleX = JSON.parse(options.aspectRatioX)
        operations.crop.scaleY = JSON.parse(operations.crop.scaleY)
      } catch (error) {
        operations.crop.scaleX = 0
        operations.crop.scaleY = 0
      }
      if (options.uri && operations.crop.scaleX !== 0) {
        blobToBase64(hybrid.getFile(options.uri), result => {
          $img.src = result
          editImgArr.forEach(ele => {
            ele.src = result
          })
          optionsExport = Object.assign(options)
          $mask$1.style.display = 'flex'
        })
      }
      let msg = ''
      if (!options.uri) {
        msg = `uri can't be empty`
        options.fail(msg, 202)
      }
      if (operations.crop.scaleX === 0 || operations.crop.scaleY === 0) {
        msg = `Illegal aspectRatio, aspectRatioX:${operations.crop.scaleX}, aspectRatioY:${operations.crop.scaleY}`
        options.fail(msg, 202)
      }
      hybrid.polyfillPrompt(config$4.name, 'editImage', options)
    },
    getExifAttributes(options = {}) {
      let imgInfo = hybrid.getFile(options.uri)
      let attributes = {
        ImageWidth: imgInfo.width,
        ImageLength: imgInfo.height,
        LightSource: 0,
        Orientation: 0
      }
      if (this._attributes !== '') {
        attributes = { ...attributes, ...this._attributes }
      }
      options.success({ attributes })
    },
    setExifAttributes(options = {}) {
      this._attributes = options.attributes
      options.success({})
    }
  }

  var mask = {
    module: moduleOwn$2,
    config: config$4,
    init: init$9
  }

  /* eslint-disable */

  var _fallback = false

  var raf = window.requestAnimationFrame || window.webkitRequestAnimationFrame
  if (!raf) {
    _fallback = true
    raf = function(callback) {
      return setTimeout$1(callback, 16)
    }
  }
  var caf = window.cancelAnimationFrame || window.webkitCancelAnimationFrame
  if (!caf && _fallback) {
    caf = function(id) {
      return clearTimeout$1(id)
    }
  } else if (!caf) {
    caf = function() {}
  }

  var MAX = (Number.MAX_SAFE_INTEGER || Math.pow(2, 53) - 1) - 1

  var _idMap = {}
  var _globalId = 0

  function _getGlobalId() {
    _globalId = (_globalId + 1) % MAX
    if (_idMap[_globalId]) {
      return _getGlobalId()
    }
    return _globalId
  }

  function setTimeout$1(cb, ms) {
    var id = _getGlobalId()
    var start = Date.now()
    _idMap[id] = raf(function loop() {
      if (!_idMap[id] && _idMap[id] !== 0) {
        return
      }
      var ind = Date.now() - start
      if (ind < ms) {
        _idMap[id] = raf(loop)
      } else {
        delete _idMap[id]
        cb()
      }
    })
    return id
  }

  function clearTimeout$1(id) {
    var tid = _idMap[id]
    tid && caf(tid)
    delete _idMap[id]
  }

  function clearSwiperTimer() {
    Object.keys(_idMap).forEach(id => {
      clearTimeout$1(id)
    })
  }

  var strictUriEncode = str =>
    encodeURIComponent(str).replace(
      /[!'()*]/g,
      x =>
        `%${x
          .charCodeAt(0)
          .toString(16)
          .toUpperCase()}`
    )

  var token = '%[a-f0-9]{2}'
  var singleMatcher = new RegExp(token, 'gi')
  var multiMatcher = new RegExp('(' + token + ')+', 'gi')

  function decodeComponents(components, split) {
    try {
      // Try to decode the entire string first
      return decodeURIComponent(components.join(''))
    } catch (err) {
      // Do nothing
    }

    if (components.length === 1) {
      return components
    }

    split = split || 1

    // Split the array in 2 parts
    var left = components.slice(0, split)
    var right = components.slice(split)

    return Array.prototype.concat.call([], decodeComponents(left), decodeComponents(right))
  }

  function decode$1(input) {
    try {
      return decodeURIComponent(input)
    } catch (err) {
      var tokens = input.match(singleMatcher)

      for (var i = 1; i < tokens.length; i++) {
        input = decodeComponents(tokens, i).join('')

        tokens = input.match(singleMatcher)
      }

      return input
    }
  }

  function customDecodeURIComponent(input) {
    // Keep track of all the replacements and prefill the map with the `BOM`
    var replaceMap = {
      '%FE%FF': '\uFFFD\uFFFD',
      '%FF%FE': '\uFFFD\uFFFD'
    }

    var match = multiMatcher.exec(input)
    while (match) {
      try {
        // Decode as big chunks as possible
        replaceMap[match[0]] = decodeURIComponent(match[0])
      } catch (err) {
        var result = decode$1(match[0])

        if (result !== match[0]) {
          replaceMap[match[0]] = result
        }
      }

      match = multiMatcher.exec(input)
    }

    // Add `%C2` at the end of the map to make sure it does not replace the combinator before everything else
    replaceMap['%C2'] = '\uFFFD'

    var entries = Object.keys(replaceMap)

    for (var i = 0; i < entries.length; i++) {
      // Replace all decoded components
      var key = entries[i]
      input = input.replace(new RegExp(key, 'g'), replaceMap[key])
    }

    return input
  }

  var decodeUriComponent = function(encodedURI) {
    if (typeof encodedURI !== 'string') {
      throw new TypeError(
        'Expected `encodedURI` to be of type `string`, got `' + typeof encodedURI + '`'
      )
    }

    try {
      encodedURI = encodedURI.replace(/\+/g, ' ')

      // Try the built in decoder first
      return decodeURIComponent(encodedURI)
    } catch (err) {
      // Fallback to a more advanced decoder
      return customDecodeURIComponent(encodedURI)
    }
  }

  var splitOnFirst = (string, separator) => {
    if (!(typeof string === 'string' && typeof separator === 'string')) {
      throw new TypeError('Expected the arguments to be of type `string`')
    }

    if (separator === '') {
      return [string]
    }

    const separatorIndex = string.indexOf(separator)

    if (separatorIndex === -1) {
      return [string]
    }

    return [string.slice(0, separatorIndex), string.slice(separatorIndex + separator.length)]
  }

  var queryString = createCommonjsModule(function(module, exports) {
    const isNullOrUndefined = value => value === null || value === undefined

    function encoderForArrayFormat(options) {
      switch (options.arrayFormat) {
        case 'index':
          return key => (result, value) => {
            const index = result.length

            if (
              value === undefined ||
              (options.skipNull && value === null) ||
              (options.skipEmptyString && value === '')
            ) {
              return result
            }

            if (value === null) {
              return [...result, [encode(key, options), '[', index, ']'].join('')]
            }

            return [
              ...result,
              [
                encode(key, options),
                '[',
                encode(index, options),
                ']=',
                encode(value, options)
              ].join('')
            ]
          }

        case 'bracket':
          return key => (result, value) => {
            if (
              value === undefined ||
              (options.skipNull && value === null) ||
              (options.skipEmptyString && value === '')
            ) {
              return result
            }

            if (value === null) {
              return [...result, [encode(key, options), '[]'].join('')]
            }

            return [...result, [encode(key, options), '[]=', encode(value, options)].join('')]
          }

        case 'comma':
        case 'separator':
          return key => (result, value) => {
            if (value === null || value === undefined || value.length === 0) {
              return result
            }

            if (result.length === 0) {
              return [[encode(key, options), '=', encode(value, options)].join('')]
            }

            return [[result, encode(value, options)].join(options.arrayFormatSeparator)]
          }

        default:
          return key => (result, value) => {
            if (
              value === undefined ||
              (options.skipNull && value === null) ||
              (options.skipEmptyString && value === '')
            ) {
              return result
            }

            if (value === null) {
              return [...result, encode(key, options)]
            }

            return [...result, [encode(key, options), '=', encode(value, options)].join('')]
          }
      }
    }

    function parserForArrayFormat(options) {
      let result

      switch (options.arrayFormat) {
        case 'index':
          return (key, value, accumulator) => {
            result = /\[(\d*)\]$/.exec(key)

            key = key.replace(/\[\d*\]$/, '')

            if (!result) {
              accumulator[key] = value
              return
            }

            if (accumulator[key] === undefined) {
              accumulator[key] = {}
            }

            accumulator[key][result[1]] = value
          }

        case 'bracket':
          return (key, value, accumulator) => {
            result = /(\[\])$/.exec(key)
            key = key.replace(/\[\]$/, '')

            if (!result) {
              accumulator[key] = value
              return
            }

            if (accumulator[key] === undefined) {
              accumulator[key] = [value]
              return
            }

            accumulator[key] = [].concat(accumulator[key], value)
          }

        case 'comma':
        case 'separator':
          return (key, value, accumulator) => {
            const isArray =
              typeof value === 'string' &&
              value.split('').indexOf(options.arrayFormatSeparator) > -1
            const newValue = isArray
              ? value.split(options.arrayFormatSeparator).map(item => decode(item, options))
              : value === null
              ? value
              : decode(value, options)
            accumulator[key] = newValue
          }

        default:
          return (key, value, accumulator) => {
            if (accumulator[key] === undefined) {
              accumulator[key] = value
              return
            }

            accumulator[key] = [].concat(accumulator[key], value)
          }
      }
    }

    function validateArrayFormatSeparator(value) {
      if (typeof value !== 'string' || value.length !== 1) {
        throw new TypeError('arrayFormatSeparator must be single character string')
      }
    }

    function encode(value, options) {
      if (options.encode) {
        return options.strict ? strictUriEncode(value) : encodeURIComponent(value)
      }

      return value
    }

    function decode(value, options) {
      if (options.decode) {
        return decodeUriComponent(value)
      }

      return value
    }

    function keysSorter(input) {
      if (Array.isArray(input)) {
        return input.sort()
      }

      if (typeof input === 'object') {
        return keysSorter(Object.keys(input))
          .sort((a, b) => Number(a) - Number(b))
          .map(key => input[key])
      }

      return input
    }

    function removeHash(input) {
      const hashStart = input.indexOf('#')
      if (hashStart !== -1) {
        input = input.slice(0, hashStart)
      }

      return input
    }

    function getHash(url) {
      let hash = ''
      const hashStart = url.indexOf('#')
      if (hashStart !== -1) {
        hash = url.slice(hashStart)
      }

      return hash
    }

    function extract(input) {
      input = removeHash(input)
      const queryStart = input.indexOf('?')
      if (queryStart === -1) {
        return ''
      }

      return input.slice(queryStart + 1)
    }

    function parseValue(value, options) {
      if (
        options.parseNumbers &&
        !Number.isNaN(Number(value)) &&
        typeof value === 'string' && value.trim() !== ''
      ) {
        value = Number(value)
      } else if (
        options.parseBooleans &&
        value !== null &&
        (value.toLowerCase() === 'true' || value.toLowerCase() === 'false')
      ) {
        value = value.toLowerCase() === 'true'
      }

      return value
    }

    function parse(input, options) {
      options = Object.assign(
        {
          decode: true,
          sort: true,
          arrayFormat: 'none',
          arrayFormatSeparator: ',',
          parseNumbers: false,
          parseBooleans: false
        },
        options
      )

      validateArrayFormatSeparator(options.arrayFormatSeparator)

      const formatter = parserForArrayFormat(options)

      // Create an object with no prototype
      const ret = Object.create(null)

      if (typeof input !== 'string') {
        return ret
      }

      input = input.trim().replace(/^[?#&]/, '')

      if (!input) {
        return ret
      }

      for (const param of input.split('&')) {
        let [key, value] = splitOnFirst(options.decode ? param.replace(/\+/g, ' ') : param, '=')

        // Missing `=` should be `null`:
        // http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters
        value =
          value === undefined
            ? null
            : ['comma', 'separator'].includes(options.arrayFormat)
            ? value
            : decode(value, options)
        formatter(decode(key, options), value, ret)
      }

      for (const key of Object.keys(ret)) {
        const value = ret[key]
        if (typeof value === 'object' && value !== null) {
          for (const k of Object.keys(value)) {
            value[k] = parseValue(value[k], options)
          }
        } else {
          ret[key] = parseValue(value, options)
        }
      }

      if (options.sort === false) {
        return ret
      }

      return (options.sort === true
        ? Object.keys(ret).sort()
        : Object.keys(ret).sort(options.sort)
      ).reduce((result, key) => {
        const value = ret[key]
        if (Boolean(value) && typeof value === 'object' && !Array.isArray(value)) {
          // Sort object keys, not values
          result[key] = keysSorter(value)
        } else {
          result[key] = value
        }

        return result
      }, Object.create(null))
    }

    exports.extract = extract
    exports.parse = parse

    exports.stringify = (object, options) => {
      if (!object) {
        return ''
      }

      options = Object.assign(
        {
          encode: true,
          strict: true,
          arrayFormat: 'none',
          arrayFormatSeparator: ','
        },
        options
      )

      validateArrayFormatSeparator(options.arrayFormatSeparator)

      const shouldFilter = key =>
        (options.skipNull && isNullOrUndefined(object[key])) ||
        (options.skipEmptyString && object[key] === '')

      const formatter = encoderForArrayFormat(options)

      const objectCopy = {}

      for (const key of Object.keys(object)) {
        if (!shouldFilter(key)) {
          objectCopy[key] = object[key]
        }
      }

      const keys = Object.keys(objectCopy)

      if (options.sort !== false) {
        keys.sort(options.sort)
      }

      return keys
        .map(key => {
          const value = object[key]

          if (value === undefined) {
            return ''
          }

          if (value === null) {
            return encode(key, options)
          }

          if (Array.isArray(value)) {
            return value.reduce(formatter(key), []).join('&')
          }

          return encode(key, options) + '=' + encode(value, options)
        })
        .filter(x => x.length > 0)
        .join('&')
    }

    exports.parseUrl = (input, options) => {
      return {
        url: removeHash(input).split('?')[0] || '',
        query: parse(extract(input), options)
      }
    }

    exports.stringifyUrl = (input, options) => {
      const url = removeHash(input.url).split('?')[0] || ''
      const queryFromUrl = exports.extract(input.url)
      const parsedQueryFromUrl = exports.parse(queryFromUrl)
      const hash = getHash(input.url)
      const query = Object.assign(parsedQueryFromUrl, input.query)
      let queryString = exports.stringify(query, options)
      if (queryString) {
        queryString = `?${queryString}`
      }

      return `${url}${queryString}${hash}`
    }
  })
  var queryString_1 = queryString.extract
  var queryString_2 = queryString.parse
  var queryString_3 = queryString.stringify
  var queryString_4 = queryString.parseUrl
  var queryString_5 = queryString.stringifyUrl

  const _pageCache = {}
  global._pageCache = _pageCache

  function dispatchRouterEvent(action, options) {
    // for dmc get the action infomation
    const event = new CustomEvent('_routerAction', {
      detail: {
        action,
        options
      }
    })
    document.dispatchEvent(event)

    // for spider
    global._routerAction && global._routerAction({ action, options })
  }
  global.dispatchRouterEvent = dispatchRouterEvent
  global.sitemap = true
  const PARAMS = 'system.router.params'
  const Router = {
    type: 'app',
    instanceId: 1,
    absoluteId: 1,
    basePath: '',
    currentPath: '',
    index: 0,
    scriptIndex: 0, // <head>中script的最大序号
    entry: '',
    routes: [],
    pages: {},
    display: {},
    init(options) {
      window.addEventListener(
        'popstate',
        () => {
          if (global.history.state) {
            this.navigateTo(global.history.state, 'back')
          } else {
            this.back()
          }
        },
        false
      )

      // 兼容旧版toolkit
      if (!Hap._locationParser) {
        const parser = Hap._initLocationParser(options)
        Hap._locationParser = parser
      }

      this.scriptIndex = document.head.children.length - 1
      this.basePath = options.basePath || options.base
      this.htmlPath = options.htmlPath
      this.appPath = options.appPath
      this.routePath = options.routePath
      this.mode = options.mode
      this.allowPages = options.allowPages
      const mRouter = (global.manifest && global.manifest.router) || {}
      this.entry = mRouter.entry || ''
      this.type = options.type || 'app'
      this.pages = this.type === 'card' ? mRouter.widgets || {} : mRouter.pages || {}
      this.display = global.manifest && global.manifest.display
      const postcallback = routesStr => {
        try {
          this.routes = JSON.parse(routesStr) || []
          this.index = Math.max(this.routes.length - 1, 0)
        } catch (e) {
          console.log(e)
        }
        this.reload()
      }
      this.telegram = new Telegram()
      this.telegram.postMessage(
        {
          method: 'getItem',
          args: 'routes'
        },
        postcallback
      )
    },
    getRouteInfo(uri) {
      const route = uri && parseUri(uri)
      let pageName = ''

      let component = 'index'
      if (this.pages[route.name]) {
        pageName = route.name
        component = this.pages[route.name].component || component
      } else if (this.pages[route.path]) {
        pageName = route.path
        component = this.pages[route.path].component || component
      } else {
        for (const key in this.pages) {
          if (this.pages[key].path === route.path) {
            pageName = key
            component = this.pages[key].component || component
            break
          }
        }
      }
      return {
        pageName,
        component,
        route
      }
    },
    navigateTo(options, action) {
      let deeplink = options.uri
      if (global._willDispatchRoute) {
        dispatchRouterEvent('navigate', options)
      }
      let params = []
      if (options.params) {
        Object.keys(options.params).forEach(k => {
          params.push(`${k}=${encodeURIComponent(options.params[k])}`)
        })
        if (params.length > 0) {
          deeplink += '?' + params.join('&')
        }
      }
      // 外链deeplink
      // console.log(deeplink)
      const uri = options && options.uri
      if (uri === '/__H5__') {
        this.pages['__H5__'] = { component: 'index' }
        if (options.params['__H5__']) {
          options.params['src'] = options.params['__H5__']
          delete options.params['__H5__']
        }
      }
      const thirdLink = uri && uri.indexOf('://') > -1
      let schema = null
      if (thirdLink) {
        schema = uri.split(':')[0]
      }
      if (schema && schema.indexOf('http') > -1) {
        // global.history.pushState(options, uri, uri)
        this.pages['__H5__'] = { component: 'index' }
        global.history.replace({
          uri: '/__H5__',
          params: {
            __H5__: uri
          }
        })
      } else if (schema && schema.indexOf('hap') > -1) {
        document.body.innerHTML = `正试图打开hap链接，请使用真机调试该路由`
      } else {
        let { pageName, component, route } = this.getRouteInfo(uri)

        if (uri !== '/' && !pageName) {
          console.error(`### Web Render ### 找不到该路由:${uri}`)
          // 交由toolkit控制404
          location.href = location.origin + '/preview/' + route.name
          return
        }
        let routePath =
          pageName[pageName.length - 1] === '/' ? pageName.slice(0, pageName.length - 1) : pageName
        routePath = routePath[0] === '/' ? routePath : `/${routePath}`

        if (this.allowPages) {
          if (this.allowPages.includes(pageName)) {
            console.warn(
              `[sitemap info] 根据 sitemap.json 配置，当前页面 [${pageName}] 将被索引， 使用setTitleBar设置跟内容相关的标题可提升曝光度`
            )
          }
        }
        let toPath, loadPath
        if (this.mode === 'hash') {
          toPath = this.htmlPath + '#' + this.appPath + routePath
          loadPath = this.basePath + routePath
        } else {
          toPath = loadPath = this.basePath + (routePath === '/' ? `/${this.entry}` : routePath)
          if (global.Env.idePlatform === 'online') {
            Hap.loadPath = loadPath
          }
        }
        // https://doc.quickapp.cn/features/system/router.html
        let params = route.params
        if (
          options &&
          typeof options.params === 'object' &&
          Object.keys(options.params).length > 0
        ) {
          params = options.params
        }
        Object.keys(params).forEach(k => {
          try {
            if (typeof params[k] === 'object') {
              params[k] = JSON.stringify(params[k])
            }
          } catch (e) {
            global.Env &&
              global.Env.logLevel === 'trace' &&
              console.trace(`### Web Render ### navigateTo error:${e}`)
          }
        })
        const paramsStr = JSON.stringify(params)
        this.telegram.postMessage({
          method: 'setItem',
          key: PARAMS,
          value: paramsStr
        })
        const intent = {
          name: route.name,
          path: route.path,
          component: component,
          uri: 'hap://app/com.hap.quickapp', // add test 待优化
          action: 'view',
          currentPageName: route.name,
          fromExternal: false,
          orientation: 'portrait',
          windowWidth: document.body.clientWidth,
          windowHeight: document.body.clientHeight,
          statusBarHeight: global.Env.statusBarHeight
        }
        global.Env &&
          global.Env.logLevel === 'trace' &&
          console.trace(
            `### Web Render ### 路由跳转至${toPath}, 当前id:${this.instanceId}, 传参:${paramsStr}`
          )
        // routeURI增加options.params，以兼容path一致，但页面不一致情况
        let routeParams = paramsStr ? paramsStr : ''
        const routeURI = route.path + routeParams

        // cacheRoute: 返回时使用缓存route
        let cacheRoute
        if (global._pageCache[routeURI] && action === 'back') {
          // 避免多次点击到根路由了还触发后退
          if (Object.keys(global._pageCache).length === 1) {
            return
          }
          for (let i = this.routes.length - 1; i >= 0; i--) {
            if (this.routes[i].routeURI === routeURI) {
              cacheRoute = this.routes[i]
              break
            }
          }
        }
        const oldInstanceId = this.instanceId
        this.instanceId = cacheRoute ? cacheRoute.id : ++this.absoluteId
        const newInstanceId = this.instanceId
        const page = function() {
          const loadPage = () => {
            if (oldInstanceId > 1) {
              let oldRoute
              for (let i = this.routes.length - 1; i >= 0; i--) {
                if (this.routes[i].id === oldInstanceId) {
                  oldRoute = this.routes[i]
                  break
                }
              }
              global.changeVisiblePage(oldInstanceId, false)
              // 刷新后返回
              if (action === 'back') {
                // oldRouteURI: 跳转/返回前的页面路由参数
                let oldRouteURI = oldRoute.routeURI
                global.destroyPage(oldInstanceId)
                oldRoute && delete global._pageCache[oldRouteURI]
                // 刷新后back，需要在oldRoute拿到之后再pop
                this.routes.pop()
                if (!cacheRoute) {
                  // 刷新后返回，需要再pop一次，达到用新创建的页面替换原routes中页面
                  this.routes.pop()
                  this.routes.push({
                    index: ++this.index,
                    id: newInstanceId,
                    routeURI: routeURI,
                    name: route.name,
                    path: route.path,
                    document: '',
                    options,
                    loadPath: `${routePath}/${component}`
                  })
                }
                this.telegram.postMessage({
                  method: 'setItem',
                  key: 'routes',
                  value: JSON.stringify(this.routes)
                })
              }
            }
            clearSwiperTimer()
            // 对router连续跳转的情况，只对最后一次做处理
            if (newInstanceId === this.instanceId) {
              destroyDocument$1(this.scriptIndex)
              this.type === 'app' && statusbarManager.create(routeURI, this.display, this)
              this.type === 'app' && createTitleBar(pageName, routeURI, this.display, this)
              this.type === 'app' &&
                menubarManager.create(routeURI, this.display && this.display.menuBarData, this)
              this.type === 'app' && maskManager.create()
              this.type === 'app' && mediaManager.create()
              if (uri === '/__H5__') {
                if (global.createWebPageHandler) {
                  global.createWebPageHandler()
                  global.changeVisiblePage(newInstanceId, true)
                }
              } else if (global.createPageHandler) {
                global.createPageHandler()
                global.changeVisiblePage(newInstanceId, true)
              }
              const head = (global._pageCache[routeURI].headElm = [])
              for (let i = this.scriptIndex; i < document.head.children.length; i++) {
                head.push(document.head.children[i])
              }
            }
          }
          let prevPageIsH5 = false
          if (this.routes.length > 0 && this.routes[this.routes.length - 1].name === '__H5__') {
            prevPageIsH5 = true
          }

          if (!global.createPageHandler && !prevPageIsH5) {
            // 适配华为， 神漫画
            loadPage()
          }
          switch (action) {
            case 'push':
              // 当前只有一个key值: ___PARAM_LAUNCH_FLAG___ 和 一个value值：clearTask
              const isClearTask =
                options.params && options.params.___PARAM_LAUNCH_FLAG___ === 'clearTask'
              global.Env.idePlatform !== 'online' &&
                global.history.pushState(options, route.path, `${toPath}/`)
              this.routes.push({
                index: ++this.index,
                id: newInstanceId,
                routeURI: routeURI,
                name: route.name,
                path: route.path,
                document: '',
                options,
                loadPath: `${routePath}/${component}`
              })
              isClearTask && this.clear()
              break
            case 'replace':
              global.Env.idePlatform !== 'online' &&
                global.history.replaceState(options, route.path, `${toPath}/`)
              this.routes.pop()
              this.routes.push({
                index: this.index,
                id: newInstanceId,
                routeURI: routeURI,
                name: route.name,
                path: route.path,
                document: '',
                options,
                loadPath: `${routePath}/${component}`
              })
              break
            case 'back':
              this.index--
              break
          }
          this.telegram.postMessage({
            method: 'setItem',
            key: 'routes',
            value: JSON.stringify(this.routes)
          })
          const loadScriptCb = err => {
            if (!err) {
              if (global.createPageHandler || uri === '/__H5__') {
                loadPage()
              } else if (newInstanceId === this.instanceId) {
                // 华为
                global.changeVisiblePage(newInstanceId, true)
              }
            } else {
              if (uri === this.entry) {
                console.error(`### Web Render ### 文件加载错误`)
                document.body.innerHTML = `文件加载错误`
              } else {
                global.Env &&
                  global.Env.logLevel === 'trace' &&
                  console.trace(`### Web Render ### 文件加载错误，将返回首页`)
                this.navigateTo(
                  {
                    uri: this.entry
                  },
                  'push'
                )
              }
            }
          }
          if (uri === '/__H5__') {
            loadScriptCb()
          } else {
            loadScript(`${loadPath}/${component}.js`, loadScriptCb.bind(this))
          }
        }.bind(this)

        // 只有back返回会使用缓存root
        if (global._pageCache[routeURI] && action === 'back') {
          if (oldInstanceId > 1) {
            let oldRoute
            for (let i = this.routes.length - 1; i >= 0; i--) {
              if (this.routes[i].id === oldInstanceId) {
                oldRoute = this.routes[i]
                break
              }
            }
            global.changeVisiblePage(oldInstanceId, false)
            let oldRouteURI = oldRoute.routeURI
            global.destroyPage(oldInstanceId)
            if (global._pageCache[oldRouteURI].routeCnt === 1) {
              delete global._pageCache[oldRouteURI]
            } else {
              global._pageCache[oldRouteURI].routeCnt--
            }
          }
          // 对router连续跳转的情况，只对最后一次做处理
          if (newInstanceId === this.instanceId) {
            remakeTimer(newInstanceId)
            destroyDocument$1(this.scriptIndex)
            appendCachePage(pageName, routeURI, this)
            global.changeVisiblePage(newInstanceId, true)
          }
          this.routes.pop()
          this.index--
          this.telegram.postMessage({
            method: 'setItem',
            key: 'routes',
            value: JSON.stringify(this.routes)
          })
          if (window.__DEVTOOLS_GLOBAL_HOOK__ && window.__DEVTOOLS_GLOBAL_HOOK__.inject) {
            const managerInstance = ComponentManager.getInstance(newInstanceId)
            window.__DEVTOOLS_GLOBAL_HOOK__.inject(managerInstance)
          }
          ComponentManager.prototype.ideBackPress()
        } else {
          global._pageCache[routeURI] = global._pageCache[routeURI] || {}
          global.createPage(newInstanceId, '1', page, params, intent)
        }
      }
    },
    reload() {
      let routePath
      if (Hap._locationParser) {
        const res = Hap._locationParser()
        routePath = res.routePath
      }
      const postcallback = paramsStr => {
        const searchStr = window.location.search.replace('?', '')
        const search = searchStr ? queryString.parse(searchStr) : {}
        const params = Object.assign(paramsStr ? JSON.parse(paramsStr) : {}, search)
        this.navigateTo(
          {
            uri: routePath || this.entry,
            params: params
          },
          'replace'
        )
      }
      this.telegram.postMessage(
        {
          method: 'getItem',
          args: PARAMS
        },
        postcallback
      )
    },
    push(options) {
      if (global._willDispatchRoute) {
        dispatchRouterEvent('push', options)
      } else {
        this.navigateTo(options, 'push')
      }
    },
    replace(options) {
      if (global._willDispatchRoute) {
        dispatchRouterEvent('replace', options)
      } else {
        this.navigateTo(options, 'replace')
      }
    },
    back(options) {
      if (global._willDispatchRoute) {
        return
      }
      if (this.routes.length === 1) {
        toast.push('退出应用！')
        return
      }
      if (options) {
        this.navigateTo(options, 'back')
      } else if (global.Env.idePlatform === 'online') {
        const postcallback = routesStr => {
          try {
            const routes = JSON.parse(routesStr) || []
            if (routes.length > 1) {
              const route = routes[routes.length - 2]
              const options = typeof route === 'object' && route.options
              this.navigateTo(options, 'back')
            }
          } catch (e) {
            console.log(e)
          }
        }
        this.telegram.postMessage(
          {
            method: 'getItem',
            args: 'routes'
          },
          postcallback
        )
      } else {
        global.history.back()
      }
    },
    clear() {
      const current = this.routes.pop()
      global._pageCache = { [current.routeURI]: global._pageCache[current.routeURI] }
      this.routes = [current]
      this.index = 1
    }
  }

  function destroyDocument$1(startIdx) {
    titleBarManager.reset()
    statusbarManager.reset()
    share.Share.reset()
    document.body.innerHTML = ''
    const start = startIdx ? startIdx + 1 : document.head.children.length
    for (let i = document.head.children.length - 1; i >= start; i--) {
      document.head.removeChild(document.head.children[i])
    }
  }

  function createTitleBar(pageName, routeURI, displayConfig, router) {
    if (!displayConfig) {
      // for 深宵文学 如果没有配置display,默认不展示titlebar
      return
    }
    const pages = displayConfig.pages || {}
    const page = pages[pageName] || {}

    const showTitleBar =
      typeof page.titleBar === 'boolean'
        ? page.titleBar
        : typeof displayConfig.titleBar === 'boolean'
        ? displayConfig.titleBar
        : true
    const titleBarText = page.titleBarText || displayConfig.titleBarText || ''
    const pageBackground = page.backgroundColor || displayConfig.backgroundColor || '#ffffff'
    document.body.style.backgroundColor = pageBackground
    if (showTitleBar) {
      const titleBarTextColor = page.titleBarTextColor || displayConfig.titleBarTextColor
      const titleBarBackgroundColor =
        page.titleBarBackgroundColor || displayConfig.titleBarBackgroundColor
      const menu =
        typeof page.menu === 'boolean'
          ? page.menu
          : typeof displayConfig.menu === 'boolean'
          ? displayConfig.menu
          : false
      const back = router.routes && router.routes.length > 1
      titleBarManager.createPageTitleBar(
        {
          text: titleBarText,
          textColor: titleBarTextColor,
          backgroundColor: titleBarBackgroundColor,
          menu: menu,
          back: back
        },
        router,
        routeURI
      )
    } else {
      document.title = titleBarText
    }
  }

  function parseUri(uri) {
    let name = ''
    let path = ''
    let params = {}
    if (typeof uri === 'string') {
      uri = uri.trim()
      const tmpArr = uri.split('?')
      if (tmpArr.length > 1) {
        uri = tmpArr[0]
        params = queryString.parse(tmpArr[1])
      }
      if (uri[0] === '/') {
        name = uri.slice(1)
        path = uri
      } else {
        name = uri
        path = '/' + uri
      }
    }
    return {
      name: name,
      path: path,
      params: params
    }
  }

  function remakeTimer(newInstanceId) {
    clearSwiperTimer()
    const page = dock.getPage(newInstanceId)
    const globals = makeTimer(page, callback, normalize$1)
    global.setTimeout = globals.setTimeout
    global.setInterval = globals.setInterval
    global.clearTimeout = globals.clearTimeout
    global.clearInterval = globals.clearInterval
    global.requestAnimationFrame = globals.requestAnimationFrame
    global.cancelAnimationFrame = globals.cancelAnimationFrame
  }

  function appendCachePage(pageName, routeURI, that) {
    if (!global._pageCache[routeURI].statusbar) {
      that.type === 'app' && statusbarManager.create(routeURI, that.display, that)
    } else {
      global._pageCache[routeURI].statusbar.shadowRoot.children[1].classList.add('page-back')
      document.body.appendChild(global._pageCache[routeURI].statusbar)
    }
    if (!global._pageCache[routeURI].titlebar) {
      that.type === 'app' && createTitleBar(pageName, routeURI, that.display, that)
    } else {
      global._pageCache[routeURI].titlebar.shadowRoot.children[1].classList.add('page-back')
      document.body.appendChild(global._pageCache[routeURI].titlebar)
    }
    if (!global._pageCache[routeURI].menubar) {
      that.type === 'app' &&
        menubarManager.create(routeURI, that.display && that.display.menuBarData, that)
    } else {
      global._pageCache[routeURI].menubar.shadowRoot.children[1].classList.add('page-back')
      document.body.appendChild(global._pageCache[routeURI].menubar)
    }

    global._pageCache[routeURI].root.classList.add('page-back')
    document.body.appendChild(global._pageCache[routeURI].root)

    for (let i = 0; i < global._pageCache[routeURI].headElm.length; i++) {
      document.head.appendChild(global._pageCache[routeURI].headElm[i])
    }
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */
  const config$5 = {
    name: 'system.router',
    methods: [
      // Method
      {
        name: 'push',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.SYNC
      },
      {
        name: 'replace',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.SYNC
      },
      {
        name: 'back',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.SYNC
      },
      {
        name: 'clear',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.SYNC
      },
      {
        name: 'getLength',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.SYNC
      },
      {
        name: 'getState',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.SYNC
      },
      {
        name: 'getPages',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.SYNC
      }
    ]
  }

  const moduleOwn$3 = {
    push(options) {
      Router.push(options)
      return 'success'
    },

    replace(options) {
      Router.replace(options)
      return 'success'
    },

    back() {
      Router.back()
      return 'success'
    },

    clear() {
      Router.clear()
      return 'success'
    },

    getLength() {
      return Router.routes.length
    },

    getState() {
      const route = Router.routes[Router.routes.length - 1]
      const state = {
        index: (route && route.index) || 0,
        name: (route && route.name) || '',
        path: (route && route.path) || ''
      }
      return state
    },
    getPages() {
      return Router.routes.map(item => {
        return {
          name: item.name,
          path: item.path
        }
      })
    }
  }

  global.history.push = function(options) {
    Router.push(options, 'push')
  }

  global.history.replace = function(options) {
    Router.push(options, 'replace')
  }

  global.history.clear = moduleOwn$3.clear
  global.history.getLength = moduleOwn$3.getLength
  global.history.getState = moduleOwn$3.getState

  var router = {
    module: moduleOwn$3,
    config: config$5
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  const mock = {
    'system.fetch.fetch': {
      apiName: 'system.fetch.fetch',
      paramNameList: ['url', 'data', 'header', 'method', 'responseType'],
      callbackList: { success: 'json', fail: 'json' },
      defaultData: {
        fail: {
          code: 999,
          data: 'error'
        }
      }
    }
  }

  const config$6 = {
    name: 'system.fetch',
    methods: [
      // Method
      {
        name: 'fetch',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      }
    ]
  }

  const moduleOwn$4 = {
    fetch(options = {}) {
      const arr = genFetchParams(options)
      let proxyPath = '/api?proxy_path='
      if (global.Env.idePlatform === 'online') {
        proxyPath = '/api/proxy?proxy_path='
      }
      if (global.Env.idePlatform === 'online') {
        const reqUrlObj = new global.URL(arr[0])
        global
          .fetch(
            new global.URL(global.location.href).origin +
              proxyPath +
              reqUrlObj.pathname +
              '&' +
              reqUrlObj.search.slice(1),
            {
              method: 'POST', // *GET, POST, PUT, DELETE, etc.
              cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached
              headers: {
                'Content-Type': 'application/json; charset=utf-8'
              },
              body: JSON.stringify({
                data: arr[1],
                url: arr[0],
                path: reqUrlObj.hostname + reqUrlObj.pathname,
                name: global.manifest.name
              })
            }
          )
          .then(response => {
            return parseResponse(response, options.responseType)
          })
          .then(data => {
            try {
              options.success(data)
            } catch (e) {
              console.error(e)
            }
          })
          .catch(error => {
            options.fail(error)
          })
      } else {
        global
          .fetch(...genFetchParams(options))
          .then(response => {
            return parseResponse(response, options.responseType)
          })
          .then(data => {
            try {
              options.success(data)
            } catch (e) {
              console.error(e)
            }
          })
          .catch(error => {
            options.fail(error)
          })
      }
    }
  }

  var fetch$1 = {
    module: moduleOwn$4,
    config: config$6,
    mock
  }

  function genFetchParams(oriOpt) {
    let url = oriOpt.url
    let body = oriOpt.data
    const method = oriOpt.method || 'GET'
    const headers = oriOpt.header || {}
    const contentType = headers['Content-Type'] || headers['content-type'] || undefined
    if (url.startsWith('//')) {
      url = window.location.protocol + url
    }
    const urlObj = new global.URL(url)
    if (!headers.Referer) {
      headers.Referer = urlObj.origin
    }
    headers['User-Agent'] =
      'Mozilla/5.0 (Linux; Android 8.0.0; Pixel 2 XL Build/OPD1.170816.004) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3683.103 Mobile Safari/537.36'

    // for 叮当快药 可能有形如 http:api.ddky.com 的url
    if (url.indexOf('http://') < 0 && url.indexOf('https://') < 0) {
      url = url.replace('http:', 'http://')
    }
    // 以下规则参考官方文档 https://doc.quickapp.cn/features/system/fetch.html
    if (typeof body === 'string' && !contentType) {
      Object.assign(headers, {
        'Content-Type': 'text/plain; charset=utf-8'
      })
    } else if (body instanceof ArrayBuffer && !contentType) {
      Object.assign(headers, {
        'Content-Type': 'application/octet-stream'
      })
    } else if (typeof body === 'object') {
      if (!contentType) {
        Object.assign(headers, {
          'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8'
        })
        body = parseParams(body)
      } else if (
        contentType.indexOf('application/x-www-form-urlencoded') > -1 ||
        method.toUpperCase() === 'GET' ||
        method.toUpperCase() === 'HEAD'
      ) {
        body = parseParams(body)
      } else {
        body = JSON.stringify(body)
      }
    }

    const options = {
      headers: headers,
      method: method,
      credentials: 'include'
    }

    if (method.toUpperCase() === 'GET' || method.toUpperCase() === 'HEAD') {
      if (body) {
        url += url.indexOf('?') > -1 ? '&' + body : '?' + body
      }
      return [url, options]
    } else {
      options.body = body
      return [url, options]
    }
  }

  function parseParams(data) {
    try {
      const tempArr = []
      for (const i in data) {
        const key = encodeURIComponent(i)
        let val = data[i]
        if (typeof data[i] === 'object') {
          val = JSON.stringify(data[i])
        }
        const value = encodeURIComponent(val)
        tempArr.push(key + '=' + value)
      }
      const urlParamsStr = tempArr.join('&')
      return urlParamsStr
    } catch (err) {
      return ''
    }
  }

  function parseResponse(response, responseType) {
    const code = response.status
    const headers = {}
    const mimeType = [
      'image',
      'audio',
      'video',
      'application/octet-stream',
      'application/vnd.mspowerpoint',
      'application/pdf'
    ]

    // add test for 区块链经验
    const resposeHeader = response.headers
    headers['Content-Length'] = resposeHeader.get('Content-Length')
    headers['Content-Type'] = resposeHeader.get('Content-Type')
    headers.Connection = resposeHeader.get('Connection')
    headers.Date = resposeHeader.get('Date')
    headers.Etag = resposeHeader.get('Etag')
    headers.Server = resposeHeader.get('Server')
    const res = {
      code: code,
      headers: headers
    }

    if (responseType === 'json') {
      return response.json().then(data => Promise.resolve(Object.assign(res, { data: data })))
    } else if (responseType === 'file') {
      return response.blob().then(data => Promise.resolve(Object.assign(res, { data: data })))
    } else if (responseType === 'arraybuffer') {
      return response
        .arrayBuffer()
        .then(data => Promise.resolve(Object.assign(res, { data: data })))
    } else if (
      headers['Content-Type'] &&
      mimeType.indexOf(headers['Content-Type'].split('/')[0]) > -1
    ) {
      let arr = response.url.split('/')
      const fileName = arr[arr.length - 1]
      const internalPath = `internal://cache/${fileName}`
      return response
        .blob()
        .then(data => {
          hybrid.saveFile(internalPath, URL.createObjectURL(data))
        })
        .then(() => Promise.resolve(Object.assign(res, { data: internalPath })))
    } else {
      return response.text().then(data => Promise.resolve(Object.assign(res, { data: data })))
    }
  }

  var css_248z$1 =
    '.hap-prompt-mask{position:fixed;z-index:999;top:0;right:0;bottom:0;left:0;display:flex;justify-content:center;align-items:center;background-color:rgba(0,0,0,.3)}.hap-prompt-content{width:86%;max-height:70%;background-color:#fff;word-break:break-all}.hap-prompt-footer{position:relative;display:flex;padding:.267rem 0 .667rem;color:#009688;font-size:.373rem}'
  styleInject(css_248z$1)

  // 暴露一个插入子元素的接口
  let promptId = 0
  class Dialog {
    constructor(options) {
      const node = document.createElement('div')
      const body = document.getElementsByTagName('body')[0]
      this._node = node
      this._options = options
      this._uid = `hap-prompt-box${promptId++}`
      this._container = body
      this._btns = []

      node.classList.add('hap-prompt-box')
      node.setAttribute('id', this._uid)
      this.createMask()
      return this
    }

    createMask() {
      const options = this._options
      const mask = document.createElement('div')
      const contentWrap = document.createElement('div')
      mask.classList.add('hap-prompt-mask')
      contentWrap.classList.add('hap-prompt-content')
      mask.appendChild(contentWrap)
      this._node.appendChild(mask)
      this._content = contentWrap
      this._mask = mask
      if (options.type === 'dialog') {
        this.createDialog(options)
      } else {
        this.createMenu(options)
      }
    }

    createDialog(options) {
      const dialogBody = document.createElement('div')
      let footer = null
      dialogBody.style.padding = '.427rem .68rem'
      dialogBody.classList.add('hap-prompt-body')
      if (options.title) {
        const title = document.createElement('h2')
        title.style.cssText =
          'font-size: .533rem;color: #000;margin-bottom: .267rem;font-weight: 400;'
        title.innerText = options.title
        dialogBody.appendChild(title)
      }
      if (options.message) {
        const message = document.createElement('p')
        message.style.cssText = 'font-size: .427rem;color: #000;'
        message.innerText = options.message
        dialogBody.appendChild(message)
      }
      if (options.buttons && Array.isArray(options.buttons)) {
        footer = document.createElement('div')
        footer.classList.add('hap-prompt-footer')
        footer.style.flexDirection = 'row-reverse'
        footer.style.justifyContent = 'flex-start'
        // 最多支持三个按钮
        options.buttons.slice(0, 3).forEach((btn, index) => {
          const btnDom = document.createElement('span')
          btnDom.style.paddingRight = '.507rem'
          btnDom.style.paddingLeft = '.507rem'
          btnDom.dataset.index = index
          if (btn.text) {
            btnDom.innerText = btn.text
          }
          if (btn.color) {
            btnDom.style.color = btn.color
          }
          if (index === 2) {
            btnDom.style.position = 'absolute'
            btnDom.style.left = '0'
          }
          this._btns.push(btnDom)
          footer.appendChild(btnDom)
        })
        this._content.appendChild(footer)
      }
      this._content.insertBefore(dialogBody, footer)
      this._container.appendChild(this._node)
      this.bindAction()
    }

    createMenu(options) {
      //
      const dialogBody = document.createElement('ul')
      dialogBody.style.padding = '.133rem .427rem'
      if (options.itemColor) {
        dialogBody.style.color = options.itemColor
      }
      dialogBody.classList.add('hap-prompt-body')
      const fragment = document.createDocumentFragment()
      options.itemList.forEach((text, index) => {
        const child = document.createElement('li')
        child.innerText = text
        child.dataset.index = index
        child.style.paddingTop = '.2rem'
        child.style.paddingBottom = '.2rem'
        fragment.appendChild(child)
        this._btns.push(child)
      })
      dialogBody.appendChild(fragment)
      this._content.appendChild(dialogBody)
      this._container.appendChild(this._node)
      this.bindAction()
    }

    close() {
      const container = this._container
      const node = document.getElementById(this._uid)
      container.removeChild(node)

      this._btns = null
      this._container = null
      this._content = null
      this._mask = null
      this._node = null
      this._options = null
      this._uid = null
    }

    bindAction() {
      const that = this
      const btns = that._btns
      const mask = that._mask
      const content = that._content
      const options = that._options

      // 事件操作
      const btnHandle = function(e) {
        e.preventDefault()
        e.stopPropagation()
        const index = this.dataset.index
        // 触发取消回调
        options.success && options.success({ index: index })
        that.close()
      }
      content.addEventListener('click', function(e) {
        e.preventDefault()
        e.stopPropagation()
      })
      mask.addEventListener(
        'click',
        function(e) {
          e.preventDefault()
          e.stopPropagation()
          // 触发取消回调
          if (options.autocancel !== false) {
            options.cancel && options.cancel()
            that.close()
          }
        },
        false
      )
      for (let i = 0, len = btns.length; i < len; i++) {
        btns[i].addEventListener('click', btnHandle, false)
      }
    }
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */
  const config$7 = {
    name: 'system.prompt',
    methods: [
      // Method
      {
        name: 'showToast',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.SYNC
      },
      {
        name: 'showDialog',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'showContextMenu',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      }
    ]
  }

  const moduleOwn$5 = {
    showToast(options) {
      if (!options.message) {
        console.warn('### Web Render ###  prompt.showToast message 是必填项')
      }
      let duration = 0 // 0为短时 1为长时
      if (options.duration) {
        duration = parseInt(options.duration)
      }
      toast.push(options.message, duration)
      return 'success'
    },

    showDialog(options) {
      options.type = 'dialog'
      return new Dialog(options)
    },

    showContextMenu(options) {
      if (options.itemList && Array.isArray(options.itemList)) {
        return new Dialog(options)
      }
    }
  }

  var prompt = {
    module: moduleOwn$5,
    config: config$7
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */
  const config$8 = {
    name: 'system.storage',
    methods: [
      // Method
      {
        name: 'get',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'set',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'clear',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'delete',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'key',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: '_getLength',
        mode: hybrid.MODE.SYNC,
        type: hybrid.TYPE.ATTRIBUTE,
        access: hybrid.ACCESS.READ,
        alias: 'length'
      }
    ]
  }

  const moduleOwn$6 = {
    _getLength() {
      return global.localStorage.length
    },
    get(options = {}) {
      const res = global.localStorage.getItem(options.key)
      setTimeout(() => {
        let defaults = options.default !== '' ? JSON.stringify(options.default) : options.default
        options.success(res || defaults || '')
      }, 0)
    },

    set(options = {}) {
      if (options.value === '') {
        global.localStorage.removeItem(options.key)
      } else {
        global.localStorage.setItem(
          options.key,
          typeof options.value === 'string' ? options.value : JSON.stringify(options.value)
        )
      }
      options.success({})
    },

    clear(options = {}) {
      global.localStorage.clear()
      options.success({})
    },

    delete(options = {}) {
      global.localStorage.removeItem(options.key)
      options.success({})
    },

    key(options = {}) {
      const key = global.localStorage.key(options.index)
      options.success(key)
    }
  }

  var storage = {
    module: moduleOwn$6,
    config: config$8
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  const sensorIntervalMap = { game: 20, ui: 60, normal: 200 }

  const timer = {
    'system.network.subscribe': null,
    'system.sensor.subscribeAccelerometer': null,
    'system.sensor.subscribeCompass': null,
    'system.sensor.subscribeProximity': null,
    'system.sensor.subscribeLight': null,
    'system.sensor.subscribeStepCounter': null,
    'system.geolocation.subscribe': null
  }

  // 部分接口为持续订阅，与其他一次性接口区分开来
  // TODO：若是持续订阅，后续可根据需求考虑将数据改为实时获取
  const system = {
    network: {
      subscribe(options) {
        clearInterval(timer['system.network.subscribe'])
        timer['system.network.subscribe'] = setInterval(() => {
          options.callback(options.__CUSTOM_MOCK_DATA__.data)
        }, 1000)
      },
      unsubscribe() {
        clearInterval(timer['system.network.subscribe'])
      }
    },
    sensor: {
      subscribeAccelerometer(options) {
        clearInterval(timer['system.sensor.subscribeAccelerometer'])
        if (options.reserved) {
          const interval = sensorIntervalMap[options.interval] || sensorIntervalMap.normal
          timer['system.sensor.subscribeAccelerometer'] = setInterval(() => {
            options.callback(options.__CUSTOM_MOCK_DATA__.data)
          }, interval)
        } else {
          options.callback(options.__CUSTOM_MOCK_DATA__.data)
        }
      },
      unsubscribeAccelerometer() {
        clearInterval(timer['system.sensor.subscribeAccelerometer'])
      },
      subscribeCompass(options) {
        clearInterval(timer['system.sensor.subscribeCompass'])
        if (options.reserved) {
          timer['system.sensor.subscribeCompass'] = setInterval(() => {
            options.callback(options.__CUSTOM_MOCK_DATA__.data)
          }, 100)
        } else {
          options.callback(options.__CUSTOM_MOCK_DATA__.data)
        }
      },
      unsubscribeCompass() {
        clearInterval(timer['system.sensor.subscribeCompass'])
      },
      subscribeProximity(options) {
        clearInterval(timer['system.sensor.subscribeProximity'])
        if (options.reserved) {
          timer['system.sensor.subscribeProximity'] = setInterval(() => {
            options.callback(options.__CUSTOM_MOCK_DATA__.data)
          }, 100)
        } else {
          options.callback(options.__CUSTOM_MOCK_DATA__.data)
        }
      },
      unsubscribeProximity() {
        clearInterval(timer['system.sensor.subscribeProximity'])
      },
      subscribeLight(options) {
        clearInterval(timer['system.sensor.subscribeLight'])
        if (options.reserved) {
          timer['system.sensor.subscribeLight'] = setInterval(() => {
            options.callback(options.__CUSTOM_MOCK_DATA__.data)
          }, 100)
        } else {
          options.callback(options.__CUSTOM_MOCK_DATA__.data)
        }
      },
      unsubscribeLight() {
        clearInterval(timer['system.sensor.subscribeLight'])
      },
      subscribeStepCounter(options) {
        clearInterval(timer['system.sensor.subscribeStepCounter'])
        if (options.reserved) {
          timer['system.sensor.subscribeStepCounter'] = setInterval(() => {
            options.callback(options.__CUSTOM_MOCK_DATA__.data)
          }, 100)
        } else {
          options.callback(options.__CUSTOM_MOCK_DATA__.data)
        }
      },
      unsubscribeStepCounter() {
        clearInterval(timer['system.sensor.subscribeStepCounter'])
      }
    },
    geolocation: {
      subscribe(options) {
        clearInterval(timer['system.geolocation.subscribe'])
        if (options.reserved) {
          timer['system.geolocation.subscribe'] = setInterval(() => {
            options.callback(options.__CUSTOM_MOCK_DATA__.data)
          }, 1000)
        } else {
          options.callback(options.__CUSTOM_MOCK_DATA__.data)
        }
      },
      unsubscribe() {
        clearInterval(timer['system.geolocation.subscribe'])
      }
    }
  }

  const mockFunctionMap = {
    system
  }

  function defaultMockFn(options) {
    const { callback, data } = options.__CUSTOM_MOCK_DATA__
    try {
      if (callback === 'success') {
        options.success(data)
      } else if (callback === 'fail') {
        let code = data.code
        if (!(typeof code === 'number' && code >= 200)) {
          code = 999
        }
        options.fail(data.data, code)
      } else if (callback === 'cancel') {
        options.cancel(data)
      } else if (callback === 'callback') {
        options.callback(data)
      } else {
        return data
      }
    } catch (e) {
      console.error('mock api 执行回调失败', e)
    }
  }

  function getMockFunction(featureName) {
    const [module, feature, method] = featureName.split('.')
    const fn =
      mockFunctionMap[module] &&
      mockFunctionMap[module][feature] &&
      mockFunctionMap[module][feature][method]
    return fn || defaultMockFn
  }

  function mockUnsubscribe(featureName) {
    const [module, feature, method] = featureName.split('.')
    const fn =
      mockFunctionMap[module] &&
      mockFunctionMap[module][feature] &&
      mockFunctionMap[module][feature][method]
    fn && fn()
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  const mockListMap = new WeakMap()

  function setFunctionToFeatureMap(feature) {
    const { config, module, mock } = feature
    // 部分为返回属性，如 device.host 对应 device._getHost，aliasMap: { _getHost: 'host' }
    const aliasMap = config.methods
      .filter(item => item.alias)
      .reduce((result, item) => {
        result[item.name] = item.alias
        return result
      }, {})
    // 记录具体方法与 feature 名的关系
    const moduleFeature = config.name
    Object.keys(module).forEach(method => {
      // 有别名取别名，即 _getHost => host
      const featureName = `${moduleFeature}.${aliasMap[method] ? aliasMap[method] : method}`
      // 需要有在 mock 列表上才记录
      if ((mock || {})[featureName]) {
        mockListMap.set(feature.module[method], featureName)
      }
    })
  }

  function getMockFeature(target, argumentsList) {
    if (
      mockListMap.has(target) &&
      window.__DEVTOOLS_GLOBAL_API__ &&
      window.__DEVTOOLS_GLOBAL_API__.mock &&
      window.__DEVTOOLS_GLOBAL_API__.mock.generateMock
    ) {
      // 通过具体方法找到相应接口名
      const featureName = mockListMap.get(target)
      const customMockData = window.__DEVTOOLS_GLOBAL_API__.mock.generateMock(
        featureName,
        argumentsList[0]
      )
      // customMockData 为 null 代表没 mock 或者不 mock，返回原方法
      if (customMockData) {
        // 把自定义 mock 数据放在原参数对象上
        argumentsList[0].__CUSTOM_MOCK_DATA__ = customMockData
        return getMockFunction(featureName)
      }
    }
    return target
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  const mock$1 = {
    'system.network.subscribe': {
      apiName: 'system.network.subscribe',
      paramNameList: [],
      callbackList: { callback: 'json', fail: 'json' },
      defaultData: {
        callback: {
          metered: false,
          type: 'wifi'
        },
        fail: {
          code: 201,
          data: 'error'
        }
      }
    },
    'system.network.getType': {
      apiName: 'system.network.getType',
      paramNameList: [],
      callbackList: { success: 'json', fail: 'json' },
      defaultData: {
        success: {
          metered: false,
          type: 'wifi'
        },
        fail: {
          code: 201,
          data: 'error'
        }
      }
    },
    'system.network.getSimOperators': {
      apiName: 'system.network.getSimOperators',
      paramNameList: [],
      callbackList: { success: 'json', fail: 'json' },
      defaultData: {
        success: {
          operators: [
            {
              operator: 46000,
              slotIndex: 1,
              isDefaultDataOperator: true
            }
          ],
          size: 1
        },
        fail: {
          code: 1001,
          data: 'No sim card'
        }
      }
    }
  }

  const config$9 = {
    name: 'system.network',
    methods: [
      // Method
      {
        name: 'getType',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'getSimOperators',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'subscribe',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.SUBSCRIBE
      },
      {
        name: 'unsubscribe',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.SYNC
      }
    ]
  }

  const moduleOwn$7 = {
    getType(options = {}) {
      hybrid.polyfillPrompt('system.network', 'getType', options)
      const data = mock$1['system.network.getType'].defaultData['success']
      // res.type = navigator.connection && navigator.connection.effectiveType
      // res.metered = res.type !== 'wifi'
      setTimeout(() => {
        options.success(data)
      }, 100)
    },
    subscribe(options = {}) {
      hybrid.polyfillPrompt(config$9.name, 'subscribe', options)
      const netInfo = navigator.connection
      if (netInfo) {
        netInfo.onchange = e => {
          const data = mock$1['system.network.getType'].defaultData['success']
          options.success(data)
        }
        setTimeout(() => {
          this.getType(options)
        }, 100)
      } else {
        options.fail('error')
      }
    },
    unsubscribe(options = {}) {
      mockUnsubscribe('system.network.unsubscribe')
      hybrid.polyfillPrompt(config$9.name, 'unsubscribe', options)
      const netInfo = navigator.connection
      if (netInfo) {
        netInfo.onchange = null
      }
      return 'success'
    },
    getSimOperators(options = {}) {
      const data = mock$1['system.network.getSimOperators'].defaultData['success']
      options.success(data)
    }
  }

  var network = {
    module: moduleOwn$7,
    config: config$9,
    mock: mock$1
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  const config$a = {
    name: 'system.app',
    methods: [
      // Method
      {
        name: 'getInfo',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.SYNC
      }
    ]
  }

  const moduleOwn$8 = {
    getInfo() {
      hybrid.polyfillPrompt(config$a.name, 'getInfo')
      const manifest = global.manifest
      const res = manifest
        ? {
            name: manifest.name,
            versionName: manifest.versionName,
            versionCode: manifest.versionCode,
            logLevel: manifest.config && manifest.config.logLevel,
            packageName: manifest.package,
            source: {
              packageName: manifest.package,
              type: 'shortcut',
              extra: {
                scene: 'web',
                original: ''
              }
            },
            icon: manifest.icon
          }
        : {}
      return res
    }
  }

  var app = {
    module: moduleOwn$8,
    config: config$a
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  const mock$2 = {
    'system.barcode.scan': {
      apiName: 'system.barcode.scan',
      paramNameList: [],
      callbackList: { success: 'json', fail: 'json', cancel: 'json' },
      defaultData: {
        success: { result: 'https://doc.quickapp.cn' },
        fail: { code: 201, data: '用户拒绝，获取相机权限失败' }
      }
    }
  }

  const config$b = {
    name: 'system.barcode',
    methods: [
      // Method
      {
        name: 'scan',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      }
    ]
  }

  const moduleOwn$9 = {
    scan(options = {}) {
      hybrid.polyfillPrompt(config$b.name, 'scan', options)
      const data = mock$2['system.barcode.scan'].defaultData['success']
      options.success(data)
    }
  }

  var barcode = {
    module: moduleOwn$9,
    config: config$b,
    mock: mock$2
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  const config$c = {
    name: 'system.clipboard',
    methods: [
      // Method
      {
        name: 'set',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'get',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      }
    ]
  }

  const moduleOwn$a = {
    clipText: '',
    set(options = {}) {
      this.clipText = options.text
      if (navigator.clipboard) {
        navigator.clipboard.writeText(this.clipText).then(() => {
          options.success({})
        })
      } else {
        hybrid.polyfillPrompt('system.clipboard', 'set', options)
      }
    },

    get(options = {}) {
      if (navigator.clipboard) {
        navigator.clipboard.readText().then(clipText => {
          options.success({ text: clipText })
        })
      } else {
        hybrid.polyfillPrompt('system.clipboard', 'get', { text: this.clipText })
      }
    }
  }

  var clipboard = {
    module: moduleOwn$a,
    config: config$c
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  const mock$3 = {
    'system.request.upload': {
      apiName: 'system.request.upload',
      paramNameList: ['url', 'header', 'method', 'files', 'data'],
      callbackList: { success: 'json', fail: 'json' },
      defaultData: {}
    },
    'system.request.download': {
      apiName: 'system.request.download',
      paramNameList: ['url', 'header', 'description', 'filename'],
      callbackList: { success: 'json', fail: 'json' },
      defaultData: {}
    },
    'system.request.onDownloadComplete': {
      apiName: 'system.request.onDownloadComplete',
      paramNameList: ['token'],
      callbackList: { success: 'json', fail: 'json' },
      defaultData: {
        fail: {
          code: 1000,
          data: '下载失败'
        }
      }
    }
  }

  /**
   * 备注：
   * 失败的回调信息跟code，不会跟native一致
   * download 的 description 设置无效
   * header设置缺乏完善的测试是否实际有效
   */
  let downloadId = 1
  const downloadResult = []
  const filePath = 'internal://mass/download/'
  const supportUploadMethod = ['POST', 'PUT']
  const config$d = {
    name: 'system.request',
    methods: [
      // Method
      {
        name: 'upload',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'download',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'onDownloadComplete',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      }
    ]
  }

  const moduleOwn$b = {
    upload(options = {}) {
      hybrid.polyfillPrompt(config$d.name, 'upload', options)
      let code, headers
      new UploadSet(options)
        .then(res => {
          headers = res.headers
          code = res.status
          return res.text()
        })
        .then(data => {
          options.success && options.success({ code, headers, data })
        })
        .catch(() => {
          options.fail && options.fail('upload fail', 1000)
        })
        .finally(() => {
          options.complete && options.complete()
        })
    },

    download(options = {}) {
      hybrid.polyfillPrompt(config$d.name, 'download', options)
      new DownloadSet(options)
        .then(token => {
          options.success && options.success({ token })
        })
        .catch(() => {
          options.fail && options.fail('download fail', 1000)
        })
        .finally(() => {
          options.complete && options.complete()
        })
    },

    onDownloadComplete(options = {}) {
      hybrid.polyfillPrompt(config$d.name, 'onDownloadComplete', options)
      const token = options.token
      if (!token) {
        options.fail('token is null', 202)
      } else {
        const res = downloadResult[token]
        if (!res) {
          hybrid.errorTip('request.onDownloadComplete', 'token', 'token 无效')
        } else {
          options.success && options.success({ uri: res.uri })
        }
      }
    }
  }

  /**
   * 下载类工具集
   * opt {object}
   *
   */
  class DownloadSet {
    constructor(opt) {
      const filename = opt.filename || this.getFileName(opt.url)
      return this.getBlob(opt).then(blob => {
        return this.saveAs(blob, filename)
      })
    }
    /* 默认取最后一个值就是fileName */
    getFileName(url) {
      const params = url.split('/')
      return params[params.length - 1]
    }
    // 保存在本地
    saveAs(blob, filename) {
      const uri = filePath + filename
      if (window.navigator.msSaveOrOpenBlob) {
        navigator.msSaveBlob(blob, filename)
      } else {
        const link = document.createElement('a')
        const body = document.querySelector('body')

        link.href = window.URL.createObjectURL(blob)
        link.download = filename

        // fix Firefox
        link.style.display = 'none'
        body.appendChild(link)

        link.click()
        body.removeChild(link)

        window.URL.revokeObjectURL(link.href)
      }
      // 维护一个fileMap 和downloadnResult 分别用于onDownloadComplete 与 upload使用
      downloadResult[downloadId] = { uri, blob }
      hybrid.saveFile(uri, blob)
      return downloadId++
    }
    getBlob(opt) {
      return new Promise(resolve => {
        const xhr = new XMLHttpRequest()
        const url = opt.url
        const header = opt.header
        // 设置header
        if (header) {
          Object.keys(header).forEach(item => {
            const lowerItem = item.toLowerCase()
            if (lowerItem !== 'useragent') {
              xhr.setRequestHeader(item, header[item])
            }
          })
        }
        xhr.open('GET', url, true)
        xhr.responseType = 'blob'
        xhr.onload = () => {
          if (xhr.status === 200) {
            resolve(xhr.response)
          }
        }

        xhr.send()
      })
    }
  }

  /**
   * 上传类工具集
   * opt {object}
   *
   */
  class UploadSet {
    constructor(opt) {
      const fetchOptions = {
        headers: {
          // 'Content-Type': 'multipart/form-data' // 不要设置content-type
        }
      }
      fetchOptions.method = this.getUploadMethod(opt.method)
      const data = opt.data
      const header = opt.header
      const files = opt.files
      if (!(Array.isArray(files) && files.length > 0)) {
        hybrid.errorTip('request.upload', 'files')
        return Promise.reject()
      }
      const formData = new FormData()
      // 先简单地全部放置在formData中
      files.forEach(file => {
        // filename, name 的区别
        const name = file.name || 'file'
        const fileBlob = hybrid.getFile(file.uri)
        formData.append(name, fileBlob, file.filename)
      })
      if (Array.isArray(data) && data.length > 0) {
        data.forEach(item => {
          formData.append(item.name, item.value)
        })
      }
      // 设置header
      if (header) {
        Object.keys(header).forEach(item => {
          const lowerItem = item.toLowerCase()
          if (lowerItem !== 'useragent' && lowerItem !== 'content-type') {
            fetchOptions.header.item = header[item]
          }
        })
      }
      fetchOptions.body = formData

      return this.upload(opt.url, fetchOptions)
    }
    getUploadMethod(method) {
      if (!method) {
        return 'POST'
      }
      const index = supportUploadMethod.indexOf(method.toUpperCase())
      if (index > -1) {
        return supportUploadMethod[index]
      } else {
        hybrid.errorTip(
          'request.upload',
          'medhod',
          `method仅支持-- ${JSON.stringify(supportUploadMethod)}`
        )
        return 'POST'
      }
    }
    upload(url, options) {
      // 发送请求
      return fetch(url, options)
    }
  }

  var request = {
    module: moduleOwn$b,
    config: config$d,
    mock: mock$3
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  const mock$4 = {
    'system.device.getInfo': {
      apiName: 'system.device.getInfo',
      paramNameList: [],
      callbackList: { success: 'json', fail: 'json' },
      defaultData: {
        success: {
          brand: 'vivo', // 设备品牌
          manufacturer: 'vivo', // 设备生产商
          model: 'X23', // 设备型号
          product: 'X23', // 设备代号
          osType: 'android', // 操作系统名称
          osVersionName: '10', // 操作系统版本名称
          osVersionCode: 29, // 操作系统版本号
          vendorOsName: 'Funtouch OS', // 厂商定制系统名称
          vendorOsVersion: '9.0', // 厂商定制系统版本号
          platformVersionName: '1.9', // 运行平台版本名称
          platformVersionCode: 1090, // 运行平台版本号
          language: 'en', // 系统语言
          region: 'CN', // 系统地区
          deviceType: 'phone', // 设备类型
          screenWidth: window.outerWidth, // 屏幕宽
          screenHeight: window.outerHeight, // 屏幕高
          windowWidth: document.body ? document.body.clientWidth : window.innerWidth, // 可使用窗口宽度
          windowHeight: document.body ? document.body.clientHeight : window.innerHeight, // 可使用窗口高度
          statusBarHeight: 120,
          cutout: [{ left: 500, top: 0, right: 700, bottom: 200 }]
        },
        fail: {
          code: 999,
          data: 'error'
        }
      }
    },
    'system.device.getId': {
      apiName: 'system.device.getId',
      paramNameList: ['type'],
      callbackList: { success: 'json', fail: 'json' },
      defaultData: {
        success: {
          device: '3178363a2051b63d0e0f1b54bbd860f1eaa2a847e8426df03f0c8d98936fe945',
          mac: '02:00:00:00:00:21:21',
          user: '36cecec57756f3d27',
          advertising: '91ce1536-8953-4be9-864a-7ac53481ff97'
        },
        fail: {
          code: 201,
          data: '用户拒绝授权'
        }
      }
    },
    'system.device.getDeviceId': {
      apiName: 'system.device.getDeviceId',
      paramNameList: [],
      callbackList: { success: 'json', fail: 'json' },
      defaultData: {
        success: {
          deviceId: '865407010000009'
        },
        fail: {
          code: 201,
          data: '用户拒绝授权'
        }
      }
    },
    'system.device.getUserId': {
      apiName: 'system.device.getUserId',
      paramNameList: [],
      callbackList: { success: 'json', fail: 'json' },
      defaultData: {
        success: {
          userId: '36cecec57756f3d27'
        },
        fail: {
          code: 201,
          data: '用户拒绝授权'
        }
      }
    },
    'system.device.getAdvertisingId': {
      apiName: 'system.device.getAdvertisingId',
      paramNameList: [],
      callbackList: { success: 'json', fail: 'json' },
      defaultData: {
        success: {
          advertisingId: '91ce1536-8953-4be9-864a-7ac53481ff97'
        },
        fail: {
          code: 201,
          data: '用户拒绝授权'
        }
      }
    },
    'system.device.getSerial': {
      apiName: 'system.device.getSerial',
      paramNameList: [],
      callbackList: { success: 'json', fail: 'json' },
      defaultData: {
        success: {
          serial: '866063029145927'
        },
        fail: {
          code: 201,
          data: '用户拒绝授权'
        }
      }
    },
    'system.device.getTotalStorage': {
      apiName: 'system.device.getTotalStorage',
      paramNameList: [],
      callbackList: { success: 'json', fail: 'json' },
      defaultData: {
        success: {
          totalStorage: '54496026624'
        },
        fail: {
          code: 201,
          data: '用户拒绝授权'
        }
      }
    },
    'system.device.getAvailableStorage': {
      apiName: 'system.device.getAvailableStorage',
      paramNameList: [],
      callbackList: { success: 'json', fail: 'json' },
      defaultData: {
        success: {
          availableStorage: '2471679595904'
        },
        fail: {
          code: 201,
          data: '用户拒绝授权'
        }
      }
    },
    'system.device.getCpuInfo': {
      apiName: 'system.device.getCpuInfo',
      paramNameList: [],
      callbackList: { success: 'json', fail: 'json' },
      defaultData: {
        success: {
          cpuInfo: 'Processor: AArch64'
        },
        fail: {
          code: 201,
          data: '用户拒绝授权'
        }
      }
    },
    'system.device.getOAID': {
      apiName: 'system.device.getOAID',
      paramNameList: [],
      callbackList: { success: 'json', fail: 'json' },
      defaultData: {
        success: {
          oaid: ''
        },
        fail: {
          code: 201,
          data: '用户拒绝授权'
        }
      }
    },
    'system.device.platform': {
      apiName: 'system.device.platform',
      paramNameList: [],
      callbackList: { result: 'json' },
      defaultData: {
        result: {
          versionName: '1.0.0',
          versionCode: '1'
        }
      }
    },
    'system.device.host': {
      apiName: 'system.device.host',
      paramNameList: [],
      callbackList: { result: 'json' }, // 只有result代表同步或者属性返回
      defaultData: {
        result: {
          package: 'org.hapjs.debugger',
          versionName: '1.7.0.0',
          versionCode: 10700001
        }
      }
    }
  }

  const config$e = {
    name: 'system.device',
    methods: [
      // Method
      {
        name: 'getInfo',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'getId',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'getDeviceId',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'getUserId',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'getAdvertisingId',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'getOAID',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'getTotalStorage',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'getAvailableStorage',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'getCpuInfo',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'getSerial',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      // Property
      {
        name: '__getPlatform',
        mode: hybrid.MODE.SYNC,
        type: hybrid.TYPE.ATTRIBUTE,
        access: hybrid.ACCESS.READ,
        alias: 'platform'
      },
      {
        name: '_getAllowTrackOAID',
        mode: hybrid.MODE.SYNC,
        type: hybrid.TYPE.ATTRIBUTE,
        access: hybrid.ACCESS.READ,
        alias: 'allowTrackOAID'
      },
      {
        name: '_getHost',
        mode: hybrid.MODE.SYNC,
        type: hybrid.TYPE.ATTRIBUTE,
        access: hybrid.ACCESS.READ,
        alias: 'host'
      }
    ]
  }

  const moduleOwn$c = {
    getInfo(options = {}) {
      hybrid.polyfillPrompt(config$e.name, 'getInfo', options)
      // 这部分数据不与mock数据混用
      const baseRect = {
        width: 1080,
        height: parseInt((1080 / window.screen.width) * window.screen.height)
      }
      const data = {
        brand: 'vivo', // 设备品牌
        manufacturer: 'vivo', // 设备生产商
        model: 'X23', // 设备型号
        product: 'X23', // 设备代号
        osType: 'android', // 操作系统名称
        osVersionName: '10', // 操作系统版本名称
        osVersionCode: 29, // 操作系统版本号
        vendorOsName: 'Funtouch OS', // 厂商定制系统名称
        vendorOsVersion: '9.0', // 厂商定制系统版本号
        platformVersionName: '1.9', // 运行平台版本名称
        platformVersionCode: 1090, // 运行平台版本号
        language: 'en', // 系统语言
        region: 'china', // 系统地区
        deviceType: 'phone', // 设备类型
        screenWidth: window.outerWidth, // 屏幕宽
        screenHeight: window.outerHeight, // 屏幕高
        // add test for quick-center,钢琴谱大全i. 屏幕的实际分辨率一般为 720*1280 & 1080 * 2340
        windowWidth: parseInt((baseRect.width * global.HapEnvironment.devicePixelRatio) / 3),
        windowHeight: parseInt((baseRect.height * global.HapEnvironment.devicePixelRatio) / 3), // 可使用窗口高度
        statusBarHeight: 120,
        cutout: [{ left: 500, top: 0, right: 700, bottom: 200 }],
        screenDensity: global.HapEnvironment.devicePixelRatio
      }
      options.success(data)
    },

    getId(options = {}) {
      hybrid.polyfillPrompt('system.device', 'getId', options)
      const defaultData = mock$4['system.device.getId'].defaultData['success']
      const type = options.type
      const data = {}
      if (type && Array.isArray(type)) {
        type.forEach(t => {
          data[t] = defaultData[t]
        })
      }
      options.success(data)
    },

    getDeviceId(options = {}) {
      hybrid.polyfillPrompt('system.device', 'getDeviceId', options)
      const data = mock$4['system.device.getDeviceId'].defaultData['success']
      // add test for 精品好券
      options.success(data)
    },

    getUserId(options = {}) {
      hybrid.polyfillPrompt('system.device', 'getUserId', options)
      const data = mock$4['system.device.getUserId'].defaultData['success']
      options.success(data)
    },

    getAdvertisingId(options = {}) {
      hybrid.polyfillPrompt('system.device', 'getAdvertisingId', options)
      const data = mock$4['system.device.getAdvertisingId'].defaultData['success']
      options.success(data)
    },

    getOAID(options = {}) {
      hybrid.polyfillPrompt('system.device', 'getOAID', options)
      const data = mock$4['system.device.getOAID'].defaultData['success']
      options.success(data)
    },

    getTotalStorage(options = {}) {
      hybrid.polyfillPrompt('system.device', 'getTotalStorage', options)
      const data = mock$4['system.device.getTotalStorage'].defaultData['success']
      options.success(data)
    },

    getAvailableStorage(options = {}) {
      hybrid.polyfillPrompt('system.device', 'getAvailableStorage', options)
      const data = mock$4['system.device.getAvailableStorage'].defaultData['success']
      options.success(data)
    },

    getCpuInfo(options = {}) {
      hybrid.polyfillPrompt('system.device', 'getCpuInfo', options)
      const data = mock$4['system.device.getCpuInfo'].defaultData['success']
      options.success(data)
    },

    getSerial(options = {}) {
      hybrid.polyfillPrompt('system.device', 'getSerial', options)
      const data = mock$4['system.device.getSerial'].defaultData['success']
      options.success(data)
    },

    _getAllowTrackOAID() {
      return true
    },

    __getPlatform() {
      return {
        versionName: global.manifest && global.manifest.versionName,
        versionCode: global.manifest && global.manifest.versionCode
      }
    },

    _getHost() {
      hybrid.polyfillPrompt('system.device', 'host')
      const data = mock$4['system.device.host'].defaultData['result']
      return data
    }
  }

  var device = {
    module: moduleOwn$c,
    config: config$e,
    mock: mock$4
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  const config$f = {
    name: 'system.keyguard',
    methods: [
      // Method
      {
        name: 'getKeyguardLockedStatus',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      }
    ]
  }

  const moduleOwn$d = {
    getKeyguardLockedStatus(options = {}) {
      hybrid.polyfillPrompt(config$f.name, 'getKeyguardLockedStatus')
      options.success({ isKeyguardLocked: false })
    }
  }

  var keyguard = {
    module: moduleOwn$d,
    config: config$f
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  const mock$5 = {
    'system.geolocation.getLocation': {
      apiName: 'system.geolocation.getLocation',
      paramNameList: ['timeout', 'coordType'],
      callbackList: { success: 'json', fail: 'json' },
      defaultData: {
        success: {
          accuracy: 64.40107727050781,
          latitude: 22.570442,
          longitude: 114.055137,
          time: 1601085228204
        },
        fail: { code: 1000, data: '系统位置开关关闭' }
      }
    },
    'system.geolocation.getLocationType': {
      apiName: 'system.geolocation.getLocationType',
      paramNameList: [],
      callbackList: { success: 'json', fail: 'json' },
      defaultData: {
        success: { types: ['gps', 'network'] }
      }
    },
    'system.geolocation.getSupportedCoordTypes': {
      apiName: 'system.geolocation.getSupportedCoordTypes',
      paramNameList: [],
      callbackList: { result: 'string' },
      defaultData: {
        result: 'wgs84,gcj02'
      }
    },
    'system.geolocation.subscribe': {
      apiName: 'system.geolocation.subscribe',
      paramNameList: ['reserved', 'coordType'],
      callbackList: { callback: 'json', fail: 'json' },
      defaultData: {
        success: {
          accuracy: 64.40107727050781,
          latitude: 22.570442,
          longitude: 114.055137,
          time: 1601085300825
        },
        fail: { code: 1000, data: '系统位置开关关闭' }
      }
    }
  }

  const config$g = {
    name: 'system.geolocation',
    methods: [
      // Method
      {
        name: 'getLocation',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'getLocationType',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'openLocation',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'chooseLocation',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'subscribe',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.SUBSCRIBE
      },
      {
        name: 'unsubscribe',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.SYNC
      },
      {
        name: 'getSupportedCoordTypes',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.SYNC
      }
    ]
  }

  const PositionError = {
    PERMISSION_DENIED: 201,
    POSITION_UNAVAILABLE: 204,
    TIMEOUT: 1000
  }

  const moduleOwn$e = {
    _watchId: undefined,
    getLocation(options = {}) {
      if ('geolocation' in navigator) {
        const defaults = {
          coords: {
            accuracy: 4950,
            altitude: null,
            altitudeAccuracy: null,
            heading: null,
            latitude: 22.5606468,
            longitude: 114.060682,
            speed: null
          },
          timestamp: new Date().getTime()
        }
        /* 地理位置服务可用 */
        navigator.geolocation.getCurrentPosition(
          pos => {
            options.success({
              longitude: pos.coords.longitude,
              latitude: pos.coords.latitude,
              accuracy: pos.coords.accuracy,
              time: pos.timestamp
            })
          },
          err => {
            options.success({
              longitude: defaults.coords.longitude,
              latitude: defaults.coords.latitude,
              accuracy: defaults.coords.accuracy,
              time: defaults.timestamp
            })
            hybrid.errorTip(config$g.name, 'getLocation', '接口调用失败，IDE 返回模拟数据')
            // options.fail(err.message, PositionError[err.code] || 204)
          },
          { timeout: options.timeout || 1000 }
        )
      } else {
        /* 地理位置服务不可用 */
        options.fail('浏览器不支持定位', 1000)
      }
    },

    getLocationType(options = {}) {
      hybrid.polyfillPrompt(config$g.name, 'getLocationType', options)
      const data = mock$5['system.geolocation.getLocationType'].defaultData['success']
      options.success(data)
    },

    subscribe(options = {}) {
      if ('geolocation' in navigator) {
        /* 地理位置服务可用 */
        if (this._watchId) {
          navigator.geolocation.clearWatch(this._watchId)
        }
        this._watchId = navigator.geolocation.watchPosition(
          pos => {
            options.callback({
              longitude: pos.coords.longitude,
              latitude: pos.coords.latitude,
              accuracy: pos.coords.accuracy,
              time: pos.timestamp
            })
          },
          err => {
            options.fail(err.message, PositionError[err.code] || 204)
          }
        )
      } else {
        /* 地理位置服务不可用 */
        options.fail('浏览器不支持定位', 1000)
      }
    },

    unsubscribe() {
      mockUnsubscribe('system.geolocation.unsubscribe')
      if (this._watchId) {
        navigator.geolocation.clearWatch(this._watchId)
        this._watchId = undefined
      }
      return 'success'
    },
    getSupportedCoordTypes() {
      const data = mock$5['system.geolocation.getSupportedCoordTypes'].defaultData['success']
      return data
    }
  }

  var geolocation = {
    module: moduleOwn$e,
    config: config$g,
    mock: mock$5
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  const config$h = {
    name: 'system.file',
    methods: [
      // Method
      {
        name: 'move',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'copy',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'list',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'get',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'delete',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'writeText',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'readText',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'writeArrayBuffer',
        type: hybrid.TYPE.METHOD,
        normalize: hybrid.NORMALIZE.RAW,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'readArrayBuffer',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'access',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'mkdir',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'rmdir',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'createStreamFile',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.SYNC
      }
    ]
  }

  function setFile(key, val) {
    global.localStorage.setItem(key, JSON.stringify(val) || '')
  }

  function getFile(key) {
    for (let i = 0; i < global.localStorage.length; i++) {
      if (key === global.localStorage.key(i)) {
        let uri = global.localStorage.key(i)
        let obj = { uri, ...JSON.parse(getItem(key))[0] }
        return obj
      }
    }
    return false
  }

  function getItem(key) {
    return global.localStorage.getItem(key)
  }

  function getDirectory(key) {
    return global.localStorage.hasOwnProperty(key)
  }

  // 存储所有文件
  function containInList(filePath, lastModifiedTime, length = 290904, content = {}) {
    let key = filePath
    let val = [
      {
        length: length,
        lastModifiedTime: lastModifiedTime,
        type: 'file'
      },
      content
    ]
    setFile(key, val)
  }

  // 删除
  function deleteFileInList(key) {
    global.localStorage.removeItem(key)
  }

  // 获取指定文件目录下的所有文件
  function requestFileList(path) {
    let arr = []
    for (let i = 0; i < global.localStorage.length; i++) {
      if (global.localStorage.key(i).indexOf(path) === 0) {
        let key = global.localStorage.key(i)
        arr[i] = { uri: key, ...JSON.parse(getItem(key))[0] }
      }
    }
    return arr
  }

  function filterBuffer(number) {
    let arr = [0]
    for (let i = 1; i < number; i++) {
      if (i % 2 === 0) {
        arr.push(100)
      } else {
        arr.push(0)
      }
    }
    arr = new Uint8Array(arr)
    return arr
  }

  // 拼接buffer
  function contactBuffer(arr1, arr2) {
    let buffer = new Uint8Array(arr1.length + arr2.length)
    buffer.set(arr1)
    buffer.set(arr2, arr1.length)
    return buffer
  }

  function bufferTransform(obj) {
    let arr = []
    for (const key in obj) {
      if (obj.hasOwnProperty(key)) {
        arr.push(obj[key])
      }
    }
    let buffer = new ArrayBuffer(arr.length)
    let uint8 = new Uint8Array(buffer)
    uint8.set(arr)

    return arr
  }

  const moduleOwn$f = {
    move(options = {}) {
      if (!options.srcUri) {
        options.fail('srcUri not define', 202)
        return
      }
      let oldFliePath = options.srcUri.split('/').pop()
      let newFilePath = options.dstUri.split('/').pop()
      let lastModifiedTime = Date.now()
      let dstUri = ''
      // 存在，则删除
      if (getFile(options.srcUri)) {
        deleteFileInList(options.srcUri)
      }
      if (newFilePath.indexOf('.') !== -1) {
        // dstUri为文件路径
        dstUri = options.dstUri
      } else {
        // dstUri为文件夹路径
        dstUri = options.dstUri + oldFliePath
      }
      if (hybrid.getFile(options.srcUri)) {
        let blob = hybrid.getFile(options.srcUri)
        hybrid.saveFile(dstUri, blob)
      }
      // 存储
      containInList(dstUri, lastModifiedTime)
      options.success(dstUri)
    },
    copy(options = {}) {
      if (!options.srcUri) {
        options.fail('srcUri not define', 202)
        return
      }
      if (hybrid.getFile(options.srcUri)) {
        let blob = hybrid.getFile(options.srcUri)
        hybrid.saveFile(options.dstUri, blob)
      }
      let lastModifiedTime = Date.now()
      containInList(options.dstUri, lastModifiedTime)
      options.success(options.dstUri)
    },
    list(options = {}) {
      let uri = options.uri
      let fileList = requestFileList(uri)
      if (fileList.length > 0) {
        options.success({ fileList: fileList })
      } else {
        options.fail(`list ${uri} failed,result is null`, 300)
        return
      }
    },
    get(options = {}) {
      if (!options.uri) {
        options.fail('uri not define', 202)
        return
      }
      let data = getFile(options.uri)
      options.success(data)
    },
    delete(options = {}) {
      let uri = options.uri
      if (!uri) {
        options.fail('uri not define', 202)
        return
      } else {
        if (uri.indexOf('.') === -1) {
          options.fail('Can not delete a directory.', 300)
          return
        }
        if (!getItem(uri)) {
          options.fail('io error', 300)
          return
        }
      }
      deleteFileInList(uri)
      options.success('success')
    },
    writeText(options = {}) {
      if (!options.text) {
        options.fail('text not define', 202)
        return
      }
      if (!options.uri) {
        options.fail('uri not define', 202)
        return
      }
      let lastModifiedTime = Date.now()
      let length = options.text.length
      let text = options.text
      containInList(options.uri, lastModifiedTime, length, { text })
      options.success(options.uri)
    },
    // 猫眼即速版
    readText(options = {}) {
      if (getFile(options.uri)) {
        let text = JSON.parse(getItem(options.uri))[1].text
        options.success({ text: text })
      } else {
        options.fail('can not find the file', 301)
      }
    },
    writeArrayBuffer(options = {}) {
      let buffer = options.buffer
      let position = options.position
      if (options.position > 0) {
        buffer = contactBuffer(filterBuffer(position), options.buffer)
      }
      let content = { position: options.position, buffer: buffer }
      let length = options.buffer.length
      let lastModifiedTime = Date.now()
      containInList(options.uri, lastModifiedTime, length, content)
      options.success(options)
    },
    readArrayBuffer(options = {}) {
      let data = getItem(options.uri)
      if (!data) {
        let msg =
          '/data/user/0/com.vivo.hybrid/files/com.hybrid.demo.sample/testfile/buffer.txt: open failed: ENOENT (No such file or directory)'
        options.fail(msg, '301')
        return
      }
      let position = Number(options.position)
      let length = Number(options.length)
      if (length !== 0 && !length) {
        position = 0
        length = data.length
      }
      let buffer = JSON.parse(data)[1].buffer
      buffer = bufferTransform(buffer).slice(position, length + position)
      options.success({ buffer: buffer })
    },
    access(options = {}) {
      if (getDirectory(options.uri)) {
        let msg = 'Response { code=0 content=success }'
        options.success(msg)
      } else {
        options.fail('file does not exists', 300)
      }
    },
    mkdir(options = {}) {
      if (getDirectory(options.uri)) {
        options.fail(`uri ${options.uri} exists`, 300)
        return
      }
      setFile(options.uri)
      options.success({ options })
    },
    rmdir(options = {}) {
      let uri = options.uri.replace(/\/+$/, '')
      if (!getDirectory(uri)) {
        options.fail('directory does not exists', 300)
        return
      }
      deleteFileInList(uri)
      options.success({ options })
    },
    createStreamFile(options = {}) {
      hybrid.polyfillPrompt(config$h.name, 'createStreamFile', options)
      const streamFile = {}
      streamFile.openFile = function(opts = {}) {
        hybrid.polyfillPrompt('streamFile', 'openFile', opts)
      }
      streamFile.closeFile = function(opts = {}) {
        hybrid.polyfillPrompt('streamFile', 'closeFile', opts)
      }
      return streamFile
    }
  }

  var file = {
    module: moduleOwn$f,
    config: config$h
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */
  const config$i = {
    name: 'system.wifi',
    methods: [
      // Method
      {
        name: 'connect',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'scan',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'getConnectedWifi',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      // EVENT
      {
        name: '__onscanned',
        type: hybrid.TYPE.EVENT,
        mode: hybrid.MODE.CALLBACK,
        alias: 'onscanned'
      },
      {
        name: '__onstatechanged',
        type: hybrid.TYPE.EVENT,
        mode: hybrid.MODE.CALLBACK,
        alias: 'onstatechanged'
      }
    ]
  }

  const moduleOwn$g = {}

  var wifi = {
    module: moduleOwn$g,
    config: config$i
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */
  const config$j = {
    name: 'system.audio',
    methods: [
      // Method
      {
        name: 'play',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'pause',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'stop',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'getPlayState',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK,
        alias: 'state'
      },
      {
        name: '__getSrc',
        type: hybrid.TYPE.ATTRIBUTE,
        mode: hybrid.MODE.SYNC,
        access: hybrid.ACCESS.READ,
        alias: 'src'
      },
      {
        name: '__setSrc',
        type: hybrid.TYPE.ATTRIBUTE,
        mode: hybrid.MODE.SYNC,
        access: hybrid.ACCESS.WRITE,
        alias: 'src'
      },
      {
        name: '__getAutoplay',
        type: hybrid.TYPE.ATTRIBUTE,
        mode: hybrid.MODE.SYNC,
        access: hybrid.ACCESS.READ,
        alias: 'autoplay'
      },
      {
        name: '__setAutoplay',
        type: hybrid.TYPE.ATTRIBUTE,
        mode: hybrid.MODE.SYNC,
        access: hybrid.ACCESS.WRITE,
        alias: 'autoplay'
      },
      {
        name: '__getCurrentTime',
        type: hybrid.TYPE.ATTRIBUTE,
        mode: hybrid.MODE.SYNC,
        access: hybrid.ACCESS.READ,
        alias: 'currentTime'
      },
      {
        name: '__setCurrentTime',
        type: hybrid.TYPE.ATTRIBUTE,
        mode: hybrid.MODE.SYNC,
        access: hybrid.ACCESS.WRITE,
        alias: 'currentTime'
      },
      {
        name: '__getDuration',
        type: hybrid.TYPE.ATTRIBUTE,
        mode: hybrid.MODE.SYNC,
        access: hybrid.ACCESS.READ,
        alias: 'duration'
      },
      {
        name: '__getLoop',
        type: hybrid.TYPE.ATTRIBUTE,
        mode: hybrid.MODE.SYNC,
        access: hybrid.ACCESS.READ,
        alias: 'loop'
      },
      {
        name: '__setLoop',
        type: hybrid.TYPE.ATTRIBUTE,
        mode: hybrid.MODE.SYNC,
        access: hybrid.ACCESS.WRITE,
        alias: 'loop'
      },
      {
        name: '__getVolume',
        type: hybrid.TYPE.ATTRIBUTE,
        mode: hybrid.MODE.SYNC,
        access: hybrid.ACCESS.READ,
        alias: 'volume'
      },
      {
        name: '__setVolume',
        type: hybrid.TYPE.ATTRIBUTE,
        mode: hybrid.MODE.SYNC,
        access: hybrid.ACCESS.WRITE,
        alias: 'volume'
      },
      {
        name: '__getMuted',
        type: hybrid.TYPE.ATTRIBUTE,
        mode: hybrid.MODE.SYNC,
        access: hybrid.ACCESS.READ,
        alias: 'muted'
      },
      {
        name: '__setMuted',
        type: hybrid.TYPE.ATTRIBUTE,
        mode: hybrid.MODE.SYNC,
        access: hybrid.ACCESS.WRITE,
        alias: 'muted'
      },
      {
        name: '__getNotificationVisible',
        type: hybrid.TYPE.ATTRIBUTE,
        mode: hybrid.MODE.SYNC,
        access: hybrid.ACCESS.READ,
        alias: 'notificationVisible'
      },
      {
        name: '__setNotificationVisible',
        type: hybrid.TYPE.ATTRIBUTE,
        mode: hybrid.MODE.SYNC,
        access: hybrid.ACCESS.WRITE,
        alias: 'notificationVisible'
      },
      {
        name: '__getTitle',
        type: hybrid.TYPE.ATTRIBUTE,
        mode: hybrid.MODE.SYNC,
        access: hybrid.ACCESS.READ,
        alias: 'title'
      },
      {
        name: '__setTitle',
        type: hybrid.TYPE.ATTRIBUTE,
        mode: hybrid.MODE.SYNC,
        access: hybrid.ACCESS.WRITE,
        alias: 'title'
      },
      {
        name: '__getArtist',
        type: hybrid.TYPE.ATTRIBUTE,
        mode: hybrid.MODE.SYNC,
        access: hybrid.ACCESS.READ,
        alias: 'artist'
      },
      {
        name: '__setArtist',
        type: hybrid.TYPE.ATTRIBUTE,
        mode: hybrid.MODE.SYNC,
        access: hybrid.ACCESS.WRITE,
        alias: 'artist'
      },
      {
        name: '__onplay',
        type: hybrid.TYPE.EVENT,
        mode: hybrid.MODE.SUBSCRIBE,
        alias: 'onplay'
      },
      {
        name: '__onpause',
        type: hybrid.TYPE.EVENT,
        mode: hybrid.MODE.SUBSCRIBE,
        alias: 'onpause'
      },
      {
        name: '__onloadeddata',
        type: hybrid.TYPE.EVENT,
        mode: hybrid.MODE.SUBSCRIBE,
        alias: 'onloadeddata'
      },
      {
        name: '__onended',
        type: hybrid.TYPE.EVENT,
        mode: hybrid.MODE.SUBSCRIBE,
        alias: 'onended'
      },
      {
        name: '__ondurationchange',
        type: hybrid.TYPE.EVENT,
        mode: hybrid.MODE.SUBSCRIBE,
        alias: 'ondurationchange'
      },
      {
        name: '__onerror',
        type: hybrid.TYPE.EVENT,
        mode: hybrid.MODE.SUBSCRIBE,
        alias: 'onerror'
      },
      {
        name: '__ontimeupdate',
        type: hybrid.TYPE.EVENT,
        mode: hybrid.MODE.SUBSCRIBE,
        alias: 'ontimeupdate'
      },
      {
        name: '__onstop',
        type: hybrid.TYPE.EVENT,
        mode: hybrid.MODE.SUBSCRIBE,
        alias: 'onstop'
      },
      {
        name: '__onprevious',
        type: hybrid.TYPE.EVENT,
        mode: hybrid.MODE.SUBSCRIBE,
        alias: 'onprevious'
      },
      {
        name: '__onnext',
        type: hybrid.TYPE.EVENT,
        mode: hybrid.MODE.SUBSCRIBE,
        alias: 'onnext'
      },
      {
        name: '__getStreamType',
        type: hybrid.TYPE.ATTRIBUTE,
        mode: hybrid.MODE.SYNC,
        access: hybrid.ACCESS.READ,
        alias: 'streamType'
      },
      {
        name: '__setStreamType',
        type: hybrid.TYPE.ATTRIBUTE,
        mode: hybrid.MODE.SYNC,
        access: hybrid.ACCESS.WRITE,
        alias: 'streamType'
      }
    ]
  }
  const audioObj = {
    src: '',
    notificationVisible: false,
    streamType: 'music',
    evtType: 'pause'
  }
  const audioDomId = 'HapAudioDomId' + Date.now()
  const moduleOwn$h = {
    __onplay(opt) {
      addDomEvent(audioDomId, 'play', opt.callback)
    },
    __onpause(opt) {
      addDomEvent(audioDomId, 'pause', evt => {
        if (audioObj.evtType === 'pause') {
          if (typeof opt.callback === 'function') {
            opt.callback(evt)
          }
        }
      })
    },
    __onstop(opt) {
      addDomEvent(audioDomId, 'pause', evt => {
        if (audioObj.evtType === 'stop') {
          if (typeof opt.callback === 'function') {
            opt.callback(evt)
          }
        }
      })
    },
    __onloadeddata(opt) {
      addDomEvent(audioDomId, 'loadeddata', opt.callback)
    },
    __onended(opt) {
      addDomEvent(audioDomId, 'ended', opt.callback)
    },
    __ondurationchange(opt) {
      addDomEvent(audioDomId, 'durationchange', opt.callback)
    },
    __onerror(opt) {
      addDomEvent(audioDomId, 'error', opt.callback)
    },
    __ontimeupdate(opt) {
      addDomEvent(audioDomId, 'timeupdate', opt.callback)
    },
    __onprevious(opt) {
      console.warn('==h5暂时不支持 onprevious 事件==')
      addDomEvent(audioDomId, 'previous', opt.callback)
    },
    __onnext(opt) {
      console.warn('==h5暂时不支持 onnext 事件==')
      addDomEvent(audioDomId, 'nex', opt.callback)
    },
    play() {
      audioObj.evtType = 'play'
      let audioDom = document.getElementById(audioDomId)
      if (!audioDom) {
        this.__setSrc({ value: audioObj.src })
        audioDom = document.getElementById(audioDomId)
      }
      if (audioObj.streamType === 'music') {
        const audioBlob = hybrid.getFile(audioObj.src)
        audioDom.src = window.URL.createObjectURL(audioBlob)
      }
      audioDom.play()
    },
    pause() {
      audioObj.evtType = 'pause'
      const audioDom = document.getElementById(audioDomId)
      if (audioDom) {
        audioDom.pause()
      }
    },
    stop() {
      audioObj.evtType = 'stop'
      const audioDom = document.getElementById(audioDomId)
      if (audioDom) {
        audioDom.pause()
        this.__setCurrentTime({ value: 0 })
      }
    },
    getPlayState(options = {}) {
      const data = {}
      data.state = audioObj.evtType
      data.src = this.__getSrc().content
      data.currentTime = this.__getCurrentTime().content
      data.autoplay = this.__getAutoplay().content
      data.loop = this.__getLoop().content
      data.volume = this.__getVolume().content
      data.muted = this.__getMuted().content
      data.notificationVisible = this.__getNotificationVisible().content
      options.success(data)
    },
    __getSrc() {
      return audioObj.src
    },
    __setSrc(obj) {
      audioObj.src = obj.value

      let audioDom = document.getElementById(audioDomId)
      if (!audioDom) {
        audioDom = document.createElement('audio')
        audioDom.id = audioDomId
        audioDom.style.display = 'none'
        document.body.appendChild(audioDom)
      }
      if (obj.value && obj.value.toLowerCase().startsWith('http')) {
        audioDom.src = audioObj.src
      } else {
        audioDom.src = global.Hap.basePath + audioObj.src
      }

      return obj
    },

    __getCurrentTime() {
      const audioDom = document.getElementById(audioDomId)
      if (audioDom) {
        return audioDom.currentTime
      } else {
        return 0
      }
    },
    __setCurrentTime(obj) {
      const audioDom = document.getElementById(audioDomId)
      if (audioDom) {
        audioDom.currentTime = obj.value
      }
      return obj
    },
    __getDuration() {
      const audioDom = document.getElementById(audioDomId)
      if (audioDom) {
        return audioDom.duration
      } else {
        return 0
      }
    },
    __getAutoplay() {
      console.warn('==目前h5暂不支持自动播放,请使用真机调试体验完整功能==')
      return getAudioDomBoolean('autoplay')
    },
    __setAutoplay(obj) {
      setAudioDomBoolean('autoplay', obj.value)
      return obj
    },

    __getLoop() {
      return getAudioDomBoolean('loop')
    },
    __setLoop(obj) {
      setAudioDomBoolean('loop', obj.value)
      return obj
    },
    __getVolume() {
      const audioDom = document.getElementById(audioDomId)
      if (audioDom) {
        return audioDom.volume
      } else {
        return 1
      }
    },
    __setVolume(obj) {
      const audioDom = document.getElementById(audioDomId)
      if (audioDom) {
        audioDom.volume = obj.value
      }
      return obj
    },
    __getMuted() {
      return getAudioDomBoolean('muted')
    },
    __setMuted(obj) {
      setAudioDomBoolean('muted', obj.value)
      return obj
    },
    __getNotificationVisible() {
      return audioObj.notificationVisible
    },
    __setNotificationVisible(obj) {
      audioObj.notificationVisible = obj.value
      return obj
    },
    __getTitle() {
      return getAudioDomStr('title')
    },
    __setTitle(obj) {
      setAudioDomStr('title', obj.value)
      return obj
    },
    __getArtist() {
      return getAudioDomStr('artist')
    },
    __setArtist(obj) {
      setAudioDomStr('artist', obj.value)
      return obj
    },
    __getStreamType() {
      return audioObj.streamType
    },
    __setStreamType(obj) {
      audioObj.streamType = obj.value
      return obj
    }
  }

  function setAudioDomBoolean(key, value) {
    let audioDom = document.getElementById(audioDomId)
    if (audioDom) {
      audioDom[key] = value
    } else {
      audioDom = document.createElement('audio')
      audioDom.id = audioDomId
      audioDom.style.display = 'none'
      document.body.appendChild(audioDom)
      audioDom[key] = value
    }
  }

  function getAudioDomBoolean(key) {
    const audioDom = document.getElementById(audioDomId)
    if (audioDom) {
      return !!audioDom[key]
    } else {
      return false
    }
  }
  function setAudioDomStr(key, value) {
    const audioDom = document.getElementById(audioDomId)
    audioDom[key] = value
  }
  function getAudioDomStr(key) {
    const audioDom = document.getElementById(audioDomId)
    if (audioDom) {
      if (audioDom[key] === '' || !audioDom[key]) {
        if (audioDom.paused) {
          return '暂停播放'
        } else {
          return '正在播放'
        }
      } else {
        return audioDom[key]
      }
    } else {
      return '暂停播放'
    }
  }

  function addDomEvent(audioDomId, evt, callback) {
    let audioDom = document.getElementById(audioDomId)
    if (!audioDom) {
      audioDom = document.createElement('audio')
      audioDom.id = audioDomId
      document.body.appendChild(audioDom)
    }
    if (typeof callback === 'function') {
      audioDom.addEventListener(evt, callback)
    }
  }

  var audio = {
    module: moduleOwn$h,
    config: config$j
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  const mock$6 = {
    'system.battery.getStatus': {
      apiName: 'system.battery.getStatus',
      paramNameList: [],
      callbackList: { success: 'json', fail: 'json' },
      defaultData: {
        success: {
          charging: false,
          level: 0.8
        }
      }
    }
  }

  const config$k = {
    name: 'system.battery',
    methods: [
      // Method
      {
        name: 'getStatus',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      }
    ]
  }

  const moduleOwn$i = {
    getStatus(options = {}) {
      const data = mock$6['system.battery.getStatus'].defaultData['success']
      options.success(data)
    }
  }

  var battery = {
    module: moduleOwn$i,
    config: config$k,
    mock: mock$6
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  const mock$7 = {}

  const config$l = {
    name: 'system.brightness',
    methods: [
      // Method
      {
        name: 'getValue',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'setValue',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'getMode',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'setMode',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'setKeepScreenOn',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      }
    ]
  }

  const moduleOwn$j = {}

  var brightness = {
    module: moduleOwn$j,
    config: config$l,
    mock: mock$7
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */
  const config$m = {
    name: 'system.calendar',
    methods: [
      // Method
      {
        name: 'insert',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      }
    ]
  }

  const moduleOwn$k = {}

  var calendar = {
    module: moduleOwn$k,
    config: config$m
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */
  const config$n = {
    name: 'system.canvas',
    methods: [
      // Method
      {
        name: 'getContext',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.SYNC
      },
      {
        name: 'canvasNative2D',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'canvasNative2DSync',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.SYNC
      },
      {
        name: 'preloadImage',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      }
    ]
  }

  const moduleOwn$l = {}

  var canvas = {
    module: moduleOwn$l,
    config: config$n
  }

  var jsencrypt = createCommonjsModule(function(module, exports) {
    ;(function(global, factory) {
      factory(exports)
    })(commonjsGlobal, function(exports) {
      var BI_RM = '0123456789abcdefghijklmnopqrstuvwxyz'
      function int2char(n) {
        return BI_RM.charAt(n)
      }
      //#region BIT_OPERATIONS
      // (public) this & a
      function op_and(x, y) {
        return x & y
      }
      // (public) this | a
      function op_or(x, y) {
        return x | y
      }
      // (public) this ^ a
      function op_xor(x, y) {
        return x ^ y
      }
      // (public) this & ~a
      function op_andnot(x, y) {
        return x & ~y
      }
      // return index of lowest 1-bit in x, x < 2^31
      function lbit(x) {
        if (x == 0) {
          return -1
        }
        var r = 0
        if ((x & 0xffff) == 0) {
          x >>= 16
          r += 16
        }
        if ((x & 0xff) == 0) {
          x >>= 8
          r += 8
        }
        if ((x & 0xf) == 0) {
          x >>= 4
          r += 4
        }
        if ((x & 3) == 0) {
          x >>= 2
          r += 2
        }
        if ((x & 1) == 0) {
          ++r
        }
        return r
      }
      // return number of 1 bits in x
      function cbit(x) {
        var r = 0
        while (x != 0) {
          x &= x - 1
          ++r
        }
        return r
      }
      //#endregion BIT_OPERATIONS

      var b64map = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'
      var b64pad = '='
      function hex2b64(h) {
        var i
        var c
        var ret = ''
        for (i = 0; i + 3 <= h.length; i += 3) {
          c = parseInt(h.substring(i, i + 3), 16)
          ret += b64map.charAt(c >> 6) + b64map.charAt(c & 63)
        }
        if (i + 1 == h.length) {
          c = parseInt(h.substring(i, i + 1), 16)
          ret += b64map.charAt(c << 2)
        } else if (i + 2 == h.length) {
          c = parseInt(h.substring(i, i + 2), 16)
          ret += b64map.charAt(c >> 2) + b64map.charAt((c & 3) << 4)
        }
        while ((ret.length & 3) > 0) {
          ret += b64pad
        }
        return ret
      }
      // convert a base64 string to hex
      function b64tohex(s) {
        var ret = ''
        var i
        var k = 0 // b64 state, 0-3
        var slop = 0
        for (i = 0; i < s.length; ++i) {
          if (s.charAt(i) == b64pad) {
            break
          }
          var v = b64map.indexOf(s.charAt(i))
          if (v < 0) {
            continue
          }
          if (k == 0) {
            ret += int2char(v >> 2)
            slop = v & 3
            k = 1
          } else if (k == 1) {
            ret += int2char((slop << 2) | (v >> 4))
            slop = v & 0xf
            k = 2
          } else if (k == 2) {
            ret += int2char(slop)
            ret += int2char(v >> 2)
            slop = v & 3
            k = 3
          } else {
            ret += int2char((slop << 2) | (v >> 4))
            ret += int2char(v & 0xf)
            k = 0
          }
        }
        if (k == 1) {
          ret += int2char(slop << 2)
        }
        return ret
      }

      /*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
      /* global Reflect, Promise */

      var extendStatics = function(d, b) {
        extendStatics =
          Object.setPrototypeOf ||
          ({ __proto__: [] } instanceof Array &&
            function(d, b) {
              d.__proto__ = b
            }) ||
          function(d, b) {
            for (var p in b) {
              if (b.hasOwnProperty(p)) {
                d[p] = b[p]
              }
            }
          }
        return extendStatics(d, b)
      }

      function __extends(d, b) {
        extendStatics(d, b)
        function __() {
          this.constructor = d
        }
        d.prototype = b === null ? Object.create(b) : ((__.prototype = b.prototype), new __())
      }

      // Hex JavaScript decoder
      // Copyright (c) 2008-2013 Lapo Luchini <lapo@lapo.it>
      // Permission to use, copy, modify, and/or distribute this software for any
      // purpose with or without fee is hereby granted, provided that the above
      // copyright notice and this permission notice appear in all copies.
      //
      // THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
      // WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
      // MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
      // ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
      // WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
      // ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
      // OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
      /*jshint browser: true, strict: true, immed: true, latedef: true, undef: true, regexdash: false */
      var decoder
      var Hex = {
        decode: function(a) {
          var i
          if (decoder === undefined) {
            var hex = '0123456789ABCDEF'
            var ignore = ' \f\n\r\t\u00A0\u2028\u2029'
            decoder = {}
            for (i = 0; i < 16; ++i) {
              decoder[hex.charAt(i)] = i
            }
            hex = hex.toLowerCase()
            for (i = 10; i < 16; ++i) {
              decoder[hex.charAt(i)] = i
            }
            for (i = 0; i < ignore.length; ++i) {
              decoder[ignore.charAt(i)] = -1
            }
          }
          var out = []
          var bits = 0
          var char_count = 0
          for (i = 0; i < a.length; ++i) {
            var c = a.charAt(i)
            if (c == '=') {
              break
            }
            c = decoder[c]
            if (c == -1) {
              continue
            }
            if (c === undefined) {
              throw new Error('Illegal character at offset ' + i)
            }
            bits |= c
            if (++char_count >= 2) {
              out[out.length] = bits
              bits = 0
              char_count = 0
            } else {
              bits <<= 4
            }
          }
          if (char_count) {
            throw new Error('Hex encoding incomplete: 4 bits missing')
          }
          return out
        }
      }

      // Base64 JavaScript decoder
      // Copyright (c) 2008-2013 Lapo Luchini <lapo@lapo.it>
      // Permission to use, copy, modify, and/or distribute this software for any
      // purpose with or without fee is hereby granted, provided that the above
      // copyright notice and this permission notice appear in all copies.
      //
      // THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
      // WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
      // MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
      // ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
      // WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
      // ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
      // OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
      /*jshint browser: true, strict: true, immed: true, latedef: true, undef: true, regexdash: false */
      var decoder$1
      var Base64 = {
        decode: function(a) {
          var i
          if (decoder$1 === undefined) {
            var b64 = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'
            var ignore = '= \f\n\r\t\u00A0\u2028\u2029'
            decoder$1 = Object.create(null)
            for (i = 0; i < 64; ++i) {
              decoder$1[b64.charAt(i)] = i
            }
            for (i = 0; i < ignore.length; ++i) {
              decoder$1[ignore.charAt(i)] = -1
            }
          }
          var out = []
          var bits = 0
          var char_count = 0
          for (i = 0; i < a.length; ++i) {
            var c = a.charAt(i)
            if (c == '=') {
              break
            }
            c = decoder$1[c]
            if (c == -1) {
              continue
            }
            if (c === undefined) {
              throw new Error('Illegal character at offset ' + i)
            }
            bits |= c
            if (++char_count >= 4) {
              out[out.length] = bits >> 16
              out[out.length] = (bits >> 8) & 0xff
              out[out.length] = bits & 0xff
              bits = 0
              char_count = 0
            } else {
              bits <<= 6
            }
          }
          switch (char_count) {
            case 1:
              throw new Error('Base64 encoding incomplete: at least 2 bits missing')
            case 2:
              out[out.length] = bits >> 10
              break
            case 3:
              out[out.length] = bits >> 16
              out[out.length] = (bits >> 8) & 0xff
              break
          }
          return out
        },
        re: /-----BEGIN [^-]+-----([A-Za-z0-9+\/=\s]+)-----END [^-]+-----|begin-base64[^\n]+\n([A-Za-z0-9+\/=\s]+)====/,
        unarmor: function(a) {
          var m = Base64.re.exec(a)
          if (m) {
            if (m[1]) {
              a = m[1]
            } else if (m[2]) {
              a = m[2]
            } else {
              throw new Error('RegExp out of sync')
            }
          }
          return Base64.decode(a)
        }
      }

      // Big integer base-10 printing library
      // Copyright (c) 2014 Lapo Luchini <lapo@lapo.it>
      // Permission to use, copy, modify, and/or distribute this software for any
      // purpose with or without fee is hereby granted, provided that the above
      // copyright notice and this permission notice appear in all copies.
      //
      // THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
      // WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
      // MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
      // ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
      // WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
      // ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
      // OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
      /*jshint browser: true, strict: true, immed: true, latedef: true, undef: true, regexdash: false */
      var max = 10000000000000 // biggest integer that can still fit 2^53 when multiplied by 256
      var Int10 = /** @class */ (function() {
        function Int10(value) {
          this.buf = [+value || 0]
        }
        Int10.prototype.mulAdd = function(m, c) {
          // assert(m <= 256)
          var b = this.buf
          var l = b.length
          var i
          var t
          for (i = 0; i < l; ++i) {
            t = b[i] * m + c
            if (t < max) {
              c = 0
            } else {
              c = 0 | (t / max)
              t -= c * max
            }
            b[i] = t
          }
          if (c > 0) {
            b[i] = c
          }
        }
        Int10.prototype.sub = function(c) {
          // assert(m <= 256)
          var b = this.buf
          var l = b.length
          var i
          var t
          for (i = 0; i < l; ++i) {
            t = b[i] - c
            if (t < 0) {
              t += max
              c = 1
            } else {
              c = 0
            }
            b[i] = t
          }
          while (b[b.length - 1] === 0) {
            b.pop()
          }
        }
        Int10.prototype.toString = function(base) {
          if ((base || 10) != 10) {
            throw new Error('only base 10 is supported')
          }
          var b = this.buf
          var s = b[b.length - 1].toString()
          for (var i = b.length - 2; i >= 0; --i) {
            s += (max + b[i]).toString().substring(1)
          }
          return s
        }
        Int10.prototype.valueOf = function() {
          var b = this.buf
          var v = 0
          for (var i = b.length - 1; i >= 0; --i) {
            v = v * max + b[i]
          }
          return v
        }
        Int10.prototype.simplify = function() {
          var b = this.buf
          return b.length == 1 ? b[0] : this
        }
        return Int10
      })()

      // ASN.1 JavaScript decoder
      var ellipsis = '\u2026'
      var reTimeS = /^(\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/
      var reTimeL = /^(\d\d\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/
      function stringCut(str, len) {
        if (str.length > len) {
          str = str.substring(0, len) + ellipsis
        }
        return str
      }
      var Stream = /** @class */ (function() {
        function Stream(enc, pos) {
          this.hexDigits = '0123456789ABCDEF'
          if (enc instanceof Stream) {
            this.enc = enc.enc
            this.pos = enc.pos
          } else {
            // enc should be an array or a binary string
            this.enc = enc
            this.pos = pos
          }
        }
        Stream.prototype.get = function(pos) {
          if (pos === undefined) {
            pos = this.pos++
          }
          if (pos >= this.enc.length) {
            throw new Error(
              'Requesting byte offset ' + pos + ' on a stream of length ' + this.enc.length
            )
          }
          return 'string' === typeof this.enc ? this.enc.charCodeAt(pos) : this.enc[pos]
        }
        Stream.prototype.hexByte = function(b) {
          return this.hexDigits.charAt((b >> 4) & 0xf) + this.hexDigits.charAt(b & 0xf)
        }
        Stream.prototype.hexDump = function(start, end, raw) {
          var s = ''
          for (var i = start; i < end; ++i) {
            s += this.hexByte(this.get(i))
            if (raw !== true) {
              switch (i & 0xf) {
                case 0x7:
                  s += '  '
                  break
                case 0xf:
                  s += '\n'
                  break
                default:
                  s += ' '
              }
            }
          }
          return s
        }
        Stream.prototype.isASCII = function(start, end) {
          for (var i = start; i < end; ++i) {
            var c = this.get(i)
            if (c < 32 || c > 176) {
              return false
            }
          }
          return true
        }
        Stream.prototype.parseStringISO = function(start, end) {
          var s = ''
          for (var i = start; i < end; ++i) {
            s += String.fromCharCode(this.get(i))
          }
          return s
        }
        Stream.prototype.parseStringUTF = function(start, end) {
          var s = ''
          for (var i = start; i < end; ) {
            var c = this.get(i++)
            if (c < 128) {
              s += String.fromCharCode(c)
            } else if (c > 191 && c < 224) {
              s += String.fromCharCode(((c & 0x1f) << 6) | (this.get(i++) & 0x3f))
            } else {
              s += String.fromCharCode(
                ((c & 0x0f) << 12) | ((this.get(i++) & 0x3f) << 6) | (this.get(i++) & 0x3f)
              )
            }
          }
          return s
        }
        Stream.prototype.parseStringBMP = function(start, end) {
          var str = ''
          var hi
          var lo
          for (var i = start; i < end; ) {
            hi = this.get(i++)
            lo = this.get(i++)
            str += String.fromCharCode((hi << 8) | lo)
          }
          return str
        }
        Stream.prototype.parseTime = function(start, end, shortYear) {
          var s = this.parseStringISO(start, end)
          var m = (shortYear ? reTimeS : reTimeL).exec(s)
          if (!m) {
            return 'Unrecognized time: ' + s
          }
          if (shortYear) {
            // to avoid querying the timer, use the fixed range [1970, 2069]
            // it will conform with ITU X.400 [-10, +40] sliding window until 2030
            m[1] = +m[1]
            m[1] += +m[1] < 70 ? 2000 : 1900
          }
          s = m[1] + '-' + m[2] + '-' + m[3] + ' ' + m[4]
          if (m[5]) {
            s += ':' + m[5]
            if (m[6]) {
              s += ':' + m[6]
              if (m[7]) {
                s += '.' + m[7]
              }
            }
          }
          if (m[8]) {
            s += ' UTC'
            if (m[8] != 'Z') {
              s += m[8]
              if (m[9]) {
                s += ':' + m[9]
              }
            }
          }
          return s
        }
        Stream.prototype.parseInteger = function(start, end) {
          var v = this.get(start)
          var neg = v > 127
          var pad = neg ? 255 : 0
          var len
          var s = ''
          // skip unuseful bits (not allowed in DER)
          while (v == pad && ++start < end) {
            v = this.get(start)
          }
          len = end - start
          if (len === 0) {
            return neg ? -1 : 0
          }
          // show bit length of huge integers
          if (len > 4) {
            s = v
            len <<= 3
            while (((+s ^ pad) & 0x80) == 0) {
              s = +s << 1
              --len
            }
            s = '(' + len + ' bit)\n'
          }
          // decode the integer
          if (neg) {
            v = v - 256
          }
          var n = new Int10(v)
          for (var i = start + 1; i < end; ++i) {
            n.mulAdd(256, this.get(i))
          }
          return s + n.toString()
        }
        Stream.prototype.parseBitString = function(start, end, maxLength) {
          var unusedBit = this.get(start)
          var lenBit = ((end - start - 1) << 3) - unusedBit
          var intro = '(' + lenBit + ' bit)\n'
          var s = ''
          for (var i = start + 1; i < end; ++i) {
            var b = this.get(i)
            var skip = i == end - 1 ? unusedBit : 0
            for (var j = 7; j >= skip; --j) {
              s += (b >> j) & 1 ? '1' : '0'
            }
            if (s.length > maxLength) {
              return intro + stringCut(s, maxLength)
            }
          }
          return intro + s
        }
        Stream.prototype.parseOctetString = function(start, end, maxLength) {
          if (this.isASCII(start, end)) {
            return stringCut(this.parseStringISO(start, end), maxLength)
          }
          var len = end - start
          var s = '(' + len + ' byte)\n'
          maxLength /= 2 // we work in bytes
          if (len > maxLength) {
            end = start + maxLength
          }
          for (var i = start; i < end; ++i) {
            s += this.hexByte(this.get(i))
          }
          if (len > maxLength) {
            s += ellipsis
          }
          return s
        }
        Stream.prototype.parseOID = function(start, end, maxLength) {
          var s = ''
          var n = new Int10()
          var bits = 0
          for (var i = start; i < end; ++i) {
            var v = this.get(i)
            n.mulAdd(128, v & 0x7f)
            bits += 7
            if (!(v & 0x80)) {
              // finished
              if (s === '') {
                n = n.simplify()
                if (n instanceof Int10) {
                  n.sub(80)
                  s = '2.' + n.toString()
                } else {
                  var m = n < 80 ? (n < 40 ? 0 : 1) : 2
                  s = m + '.' + (n - m * 40)
                }
              } else {
                s += '.' + n.toString()
              }
              if (s.length > maxLength) {
                return stringCut(s, maxLength)
              }
              n = new Int10()
              bits = 0
            }
          }
          if (bits > 0) {
            s += '.incomplete'
          }
          return s
        }
        return Stream
      })()
      var ASN1 = /** @class */ (function() {
        function ASN1(stream, header, length, tag, sub) {
          if (!(tag instanceof ASN1Tag)) {
            throw new Error('Invalid tag value.')
          }
          this.stream = stream
          this.header = header
          this.length = length
          this.tag = tag
          this.sub = sub
        }
        ASN1.prototype.typeName = function() {
          switch (this.tag.tagClass) {
            case 0: // universal
              switch (this.tag.tagNumber) {
                case 0x00:
                  return 'EOC'
                case 0x01:
                  return 'BOOLEAN'
                case 0x02:
                  return 'INTEGER'
                case 0x03:
                  return 'BIT_STRING'
                case 0x04:
                  return 'OCTET_STRING'
                case 0x05:
                  return 'NULL'
                case 0x06:
                  return 'OBJECT_IDENTIFIER'
                case 0x07:
                  return 'ObjectDescriptor'
                case 0x08:
                  return 'EXTERNAL'
                case 0x09:
                  return 'REAL'
                case 0x0a:
                  return 'ENUMERATED'
                case 0x0b:
                  return 'EMBEDDED_PDV'
                case 0x0c:
                  return 'UTF8String'
                case 0x10:
                  return 'SEQUENCE'
                case 0x11:
                  return 'SET'
                case 0x12:
                  return 'NumericString'
                case 0x13:
                  return 'PrintableString' // ASCII subset
                case 0x14:
                  return 'TeletexString' // aka T61String
                case 0x15:
                  return 'VideotexString'
                case 0x16:
                  return 'IA5String' // ASCII
                case 0x17:
                  return 'UTCTime'
                case 0x18:
                  return 'GeneralizedTime'
                case 0x19:
                  return 'GraphicString'
                case 0x1a:
                  return 'VisibleString' // ASCII subset
                case 0x1b:
                  return 'GeneralString'
                case 0x1c:
                  return 'UniversalString'
                case 0x1e:
                  return 'BMPString'
              }
              return 'Universal_' + this.tag.tagNumber.toString()
            case 1:
              return 'Application_' + this.tag.tagNumber.toString()
            case 2:
              return '[' + this.tag.tagNumber.toString() + ']' // Context
            case 3:
              return 'Private_' + this.tag.tagNumber.toString()
          }
        }
        ASN1.prototype.content = function(maxLength) {
          if (this.tag === undefined) {
            return null
          }
          if (maxLength === undefined) {
            maxLength = Infinity
          }
          var content = this.posContent()
          var len = Math.abs(this.length)
          if (!this.tag.isUniversal()) {
            if (this.sub !== null) {
              return '(' + this.sub.length + ' elem)'
            }
            return this.stream.parseOctetString(content, content + len, maxLength)
          }
          switch (this.tag.tagNumber) {
            case 0x01: // BOOLEAN
              return this.stream.get(content) === 0 ? 'false' : 'true'
            case 0x02: // INTEGER
              return this.stream.parseInteger(content, content + len)
            case 0x03: // BIT_STRING
              return this.sub
                ? '(' + this.sub.length + ' elem)'
                : this.stream.parseBitString(content, content + len, maxLength)
            case 0x04: // OCTET_STRING
              return this.sub
                ? '(' + this.sub.length + ' elem)'
                : this.stream.parseOctetString(content, content + len, maxLength)
            // case 0x05: // NULL
            case 0x06: // OBJECT_IDENTIFIER
              return this.stream.parseOID(content, content + len, maxLength)
            // case 0x07: // ObjectDescriptor
            // case 0x08: // EXTERNAL
            // case 0x09: // REAL
            // case 0x0A: // ENUMERATED
            // case 0x0B: // EMBEDDED_PDV
            case 0x10: // SEQUENCE
            case 0x11: // SET
              if (this.sub !== null) {
                return '(' + this.sub.length + ' elem)'
              } else {
                return '(no elem)'
              }
            case 0x0c: // UTF8String
              return stringCut(this.stream.parseStringUTF(content, content + len), maxLength)
            case 0x12: // NumericString
            case 0x13: // PrintableString
            case 0x14: // TeletexString
            case 0x15: // VideotexString
            case 0x16: // IA5String
            // case 0x19: // GraphicString
            case 0x1a: // VisibleString
              // case 0x1B: // GeneralString
              // case 0x1C: // UniversalString
              return stringCut(this.stream.parseStringISO(content, content + len), maxLength)
            case 0x1e: // BMPString
              return stringCut(this.stream.parseStringBMP(content, content + len), maxLength)
            case 0x17: // UTCTime
            case 0x18: // GeneralizedTime
              return this.stream.parseTime(content, content + len, this.tag.tagNumber == 0x17)
          }
          return null
        }
        ASN1.prototype.toString = function() {
          return (
            this.typeName() +
            '@' +
            this.stream.pos +
            '[header:' +
            this.header +
            ',length:' +
            this.length +
            ',sub:' +
            (this.sub === null ? 'null' : this.sub.length) +
            ']'
          )
        }
        ASN1.prototype.toPrettyString = function(indent) {
          if (indent === undefined) {
            indent = ''
          }
          var s = indent + this.typeName() + ' @' + this.stream.pos
          if (this.length >= 0) {
            s += '+'
          }
          s += this.length
          if (this.tag.tagConstructed) {
            s += ' (constructed)'
          } else if (
            this.tag.isUniversal() &&
            (this.tag.tagNumber == 0x03 || this.tag.tagNumber == 0x04) &&
            this.sub !== null
          ) {
            s += ' (encapsulates)'
          }
          s += '\n'
          if (this.sub !== null) {
            indent += '  '
            for (var i = 0, max = this.sub.length; i < max; ++i) {
              s += this.sub[i].toPrettyString(indent)
            }
          }
          return s
        }
        ASN1.prototype.posStart = function() {
          return this.stream.pos
        }
        ASN1.prototype.posContent = function() {
          return this.stream.pos + this.header
        }
        ASN1.prototype.posEnd = function() {
          return this.stream.pos + this.header + Math.abs(this.length)
        }
        ASN1.prototype.toHexString = function() {
          return this.stream.hexDump(this.posStart(), this.posEnd(), true)
        }
        ASN1.decodeLength = function(stream) {
          var buf = stream.get()
          var len = buf & 0x7f
          if (len == buf) {
            return len
          }
          // no reason to use Int10, as it would be a huge buffer anyways
          if (len > 6) {
            throw new Error('Length over 48 bits not supported at position ' + (stream.pos - 1))
          }
          if (len === 0) {
            return null
          } // undefined
          buf = 0
          for (var i = 0; i < len; ++i) {
            buf = buf * 256 + stream.get()
          }
          return buf
        }
        /**
         * Retrieve the hexadecimal value (as a string) of the current ASN.1 element
         * @returns {string}
         * @public
         */
        ASN1.prototype.getHexStringValue = function() {
          var hexString = this.toHexString()
          var offset = this.header * 2
          var length = this.length * 2
          return hexString.substr(offset, length)
        }
        ASN1.decode = function(str) {
          var stream
          if (!(str instanceof Stream)) {
            stream = new Stream(str, 0)
          } else {
            stream = str
          }
          var streamStart = new Stream(stream)
          var tag = new ASN1Tag(stream)
          var len = ASN1.decodeLength(stream)
          var start = stream.pos
          var header = start - streamStart.pos
          var sub = null
          var getSub = function() {
            var ret = []
            if (len !== null) {
              // definite length
              var end = start + len
              while (stream.pos < end) {
                ret[ret.length] = ASN1.decode(stream)
              }
              if (stream.pos != end) {
                throw new Error(
                  'Content size is not correct for container starting at offset ' + start
                )
              }
            } else {
              // undefined length
              try {
                for (;;) {
                  var s = ASN1.decode(stream)
                  if (s.tag.isEOC()) {
                    break
                  }
                  ret[ret.length] = s
                }
                len = start - stream.pos // undefined lengths are represented as negative values
              } catch (e) {
                throw new Error('Exception while decoding undefined length content: ' + e)
              }
            }
            return ret
          }
          if (tag.tagConstructed) {
            // must have valid content
            sub = getSub()
          } else if (tag.isUniversal() && (tag.tagNumber == 0x03 || tag.tagNumber == 0x04)) {
            // sometimes BitString and OctetString are used to encapsulate ASN.1
            try {
              if (tag.tagNumber == 0x03) {
                if (stream.get() != 0) {
                  throw new Error('BIT STRINGs with unused bits cannot encapsulate.')
                }
              }
              sub = getSub()
              for (var i = 0; i < sub.length; ++i) {
                if (sub[i].tag.isEOC()) {
                  throw new Error('EOC is not supposed to be actual content.')
                }
              }
            } catch (e) {
              // but silently ignore when they don't
              sub = null
            }
          }
          if (sub === null) {
            if (len === null) {
              throw new Error(
                "We can't skip over an invalid tag with undefined length at offset " + start
              )
            }
            stream.pos = start + Math.abs(len)
          }
          return new ASN1(streamStart, header, len, tag, sub)
        }
        return ASN1
      })()
      var ASN1Tag = /** @class */ (function() {
        function ASN1Tag(stream) {
          var buf = stream.get()
          this.tagClass = buf >> 6
          this.tagConstructed = (buf & 0x20) !== 0
          this.tagNumber = buf & 0x1f
          if (this.tagNumber == 0x1f) {
            // long tag
            var n = new Int10()
            do {
              buf = stream.get()
              n.mulAdd(128, buf & 0x7f)
            } while (buf & 0x80)
            this.tagNumber = n.simplify()
          }
        }
        ASN1Tag.prototype.isUniversal = function() {
          return this.tagClass === 0x00
        }
        ASN1Tag.prototype.isEOC = function() {
          return this.tagClass === 0x00 && this.tagNumber === 0x00
        }
        return ASN1Tag
      })()

      // Copyright (c) 2005  Tom Wu
      // Bits per digit
      var dbits
      //#region
      var lowprimes = [
        2,
        3,
        5,
        7,
        11,
        13,
        17,
        19,
        23,
        29,
        31,
        37,
        41,
        43,
        47,
        53,
        59,
        61,
        67,
        71,
        73,
        79,
        83,
        89,
        97,
        101,
        103,
        107,
        109,
        113,
        127,
        131,
        137,
        139,
        149,
        151,
        157,
        163,
        167,
        173,
        179,
        181,
        191,
        193,
        197,
        199,
        211,
        223,
        227,
        229,
        233,
        239,
        241,
        251,
        257,
        263,
        269,
        271,
        277,
        281,
        283,
        293,
        307,
        311,
        313,
        317,
        331,
        337,
        347,
        349,
        353,
        359,
        367,
        373,
        379,
        383,
        389,
        397,
        401,
        409,
        419,
        421,
        431,
        433,
        439,
        443,
        449,
        457,
        461,
        463,
        467,
        479,
        487,
        491,
        499,
        503,
        509,
        521,
        523,
        541,
        547,
        557,
        563,
        569,
        571,
        577,
        587,
        593,
        599,
        601,
        607,
        613,
        617,
        619,
        631,
        641,
        643,
        647,
        653,
        659,
        661,
        673,
        677,
        683,
        691,
        701,
        709,
        719,
        727,
        733,
        739,
        743,
        751,
        757,
        761,
        769,
        773,
        787,
        797,
        809,
        811,
        821,
        823,
        827,
        829,
        839,
        853,
        857,
        859,
        863,
        877,
        881,
        883,
        887,
        907,
        911,
        919,
        929,
        937,
        941,
        947,
        953,
        967,
        971,
        977,
        983,
        991,
        997
      ]
      var lplim = (1 << 26) / lowprimes[lowprimes.length - 1]
      //#endregion
      // (public) Constructor
      var BigInteger = /** @class */ (function() {
        function BigInteger(a, b, c) {
          if (a != null) {
            if ('number' == typeof a) {
              this.fromNumber(a, b, c)
            } else if (b == null && 'string' != typeof a) {
              this.fromString(a, 256)
            } else {
              this.fromString(a, b)
            }
          }
        }
        //#region PUBLIC
        // BigInteger.prototype.toString = bnToString;
        // (public) return string representation in given radix
        BigInteger.prototype.toString = function(b) {
          if (this.s < 0) {
            return '-' + this.negate().toString(b)
          }
          var k
          if (b == 16) {
            k = 4
          } else if (b == 8) {
            k = 3
          } else if (b == 2) {
            k = 1
          } else if (b == 32) {
            k = 5
          } else if (b == 4) {
            k = 2
          } else {
            return this.toRadix(b)
          }
          var km = (1 << k) - 1
          var d
          var m = false
          var r = ''
          var i = this.t
          var p = this.DB - ((i * this.DB) % k)
          if (i-- > 0) {
            if (p < this.DB && (d = this[i] >> p) > 0) {
              m = true
              r = int2char(d)
            }
            while (i >= 0) {
              if (p < k) {
                d = (this[i] & ((1 << p) - 1)) << (k - p)
                d |= this[--i] >> (p += this.DB - k)
              } else {
                d = (this[i] >> (p -= k)) & km
                if (p <= 0) {
                  p += this.DB
                  --i
                }
              }
              if (d > 0) {
                m = true
              }
              if (m) {
                r += int2char(d)
              }
            }
          }
          return m ? r : '0'
        }
        // BigInteger.prototype.negate = bnNegate;
        // (public) -this
        BigInteger.prototype.negate = function() {
          var r = nbi()
          BigInteger.ZERO.subTo(this, r)
          return r
        }
        // BigInteger.prototype.abs = bnAbs;
        // (public) |this|
        BigInteger.prototype.abs = function() {
          return this.s < 0 ? this.negate() : this
        }
        // BigInteger.prototype.compareTo = bnCompareTo;
        // (public) return + if this > a, - if this < a, 0 if equal
        BigInteger.prototype.compareTo = function(a) {
          var r = this.s - a.s
          if (r != 0) {
            return r
          }
          var i = this.t
          r = i - a.t
          if (r != 0) {
            return this.s < 0 ? -r : r
          }
          while (--i >= 0) {
            if ((r = this[i] - a[i]) != 0) {
              return r
            }
          }
          return 0
        }
        // BigInteger.prototype.bitLength = bnBitLength;
        // (public) return the number of bits in "this"
        BigInteger.prototype.bitLength = function() {
          if (this.t <= 0) {
            return 0
          }
          return this.DB * (this.t - 1) + nbits(this[this.t - 1] ^ (this.s & this.DM))
        }
        // BigInteger.prototype.mod = bnMod;
        // (public) this mod a
        BigInteger.prototype.mod = function(a) {
          var r = nbi()
          this.abs().divRemTo(a, null, r)
          if (this.s < 0 && r.compareTo(BigInteger.ZERO) > 0) {
            a.subTo(r, r)
          }
          return r
        }
        // BigInteger.prototype.modPowInt = bnModPowInt;
        // (public) this^e % m, 0 <= e < 2^32
        BigInteger.prototype.modPowInt = function(e, m) {
          var z
          if (e < 256 || m.isEven()) {
            z = new Classic(m)
          } else {
            z = new Montgomery(m)
          }
          return this.exp(e, z)
        }
        // BigInteger.prototype.clone = bnClone;
        // (public)
        BigInteger.prototype.clone = function() {
          var r = nbi()
          this.copyTo(r)
          return r
        }
        // BigInteger.prototype.intValue = bnIntValue;
        // (public) return value as integer
        BigInteger.prototype.intValue = function() {
          if (this.s < 0) {
            if (this.t == 1) {
              return this[0] - this.DV
            } else if (this.t == 0) {
              return -1
            }
          } else if (this.t == 1) {
            return this[0]
          } else if (this.t == 0) {
            return 0
          }
          // assumes 16 < DB < 32
          return ((this[1] & ((1 << (32 - this.DB)) - 1)) << this.DB) | this[0]
        }
        // BigInteger.prototype.byteValue = bnByteValue;
        // (public) return value as byte
        BigInteger.prototype.byteValue = function() {
          return this.t == 0 ? this.s : (this[0] << 24) >> 24
        }
        // BigInteger.prototype.shortValue = bnShortValue;
        // (public) return value as short (assumes DB>=16)
        BigInteger.prototype.shortValue = function() {
          return this.t == 0 ? this.s : (this[0] << 16) >> 16
        }
        // BigInteger.prototype.signum = bnSigNum;
        // (public) 0 if this == 0, 1 if this > 0
        BigInteger.prototype.signum = function() {
          if (this.s < 0) {
            return -1
          } else if (this.t <= 0 || (this.t == 1 && this[0] <= 0)) {
            return 0
          } else {
            return 1
          }
        }
        // BigInteger.prototype.toByteArray = bnToByteArray;
        // (public) convert to bigendian byte array
        BigInteger.prototype.toByteArray = function() {
          var i = this.t
          var r = []
          r[0] = this.s
          var p = this.DB - ((i * this.DB) % 8)
          var d
          var k = 0
          if (i-- > 0) {
            if (p < this.DB && (d = this[i] >> p) != (this.s & this.DM) >> p) {
              r[k++] = d | (this.s << (this.DB - p))
            }
            while (i >= 0) {
              if (p < 8) {
                d = (this[i] & ((1 << p) - 1)) << (8 - p)
                d |= this[--i] >> (p += this.DB - 8)
              } else {
                d = (this[i] >> (p -= 8)) & 0xff
                if (p <= 0) {
                  p += this.DB
                  --i
                }
              }
              if ((d & 0x80) != 0) {
                d |= -256
              }
              if (k == 0 && (this.s & 0x80) != (d & 0x80)) {
                ++k
              }
              if (k > 0 || d != this.s) {
                r[k++] = d
              }
            }
          }
          return r
        }
        // BigInteger.prototype.equals = bnEquals;
        BigInteger.prototype.equals = function(a) {
          return this.compareTo(a) == 0
        }
        // BigInteger.prototype.min = bnMin;
        BigInteger.prototype.min = function(a) {
          return this.compareTo(a) < 0 ? this : a
        }
        // BigInteger.prototype.max = bnMax;
        BigInteger.prototype.max = function(a) {
          return this.compareTo(a) > 0 ? this : a
        }
        // BigInteger.prototype.and = bnAnd;
        BigInteger.prototype.and = function(a) {
          var r = nbi()
          this.bitwiseTo(a, op_and, r)
          return r
        }
        // BigInteger.prototype.or = bnOr;
        BigInteger.prototype.or = function(a) {
          var r = nbi()
          this.bitwiseTo(a, op_or, r)
          return r
        }
        // BigInteger.prototype.xor = bnXor;
        BigInteger.prototype.xor = function(a) {
          var r = nbi()
          this.bitwiseTo(a, op_xor, r)
          return r
        }
        // BigInteger.prototype.andNot = bnAndNot;
        BigInteger.prototype.andNot = function(a) {
          var r = nbi()
          this.bitwiseTo(a, op_andnot, r)
          return r
        }
        // BigInteger.prototype.not = bnNot;
        // (public) ~this
        BigInteger.prototype.not = function() {
          var r = nbi()
          for (var i = 0; i < this.t; ++i) {
            r[i] = this.DM & ~this[i]
          }
          r.t = this.t
          r.s = ~this.s
          return r
        }
        // BigInteger.prototype.shiftLeft = bnShiftLeft;
        // (public) this << n
        BigInteger.prototype.shiftLeft = function(n) {
          var r = nbi()
          if (n < 0) {
            this.rShiftTo(-n, r)
          } else {
            this.lShiftTo(n, r)
          }
          return r
        }
        // BigInteger.prototype.shiftRight = bnShiftRight;
        // (public) this >> n
        BigInteger.prototype.shiftRight = function(n) {
          var r = nbi()
          if (n < 0) {
            this.lShiftTo(-n, r)
          } else {
            this.rShiftTo(n, r)
          }
          return r
        }
        // BigInteger.prototype.getLowestSetBit = bnGetLowestSetBit;
        // (public) returns index of lowest 1-bit (or -1 if none)
        BigInteger.prototype.getLowestSetBit = function() {
          for (var i = 0; i < this.t; ++i) {
            if (this[i] != 0) {
              return i * this.DB + lbit(this[i])
            }
          }
          if (this.s < 0) {
            return this.t * this.DB
          }
          return -1
        }
        // BigInteger.prototype.bitCount = bnBitCount;
        // (public) return number of set bits
        BigInteger.prototype.bitCount = function() {
          var r = 0
          var x = this.s & this.DM
          for (var i = 0; i < this.t; ++i) {
            r += cbit(this[i] ^ x)
          }
          return r
        }
        // BigInteger.prototype.testBit = bnTestBit;
        // (public) true iff nth bit is set
        BigInteger.prototype.testBit = function(n) {
          var j = Math.floor(n / this.DB)
          if (j >= this.t) {
            return this.s != 0
          }
          return (this[j] & (1 << n % this.DB)) != 0
        }
        // BigInteger.prototype.setBit = bnSetBit;
        // (public) this | (1<<n)
        BigInteger.prototype.setBit = function(n) {
          return this.changeBit(n, op_or)
        }
        // BigInteger.prototype.clearBit = bnClearBit;
        // (public) this & ~(1<<n)
        BigInteger.prototype.clearBit = function(n) {
          return this.changeBit(n, op_andnot)
        }
        // BigInteger.prototype.flipBit = bnFlipBit;
        // (public) this ^ (1<<n)
        BigInteger.prototype.flipBit = function(n) {
          return this.changeBit(n, op_xor)
        }
        // BigInteger.prototype.add = bnAdd;
        // (public) this + a
        BigInteger.prototype.add = function(a) {
          var r = nbi()
          this.addTo(a, r)
          return r
        }
        // BigInteger.prototype.subtract = bnSubtract;
        // (public) this - a
        BigInteger.prototype.subtract = function(a) {
          var r = nbi()
          this.subTo(a, r)
          return r
        }
        // BigInteger.prototype.multiply = bnMultiply;
        // (public) this * a
        BigInteger.prototype.multiply = function(a) {
          var r = nbi()
          this.multiplyTo(a, r)
          return r
        }
        // BigInteger.prototype.divide = bnDivide;
        // (public) this / a
        BigInteger.prototype.divide = function(a) {
          var r = nbi()
          this.divRemTo(a, r, null)
          return r
        }
        // BigInteger.prototype.remainder = bnRemainder;
        // (public) this % a
        BigInteger.prototype.remainder = function(a) {
          var r = nbi()
          this.divRemTo(a, null, r)
          return r
        }
        // BigInteger.prototype.divideAndRemainder = bnDivideAndRemainder;
        // (public) [this/a,this%a]
        BigInteger.prototype.divideAndRemainder = function(a) {
          var q = nbi()
          var r = nbi()
          this.divRemTo(a, q, r)
          return [q, r]
        }
        // BigInteger.prototype.modPow = bnModPow;
        // (public) this^e % m (HAC 14.85)
        BigInteger.prototype.modPow = function(e, m) {
          var i = e.bitLength()
          var k
          var r = nbv(1)
          var z
          if (i <= 0) {
            return r
          } else if (i < 18) {
            k = 1
          } else if (i < 48) {
            k = 3
          } else if (i < 144) {
            k = 4
          } else if (i < 768) {
            k = 5
          } else {
            k = 6
          }
          if (i < 8) {
            z = new Classic(m)
          } else if (m.isEven()) {
            z = new Barrett(m)
          } else {
            z = new Montgomery(m)
          }
          // precomputation
          var g = []
          var n = 3
          var k1 = k - 1
          var km = (1 << k) - 1
          g[1] = z.convert(this)
          if (k > 1) {
            var g2 = nbi()
            z.sqrTo(g[1], g2)
            while (n <= km) {
              g[n] = nbi()
              z.mulTo(g2, g[n - 2], g[n])
              n += 2
            }
          }
          var j = e.t - 1
          var w
          var is1 = true
          var r2 = nbi()
          var t
          i = nbits(e[j]) - 1
          while (j >= 0) {
            if (i >= k1) {
              w = (e[j] >> (i - k1)) & km
            } else {
              w = (e[j] & ((1 << (i + 1)) - 1)) << (k1 - i)
              if (j > 0) {
                w |= e[j - 1] >> (this.DB + i - k1)
              }
            }
            n = k
            while ((w & 1) == 0) {
              w >>= 1
              --n
            }
            if ((i -= n) < 0) {
              i += this.DB
              --j
            }
            if (is1) {
              // ret == 1, don't bother squaring or multiplying it
              g[w].copyTo(r)
              is1 = false
            } else {
              while (n > 1) {
                z.sqrTo(r, r2)
                z.sqrTo(r2, r)
                n -= 2
              }
              if (n > 0) {
                z.sqrTo(r, r2)
              } else {
                t = r
                r = r2
                r2 = t
              }
              z.mulTo(r2, g[w], r)
            }
            while (j >= 0 && (e[j] & (1 << i)) == 0) {
              z.sqrTo(r, r2)
              t = r
              r = r2
              r2 = t
              if (--i < 0) {
                i = this.DB - 1
                --j
              }
            }
          }
          return z.revert(r)
        }
        // BigInteger.prototype.modInverse = bnModInverse;
        // (public) 1/this % m (HAC 14.61)
        BigInteger.prototype.modInverse = function(m) {
          var ac = m.isEven()
          if ((this.isEven() && ac) || m.signum() == 0) {
            return BigInteger.ZERO
          }
          var u = m.clone()
          var v = this.clone()
          var a = nbv(1)
          var b = nbv(0)
          var c = nbv(0)
          var d = nbv(1)
          while (u.signum() != 0) {
            while (u.isEven()) {
              u.rShiftTo(1, u)
              if (ac) {
                if (!a.isEven() || !b.isEven()) {
                  a.addTo(this, a)
                  b.subTo(m, b)
                }
                a.rShiftTo(1, a)
              } else if (!b.isEven()) {
                b.subTo(m, b)
              }
              b.rShiftTo(1, b)
            }
            while (v.isEven()) {
              v.rShiftTo(1, v)
              if (ac) {
                if (!c.isEven() || !d.isEven()) {
                  c.addTo(this, c)
                  d.subTo(m, d)
                }
                c.rShiftTo(1, c)
              } else if (!d.isEven()) {
                d.subTo(m, d)
              }
              d.rShiftTo(1, d)
            }
            if (u.compareTo(v) >= 0) {
              u.subTo(v, u)
              if (ac) {
                a.subTo(c, a)
              }
              b.subTo(d, b)
            } else {
              v.subTo(u, v)
              if (ac) {
                c.subTo(a, c)
              }
              d.subTo(b, d)
            }
          }
          if (v.compareTo(BigInteger.ONE) != 0) {
            return BigInteger.ZERO
          }
          if (d.compareTo(m) >= 0) {
            return d.subtract(m)
          }
          if (d.signum() < 0) {
            d.addTo(m, d)
          } else {
            return d
          }
          if (d.signum() < 0) {
            return d.add(m)
          } else {
            return d
          }
        }
        // BigInteger.prototype.pow = bnPow;
        // (public) this^e
        BigInteger.prototype.pow = function(e) {
          return this.exp(e, new NullExp())
        }
        // BigInteger.prototype.gcd = bnGCD;
        // (public) gcd(this,a) (HAC 14.54)
        BigInteger.prototype.gcd = function(a) {
          var x = this.s < 0 ? this.negate() : this.clone()
          var y = a.s < 0 ? a.negate() : a.clone()
          if (x.compareTo(y) < 0) {
            var t = x
            x = y
            y = t
          }
          var i = x.getLowestSetBit()
          var g = y.getLowestSetBit()
          if (g < 0) {
            return x
          }
          if (i < g) {
            g = i
          }
          if (g > 0) {
            x.rShiftTo(g, x)
            y.rShiftTo(g, y)
          }
          while (x.signum() > 0) {
            if ((i = x.getLowestSetBit()) > 0) {
              x.rShiftTo(i, x)
            }
            if ((i = y.getLowestSetBit()) > 0) {
              y.rShiftTo(i, y)
            }
            if (x.compareTo(y) >= 0) {
              x.subTo(y, x)
              x.rShiftTo(1, x)
            } else {
              y.subTo(x, y)
              y.rShiftTo(1, y)
            }
          }
          if (g > 0) {
            y.lShiftTo(g, y)
          }
          return y
        }
        // BigInteger.prototype.isProbablePrime = bnIsProbablePrime;
        // (public) test primality with certainty >= 1-.5^t
        BigInteger.prototype.isProbablePrime = function(t) {
          var i
          var x = this.abs()
          if (x.t == 1 && x[0] <= lowprimes[lowprimes.length - 1]) {
            for (i = 0; i < lowprimes.length; ++i) {
              if (x[0] == lowprimes[i]) {
                return true
              }
            }
            return false
          }
          if (x.isEven()) {
            return false
          }
          i = 1
          while (i < lowprimes.length) {
            var m = lowprimes[i]
            var j = i + 1
            while (j < lowprimes.length && m < lplim) {
              m *= lowprimes[j++]
            }
            m = x.modInt(m)
            while (i < j) {
              if (m % lowprimes[i++] == 0) {
                return false
              }
            }
          }
          return x.millerRabin(t)
        }
        //#endregion PUBLIC
        //#region PROTECTED
        // BigInteger.prototype.copyTo = bnpCopyTo;
        // (protected) copy this to r
        BigInteger.prototype.copyTo = function(r) {
          for (var i = this.t - 1; i >= 0; --i) {
            r[i] = this[i]
          }
          r.t = this.t
          r.s = this.s
        }
        // BigInteger.prototype.fromInt = bnpFromInt;
        // (protected) set from integer value x, -DV <= x < DV
        BigInteger.prototype.fromInt = function(x) {
          this.t = 1
          this.s = x < 0 ? -1 : 0
          if (x > 0) {
            this[0] = x
          } else if (x < -1) {
            this[0] = x + this.DV
          } else {
            this.t = 0
          }
        }
        // BigInteger.prototype.fromString = bnpFromString;
        // (protected) set from string and radix
        BigInteger.prototype.fromString = function(s, b) {
          var k
          if (b == 16) {
            k = 4
          } else if (b == 8) {
            k = 3
          } else if (b == 256) {
            k = 8
            /* byte array */
          } else if (b == 2) {
            k = 1
          } else if (b == 32) {
            k = 5
          } else if (b == 4) {
            k = 2
          } else {
            this.fromRadix(s, b)
            return
          }
          this.t = 0
          this.s = 0
          var i = s.length
          var mi = false
          var sh = 0
          while (--i >= 0) {
            var x = k == 8 ? +s[i] & 0xff : intAt(s, i)
            if (x < 0) {
              if (s.charAt(i) == '-') {
                mi = true
              }
              continue
            }
            mi = false
            if (sh == 0) {
              this[this.t++] = x
            } else if (sh + k > this.DB) {
              this[this.t - 1] |= (x & ((1 << (this.DB - sh)) - 1)) << sh
              this[this.t++] = x >> (this.DB - sh)
            } else {
              this[this.t - 1] |= x << sh
            }
            sh += k
            if (sh >= this.DB) {
              sh -= this.DB
            }
          }
          if (k == 8 && (+s[0] & 0x80) != 0) {
            this.s = -1
            if (sh > 0) {
              this[this.t - 1] |= ((1 << (this.DB - sh)) - 1) << sh
            }
          }
          this.clamp()
          if (mi) {
            BigInteger.ZERO.subTo(this, this)
          }
        }
        // BigInteger.prototype.clamp = bnpClamp;
        // (protected) clamp off excess high words
        BigInteger.prototype.clamp = function() {
          var c = this.s & this.DM
          while (this.t > 0 && this[this.t - 1] == c) {
            --this.t
          }
        }
        // BigInteger.prototype.dlShiftTo = bnpDLShiftTo;
        // (protected) r = this << n*DB
        BigInteger.prototype.dlShiftTo = function(n, r) {
          var i
          for (i = this.t - 1; i >= 0; --i) {
            r[i + n] = this[i]
          }
          for (i = n - 1; i >= 0; --i) {
            r[i] = 0
          }
          r.t = this.t + n
          r.s = this.s
        }
        // BigInteger.prototype.drShiftTo = bnpDRShiftTo;
        // (protected) r = this >> n*DB
        BigInteger.prototype.drShiftTo = function(n, r) {
          for (var i = n; i < this.t; ++i) {
            r[i - n] = this[i]
          }
          r.t = Math.max(this.t - n, 0)
          r.s = this.s
        }
        // BigInteger.prototype.lShiftTo = bnpLShiftTo;
        // (protected) r = this << n
        BigInteger.prototype.lShiftTo = function(n, r) {
          var bs = n % this.DB
          var cbs = this.DB - bs
          var bm = (1 << cbs) - 1
          var ds = Math.floor(n / this.DB)
          var c = (this.s << bs) & this.DM
          for (var i = this.t - 1; i >= 0; --i) {
            r[i + ds + 1] = (this[i] >> cbs) | c
            c = (this[i] & bm) << bs
          }
          for (var i = ds - 1; i >= 0; --i) {
            r[i] = 0
          }
          r[ds] = c
          r.t = this.t + ds + 1
          r.s = this.s
          r.clamp()
        }
        // BigInteger.prototype.rShiftTo = bnpRShiftTo;
        // (protected) r = this >> n
        BigInteger.prototype.rShiftTo = function(n, r) {
          r.s = this.s
          var ds = Math.floor(n / this.DB)
          if (ds >= this.t) {
            r.t = 0
            return
          }
          var bs = n % this.DB
          var cbs = this.DB - bs
          var bm = (1 << bs) - 1
          r[0] = this[ds] >> bs
          for (var i = ds + 1; i < this.t; ++i) {
            r[i - ds - 1] |= (this[i] & bm) << cbs
            r[i - ds] = this[i] >> bs
          }
          if (bs > 0) {
            r[this.t - ds - 1] |= (this.s & bm) << cbs
          }
          r.t = this.t - ds
          r.clamp()
        }
        // BigInteger.prototype.subTo = bnpSubTo;
        // (protected) r = this - a
        BigInteger.prototype.subTo = function(a, r) {
          var i = 0
          var c = 0
          var m = Math.min(a.t, this.t)
          while (i < m) {
            c += this[i] - a[i]
            r[i++] = c & this.DM
            c >>= this.DB
          }
          if (a.t < this.t) {
            c -= a.s
            while (i < this.t) {
              c += this[i]
              r[i++] = c & this.DM
              c >>= this.DB
            }
            c += this.s
          } else {
            c += this.s
            while (i < a.t) {
              c -= a[i]
              r[i++] = c & this.DM
              c >>= this.DB
            }
            c -= a.s
          }
          r.s = c < 0 ? -1 : 0
          if (c < -1) {
            r[i++] = this.DV + c
          } else if (c > 0) {
            r[i++] = c
          }
          r.t = i
          r.clamp()
        }
        // BigInteger.prototype.multiplyTo = bnpMultiplyTo;
        // (protected) r = this * a, r != this,a (HAC 14.12)
        // "this" should be the larger one if appropriate.
        BigInteger.prototype.multiplyTo = function(a, r) {
          var x = this.abs()
          var y = a.abs()
          var i = x.t
          r.t = i + y.t
          while (--i >= 0) {
            r[i] = 0
          }
          for (i = 0; i < y.t; ++i) {
            r[i + x.t] = x.am(0, y[i], r, i, 0, x.t)
          }
          r.s = 0
          r.clamp()
          if (this.s != a.s) {
            BigInteger.ZERO.subTo(r, r)
          }
        }
        // BigInteger.prototype.squareTo = bnpSquareTo;
        // (protected) r = this^2, r != this (HAC 14.16)
        BigInteger.prototype.squareTo = function(r) {
          var x = this.abs()
          var i = (r.t = 2 * x.t)
          while (--i >= 0) {
            r[i] = 0
          }
          for (i = 0; i < x.t - 1; ++i) {
            var c = x.am(i, x[i], r, 2 * i, 0, 1)
            if ((r[i + x.t] += x.am(i + 1, 2 * x[i], r, 2 * i + 1, c, x.t - i - 1)) >= x.DV) {
              r[i + x.t] -= x.DV
              r[i + x.t + 1] = 1
            }
          }
          if (r.t > 0) {
            r[r.t - 1] += x.am(i, x[i], r, 2 * i, 0, 1)
          }
          r.s = 0
          r.clamp()
        }
        // BigInteger.prototype.divRemTo = bnpDivRemTo;
        // (protected) divide this by m, quotient and remainder to q, r (HAC 14.20)
        // r != q, this != m.  q or r may be null.
        BigInteger.prototype.divRemTo = function(m, q, r) {
          var pm = m.abs()
          if (pm.t <= 0) {
            return
          }
          var pt = this.abs()
          if (pt.t < pm.t) {
            if (q != null) {
              q.fromInt(0)
            }
            if (r != null) {
              this.copyTo(r)
            }
            return
          }
          if (r == null) {
            r = nbi()
          }
          var y = nbi()
          var ts = this.s
          var ms = m.s
          var nsh = this.DB - nbits(pm[pm.t - 1]) // normalize modulus
          if (nsh > 0) {
            pm.lShiftTo(nsh, y)
            pt.lShiftTo(nsh, r)
          } else {
            pm.copyTo(y)
            pt.copyTo(r)
          }
          var ys = y.t
          var y0 = y[ys - 1]
          if (y0 == 0) {
            return
          }
          var yt = y0 * (1 << this.F1) + (ys > 1 ? y[ys - 2] >> this.F2 : 0)
          var d1 = this.FV / yt
          var d2 = (1 << this.F1) / yt
          var e = 1 << this.F2
          var i = r.t
          var j = i - ys
          var t = q == null ? nbi() : q
          y.dlShiftTo(j, t)
          if (r.compareTo(t) >= 0) {
            r[r.t++] = 1
            r.subTo(t, r)
          }
          BigInteger.ONE.dlShiftTo(ys, t)
          t.subTo(y, y) // "negative" y so we can replace sub with am later
          while (y.t < ys) {
            y[y.t++] = 0
          }
          while (--j >= 0) {
            // Estimate quotient digit
            var qd = r[--i] == y0 ? this.DM : Math.floor(r[i] * d1 + (r[i - 1] + e) * d2)
            if ((r[i] += y.am(0, qd, r, j, 0, ys)) < qd) {
              // Try it out
              y.dlShiftTo(j, t)
              r.subTo(t, r)
              while (r[i] < --qd) {
                r.subTo(t, r)
              }
            }
          }
          if (q != null) {
            r.drShiftTo(ys, q)
            if (ts != ms) {
              BigInteger.ZERO.subTo(q, q)
            }
          }
          r.t = ys
          r.clamp()
          if (nsh > 0) {
            r.rShiftTo(nsh, r)
          } // Denormalize remainder
          if (ts < 0) {
            BigInteger.ZERO.subTo(r, r)
          }
        }
        // BigInteger.prototype.invDigit = bnpInvDigit;
        // (protected) return "-1/this % 2^DB"; useful for Mont. reduction
        // justification:
        //         xy == 1 (mod m)
        //         xy =  1+km
        //   xy(2-xy) = (1+km)(1-km)
        // x[y(2-xy)] = 1-k^2m^2
        // x[y(2-xy)] == 1 (mod m^2)
        // if y is 1/x mod m, then y(2-xy) is 1/x mod m^2
        // should reduce x and y(2-xy) by m^2 at each step to keep size bounded.
        // JS multiply "overflows" differently from C/C++, so care is needed here.
        BigInteger.prototype.invDigit = function() {
          if (this.t < 1) {
            return 0
          }
          var x = this[0]
          if ((x & 1) == 0) {
            return 0
          }
          var y = x & 3 // y == 1/x mod 2^2
          y = (y * (2 - (x & 0xf) * y)) & 0xf // y == 1/x mod 2^4
          y = (y * (2 - (x & 0xff) * y)) & 0xff // y == 1/x mod 2^8
          y = (y * (2 - (((x & 0xffff) * y) & 0xffff))) & 0xffff // y == 1/x mod 2^16
          // last step - calculate inverse mod DV directly;
          // assumes 16 < DB <= 32 and assumes ability to handle 48-bit ints
          y = (y * (2 - ((x * y) % this.DV))) % this.DV // y == 1/x mod 2^dbits
          // we really want the negative inverse, and -DV < y < DV
          return y > 0 ? this.DV - y : -y
        }
        // BigInteger.prototype.isEven = bnpIsEven;
        // (protected) true iff this is even
        BigInteger.prototype.isEven = function() {
          return (this.t > 0 ? this[0] & 1 : this.s) == 0
        }
        // BigInteger.prototype.exp = bnpExp;
        // (protected) this^e, e < 2^32, doing sqr and mul with "r" (HAC 14.79)
        BigInteger.prototype.exp = function(e, z) {
          if (e > 0xffffffff || e < 1) {
            return BigInteger.ONE
          }
          var r = nbi()
          var r2 = nbi()
          var g = z.convert(this)
          var i = nbits(e) - 1
          g.copyTo(r)
          while (--i >= 0) {
            z.sqrTo(r, r2)
            if ((e & (1 << i)) > 0) {
              z.mulTo(r2, g, r)
            } else {
              var t = r
              r = r2
              r2 = t
            }
          }
          return z.revert(r)
        }
        // BigInteger.prototype.chunkSize = bnpChunkSize;
        // (protected) return x s.t. r^x < DV
        BigInteger.prototype.chunkSize = function(r) {
          return Math.floor((Math.LN2 * this.DB) / Math.log(r))
        }
        // BigInteger.prototype.toRadix = bnpToRadix;
        // (protected) convert to radix string
        BigInteger.prototype.toRadix = function(b) {
          if (b == null) {
            b = 10
          }
          if (this.signum() == 0 || b < 2 || b > 36) {
            return '0'
          }
          var cs = this.chunkSize(b)
          var a = Math.pow(b, cs)
          var d = nbv(a)
          var y = nbi()
          var z = nbi()
          var r = ''
          this.divRemTo(d, y, z)
          while (y.signum() > 0) {
            r = (a + z.intValue()).toString(b).substr(1) + r
            y.divRemTo(d, y, z)
          }
          return z.intValue().toString(b) + r
        }
        // BigInteger.prototype.fromRadix = bnpFromRadix;
        // (protected) convert from radix string
        BigInteger.prototype.fromRadix = function(s, b) {
          this.fromInt(0)
          if (b == null) {
            b = 10
          }
          var cs = this.chunkSize(b)
          var d = Math.pow(b, cs)
          var mi = false
          var j = 0
          var w = 0
          for (var i = 0; i < s.length; ++i) {
            var x = intAt(s, i)
            if (x < 0) {
              if (s.charAt(i) == '-' && this.signum() == 0) {
                mi = true
              }
              continue
            }
            w = b * w + x
            if (++j >= cs) {
              this.dMultiply(d)
              this.dAddOffset(w, 0)
              j = 0
              w = 0
            }
          }
          if (j > 0) {
            this.dMultiply(Math.pow(b, j))
            this.dAddOffset(w, 0)
          }
          if (mi) {
            BigInteger.ZERO.subTo(this, this)
          }
        }
        // BigInteger.prototype.fromNumber = bnpFromNumber;
        // (protected) alternate constructor
        BigInteger.prototype.fromNumber = function(a, b, c) {
          if ('number' == typeof b) {
            // new BigInteger(int,int,RNG)
            if (a < 2) {
              this.fromInt(1)
            } else {
              this.fromNumber(a, c)
              if (!this.testBit(a - 1)) {
                // force MSB set
                this.bitwiseTo(BigInteger.ONE.shiftLeft(a - 1), op_or, this)
              }
              if (this.isEven()) {
                this.dAddOffset(1, 0)
              } // force odd
              while (!this.isProbablePrime(b)) {
                this.dAddOffset(2, 0)
                if (this.bitLength() > a) {
                  this.subTo(BigInteger.ONE.shiftLeft(a - 1), this)
                }
              }
            }
          } else {
            // new BigInteger(int,RNG)
            var x = []
            var t = a & 7
            x.length = (a >> 3) + 1
            b.nextBytes(x)
            if (t > 0) {
              x[0] &= (1 << t) - 1
            } else {
              x[0] = 0
            }
            this.fromString(x, 256)
          }
        }
        // BigInteger.prototype.bitwiseTo = bnpBitwiseTo;
        // (protected) r = this op a (bitwise)
        BigInteger.prototype.bitwiseTo = function(a, op, r) {
          var i
          var f
          var m = Math.min(a.t, this.t)
          for (i = 0; i < m; ++i) {
            r[i] = op(this[i], a[i])
          }
          if (a.t < this.t) {
            f = a.s & this.DM
            for (i = m; i < this.t; ++i) {
              r[i] = op(this[i], f)
            }
            r.t = this.t
          } else {
            f = this.s & this.DM
            for (i = m; i < a.t; ++i) {
              r[i] = op(f, a[i])
            }
            r.t = a.t
          }
          r.s = op(this.s, a.s)
          r.clamp()
        }
        // BigInteger.prototype.changeBit = bnpChangeBit;
        // (protected) this op (1<<n)
        BigInteger.prototype.changeBit = function(n, op) {
          var r = BigInteger.ONE.shiftLeft(n)
          this.bitwiseTo(r, op, r)
          return r
        }
        // BigInteger.prototype.addTo = bnpAddTo;
        // (protected) r = this + a
        BigInteger.prototype.addTo = function(a, r) {
          var i = 0
          var c = 0
          var m = Math.min(a.t, this.t)
          while (i < m) {
            c += this[i] + a[i]
            r[i++] = c & this.DM
            c >>= this.DB
          }
          if (a.t < this.t) {
            c += a.s
            while (i < this.t) {
              c += this[i]
              r[i++] = c & this.DM
              c >>= this.DB
            }
            c += this.s
          } else {
            c += this.s
            while (i < a.t) {
              c += a[i]
              r[i++] = c & this.DM
              c >>= this.DB
            }
            c += a.s
          }
          r.s = c < 0 ? -1 : 0
          if (c > 0) {
            r[i++] = c
          } else if (c < -1) {
            r[i++] = this.DV + c
          }
          r.t = i
          r.clamp()
        }
        // BigInteger.prototype.dMultiply = bnpDMultiply;
        // (protected) this *= n, this >= 0, 1 < n < DV
        BigInteger.prototype.dMultiply = function(n) {
          this[this.t] = this.am(0, n - 1, this, 0, 0, this.t)
          ++this.t
          this.clamp()
        }
        // BigInteger.prototype.dAddOffset = bnpDAddOffset;
        // (protected) this += n << w words, this >= 0
        BigInteger.prototype.dAddOffset = function(n, w) {
          if (n == 0) {
            return
          }
          while (this.t <= w) {
            this[this.t++] = 0
          }
          this[w] += n
          while (this[w] >= this.DV) {
            this[w] -= this.DV
            if (++w >= this.t) {
              this[this.t++] = 0
            }
            ++this[w]
          }
        }
        // BigInteger.prototype.multiplyLowerTo = bnpMultiplyLowerTo;
        // (protected) r = lower n words of "this * a", a.t <= n
        // "this" should be the larger one if appropriate.
        BigInteger.prototype.multiplyLowerTo = function(a, n, r) {
          var i = Math.min(this.t + a.t, n)
          r.s = 0 // assumes a,this >= 0
          r.t = i
          while (i > 0) {
            r[--i] = 0
          }
          for (var j = r.t - this.t; i < j; ++i) {
            r[i + this.t] = this.am(0, a[i], r, i, 0, this.t)
          }
          for (var j = Math.min(a.t, n); i < j; ++i) {
            this.am(0, a[i], r, i, 0, n - i)
          }
          r.clamp()
        }
        // BigInteger.prototype.multiplyUpperTo = bnpMultiplyUpperTo;
        // (protected) r = "this * a" without lower n words, n > 0
        // "this" should be the larger one if appropriate.
        BigInteger.prototype.multiplyUpperTo = function(a, n, r) {
          --n
          var i = (r.t = this.t + a.t - n)
          r.s = 0 // assumes a,this >= 0
          while (--i >= 0) {
            r[i] = 0
          }
          for (i = Math.max(n - this.t, 0); i < a.t; ++i) {
            r[this.t + i - n] = this.am(n - i, a[i], r, 0, 0, this.t + i - n)
          }
          r.clamp()
          r.drShiftTo(1, r)
        }
        // BigInteger.prototype.modInt = bnpModInt;
        // (protected) this % n, n < 2^26
        BigInteger.prototype.modInt = function(n) {
          if (n <= 0) {
            return 0
          }
          var d = this.DV % n
          var r = this.s < 0 ? n - 1 : 0
          if (this.t > 0) {
            if (d == 0) {
              r = this[0] % n
            } else {
              for (var i = this.t - 1; i >= 0; --i) {
                r = (d * r + this[i]) % n
              }
            }
          }
          return r
        }
        // BigInteger.prototype.millerRabin = bnpMillerRabin;
        // (protected) true if probably prime (HAC 4.24, Miller-Rabin)
        BigInteger.prototype.millerRabin = function(t) {
          var n1 = this.subtract(BigInteger.ONE)
          var k = n1.getLowestSetBit()
          if (k <= 0) {
            return false
          }
          var r = n1.shiftRight(k)
          t = (t + 1) >> 1
          if (t > lowprimes.length) {
            t = lowprimes.length
          }
          var a = nbi()
          for (var i = 0; i < t; ++i) {
            // Pick bases at random, instead of starting at 2
            a.fromInt(lowprimes[Math.floor(Math.random() * lowprimes.length)])
            var y = a.modPow(r, this)
            if (y.compareTo(BigInteger.ONE) != 0 && y.compareTo(n1) != 0) {
              var j = 1
              while (j++ < k && y.compareTo(n1) != 0) {
                y = y.modPowInt(2, this)
                if (y.compareTo(BigInteger.ONE) == 0) {
                  return false
                }
              }
              if (y.compareTo(n1) != 0) {
                return false
              }
            }
          }
          return true
        }
        // BigInteger.prototype.square = bnSquare;
        // (public) this^2
        BigInteger.prototype.square = function() {
          var r = nbi()
          this.squareTo(r)
          return r
        }
        //#region ASYNC
        // Public API method
        BigInteger.prototype.gcda = function(a, callback) {
          var x = this.s < 0 ? this.negate() : this.clone()
          var y = a.s < 0 ? a.negate() : a.clone()
          if (x.compareTo(y) < 0) {
            var t = x
            x = y
            y = t
          }
          var i = x.getLowestSetBit()
          var g = y.getLowestSetBit()
          if (g < 0) {
            callback(x)
            return
          }
          if (i < g) {
            g = i
          }
          if (g > 0) {
            x.rShiftTo(g, x)
            y.rShiftTo(g, y)
          }
          // Workhorse of the algorithm, gets called 200 - 800 times per 512 bit keygen.
          var gcda1 = function() {
            if ((i = x.getLowestSetBit()) > 0) {
              x.rShiftTo(i, x)
            }
            if ((i = y.getLowestSetBit()) > 0) {
              y.rShiftTo(i, y)
            }
            if (x.compareTo(y) >= 0) {
              x.subTo(y, x)
              x.rShiftTo(1, x)
            } else {
              y.subTo(x, y)
              y.rShiftTo(1, y)
            }
            if (!(x.signum() > 0)) {
              if (g > 0) {
                y.lShiftTo(g, y)
              }
              setTimeout(function() {
                callback(y)
              }, 0) // escape
            } else {
              setTimeout(gcda1, 0)
            }
          }
          setTimeout(gcda1, 10)
        }
        // (protected) alternate constructor
        BigInteger.prototype.fromNumberAsync = function(a, b, c, callback) {
          if ('number' == typeof b) {
            if (a < 2) {
              this.fromInt(1)
            } else {
              this.fromNumber(a, c)
              if (!this.testBit(a - 1)) {
                this.bitwiseTo(BigInteger.ONE.shiftLeft(a - 1), op_or, this)
              }
              if (this.isEven()) {
                this.dAddOffset(1, 0)
              }
              var bnp_1 = this
              var bnpfn1_1 = function() {
                bnp_1.dAddOffset(2, 0)
                if (bnp_1.bitLength() > a) {
                  bnp_1.subTo(BigInteger.ONE.shiftLeft(a - 1), bnp_1)
                }
                if (bnp_1.isProbablePrime(b)) {
                  setTimeout(function() {
                    callback()
                  }, 0) // escape
                } else {
                  setTimeout(bnpfn1_1, 0)
                }
              }
              setTimeout(bnpfn1_1, 0)
            }
          } else {
            var x = []
            var t = a & 7
            x.length = (a >> 3) + 1
            b.nextBytes(x)
            if (t > 0) {
              x[0] &= (1 << t) - 1
            } else {
              x[0] = 0
            }
            this.fromString(x, 256)
          }
        }
        return BigInteger
      })()
      //#region REDUCERS
      //#region NullExp
      var NullExp = /** @class */ (function() {
        function NullExp() {}
        // NullExp.prototype.convert = nNop;
        NullExp.prototype.convert = function(x) {
          return x
        }
        // NullExp.prototype.revert = nNop;
        NullExp.prototype.revert = function(x) {
          return x
        }
        // NullExp.prototype.mulTo = nMulTo;
        NullExp.prototype.mulTo = function(x, y, r) {
          x.multiplyTo(y, r)
        }
        // NullExp.prototype.sqrTo = nSqrTo;
        NullExp.prototype.sqrTo = function(x, r) {
          x.squareTo(r)
        }
        return NullExp
      })()
      // Modular reduction using "classic" algorithm
      var Classic = /** @class */ (function() {
        function Classic(m) {
          this.m = m
        }
        // Classic.prototype.convert = cConvert;
        Classic.prototype.convert = function(x) {
          if (x.s < 0 || x.compareTo(this.m) >= 0) {
            return x.mod(this.m)
          } else {
            return x
          }
        }
        // Classic.prototype.revert = cRevert;
        Classic.prototype.revert = function(x) {
          return x
        }
        // Classic.prototype.reduce = cReduce;
        Classic.prototype.reduce = function(x) {
          x.divRemTo(this.m, null, x)
        }
        // Classic.prototype.mulTo = cMulTo;
        Classic.prototype.mulTo = function(x, y, r) {
          x.multiplyTo(y, r)
          this.reduce(r)
        }
        // Classic.prototype.sqrTo = cSqrTo;
        Classic.prototype.sqrTo = function(x, r) {
          x.squareTo(r)
          this.reduce(r)
        }
        return Classic
      })()
      //#endregion
      //#region Montgomery
      // Montgomery reduction
      var Montgomery = /** @class */ (function() {
        function Montgomery(m) {
          this.m = m
          this.mp = m.invDigit()
          this.mpl = this.mp & 0x7fff
          this.mph = this.mp >> 15
          this.um = (1 << (m.DB - 15)) - 1
          this.mt2 = 2 * m.t
        }
        // Montgomery.prototype.convert = montConvert;
        // xR mod m
        Montgomery.prototype.convert = function(x) {
          var r = nbi()
          x.abs().dlShiftTo(this.m.t, r)
          r.divRemTo(this.m, null, r)
          if (x.s < 0 && r.compareTo(BigInteger.ZERO) > 0) {
            this.m.subTo(r, r)
          }
          return r
        }
        // Montgomery.prototype.revert = montRevert;
        // x/R mod m
        Montgomery.prototype.revert = function(x) {
          var r = nbi()
          x.copyTo(r)
          this.reduce(r)
          return r
        }
        // Montgomery.prototype.reduce = montReduce;
        // x = x/R mod m (HAC 14.32)
        Montgomery.prototype.reduce = function(x) {
          while (x.t <= this.mt2) {
            // pad x so am has enough room later
            x[x.t++] = 0
          }
          for (var i = 0; i < this.m.t; ++i) {
            // faster way of calculating u0 = x[i]*mp mod DV
            var j = x[i] & 0x7fff
            var u0 =
              (j * this.mpl + (((j * this.mph + (x[i] >> 15) * this.mpl) & this.um) << 15)) & x.DM
            // use am to combine the multiply-shift-add into one call
            j = i + this.m.t
            x[j] += this.m.am(0, u0, x, i, 0, this.m.t)
            // propagate carry
            while (x[j] >= x.DV) {
              x[j] -= x.DV
              x[++j]++
            }
          }
          x.clamp()
          x.drShiftTo(this.m.t, x)
          if (x.compareTo(this.m) >= 0) {
            x.subTo(this.m, x)
          }
        }
        // Montgomery.prototype.mulTo = montMulTo;
        // r = "xy/R mod m"; x,y != r
        Montgomery.prototype.mulTo = function(x, y, r) {
          x.multiplyTo(y, r)
          this.reduce(r)
        }
        // Montgomery.prototype.sqrTo = montSqrTo;
        // r = "x^2/R mod m"; x != r
        Montgomery.prototype.sqrTo = function(x, r) {
          x.squareTo(r)
          this.reduce(r)
        }
        return Montgomery
      })()
      //#endregion Montgomery
      //#region Barrett
      // Barrett modular reduction
      var Barrett = /** @class */ (function() {
        function Barrett(m) {
          this.m = m
          // setup Barrett
          this.r2 = nbi()
          this.q3 = nbi()
          BigInteger.ONE.dlShiftTo(2 * m.t, this.r2)
          this.mu = this.r2.divide(m)
        }
        // Barrett.prototype.convert = barrettConvert;
        Barrett.prototype.convert = function(x) {
          if (x.s < 0 || x.t > 2 * this.m.t) {
            return x.mod(this.m)
          } else if (x.compareTo(this.m) < 0) {
            return x
          } else {
            var r = nbi()
            x.copyTo(r)
            this.reduce(r)
            return r
          }
        }
        // Barrett.prototype.revert = barrettRevert;
        Barrett.prototype.revert = function(x) {
          return x
        }
        // Barrett.prototype.reduce = barrettReduce;
        // x = x mod m (HAC 14.42)
        Barrett.prototype.reduce = function(x) {
          x.drShiftTo(this.m.t - 1, this.r2)
          if (x.t > this.m.t + 1) {
            x.t = this.m.t + 1
            x.clamp()
          }
          this.mu.multiplyUpperTo(this.r2, this.m.t + 1, this.q3)
          this.m.multiplyLowerTo(this.q3, this.m.t + 1, this.r2)
          while (x.compareTo(this.r2) < 0) {
            x.dAddOffset(1, this.m.t + 1)
          }
          x.subTo(this.r2, x)
          while (x.compareTo(this.m) >= 0) {
            x.subTo(this.m, x)
          }
        }
        // Barrett.prototype.mulTo = barrettMulTo;
        // r = x*y mod m; x,y != r
        Barrett.prototype.mulTo = function(x, y, r) {
          x.multiplyTo(y, r)
          this.reduce(r)
        }
        // Barrett.prototype.sqrTo = barrettSqrTo;
        // r = x^2 mod m; x != r
        Barrett.prototype.sqrTo = function(x, r) {
          x.squareTo(r)
          this.reduce(r)
        }
        return Barrett
      })()
      //#endregion
      //#endregion REDUCERS
      // return new, unset BigInteger
      function nbi() {
        return new BigInteger(null)
      }
      function parseBigInt(str, r) {
        return new BigInteger(str, r)
      }
      // am: Compute w_j += (x*this_i), propagate carries,
      // c is initial carry, returns final carry.
      // c < 3*dvalue, x < 2*dvalue, this_i < dvalue
      // We need to select the fastest one that works in this environment.
      // am1: use a single mult and divide to get the high bits,
      // max digit bits should be 26 because
      // max internal value = 2*dvalue^2-2*dvalue (< 2^53)
      function am1(i, x, w, j, c, n) {
        while (--n >= 0) {
          var v = x * this[i++] + w[j] + c
          c = Math.floor(v / 0x4000000)
          w[j++] = v & 0x3ffffff
        }
        return c
      }
      // am2 avoids a big mult-and-extract completely.
      // Max digit bits should be <= 30 because we do bitwise ops
      // on values up to 2*hdvalue^2-hdvalue-1 (< 2^31)
      function am2(i, x, w, j, c, n) {
        var xl = x & 0x7fff
        var xh = x >> 15
        while (--n >= 0) {
          var l = this[i] & 0x7fff
          var h = this[i++] >> 15
          var m = xh * l + h * xl
          l = xl * l + ((m & 0x7fff) << 15) + w[j] + (c & 0x3fffffff)
          c = (l >>> 30) + (m >>> 15) + xh * h + (c >>> 30)
          w[j++] = l & 0x3fffffff
        }
        return c
      }
      // Alternately, set max digit bits to 28 since some
      // browsers slow down when dealing with 32-bit numbers.
      function am3(i, x, w, j, c, n) {
        var xl = x & 0x3fff
        var xh = x >> 14
        while (--n >= 0) {
          var l = this[i] & 0x3fff
          var h = this[i++] >> 14
          var m = xh * l + h * xl
          l = xl * l + ((m & 0x3fff) << 14) + w[j] + c
          c = (l >> 28) + (m >> 14) + xh * h
          w[j++] = l & 0xfffffff
        }
        return c
      }
      if (navigator.appName == 'Microsoft Internet Explorer') {
        BigInteger.prototype.am = am2
        dbits = 30
      } else if (navigator.appName != 'Netscape') {
        BigInteger.prototype.am = am1
        dbits = 26
      } else {
        // Mozilla/Netscape seems to prefer am3
        BigInteger.prototype.am = am3
        dbits = 28
      }
      BigInteger.prototype.DB = dbits
      BigInteger.prototype.DM = (1 << dbits) - 1
      BigInteger.prototype.DV = 1 << dbits
      var BI_FP = 52
      BigInteger.prototype.FV = Math.pow(2, BI_FP)
      BigInteger.prototype.F1 = BI_FP - dbits
      BigInteger.prototype.F2 = 2 * dbits - BI_FP
      // Digit conversions
      var BI_RC = []
      var rr
      var vv
      rr = '0'.charCodeAt(0)
      for (vv = 0; vv <= 9; ++vv) {
        BI_RC[rr++] = vv
      }
      rr = 'a'.charCodeAt(0)
      for (vv = 10; vv < 36; ++vv) {
        BI_RC[rr++] = vv
      }
      rr = 'A'.charCodeAt(0)
      for (vv = 10; vv < 36; ++vv) {
        BI_RC[rr++] = vv
      }
      function intAt(s, i) {
        var c = BI_RC[s.charCodeAt(i)]
        return c == null ? -1 : c
      }
      // return bigint initialized to value
      function nbv(i) {
        var r = nbi()
        r.fromInt(i)
        return r
      }
      // returns bit length of the integer x
      function nbits(x) {
        var r = 1
        var t
        if ((t = x >>> 16) != 0) {
          x = t
          r += 16
        }
        if ((t = x >> 8) != 0) {
          x = t
          r += 8
        }
        if ((t = x >> 4) != 0) {
          x = t
          r += 4
        }
        if ((t = x >> 2) != 0) {
          x = t
          r += 2
        }
        if ((t = x >> 1) != 0) {
          x = t
          r += 1
        }
        return r
      }
      // "constants"
      BigInteger.ZERO = nbv(0)
      BigInteger.ONE = nbv(1)

      // prng4.js - uses Arcfour as a PRNG
      var Arcfour = /** @class */ (function() {
        function Arcfour() {
          this.i = 0
          this.j = 0
          this.S = []
        }
        // Arcfour.prototype.init = ARC4init;
        // Initialize arcfour context from key, an array of ints, each from [0..255]
        Arcfour.prototype.init = function(key) {
          var i
          var j
          var t
          for (i = 0; i < 256; ++i) {
            this.S[i] = i
          }
          j = 0
          for (i = 0; i < 256; ++i) {
            j = (j + this.S[i] + key[i % key.length]) & 255
            t = this.S[i]
            this.S[i] = this.S[j]
            this.S[j] = t
          }
          this.i = 0
          this.j = 0
        }
        // Arcfour.prototype.next = ARC4next;
        Arcfour.prototype.next = function() {
          var t
          this.i = (this.i + 1) & 255
          this.j = (this.j + this.S[this.i]) & 255
          t = this.S[this.i]
          this.S[this.i] = this.S[this.j]
          this.S[this.j] = t
          return this.S[(t + this.S[this.i]) & 255]
        }
        return Arcfour
      })()
      // Plug in your RNG constructor here
      function prng_newstate() {
        return new Arcfour()
      }
      // Pool size must be a multiple of 4 and greater than 32.
      // An array of bytes the size of the pool will be passed to init()
      var rng_psize = 256

      // Random number generator - requires a PRNG backend, e.g. prng4.js
      var rng_state
      var rng_pool = null
      var rng_pptr
      // Initialize the pool with junk if needed.
      if (rng_pool == null) {
        rng_pool = []
        rng_pptr = 0
        var t = void 0
        if (window.crypto && window.crypto.getRandomValues) {
          // Extract entropy (2048 bits) from RNG if available
          var z = new Uint32Array(256)
          window.crypto.getRandomValues(z)
          for (t = 0; t < z.length; ++t) {
            rng_pool[rng_pptr++] = z[t] & 255
          }
        }
        // Use mouse events for entropy, if we do not have enough entropy by the time
        // we need it, entropy will be generated by Math.random.
        var onMouseMoveListener_1 = function(ev) {
          this.count = this.count || 0
          if (this.count >= 256 || rng_pptr >= rng_psize) {
            if (window.removeEventListener) {
              window.removeEventListener('mousemove', onMouseMoveListener_1, false)
            } else if (window.detachEvent) {
              window.detachEvent('onmousemove', onMouseMoveListener_1)
            }
            return
          }
          try {
            var mouseCoordinates = ev.x + ev.y
            rng_pool[rng_pptr++] = mouseCoordinates & 255
            this.count += 1
          } catch (e) {
            // Sometimes Firefox will deny permission to access event properties for some reason. Ignore.
          }
        }
        if (window.addEventListener) {
          window.addEventListener('mousemove', onMouseMoveListener_1, false)
        } else if (window.attachEvent) {
          window.attachEvent('onmousemove', onMouseMoveListener_1)
        }
      }
      function rng_get_byte() {
        if (rng_state == null) {
          rng_state = prng_newstate()
          // At this point, we may not have collected enough entropy.  If not, fall back to Math.random
          while (rng_pptr < rng_psize) {
            var random = Math.floor(65536 * Math.random())
            rng_pool[rng_pptr++] = random & 255
          }
          rng_state.init(rng_pool)
          for (rng_pptr = 0; rng_pptr < rng_pool.length; ++rng_pptr) {
            rng_pool[rng_pptr] = 0
          }
          rng_pptr = 0
        }
        // TODO: allow reseeding after first request
        return rng_state.next()
      }
      var SecureRandom = /** @class */ (function() {
        function SecureRandom() {}
        SecureRandom.prototype.nextBytes = function(ba) {
          for (var i = 0; i < ba.length; ++i) {
            ba[i] = rng_get_byte()
          }
        }
        return SecureRandom
      })()

      // Depends on jsbn.js and rng.js
      // function linebrk(s,n) {
      //   var ret = "";
      //   var i = 0;
      //   while(i + n < s.length) {
      //     ret += s.substring(i,i+n) + "\n";
      //     i += n;
      //   }
      //   return ret + s.substring(i,s.length);
      // }
      // function byte2Hex(b) {
      //   if(b < 0x10)
      //     return "0" + b.toString(16);
      //   else
      //     return b.toString(16);
      // }
      function pkcs1pad1(s, n) {
        if (n < s.length + 22) {
          console.error('Message too long for RSA')
          return null
        }
        var len = n - s.length - 6
        var filler = ''
        for (var f = 0; f < len; f += 2) {
          filler += 'ff'
        }
        var m = '0001' + filler + '00' + s
        return parseBigInt(m, 16)
      }
      // PKCS#1 (type 2, random) pad input string s to n bytes, and return a bigint
      function pkcs1pad2(s, n) {
        if (n < s.length + 11) {
          // TODO: fix for utf-8
          console.error('Message too long for RSA')
          return null
        }
        var ba = []
        var i = s.length - 1
        while (i >= 0 && n > 0) {
          var c = s.charCodeAt(i--)
          if (c < 128) {
            // encode using utf-8
            ba[--n] = c
          } else if (c > 127 && c < 2048) {
            ba[--n] = (c & 63) | 128
            ba[--n] = (c >> 6) | 192
          } else {
            ba[--n] = (c & 63) | 128
            ba[--n] = ((c >> 6) & 63) | 128
            ba[--n] = (c >> 12) | 224
          }
        }
        ba[--n] = 0
        var rng = new SecureRandom()
        var x = []
        while (n > 2) {
          // random non-zero pad
          x[0] = 0
          while (x[0] == 0) {
            rng.nextBytes(x)
          }
          ba[--n] = x[0]
        }
        ba[--n] = 2
        ba[--n] = 0
        return new BigInteger(ba)
      }
      // "empty" RSA key constructor
      var RSAKey = /** @class */ (function() {
        function RSAKey() {
          this.n = null
          this.e = 0
          this.d = null
          this.p = null
          this.q = null
          this.dmp1 = null
          this.dmq1 = null
          this.coeff = null
        }
        //#region PROTECTED
        // protected
        // RSAKey.prototype.doPublic = RSADoPublic;
        // Perform raw public operation on "x": return x^e (mod n)
        RSAKey.prototype.doPublic = function(x) {
          return x.modPowInt(this.e, this.n)
        }
        // RSAKey.prototype.doPrivate = RSADoPrivate;
        // Perform raw private operation on "x": return x^d (mod n)
        RSAKey.prototype.doPrivate = function(x) {
          if (this.p == null || this.q == null) {
            return x.modPow(this.d, this.n)
          }
          // TODO: re-calculate any missing CRT params
          var xp = x.mod(this.p).modPow(this.dmp1, this.p)
          var xq = x.mod(this.q).modPow(this.dmq1, this.q)
          while (xp.compareTo(xq) < 0) {
            xp = xp.add(this.p)
          }
          return xp
            .subtract(xq)
            .multiply(this.coeff)
            .mod(this.p)
            .multiply(this.q)
            .add(xq)
        }
        //#endregion PROTECTED
        //#region PUBLIC
        // RSAKey.prototype.setPublic = RSASetPublic;
        // Set the public key fields N and e from hex strings
        RSAKey.prototype.setPublic = function(N, E) {
          if (N != null && E != null && N.length > 0 && E.length > 0) {
            this.n = parseBigInt(N, 16)
            this.e = parseInt(E, 16)
          } else {
            console.error('Invalid RSA public key')
          }
        }
        // RSAKey.prototype.encrypt = RSAEncrypt;
        // Return the PKCS#1 RSA encryption of "text" as an even-length hex string
        RSAKey.prototype.encrypt = function(text) {
          var m = pkcs1pad2(text, (this.n.bitLength() + 7) >> 3)
          if (m == null) {
            return null
          }
          var c = this.doPublic(m)
          if (c == null) {
            return null
          }
          var h = c.toString(16)
          if ((h.length & 1) == 0) {
            return h
          } else {
            return '0' + h
          }
        }
        // RSAKey.prototype.setPrivate = RSASetPrivate;
        // Set the private key fields N, e, and d from hex strings
        RSAKey.prototype.setPrivate = function(N, E, D) {
          if (N != null && E != null && N.length > 0 && E.length > 0) {
            this.n = parseBigInt(N, 16)
            this.e = parseInt(E, 16)
            this.d = parseBigInt(D, 16)
          } else {
            console.error('Invalid RSA private key')
          }
        }
        // RSAKey.prototype.setPrivateEx = RSASetPrivateEx;
        // Set the private key fields N, e, d and CRT params from hex strings
        RSAKey.prototype.setPrivateEx = function(N, E, D, P, Q, DP, DQ, C) {
          if (N != null && E != null && N.length > 0 && E.length > 0) {
            this.n = parseBigInt(N, 16)
            this.e = parseInt(E, 16)
            this.d = parseBigInt(D, 16)
            this.p = parseBigInt(P, 16)
            this.q = parseBigInt(Q, 16)
            this.dmp1 = parseBigInt(DP, 16)
            this.dmq1 = parseBigInt(DQ, 16)
            this.coeff = parseBigInt(C, 16)
          } else {
            console.error('Invalid RSA private key')
          }
        }
        // RSAKey.prototype.generate = RSAGenerate;
        // Generate a new random private key B bits long, using public expt E
        RSAKey.prototype.generate = function(B, E) {
          var rng = new SecureRandom()
          var qs = B >> 1
          this.e = parseInt(E, 16)
          var ee = new BigInteger(E, 16)
          for (;;) {
            for (;;) {
              this.p = new BigInteger(B - qs, 1, rng)
              if (
                this.p
                  .subtract(BigInteger.ONE)
                  .gcd(ee)
                  .compareTo(BigInteger.ONE) == 0 &&
                this.p.isProbablePrime(10)
              ) {
                break
              }
            }
            for (;;) {
              this.q = new BigInteger(qs, 1, rng)
              if (
                this.q
                  .subtract(BigInteger.ONE)
                  .gcd(ee)
                  .compareTo(BigInteger.ONE) == 0 &&
                this.q.isProbablePrime(10)
              ) {
                break
              }
            }
            if (this.p.compareTo(this.q) <= 0) {
              var t = this.p
              this.p = this.q
              this.q = t
            }
            var p1 = this.p.subtract(BigInteger.ONE)
            var q1 = this.q.subtract(BigInteger.ONE)
            var phi = p1.multiply(q1)
            if (phi.gcd(ee).compareTo(BigInteger.ONE) == 0) {
              this.n = this.p.multiply(this.q)
              this.d = ee.modInverse(phi)
              this.dmp1 = this.d.mod(p1)
              this.dmq1 = this.d.mod(q1)
              this.coeff = this.q.modInverse(this.p)
              break
            }
          }
        }
        // RSAKey.prototype.decrypt = RSADecrypt;
        // Return the PKCS#1 RSA decryption of "ctext".
        // "ctext" is an even-length hex string and the output is a plain string.
        RSAKey.prototype.decrypt = function(ctext) {
          var c = parseBigInt(ctext, 16)
          var m = this.doPrivate(c)
          if (m == null) {
            return null
          }
          return pkcs1unpad2(m, (this.n.bitLength() + 7) >> 3)
        }
        // Generate a new random private key B bits long, using public expt E
        RSAKey.prototype.generateAsync = function(B, E, callback) {
          var rng = new SecureRandom()
          var qs = B >> 1
          this.e = parseInt(E, 16)
          var ee = new BigInteger(E, 16)
          var rsa = this
          // These functions have non-descript names because they were originally for(;;) loops.
          // I don't know about cryptography to give them better names than loop1-4.
          var loop1 = function() {
            var loop4 = function() {
              if (rsa.p.compareTo(rsa.q) <= 0) {
                var t = rsa.p
                rsa.p = rsa.q
                rsa.q = t
              }
              var p1 = rsa.p.subtract(BigInteger.ONE)
              var q1 = rsa.q.subtract(BigInteger.ONE)
              var phi = p1.multiply(q1)
              if (phi.gcd(ee).compareTo(BigInteger.ONE) == 0) {
                rsa.n = rsa.p.multiply(rsa.q)
                rsa.d = ee.modInverse(phi)
                rsa.dmp1 = rsa.d.mod(p1)
                rsa.dmq1 = rsa.d.mod(q1)
                rsa.coeff = rsa.q.modInverse(rsa.p)
                setTimeout(function() {
                  callback()
                }, 0) // escape
              } else {
                setTimeout(loop1, 0)
              }
            }
            var loop3 = function() {
              rsa.q = nbi()
              rsa.q.fromNumberAsync(qs, 1, rng, function() {
                rsa.q.subtract(BigInteger.ONE).gcda(ee, function(r) {
                  if (r.compareTo(BigInteger.ONE) == 0 && rsa.q.isProbablePrime(10)) {
                    setTimeout(loop4, 0)
                  } else {
                    setTimeout(loop3, 0)
                  }
                })
              })
            }
            var loop2 = function() {
              rsa.p = nbi()
              rsa.p.fromNumberAsync(B - qs, 1, rng, function() {
                rsa.p.subtract(BigInteger.ONE).gcda(ee, function(r) {
                  if (r.compareTo(BigInteger.ONE) == 0 && rsa.p.isProbablePrime(10)) {
                    setTimeout(loop3, 0)
                  } else {
                    setTimeout(loop2, 0)
                  }
                })
              })
            }
            setTimeout(loop2, 0)
          }
          setTimeout(loop1, 0)
        }
        RSAKey.prototype.sign = function(text, digestMethod, digestName) {
          var header = getDigestHeader(digestName)
          var digest = header + digestMethod(text).toString()
          var m = pkcs1pad1(digest, this.n.bitLength() / 4)
          if (m == null) {
            return null
          }
          var c = this.doPrivate(m)
          if (c == null) {
            return null
          }
          var h = c.toString(16)
          if ((h.length & 1) == 0) {
            return h
          } else {
            return '0' + h
          }
        }
        RSAKey.prototype.verify = function(text, signature, digestMethod) {
          var c = parseBigInt(signature, 16)
          var m = this.doPublic(c)
          if (m == null) {
            return null
          }
          var unpadded = m.toString(16).replace(/^1f+00/, '')
          var digest = removeDigestHeader(unpadded)
          return digest == digestMethod(text).toString()
        }
        return RSAKey
      })()
      // Undo PKCS#1 (type 2, random) padding and, if valid, return the plaintext
      function pkcs1unpad2(d, n) {
        var b = d.toByteArray()
        var i = 0
        while (i < b.length && b[i] == 0) {
          ++i
        }
        if (b.length - i != n - 1 || b[i] != 2) {
          return null
        }
        ++i
        while (b[i] != 0) {
          if (++i >= b.length) {
            return null
          }
        }
        var ret = ''
        while (++i < b.length) {
          var c = b[i] & 255
          if (c < 128) {
            // utf-8 decode
            ret += String.fromCharCode(c)
          } else if (c > 191 && c < 224) {
            ret += String.fromCharCode(((c & 31) << 6) | (b[i + 1] & 63))
            ++i
          } else {
            ret += String.fromCharCode(((c & 15) << 12) | ((b[i + 1] & 63) << 6) | (b[i + 2] & 63))
            i += 2
          }
        }
        return ret
      }
      // https://tools.ietf.org/html/rfc3447#page-43
      var DIGEST_HEADERS = {
        md2: '3020300c06082a864886f70d020205000410',
        md5: '3020300c06082a864886f70d020505000410',
        sha1: '3021300906052b0e03021a05000414',
        sha224: '302d300d06096086480165030402040500041c',
        sha256: '3031300d060960864801650304020105000420',
        sha384: '3041300d060960864801650304020205000430',
        sha512: '3051300d060960864801650304020305000440',
        ripemd160: '3021300906052b2403020105000414'
      }
      function getDigestHeader(name) {
        return DIGEST_HEADERS[name] || ''
      }
      function removeDigestHeader(str) {
        for (var name_1 in DIGEST_HEADERS) {
          if (DIGEST_HEADERS.hasOwnProperty(name_1)) {
            var header = DIGEST_HEADERS[name_1]
            var len = header.length
            if (str.substr(0, len) == header) {
              return str.substr(len)
            }
          }
        }
        return str
      }
      // Return the PKCS#1 RSA encryption of "text" as a Base64-encoded string
      // function RSAEncryptB64(text) {
      //  var h = this.encrypt(text);
      //  if(h) return hex2b64(h); else return null;
      // }
      // public
      // RSAKey.prototype.encrypt_b64 = RSAEncryptB64;

      /*!
Copyright (c) 2011, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 2.9.0
*/
      var YAHOO = {}
      YAHOO.lang = {
        /**
         * Utility to set up the prototype, constructor and superclass properties to
         * support an inheritance strategy that can chain constructors and methods.
         * Static members will not be inherited.
         *
         * @method extend
         * @static
         * @param {Function} subc   the object to modify
         * @param {Function} superc the object to inherit
         * @param {Object} overrides  additional properties/methods to add to the
         *                              subclass prototype.  These will override the
         *                              matching items obtained from the superclass
         *                              if present.
         */
        extend: function(subc, superc, overrides) {
          if (!superc || !subc) {
            throw new Error(
              'YAHOO.lang.extend failed, please check that ' + 'all dependencies are included.'
            )
          }

          var F = function() {}
          F.prototype = superc.prototype
          subc.prototype = new F()
          subc.prototype.constructor = subc
          subc.superclass = superc.prototype

          if (superc.prototype.constructor == Object.prototype.constructor) {
            superc.prototype.constructor = superc
          }

          if (overrides) {
            var i
            for (i in overrides) {
              subc.prototype[i] = overrides[i]
            }

            /*
             * IE will not enumerate native functions in a derived object even if the
             * function was overridden.  This is a workaround for specific functions
             * we care about on the Object prototype.
             * @property _IEEnumFix
             * @param {Function} r  the object to receive the augmentation
             * @param {Function} s  the object that supplies the properties to augment
             * @static
             * @private
             */
            var _IEEnumFix = function() {},
              ADD = ['toString', 'valueOf']
            try {
              if (/MSIE/.test(navigator.userAgent)) {
                _IEEnumFix = function(r, s) {
                  for (i = 0; i < ADD.length; i = i + 1) {
                    var fname = ADD[i],
                      f = s[fname]
                    if (typeof f === 'function' && f != Object.prototype[fname]) {
                      r[fname] = f
                    }
                  }
                }
              }
            } catch (ex) {}
            _IEEnumFix(subc.prototype, overrides)
          }
        }
      }

      /* asn1-1.0.13.js (c) 2013-2017 Kenji Urushima | kjur.github.com/jsrsasign/license
       */

      /**
       * @fileOverview
       * @name asn1-1.0.js
       * @author Kenji Urushima kenji.urushima@gmail.com
       * @version asn1 1.0.13 (2017-Jun-02)
       * @since jsrsasign 2.1
       * @license <a href="https://kjur.github.io/jsrsasign/license/">MIT License</a>
       */

      /**
       * kjur's class library name space
       * <p>
       * This name space provides following name spaces:
       * <ul>
       * <li>{@link KJUR.asn1} - ASN.1 primitive hexadecimal encoder</li>
       * <li>{@link KJUR.asn1.x509} - ASN.1 structure for X.509 certificate and CRL</li>
       * <li>{@link KJUR.crypto} - Java Cryptographic Extension(JCE) style MessageDigest/Signature
       * class and utilities</li>
       * </ul>
       * </p>
       * NOTE: Please ignore method summary and document of this namespace. This caused by a bug of jsdoc2.
       * @name KJUR
       * @namespace kjur's class library name space
       */
      var KJUR = {}

      /**
       * kjur's ASN.1 class library name space
       * <p>
       * This is ITU-T X.690 ASN.1 DER encoder class library and
       * class structure and methods is very similar to
       * org.bouncycastle.asn1 package of
       * well known BouncyCaslte Cryptography Library.
       * <h4>PROVIDING ASN.1 PRIMITIVES</h4>
       * Here are ASN.1 DER primitive classes.
       * <ul>
       * <li>0x01 {@link KJUR.asn1.DERBoolean}</li>
       * <li>0x02 {@link KJUR.asn1.DERInteger}</li>
       * <li>0x03 {@link KJUR.asn1.DERBitString}</li>
       * <li>0x04 {@link KJUR.asn1.DEROctetString}</li>
       * <li>0x05 {@link KJUR.asn1.DERNull}</li>
       * <li>0x06 {@link KJUR.asn1.DERObjectIdentifier}</li>
       * <li>0x0a {@link KJUR.asn1.DEREnumerated}</li>
       * <li>0x0c {@link KJUR.asn1.DERUTF8String}</li>
       * <li>0x12 {@link KJUR.asn1.DERNumericString}</li>
       * <li>0x13 {@link KJUR.asn1.DERPrintableString}</li>
       * <li>0x14 {@link KJUR.asn1.DERTeletexString}</li>
       * <li>0x16 {@link KJUR.asn1.DERIA5String}</li>
       * <li>0x17 {@link KJUR.asn1.DERUTCTime}</li>
       * <li>0x18 {@link KJUR.asn1.DERGeneralizedTime}</li>
       * <li>0x30 {@link KJUR.asn1.DERSequence}</li>
       * <li>0x31 {@link KJUR.asn1.DERSet}</li>
       * </ul>
       * <h4>OTHER ASN.1 CLASSES</h4>
       * <ul>
       * <li>{@link KJUR.asn1.ASN1Object}</li>
       * <li>{@link KJUR.asn1.DERAbstractString}</li>
       * <li>{@link KJUR.asn1.DERAbstractTime}</li>
       * <li>{@link KJUR.asn1.DERAbstractStructured}</li>
       * <li>{@link KJUR.asn1.DERTaggedObject}</li>
       * </ul>
       * <h4>SUB NAME SPACES</h4>
       * <ul>
       * <li>{@link KJUR.asn1.cades} - CAdES long term signature format</li>
       * <li>{@link KJUR.asn1.cms} - Cryptographic Message Syntax</li>
       * <li>{@link KJUR.asn1.csr} - Certificate Signing Request (CSR/PKCS#10)</li>
       * <li>{@link KJUR.asn1.tsp} - RFC 3161 Timestamping Protocol Format</li>
       * <li>{@link KJUR.asn1.x509} - RFC 5280 X.509 certificate and CRL</li>
       * </ul>
       * </p>
       * NOTE: Please ignore method summary and document of this namespace.
       * This caused by a bug of jsdoc2.
       * @name KJUR.asn1
       * @namespace
       */
      if (typeof KJUR.asn1 == 'undefined' || !KJUR.asn1) {
        KJUR.asn1 = {}
      }

      /**
       * ASN1 utilities class
       * @name KJUR.asn1.ASN1Util
       * @class ASN1 utilities class
       * @since asn1 1.0.2
       */
      KJUR.asn1.ASN1Util = new (function() {
        this.integerToByteHex = function(i) {
          var h = i.toString(16)
          if (h.length % 2 == 1) {
            h = '0' + h
          }
          return h
        }
        this.bigIntToMinTwosComplementsHex = function(bigIntegerValue) {
          var h = bigIntegerValue.toString(16)
          if (h.substr(0, 1) != '-') {
            if (h.length % 2 == 1) {
              h = '0' + h
            } else {
              if (!h.match(/^[0-7]/)) {
                h = '00' + h
              }
            }
          } else {
            var hPos = h.substr(1)
            var xorLen = hPos.length
            if (xorLen % 2 == 1) {
              xorLen += 1
            } else {
              if (!h.match(/^[0-7]/)) {
                xorLen += 2
              }
            }
            var hMask = ''
            for (var i = 0; i < xorLen; i++) {
              hMask += 'f'
            }
            var biMask = new BigInteger(hMask, 16)
            var biNeg = biMask.xor(bigIntegerValue).add(BigInteger.ONE)
            h = biNeg.toString(16).replace(/^-/, '')
          }
          return h
        }
        /**
         * get PEM string from hexadecimal data and header string
         * @name getPEMStringFromHex
         * @memberOf KJUR.asn1.ASN1Util
         * @function
         * @param {String} dataHex hexadecimal string of PEM body
         * @param {String} pemHeader PEM header string (ex. 'RSA PRIVATE KEY')
         * @return {String} PEM formatted string of input data
         * @description
         * This method converts a hexadecimal string to a PEM string with
         * a specified header. Its line break will be CRLF("\r\n").
         * @example
         * var pem  = KJUR.asn1.ASN1Util.getPEMStringFromHex('616161', 'RSA PRIVATE KEY');
         * // value of pem will be:
         * -----BEGIN PRIVATE KEY-----
         * YWFh
         * -----END PRIVATE KEY-----
         */
        this.getPEMStringFromHex = function(dataHex, pemHeader) {
          return hextopem(dataHex, pemHeader)
        }

        /**
         * generate ASN1Object specifed by JSON parameters
         * @name newObject
         * @memberOf KJUR.asn1.ASN1Util
         * @function
         * @param {Array} param JSON parameter to generate ASN1Object
         * @return {KJUR.asn1.ASN1Object} generated object
         * @since asn1 1.0.3
         * @description
         * generate any ASN1Object specified by JSON param
         * including ASN.1 primitive or structured.
         * Generally 'param' can be described as follows:
         * <blockquote>
         * {TYPE-OF-ASNOBJ: ASN1OBJ-PARAMETER}
         * </blockquote>
         * 'TYPE-OF-ASN1OBJ' can be one of following symbols:
         * <ul>
         * <li>'bool' - DERBoolean</li>
         * <li>'int' - DERInteger</li>
         * <li>'bitstr' - DERBitString</li>
         * <li>'octstr' - DEROctetString</li>
         * <li>'null' - DERNull</li>
         * <li>'oid' - DERObjectIdentifier</li>
         * <li>'enum' - DEREnumerated</li>
         * <li>'utf8str' - DERUTF8String</li>
         * <li>'numstr' - DERNumericString</li>
         * <li>'prnstr' - DERPrintableString</li>
         * <li>'telstr' - DERTeletexString</li>
         * <li>'ia5str' - DERIA5String</li>
         * <li>'utctime' - DERUTCTime</li>
         * <li>'gentime' - DERGeneralizedTime</li>
         * <li>'seq' - DERSequence</li>
         * <li>'set' - DERSet</li>
         * <li>'tag' - DERTaggedObject</li>
         * </ul>
         * @example
         * newObject({'prnstr': 'aaa'});
         * newObject({'seq': [{'int': 3}, {'prnstr': 'aaa'}]})
         * // ASN.1 Tagged Object
         * newObject({'tag': {'tag': 'a1',
         *                    'explicit': true,
         *                    'obj': {'seq': [{'int': 3}, {'prnstr': 'aaa'}]}}});
         * // more simple representation of ASN.1 Tagged Object
         * newObject({'tag': ['a1',
         *                    true,
         *                    {'seq': [
         *                      {'int': 3},
         *                      {'prnstr': 'aaa'}]}
         *                   ]});
         */
        this.newObject = function(param) {
          var _KJUR = KJUR,
            _KJUR_asn1 = _KJUR.asn1,
            _DERBoolean = _KJUR_asn1.DERBoolean,
            _DERInteger = _KJUR_asn1.DERInteger,
            _DERBitString = _KJUR_asn1.DERBitString,
            _DEROctetString = _KJUR_asn1.DEROctetString,
            _DERNull = _KJUR_asn1.DERNull,
            _DERObjectIdentifier = _KJUR_asn1.DERObjectIdentifier,
            _DEREnumerated = _KJUR_asn1.DEREnumerated,
            _DERUTF8String = _KJUR_asn1.DERUTF8String,
            _DERNumericString = _KJUR_asn1.DERNumericString,
            _DERPrintableString = _KJUR_asn1.DERPrintableString,
            _DERTeletexString = _KJUR_asn1.DERTeletexString,
            _DERIA5String = _KJUR_asn1.DERIA5String,
            _DERUTCTime = _KJUR_asn1.DERUTCTime,
            _DERGeneralizedTime = _KJUR_asn1.DERGeneralizedTime,
            _DERSequence = _KJUR_asn1.DERSequence,
            _DERSet = _KJUR_asn1.DERSet,
            _DERTaggedObject = _KJUR_asn1.DERTaggedObject,
            _newObject = _KJUR_asn1.ASN1Util.newObject

          var keys = Object.keys(param)
          if (keys.length != 1) {
            throw 'key of param shall be only one.'
          }
          var key = keys[0]

          if (
            ':bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:seq:set:tag:'.indexOf(
              ':' + key + ':'
            ) == -1
          ) {
            throw 'undefined key: ' + key
          }

          if (key == 'bool') {
            return new _DERBoolean(param[key])
          }
          if (key == 'int') {
            return new _DERInteger(param[key])
          }
          if (key == 'bitstr') {
            return new _DERBitString(param[key])
          }
          if (key == 'octstr') {
            return new _DEROctetString(param[key])
          }
          if (key == 'null') {
            return new _DERNull(param[key])
          }
          if (key == 'oid') {
            return new _DERObjectIdentifier(param[key])
          }
          if (key == 'enum') {
            return new _DEREnumerated(param[key])
          }
          if (key == 'utf8str') {
            return new _DERUTF8String(param[key])
          }
          if (key == 'numstr') {
            return new _DERNumericString(param[key])
          }
          if (key == 'prnstr') {
            return new _DERPrintableString(param[key])
          }
          if (key == 'telstr') {
            return new _DERTeletexString(param[key])
          }
          if (key == 'ia5str') {
            return new _DERIA5String(param[key])
          }
          if (key == 'utctime') {
            return new _DERUTCTime(param[key])
          }
          if (key == 'gentime') {
            return new _DERGeneralizedTime(param[key])
          }

          if (key == 'seq') {
            var paramList = param[key]
            var a = []
            for (var i = 0; i < paramList.length; i++) {
              var asn1Obj = _newObject(paramList[i])
              a.push(asn1Obj)
            }
            return new _DERSequence({ array: a })
          }

          if (key == 'set') {
            var paramList = param[key]
            var a = []
            for (var i = 0; i < paramList.length; i++) {
              var asn1Obj = _newObject(paramList[i])
              a.push(asn1Obj)
            }
            return new _DERSet({ array: a })
          }

          if (key == 'tag') {
            var tagParam = param[key]
            if (
              Object.prototype.toString.call(tagParam) === '[object Array]' &&
              tagParam.length == 3
            ) {
              var obj = _newObject(tagParam[2])
              return new _DERTaggedObject({ tag: tagParam[0], explicit: tagParam[1], obj: obj })
            } else {
              var newParam = {}
              if (tagParam.explicit !== undefined) {
                newParam.explicit = tagParam.explicit
              }
              if (tagParam.tag !== undefined) {
                newParam.tag = tagParam.tag
              }
              if (tagParam.obj === undefined) {
                throw "obj shall be specified for 'tag'."
              }
              newParam.obj = _newObject(tagParam.obj)
              return new _DERTaggedObject(newParam)
            }
          }
        }

        /**
         * get encoded hexadecimal string of ASN1Object specifed by JSON parameters
         * @name jsonToASN1HEX
         * @memberOf KJUR.asn1.ASN1Util
         * @function
         * @param {Array} param JSON parameter to generate ASN1Object
         * @return hexadecimal string of ASN1Object
         * @since asn1 1.0.4
         * @description
         * As for ASN.1 object representation of JSON object,
         * please see {@link newObject}.
         * @example
         * jsonToASN1HEX({'prnstr': 'aaa'});
         */
        this.jsonToASN1HEX = function(param) {
          var asn1Obj = this.newObject(param)
          return asn1Obj.getEncodedHex()
        }
      })()

      /**
       * get dot noted oid number string from hexadecimal value of OID
       * @name oidHexToInt
       * @memberOf KJUR.asn1.ASN1Util
       * @function
       * @param {String} hex hexadecimal value of object identifier
       * @return {String} dot noted string of object identifier
       * @since jsrsasign 4.8.3 asn1 1.0.7
       * @description
       * This static method converts from hexadecimal string representation of
       * ASN.1 value of object identifier to oid number string.
       * @example
       * KJUR.asn1.ASN1Util.oidHexToInt('550406') &rarr; "2.5.4.6"
       */
      KJUR.asn1.ASN1Util.oidHexToInt = function(hex) {
        var s = ''
        var i01 = parseInt(hex.substr(0, 2), 16)
        var i0 = Math.floor(i01 / 40)
        var i1 = i01 % 40
        var s = i0 + '.' + i1

        var binbuf = ''
        for (var i = 2; i < hex.length; i += 2) {
          var value = parseInt(hex.substr(i, 2), 16)
          var bin = ('00000000' + value.toString(2)).slice(-8)
          binbuf = binbuf + bin.substr(1, 7)
          if (bin.substr(0, 1) == '0') {
            var bi = new BigInteger(binbuf, 2)
            s = s + '.' + bi.toString(10)
            binbuf = ''
          }
        }
        return s
      }

      /**
       * get hexadecimal value of object identifier from dot noted oid value
       * @name oidIntToHex
       * @memberOf KJUR.asn1.ASN1Util
       * @function
       * @param {String} oidString dot noted string of object identifier
       * @return {String} hexadecimal value of object identifier
       * @since jsrsasign 4.8.3 asn1 1.0.7
       * @description
       * This static method converts from object identifier value string.
       * to hexadecimal string representation of it.
       * @example
       * KJUR.asn1.ASN1Util.oidIntToHex("2.5.4.6") &rarr; "550406"
       */
      KJUR.asn1.ASN1Util.oidIntToHex = function(oidString) {
        var itox = function(i) {
          var h = i.toString(16)
          if (h.length == 1) {
            h = '0' + h
          }
          return h
        }

        var roidtox = function(roid) {
          var h = ''
          var bi = new BigInteger(roid, 10)
          var b = bi.toString(2)
          var padLen = 7 - (b.length % 7)
          if (padLen == 7) {
            padLen = 0
          }
          var bPad = ''
          for (var i = 0; i < padLen; i++) {
            bPad += '0'
          }
          b = bPad + b
          for (var i = 0; i < b.length - 1; i += 7) {
            var b8 = b.substr(i, 7)
            if (i != b.length - 7) {
              b8 = '1' + b8
            }
            h += itox(parseInt(b8, 2))
          }
          return h
        }

        if (!oidString.match(/^[0-9.]+$/)) {
          throw 'malformed oid string: ' + oidString
        }
        var h = ''
        var a = oidString.split('.')
        var i0 = parseInt(a[0]) * 40 + parseInt(a[1])
        h += itox(i0)
        a.splice(0, 2)
        for (var i = 0; i < a.length; i++) {
          h += roidtox(a[i])
        }
        return h
      }

      // ********************************************************************
      //  Abstract ASN.1 Classes
      // ********************************************************************

      // ********************************************************************

      /**
       * base class for ASN.1 DER encoder object
       * @name KJUR.asn1.ASN1Object
       * @class base class for ASN.1 DER encoder object
       * @property {Boolean} isModified flag whether internal data was changed
       * @property {String} hTLV hexadecimal string of ASN.1 TLV
       * @property {String} hT hexadecimal string of ASN.1 TLV tag(T)
       * @property {String} hL hexadecimal string of ASN.1 TLV length(L)
       * @property {String} hV hexadecimal string of ASN.1 TLV value(V)
       * @description
       */
      KJUR.asn1.ASN1Object = function() {
        var hV = ''

        /**
         * get hexadecimal ASN.1 TLV length(L) bytes from TLV value(V)
         * @name getLengthHexFromValue
         * @memberOf KJUR.asn1.ASN1Object#
         * @function
         * @return {String} hexadecimal string of ASN.1 TLV length(L)
         */
        this.getLengthHexFromValue = function() {
          if (typeof this.hV == 'undefined' || this.hV == null) {
            throw 'this.hV is null or undefined.'
          }
          if (this.hV.length % 2 == 1) {
            throw 'value hex must be even length: n=' + hV.length + ',v=' + this.hV
          }
          var n = this.hV.length / 2
          var hN = n.toString(16)
          if (hN.length % 2 == 1) {
            hN = '0' + hN
          }
          if (n < 128) {
            return hN
          } else {
            var hNlen = hN.length / 2
            if (hNlen > 15) {
              throw 'ASN.1 length too long to represent by 8x: n = ' + n.toString(16)
            }
            var head = 128 + hNlen
            return head.toString(16) + hN
          }
        }

        /**
         * get hexadecimal string of ASN.1 TLV bytes
         * @name getEncodedHex
         * @memberOf KJUR.asn1.ASN1Object#
         * @function
         * @return {String} hexadecimal string of ASN.1 TLV
         */
        this.getEncodedHex = function() {
          if (this.hTLV == null || this.isModified) {
            this.hV = this.getFreshValueHex()
            this.hL = this.getLengthHexFromValue()
            this.hTLV = this.hT + this.hL + this.hV
            this.isModified = false
            //alert("first time: " + this.hTLV);
          }
          return this.hTLV
        }

        /**
         * get hexadecimal string of ASN.1 TLV value(V) bytes
         * @name getValueHex
         * @memberOf KJUR.asn1.ASN1Object#
         * @function
         * @return {String} hexadecimal string of ASN.1 TLV value(V) bytes
         */
        this.getValueHex = function() {
          this.getEncodedHex()
          return this.hV
        }

        this.getFreshValueHex = function() {
          return ''
        }
      }

      // == BEGIN DERAbstractString ================================================
      /**
       * base class for ASN.1 DER string classes
       * @name KJUR.asn1.DERAbstractString
       * @class base class for ASN.1 DER string classes
       * @param {Array} params associative array of parameters (ex. {'str': 'aaa'})
       * @property {String} s internal string of value
       * @extends KJUR.asn1.ASN1Object
       * @description
       * <br/>
       * As for argument 'params' for constructor, you can specify one of
       * following properties:
       * <ul>
       * <li>str - specify initial ASN.1 value(V) by a string</li>
       * <li>hex - specify initial ASN.1 value(V) by a hexadecimal string</li>
       * </ul>
       * NOTE: 'params' can be omitted.
       */
      KJUR.asn1.DERAbstractString = function(params) {
        KJUR.asn1.DERAbstractString.superclass.constructor.call(this)

        /**
         * get string value of this string object
         * @name getString
         * @memberOf KJUR.asn1.DERAbstractString#
         * @function
         * @return {String} string value of this string object
         */
        this.getString = function() {
          return this.s
        }

        /**
         * set value by a string
         * @name setString
         * @memberOf KJUR.asn1.DERAbstractString#
         * @function
         * @param {String} newS value by a string to set
         */
        this.setString = function(newS) {
          this.hTLV = null
          this.isModified = true
          this.s = newS
          this.hV = stohex(this.s)
        }

        /**
         * set value by a hexadecimal string
         * @name setStringHex
         * @memberOf KJUR.asn1.DERAbstractString#
         * @function
         * @param {String} newHexString value by a hexadecimal string to set
         */
        this.setStringHex = function(newHexString) {
          this.hTLV = null
          this.isModified = true
          this.s = null
          this.hV = newHexString
        }

        this.getFreshValueHex = function() {
          return this.hV
        }

        if (typeof params != 'undefined') {
          if (typeof params == 'string') {
            this.setString(params)
          } else if (typeof params['str'] != 'undefined') {
            this.setString(params['str'])
          } else if (typeof params['hex'] != 'undefined') {
            this.setStringHex(params['hex'])
          }
        }
      }
      YAHOO.lang.extend(KJUR.asn1.DERAbstractString, KJUR.asn1.ASN1Object)
      // == END   DERAbstractString ================================================

      // == BEGIN DERAbstractTime ==================================================
      /**
       * base class for ASN.1 DER Generalized/UTCTime class
       * @name KJUR.asn1.DERAbstractTime
       * @class base class for ASN.1 DER Generalized/UTCTime class
       * @param {Array} params associative array of parameters (ex. {'str': '130430235959Z'})
       * @extends KJUR.asn1.ASN1Object
       * @description
       * @see KJUR.asn1.ASN1Object - superclass
       */
      KJUR.asn1.DERAbstractTime = function(params) {
        KJUR.asn1.DERAbstractTime.superclass.constructor.call(this)

        // --- PRIVATE METHODS --------------------
        this.localDateToUTC = function(d) {
          utc = d.getTime() + d.getTimezoneOffset() * 60000
          var utcDate = new Date(utc)
          return utcDate
        }

        /*
         * format date string by Data object
         * @name formatDate
         * @memberOf KJUR.asn1.AbstractTime;
         * @param {Date} dateObject
         * @param {string} type 'utc' or 'gen'
         * @param {boolean} withMillis flag for with millisections or not
         * @description
         * 'withMillis' flag is supported from asn1 1.0.6.
         */
        this.formatDate = function(dateObject, type, withMillis) {
          var pad = this.zeroPadding
          var d = this.localDateToUTC(dateObject)
          var year = String(d.getFullYear())
          if (type == 'utc') {
            year = year.substr(2, 2)
          }
          var month = pad(String(d.getMonth() + 1), 2)
          var day = pad(String(d.getDate()), 2)
          var hour = pad(String(d.getHours()), 2)
          var min = pad(String(d.getMinutes()), 2)
          var sec = pad(String(d.getSeconds()), 2)
          var s = year + month + day + hour + min + sec
          if (withMillis === true) {
            var millis = d.getMilliseconds()
            if (millis != 0) {
              var sMillis = pad(String(millis), 3)
              sMillis = sMillis.replace(/[0]+$/, '')
              s = s + '.' + sMillis
            }
          }
          return s + 'Z'
        }

        this.zeroPadding = function(s, len) {
          if (s.length >= len) {
            return s
          }
          return new Array(len - s.length + 1).join('0') + s
        }

        // --- PUBLIC METHODS --------------------
        /**
         * get string value of this string object
         * @name getString
         * @memberOf KJUR.asn1.DERAbstractTime#
         * @function
         * @return {String} string value of this time object
         */
        this.getString = function() {
          return this.s
        }

        /**
         * set value by a string
         * @name setString
         * @memberOf KJUR.asn1.DERAbstractTime#
         * @function
         * @param {String} newS value by a string to set such like "130430235959Z"
         */
        this.setString = function(newS) {
          this.hTLV = null
          this.isModified = true
          this.s = newS
          this.hV = stohex(newS)
        }

        /**
         * set value by a Date object
         * @name setByDateValue
         * @memberOf KJUR.asn1.DERAbstractTime#
         * @function
         * @param {Integer} year year of date (ex. 2013)
         * @param {Integer} month month of date between 1 and 12 (ex. 12)
         * @param {Integer} day day of month
         * @param {Integer} hour hours of date
         * @param {Integer} min minutes of date
         * @param {Integer} sec seconds of date
         */
        this.setByDateValue = function(year, month, day, hour, min, sec) {
          var dateObject = new Date(Date.UTC(year, month - 1, day, hour, min, sec, 0))
          this.setByDate(dateObject)
        }

        this.getFreshValueHex = function() {
          return this.hV
        }
      }
      YAHOO.lang.extend(KJUR.asn1.DERAbstractTime, KJUR.asn1.ASN1Object)
      // == END   DERAbstractTime ==================================================

      // == BEGIN DERAbstractStructured ============================================
      /**
       * base class for ASN.1 DER structured class
       * @name KJUR.asn1.DERAbstractStructured
       * @class base class for ASN.1 DER structured class
       * @property {Array} asn1Array internal array of ASN1Object
       * @extends KJUR.asn1.ASN1Object
       * @description
       * @see KJUR.asn1.ASN1Object - superclass
       */
      KJUR.asn1.DERAbstractStructured = function(params) {
        KJUR.asn1.DERAbstractString.superclass.constructor.call(this)

        /**
         * set value by array of ASN1Object
         * @name setByASN1ObjectArray
         * @memberOf KJUR.asn1.DERAbstractStructured#
         * @function
         * @param {array} asn1ObjectArray array of ASN1Object to set
         */
        this.setByASN1ObjectArray = function(asn1ObjectArray) {
          this.hTLV = null
          this.isModified = true
          this.asn1Array = asn1ObjectArray
        }

        /**
         * append an ASN1Object to internal array
         * @name appendASN1Object
         * @memberOf KJUR.asn1.DERAbstractStructured#
         * @function
         * @param {ASN1Object} asn1Object to add
         */
        this.appendASN1Object = function(asn1Object) {
          this.hTLV = null
          this.isModified = true
          this.asn1Array.push(asn1Object)
        }

        this.asn1Array = new Array()
        if (typeof params != 'undefined') {
          if (typeof params['array'] != 'undefined') {
            this.asn1Array = params['array']
          }
        }
      }
      YAHOO.lang.extend(KJUR.asn1.DERAbstractStructured, KJUR.asn1.ASN1Object)

      // ********************************************************************
      //  ASN.1 Object Classes
      // ********************************************************************

      // ********************************************************************
      /**
       * class for ASN.1 DER Boolean
       * @name KJUR.asn1.DERBoolean
       * @class class for ASN.1 DER Boolean
       * @extends KJUR.asn1.ASN1Object
       * @description
       * @see KJUR.asn1.ASN1Object - superclass
       */
      KJUR.asn1.DERBoolean = function() {
        KJUR.asn1.DERBoolean.superclass.constructor.call(this)
        this.hT = '01'
        this.hTLV = '0101ff'
      }
      YAHOO.lang.extend(KJUR.asn1.DERBoolean, KJUR.asn1.ASN1Object)

      // ********************************************************************
      /**
       * class for ASN.1 DER Integer
       * @name KJUR.asn1.DERInteger
       * @class class for ASN.1 DER Integer
       * @extends KJUR.asn1.ASN1Object
       * @description
       * <br/>
       * As for argument 'params' for constructor, you can specify one of
       * following properties:
       * <ul>
       * <li>int - specify initial ASN.1 value(V) by integer value</li>
       * <li>bigint - specify initial ASN.1 value(V) by BigInteger object</li>
       * <li>hex - specify initial ASN.1 value(V) by a hexadecimal string</li>
       * </ul>
       * NOTE: 'params' can be omitted.
       */
      KJUR.asn1.DERInteger = function(params) {
        KJUR.asn1.DERInteger.superclass.constructor.call(this)
        this.hT = '02'

        /**
         * set value by Tom Wu's BigInteger object
         * @name setByBigInteger
         * @memberOf KJUR.asn1.DERInteger#
         * @function
         * @param {BigInteger} bigIntegerValue to set
         */
        this.setByBigInteger = function(bigIntegerValue) {
          this.hTLV = null
          this.isModified = true
          this.hV = KJUR.asn1.ASN1Util.bigIntToMinTwosComplementsHex(bigIntegerValue)
        }

        /**
         * set value by integer value
         * @name setByInteger
         * @memberOf KJUR.asn1.DERInteger
         * @function
         * @param {Integer} integer value to set
         */
        this.setByInteger = function(intValue) {
          var bi = new BigInteger(String(intValue), 10)
          this.setByBigInteger(bi)
        }

        /**
         * set value by integer value
         * @name setValueHex
         * @memberOf KJUR.asn1.DERInteger#
         * @function
         * @param {String} hexadecimal string of integer value
         * @description
         * <br/>
         * NOTE: Value shall be represented by minimum octet length of
         * two's complement representation.
         * @example
         * new KJUR.asn1.DERInteger(123);
         * new KJUR.asn1.DERInteger({'int': 123});
         * new KJUR.asn1.DERInteger({'hex': '1fad'});
         */
        this.setValueHex = function(newHexString) {
          this.hV = newHexString
        }

        this.getFreshValueHex = function() {
          return this.hV
        }

        if (typeof params != 'undefined') {
          if (typeof params['bigint'] != 'undefined') {
            this.setByBigInteger(params['bigint'])
          } else if (typeof params['int'] != 'undefined') {
            this.setByInteger(params['int'])
          } else if (typeof params == 'number') {
            this.setByInteger(params)
          } else if (typeof params['hex'] != 'undefined') {
            this.setValueHex(params['hex'])
          }
        }
      }
      YAHOO.lang.extend(KJUR.asn1.DERInteger, KJUR.asn1.ASN1Object)

      // ********************************************************************
      /**
       * class for ASN.1 DER encoded BitString primitive
       * @name KJUR.asn1.DERBitString
       * @class class for ASN.1 DER encoded BitString primitive
       * @extends KJUR.asn1.ASN1Object
       * @description
       * <br/>
       * As for argument 'params' for constructor, you can specify one of
       * following properties:
       * <ul>
       * <li>bin - specify binary string (ex. '10111')</li>
       * <li>array - specify array of boolean (ex. [true,false,true,true])</li>
       * <li>hex - specify hexadecimal string of ASN.1 value(V) including unused bits</li>
       * <li>obj - specify {@link KJUR.asn1.ASN1Util.newObject}
       * argument for "BitString encapsulates" structure.</li>
       * </ul>
       * NOTE1: 'params' can be omitted.<br/>
       * NOTE2: 'obj' parameter have been supported since
       * asn1 1.0.11, jsrsasign 6.1.1 (2016-Sep-25).<br/>
       * @example
       * // default constructor
       * o = new KJUR.asn1.DERBitString();
       * // initialize with binary string
       * o = new KJUR.asn1.DERBitString({bin: "1011"});
       * // initialize with boolean array
       * o = new KJUR.asn1.DERBitString({array: [true,false,true,true]});
       * // initialize with hexadecimal string (04 is unused bits)
       * o = new KJUR.asn1.DEROctetString({hex: "04bac0"});
       * // initialize with ASN1Util.newObject argument for encapsulated
       * o = new KJUR.asn1.DERBitString({obj: {seq: [{int: 3}, {prnstr: 'aaa'}]}});
       * // above generates a ASN.1 data like this:
       * // BIT STRING, encapsulates {
       * //   SEQUENCE {
       * //     INTEGER 3
       * //     PrintableString 'aaa'
       * //     }
       * //   }
       */
      KJUR.asn1.DERBitString = function(params) {
        if (params !== undefined && typeof params.obj !== 'undefined') {
          var o = KJUR.asn1.ASN1Util.newObject(params.obj)
          params.hex = '00' + o.getEncodedHex()
        }
        KJUR.asn1.DERBitString.superclass.constructor.call(this)
        this.hT = '03'

        /**
         * set ASN.1 value(V) by a hexadecimal string including unused bits
         * @name setHexValueIncludingUnusedBits
         * @memberOf KJUR.asn1.DERBitString#
         * @function
         * @param {String} newHexStringIncludingUnusedBits
         */
        this.setHexValueIncludingUnusedBits = function(newHexStringIncludingUnusedBits) {
          this.hTLV = null
          this.isModified = true
          this.hV = newHexStringIncludingUnusedBits
        }

        /**
         * set ASN.1 value(V) by unused bit and hexadecimal string of value
         * @name setUnusedBitsAndHexValue
         * @memberOf KJUR.asn1.DERBitString#
         * @function
         * @param {Integer} unusedBits
         * @param {String} hValue
         */
        this.setUnusedBitsAndHexValue = function(unusedBits, hValue) {
          if (unusedBits < 0 || 7 < unusedBits) {
            throw 'unused bits shall be from 0 to 7: u = ' + unusedBits
          }
          var hUnusedBits = '0' + unusedBits
          this.hTLV = null
          this.isModified = true
          this.hV = hUnusedBits + hValue
        }

        /**
         * set ASN.1 DER BitString by binary string<br/>
         * @name setByBinaryString
         * @memberOf KJUR.asn1.DERBitString#
         * @function
         * @param {String} binaryString binary value string (i.e. '10111')
         * @description
         * Its unused bits will be calculated automatically by length of
         * 'binaryValue'. <br/>
         * NOTE: Trailing zeros '0' will be ignored.
         * @example
         * o = new KJUR.asn1.DERBitString();
         * o.setByBooleanArray("01011");
         */
        this.setByBinaryString = function(binaryString) {
          binaryString = binaryString.replace(/0+$/, '')
          var unusedBits = 8 - (binaryString.length % 8)
          if (unusedBits == 8) {
            unusedBits = 0
          }
          for (var i = 0; i <= unusedBits; i++) {
            binaryString += '0'
          }
          var h = ''
          for (var i = 0; i < binaryString.length - 1; i += 8) {
            var b = binaryString.substr(i, 8)
            var x = parseInt(b, 2).toString(16)
            if (x.length == 1) {
              x = '0' + x
            }
            h += x
          }
          this.hTLV = null
          this.isModified = true
          this.hV = '0' + unusedBits + h
        }

        /**
         * set ASN.1 TLV value(V) by an array of boolean<br/>
         * @name setByBooleanArray
         * @memberOf KJUR.asn1.DERBitString#
         * @function
         * @param {array} booleanArray array of boolean (ex. [true, false, true])
         * @description
         * NOTE: Trailing falses will be ignored in the ASN.1 DER Object.
         * @example
         * o = new KJUR.asn1.DERBitString();
         * o.setByBooleanArray([false, true, false, true, true]);
         */
        this.setByBooleanArray = function(booleanArray) {
          var s = ''
          for (var i = 0; i < booleanArray.length; i++) {
            if (booleanArray[i] == true) {
              s += '1'
            } else {
              s += '0'
            }
          }
          this.setByBinaryString(s)
        }

        /**
         * generate an array of falses with specified length<br/>
         * @name newFalseArray
         * @memberOf KJUR.asn1.DERBitString
         * @function
         * @param {Integer} nLength length of array to generate
         * @return {array} array of boolean falses
         * @description
         * This static method may be useful to initialize boolean array.
         * @example
         * o = new KJUR.asn1.DERBitString();
         * o.newFalseArray(3) &rarr; [false, false, false]
         */
        this.newFalseArray = function(nLength) {
          var a = new Array(nLength)
          for (var i = 0; i < nLength; i++) {
            a[i] = false
          }
          return a
        }

        this.getFreshValueHex = function() {
          return this.hV
        }

        if (typeof params != 'undefined') {
          if (typeof params == 'string' && params.toLowerCase().match(/^[0-9a-f]+$/)) {
            this.setHexValueIncludingUnusedBits(params)
          } else if (typeof params['hex'] != 'undefined') {
            this.setHexValueIncludingUnusedBits(params['hex'])
          } else if (typeof params['bin'] != 'undefined') {
            this.setByBinaryString(params['bin'])
          } else if (typeof params['array'] != 'undefined') {
            this.setByBooleanArray(params['array'])
          }
        }
      }
      YAHOO.lang.extend(KJUR.asn1.DERBitString, KJUR.asn1.ASN1Object)

      // ********************************************************************
      /**
       * class for ASN.1 DER OctetString<br/>
       * @name KJUR.asn1.DEROctetString
       * @class class for ASN.1 DER OctetString
       * @param {Array} params associative array of parameters (ex. {'str': 'aaa'})
       * @extends KJUR.asn1.DERAbstractString
       * @description
       * This class provides ASN.1 OctetString simple type.<br/>
       * Supported "params" attributes are:
       * <ul>
       * <li>str - to set a string as a value</li>
       * <li>hex - to set a hexadecimal string as a value</li>
       * <li>obj - to set a encapsulated ASN.1 value by JSON object
       * which is defined in {@link KJUR.asn1.ASN1Util.newObject}</li>
       * </ul>
       * NOTE: A parameter 'obj' have been supported
       * for "OCTET STRING, encapsulates" structure.
       * since asn1 1.0.11, jsrsasign 6.1.1 (2016-Sep-25).
       * @see KJUR.asn1.DERAbstractString - superclass
       * @example
       * // default constructor
       * o = new KJUR.asn1.DEROctetString();
       * // initialize with string
       * o = new KJUR.asn1.DEROctetString({str: "aaa"});
       * // initialize with hexadecimal string
       * o = new KJUR.asn1.DEROctetString({hex: "616161"});
       * // initialize with ASN1Util.newObject argument
       * o = new KJUR.asn1.DEROctetString({obj: {seq: [{int: 3}, {prnstr: 'aaa'}]}});
       * // above generates a ASN.1 data like this:
       * // OCTET STRING, encapsulates {
       * //   SEQUENCE {
       * //     INTEGER 3
       * //     PrintableString 'aaa'
       * //     }
       * //   }
       */
      KJUR.asn1.DEROctetString = function(params) {
        if (params !== undefined && typeof params.obj !== 'undefined') {
          var o = KJUR.asn1.ASN1Util.newObject(params.obj)
          params.hex = o.getEncodedHex()
        }
        KJUR.asn1.DEROctetString.superclass.constructor.call(this, params)
        this.hT = '04'
      }
      YAHOO.lang.extend(KJUR.asn1.DEROctetString, KJUR.asn1.DERAbstractString)

      // ********************************************************************
      /**
       * class for ASN.1 DER Null
       * @name KJUR.asn1.DERNull
       * @class class for ASN.1 DER Null
       * @extends KJUR.asn1.ASN1Object
       * @description
       * @see KJUR.asn1.ASN1Object - superclass
       */
      KJUR.asn1.DERNull = function() {
        KJUR.asn1.DERNull.superclass.constructor.call(this)
        this.hT = '05'
        this.hTLV = '0500'
      }
      YAHOO.lang.extend(KJUR.asn1.DERNull, KJUR.asn1.ASN1Object)

      // ********************************************************************
      /**
       * class for ASN.1 DER ObjectIdentifier
       * @name KJUR.asn1.DERObjectIdentifier
       * @class class for ASN.1 DER ObjectIdentifier
       * @param {Array} params associative array of parameters (ex. {'oid': '2.5.4.5'})
       * @extends KJUR.asn1.ASN1Object
       * @description
       * <br/>
       * As for argument 'params' for constructor, you can specify one of
       * following properties:
       * <ul>
       * <li>oid - specify initial ASN.1 value(V) by a oid string (ex. 2.5.4.13)</li>
       * <li>hex - specify initial ASN.1 value(V) by a hexadecimal string</li>
       * </ul>
       * NOTE: 'params' can be omitted.
       */
      KJUR.asn1.DERObjectIdentifier = function(params) {
        var itox = function(i) {
          var h = i.toString(16)
          if (h.length == 1) {
            h = '0' + h
          }
          return h
        }
        var roidtox = function(roid) {
          var h = ''
          var bi = new BigInteger(roid, 10)
          var b = bi.toString(2)
          var padLen = 7 - (b.length % 7)
          if (padLen == 7) {
            padLen = 0
          }
          var bPad = ''
          for (var i = 0; i < padLen; i++) {
            bPad += '0'
          }
          b = bPad + b
          for (var i = 0; i < b.length - 1; i += 7) {
            var b8 = b.substr(i, 7)
            if (i != b.length - 7) {
              b8 = '1' + b8
            }
            h += itox(parseInt(b8, 2))
          }
          return h
        }

        KJUR.asn1.DERObjectIdentifier.superclass.constructor.call(this)
        this.hT = '06'

        /**
         * set value by a hexadecimal string
         * @name setValueHex
         * @memberOf KJUR.asn1.DERObjectIdentifier#
         * @function
         * @param {String} newHexString hexadecimal value of OID bytes
         */
        this.setValueHex = function(newHexString) {
          this.hTLV = null
          this.isModified = true
          this.s = null
          this.hV = newHexString
        }

        /**
         * set value by a OID string<br/>
         * @name setValueOidString
         * @memberOf KJUR.asn1.DERObjectIdentifier#
         * @function
         * @param {String} oidString OID string (ex. 2.5.4.13)
         * @example
         * o = new KJUR.asn1.DERObjectIdentifier();
         * o.setValueOidString("2.5.4.13");
         */
        this.setValueOidString = function(oidString) {
          if (!oidString.match(/^[0-9.]+$/)) {
            throw 'malformed oid string: ' + oidString
          }
          var h = ''
          var a = oidString.split('.')
          var i0 = parseInt(a[0]) * 40 + parseInt(a[1])
          h += itox(i0)
          a.splice(0, 2)
          for (var i = 0; i < a.length; i++) {
            h += roidtox(a[i])
          }
          this.hTLV = null
          this.isModified = true
          this.s = null
          this.hV = h
        }

        /**
         * set value by a OID name
         * @name setValueName
         * @memberOf KJUR.asn1.DERObjectIdentifier#
         * @function
         * @param {String} oidName OID name (ex. 'serverAuth')
         * @since 1.0.1
         * @description
         * OID name shall be defined in 'KJUR.asn1.x509.OID.name2oidList'.
         * Otherwise raise error.
         * @example
         * o = new KJUR.asn1.DERObjectIdentifier();
         * o.setValueName("serverAuth");
         */
        this.setValueName = function(oidName) {
          var oid = KJUR.asn1.x509.OID.name2oid(oidName)
          if (oid !== '') {
            this.setValueOidString(oid)
          } else {
            throw 'DERObjectIdentifier oidName undefined: ' + oidName
          }
        }

        this.getFreshValueHex = function() {
          return this.hV
        }

        if (params !== undefined) {
          if (typeof params === 'string') {
            if (params.match(/^[0-2].[0-9.]+$/)) {
              this.setValueOidString(params)
            } else {
              this.setValueName(params)
            }
          } else if (params.oid !== undefined) {
            this.setValueOidString(params.oid)
          } else if (params.hex !== undefined) {
            this.setValueHex(params.hex)
          } else if (params.name !== undefined) {
            this.setValueName(params.name)
          }
        }
      }
      YAHOO.lang.extend(KJUR.asn1.DERObjectIdentifier, KJUR.asn1.ASN1Object)

      // ********************************************************************
      /**
       * class for ASN.1 DER Enumerated
       * @name KJUR.asn1.DEREnumerated
       * @class class for ASN.1 DER Enumerated
       * @extends KJUR.asn1.ASN1Object
       * @description
       * <br/>
       * As for argument 'params' for constructor, you can specify one of
       * following properties:
       * <ul>
       * <li>int - specify initial ASN.1 value(V) by integer value</li>
       * <li>hex - specify initial ASN.1 value(V) by a hexadecimal string</li>
       * </ul>
       * NOTE: 'params' can be omitted.
       * @example
       * new KJUR.asn1.DEREnumerated(123);
       * new KJUR.asn1.DEREnumerated({int: 123});
       * new KJUR.asn1.DEREnumerated({hex: '1fad'});
       */
      KJUR.asn1.DEREnumerated = function(params) {
        KJUR.asn1.DEREnumerated.superclass.constructor.call(this)
        this.hT = '0a'

        /**
         * set value by Tom Wu's BigInteger object
         * @name setByBigInteger
         * @memberOf KJUR.asn1.DEREnumerated#
         * @function
         * @param {BigInteger} bigIntegerValue to set
         */
        this.setByBigInteger = function(bigIntegerValue) {
          this.hTLV = null
          this.isModified = true
          this.hV = KJUR.asn1.ASN1Util.bigIntToMinTwosComplementsHex(bigIntegerValue)
        }

        /**
         * set value by integer value
         * @name setByInteger
         * @memberOf KJUR.asn1.DEREnumerated#
         * @function
         * @param {Integer} integer value to set
         */
        this.setByInteger = function(intValue) {
          var bi = new BigInteger(String(intValue), 10)
          this.setByBigInteger(bi)
        }

        /**
         * set value by integer value
         * @name setValueHex
         * @memberOf KJUR.asn1.DEREnumerated#
         * @function
         * @param {String} hexadecimal string of integer value
         * @description
         * <br/>
         * NOTE: Value shall be represented by minimum octet length of
         * two's complement representation.
         */
        this.setValueHex = function(newHexString) {
          this.hV = newHexString
        }

        this.getFreshValueHex = function() {
          return this.hV
        }

        if (typeof params != 'undefined') {
          if (typeof params['int'] != 'undefined') {
            this.setByInteger(params['int'])
          } else if (typeof params == 'number') {
            this.setByInteger(params)
          } else if (typeof params['hex'] != 'undefined') {
            this.setValueHex(params['hex'])
          }
        }
      }
      YAHOO.lang.extend(KJUR.asn1.DEREnumerated, KJUR.asn1.ASN1Object)

      // ********************************************************************
      /**
       * class for ASN.1 DER UTF8String
       * @name KJUR.asn1.DERUTF8String
       * @class class for ASN.1 DER UTF8String
       * @param {Array} params associative array of parameters (ex. {'str': 'aaa'})
       * @extends KJUR.asn1.DERAbstractString
       * @description
       * @see KJUR.asn1.DERAbstractString - superclass
       */
      KJUR.asn1.DERUTF8String = function(params) {
        KJUR.asn1.DERUTF8String.superclass.constructor.call(this, params)
        this.hT = '0c'
      }
      YAHOO.lang.extend(KJUR.asn1.DERUTF8String, KJUR.asn1.DERAbstractString)

      // ********************************************************************
      /**
       * class for ASN.1 DER NumericString
       * @name KJUR.asn1.DERNumericString
       * @class class for ASN.1 DER NumericString
       * @param {Array} params associative array of parameters (ex. {'str': 'aaa'})
       * @extends KJUR.asn1.DERAbstractString
       * @description
       * @see KJUR.asn1.DERAbstractString - superclass
       */
      KJUR.asn1.DERNumericString = function(params) {
        KJUR.asn1.DERNumericString.superclass.constructor.call(this, params)
        this.hT = '12'
      }
      YAHOO.lang.extend(KJUR.asn1.DERNumericString, KJUR.asn1.DERAbstractString)

      // ********************************************************************
      /**
       * class for ASN.1 DER PrintableString
       * @name KJUR.asn1.DERPrintableString
       * @class class for ASN.1 DER PrintableString
       * @param {Array} params associative array of parameters (ex. {'str': 'aaa'})
       * @extends KJUR.asn1.DERAbstractString
       * @description
       * @see KJUR.asn1.DERAbstractString - superclass
       */
      KJUR.asn1.DERPrintableString = function(params) {
        KJUR.asn1.DERPrintableString.superclass.constructor.call(this, params)
        this.hT = '13'
      }
      YAHOO.lang.extend(KJUR.asn1.DERPrintableString, KJUR.asn1.DERAbstractString)

      // ********************************************************************
      /**
       * class for ASN.1 DER TeletexString
       * @name KJUR.asn1.DERTeletexString
       * @class class for ASN.1 DER TeletexString
       * @param {Array} params associative array of parameters (ex. {'str': 'aaa'})
       * @extends KJUR.asn1.DERAbstractString
       * @description
       * @see KJUR.asn1.DERAbstractString - superclass
       */
      KJUR.asn1.DERTeletexString = function(params) {
        KJUR.asn1.DERTeletexString.superclass.constructor.call(this, params)
        this.hT = '14'
      }
      YAHOO.lang.extend(KJUR.asn1.DERTeletexString, KJUR.asn1.DERAbstractString)

      // ********************************************************************
      /**
       * class for ASN.1 DER IA5String
       * @name KJUR.asn1.DERIA5String
       * @class class for ASN.1 DER IA5String
       * @param {Array} params associative array of parameters (ex. {'str': 'aaa'})
       * @extends KJUR.asn1.DERAbstractString
       * @description
       * @see KJUR.asn1.DERAbstractString - superclass
       */
      KJUR.asn1.DERIA5String = function(params) {
        KJUR.asn1.DERIA5String.superclass.constructor.call(this, params)
        this.hT = '16'
      }
      YAHOO.lang.extend(KJUR.asn1.DERIA5String, KJUR.asn1.DERAbstractString)

      // ********************************************************************
      /**
       * class for ASN.1 DER UTCTime
       * @name KJUR.asn1.DERUTCTime
       * @class class for ASN.1 DER UTCTime
       * @param {Array} params associative array of parameters (ex. {'str': '130430235959Z'})
       * @extends KJUR.asn1.DERAbstractTime
       * @description
       * <br/>
       * As for argument 'params' for constructor, you can specify one of
       * following properties:
       * <ul>
       * <li>str - specify initial ASN.1 value(V) by a string (ex.'130430235959Z')</li>
       * <li>hex - specify initial ASN.1 value(V) by a hexadecimal string</li>
       * <li>date - specify Date object.</li>
       * </ul>
       * NOTE: 'params' can be omitted.
       * <h4>EXAMPLES</h4>
       * @example
       * d1 = new KJUR.asn1.DERUTCTime();
       * d1.setString('130430125959Z');
       *
       * d2 = new KJUR.asn1.DERUTCTime({'str': '130430125959Z'});
       * d3 = new KJUR.asn1.DERUTCTime({'date': new Date(Date.UTC(2015, 0, 31, 0, 0, 0, 0))});
       * d4 = new KJUR.asn1.DERUTCTime('130430125959Z');
       */
      KJUR.asn1.DERUTCTime = function(params) {
        KJUR.asn1.DERUTCTime.superclass.constructor.call(this, params)
        this.hT = '17'

        /**
         * set value by a Date object<br/>
         * @name setByDate
         * @memberOf KJUR.asn1.DERUTCTime#
         * @function
         * @param {Date} dateObject Date object to set ASN.1 value(V)
         * @example
         * o = new KJUR.asn1.DERUTCTime();
         * o.setByDate(new Date("2016/12/31"));
         */
        this.setByDate = function(dateObject) {
          this.hTLV = null
          this.isModified = true
          this.date = dateObject
          this.s = this.formatDate(this.date, 'utc')
          this.hV = stohex(this.s)
        }

        this.getFreshValueHex = function() {
          if (typeof this.date == 'undefined' && typeof this.s == 'undefined') {
            this.date = new Date()
            this.s = this.formatDate(this.date, 'utc')
            this.hV = stohex(this.s)
          }
          return this.hV
        }

        if (params !== undefined) {
          if (params.str !== undefined) {
            this.setString(params.str)
          } else if (typeof params == 'string' && params.match(/^[0-9]{12}Z$/)) {
            this.setString(params)
          } else if (params.hex !== undefined) {
            this.setStringHex(params.hex)
          } else if (params.date !== undefined) {
            this.setByDate(params.date)
          }
        }
      }
      YAHOO.lang.extend(KJUR.asn1.DERUTCTime, KJUR.asn1.DERAbstractTime)

      // ********************************************************************
      /**
       * class for ASN.1 DER GeneralizedTime
       * @name KJUR.asn1.DERGeneralizedTime
       * @class class for ASN.1 DER GeneralizedTime
       * @param {Array} params associative array of parameters (ex. {'str': '20130430235959Z'})
       * @property {Boolean} withMillis flag to show milliseconds or not
       * @extends KJUR.asn1.DERAbstractTime
       * @description
       * <br/>
       * As for argument 'params' for constructor, you can specify one of
       * following properties:
       * <ul>
       * <li>str - specify initial ASN.1 value(V) by a string (ex.'20130430235959Z')</li>
       * <li>hex - specify initial ASN.1 value(V) by a hexadecimal string</li>
       * <li>date - specify Date object.</li>
       * <li>millis - specify flag to show milliseconds (from 1.0.6)</li>
       * </ul>
       * NOTE1: 'params' can be omitted.
       * NOTE2: 'withMillis' property is supported from asn1 1.0.6.
       */
      KJUR.asn1.DERGeneralizedTime = function(params) {
        KJUR.asn1.DERGeneralizedTime.superclass.constructor.call(this, params)
        this.hT = '18'
        this.withMillis = false

        /**
         * set value by a Date object
         * @name setByDate
         * @memberOf KJUR.asn1.DERGeneralizedTime#
         * @function
         * @param {Date} dateObject Date object to set ASN.1 value(V)
         * @example
         * When you specify UTC time, use 'Date.UTC' method like this:<br/>
         * o1 = new DERUTCTime();
         * o1.setByDate(date);
         *
         * date = new Date(Date.UTC(2015, 0, 31, 23, 59, 59, 0)); #2015JAN31 23:59:59
         */
        this.setByDate = function(dateObject) {
          this.hTLV = null
          this.isModified = true
          this.date = dateObject
          this.s = this.formatDate(this.date, 'gen', this.withMillis)
          this.hV = stohex(this.s)
        }

        this.getFreshValueHex = function() {
          if (this.date === undefined && this.s === undefined) {
            this.date = new Date()
            this.s = this.formatDate(this.date, 'gen', this.withMillis)
            this.hV = stohex(this.s)
          }
          return this.hV
        }

        if (params !== undefined) {
          if (params.str !== undefined) {
            this.setString(params.str)
          } else if (typeof params == 'string' && params.match(/^[0-9]{14}Z$/)) {
            this.setString(params)
          } else if (params.hex !== undefined) {
            this.setStringHex(params.hex)
          } else if (params.date !== undefined) {
            this.setByDate(params.date)
          }
          if (params.millis === true) {
            this.withMillis = true
          }
        }
      }
      YAHOO.lang.extend(KJUR.asn1.DERGeneralizedTime, KJUR.asn1.DERAbstractTime)

      // ********************************************************************
      /**
       * class for ASN.1 DER Sequence
       * @name KJUR.asn1.DERSequence
       * @class class for ASN.1 DER Sequence
       * @extends KJUR.asn1.DERAbstractStructured
       * @description
       * <br/>
       * As for argument 'params' for constructor, you can specify one of
       * following properties:
       * <ul>
       * <li>array - specify array of ASN1Object to set elements of content</li>
       * </ul>
       * NOTE: 'params' can be omitted.
       */
      KJUR.asn1.DERSequence = function(params) {
        KJUR.asn1.DERSequence.superclass.constructor.call(this, params)
        this.hT = '30'
        this.getFreshValueHex = function() {
          var h = ''
          for (var i = 0; i < this.asn1Array.length; i++) {
            var asn1Obj = this.asn1Array[i]
            h += asn1Obj.getEncodedHex()
          }
          this.hV = h
          return this.hV
        }
      }
      YAHOO.lang.extend(KJUR.asn1.DERSequence, KJUR.asn1.DERAbstractStructured)

      // ********************************************************************
      /**
       * class for ASN.1 DER Set
       * @name KJUR.asn1.DERSet
       * @class class for ASN.1 DER Set
       * @extends KJUR.asn1.DERAbstractStructured
       * @description
       * <br/>
       * As for argument 'params' for constructor, you can specify one of
       * following properties:
       * <ul>
       * <li>array - specify array of ASN1Object to set elements of content</li>
       * <li>sortflag - flag for sort (default: true). ASN.1 BER is not sorted in 'SET OF'.</li>
       * </ul>
       * NOTE1: 'params' can be omitted.<br/>
       * NOTE2: sortflag is supported since 1.0.5.
       */
      KJUR.asn1.DERSet = function(params) {
        KJUR.asn1.DERSet.superclass.constructor.call(this, params)
        this.hT = '31'
        this.sortFlag = true // item shall be sorted only in ASN.1 DER
        this.getFreshValueHex = function() {
          var a = new Array()
          for (var i = 0; i < this.asn1Array.length; i++) {
            var asn1Obj = this.asn1Array[i]
            a.push(asn1Obj.getEncodedHex())
          }
          if (this.sortFlag == true) {
            a.sort()
          }
          this.hV = a.join('')
          return this.hV
        }

        if (typeof params != 'undefined') {
          if (typeof params.sortflag != 'undefined' && params.sortflag == false) {
            this.sortFlag = false
          }
        }
      }
      YAHOO.lang.extend(KJUR.asn1.DERSet, KJUR.asn1.DERAbstractStructured)

      // ********************************************************************
      /**
       * class for ASN.1 DER TaggedObject
       * @name KJUR.asn1.DERTaggedObject
       * @class class for ASN.1 DER TaggedObject
       * @extends KJUR.asn1.ASN1Object
       * @description
       * <br/>
       * Parameter 'tagNoNex' is ASN.1 tag(T) value for this object.
       * For example, if you find '[1]' tag in a ASN.1 dump,
       * 'tagNoHex' will be 'a1'.
       * <br/>
       * As for optional argument 'params' for constructor, you can specify *ANY* of
       * following properties:
       * <ul>
       * <li>explicit - specify true if this is explicit tag otherwise false
       *     (default is 'true').</li>
       * <li>tag - specify tag (default is 'a0' which means [0])</li>
       * <li>obj - specify ASN1Object which is tagged</li>
       * </ul>
       * @example
       * d1 = new KJUR.asn1.DERUTF8String({'str':'a'});
       * d2 = new KJUR.asn1.DERTaggedObject({'obj': d1});
       * hex = d2.getEncodedHex();
       */
      KJUR.asn1.DERTaggedObject = function(params) {
        KJUR.asn1.DERTaggedObject.superclass.constructor.call(this)
        this.hT = 'a0'
        this.hV = ''
        this.isExplicit = true
        this.asn1Object = null

        /**
         * set value by an ASN1Object
         * @name setString
         * @memberOf KJUR.asn1.DERTaggedObject#
         * @function
         * @param {Boolean} isExplicitFlag flag for explicit/implicit tag
         * @param {Integer} tagNoHex hexadecimal string of ASN.1 tag
         * @param {ASN1Object} asn1Object ASN.1 to encapsulate
         */
        this.setASN1Object = function(isExplicitFlag, tagNoHex, asn1Object) {
          this.hT = tagNoHex
          this.isExplicit = isExplicitFlag
          this.asn1Object = asn1Object
          if (this.isExplicit) {
            this.hV = this.asn1Object.getEncodedHex()
            this.hTLV = null
            this.isModified = true
          } else {
            this.hV = null
            this.hTLV = asn1Object.getEncodedHex()
            this.hTLV = this.hTLV.replace(/^../, tagNoHex)
            this.isModified = false
          }
        }

        this.getFreshValueHex = function() {
          return this.hV
        }

        if (typeof params != 'undefined') {
          if (typeof params['tag'] != 'undefined') {
            this.hT = params['tag']
          }
          if (typeof params['explicit'] != 'undefined') {
            this.isExplicit = params['explicit']
          }
          if (typeof params['obj'] != 'undefined') {
            this.asn1Object = params['obj']
            this.setASN1Object(this.isExplicit, this.hT, this.asn1Object)
          }
        }
      }
      YAHOO.lang.extend(KJUR.asn1.DERTaggedObject, KJUR.asn1.ASN1Object)

      /**
       * Create a new JSEncryptRSAKey that extends Tom Wu's RSA key object.
       * This object is just a decorator for parsing the key parameter
       * @param {string|Object} key - The key in string format, or an object containing
       * the parameters needed to build a RSAKey object.
       * @constructor
       */
      var JSEncryptRSAKey = /** @class */ (function(_super) {
        __extends(JSEncryptRSAKey, _super)
        function JSEncryptRSAKey(key) {
          var _this = _super.call(this) || this
          // Call the super constructor.
          //  RSAKey.call(this);
          // If a key key was provided.
          if (key) {
            // If this is a string...
            if (typeof key === 'string') {
              _this.parseKey(key)
            } else if (
              JSEncryptRSAKey.hasPrivateKeyProperty(key) ||
              JSEncryptRSAKey.hasPublicKeyProperty(key)
            ) {
              // Set the values for the key.
              _this.parsePropertiesFrom(key)
            }
          }
          return _this
        }
        /**
         * Method to parse a pem encoded string containing both a public or private key.
         * The method will translate the pem encoded string in a der encoded string and
         * will parse private key and public key parameters. This method accepts public key
         * in the rsaencryption pkcs #1 format (oid: 1.2.840.113549.1.1.1).
         *
         * @todo Check how many rsa formats use the same format of pkcs #1.
         *
         * The format is defined as:
         * PublicKeyInfo ::= SEQUENCE {
         *   algorithm       AlgorithmIdentifier,
         *   PublicKey       BIT STRING
         * }
         * Where AlgorithmIdentifier is:
         * AlgorithmIdentifier ::= SEQUENCE {
         *   algorithm       OBJECT IDENTIFIER,     the OID of the enc algorithm
         *   parameters      ANY DEFINED BY algorithm OPTIONAL (NULL for PKCS #1)
         * }
         * and PublicKey is a SEQUENCE encapsulated in a BIT STRING
         * RSAPublicKey ::= SEQUENCE {
         *   modulus           INTEGER,  -- n
         *   publicExponent    INTEGER   -- e
         * }
         * it's possible to examine the structure of the keys obtained from openssl using
         * an asn.1 dumper as the one used here to parse the components: http://lapo.it/asn1js/
         * @argument {string} pem the pem encoded string, can include the BEGIN/END header/footer
         * @private
         */
        JSEncryptRSAKey.prototype.parseKey = function(pem) {
          try {
            var modulus = 0
            var public_exponent = 0
            var reHex = /^\s*(?:[0-9A-Fa-f][0-9A-Fa-f]\s*)+$/
            var der = reHex.test(pem) ? Hex.decode(pem) : Base64.unarmor(pem)
            var asn1 = ASN1.decode(der)
            // Fixes a bug with OpenSSL 1.0+ private keys
            if (asn1.sub.length === 3) {
              asn1 = asn1.sub[2].sub[0]
            }
            if (asn1.sub.length === 9) {
              // Parse the private key.
              modulus = asn1.sub[1].getHexStringValue() // bigint
              this.n = parseBigInt(modulus, 16)
              public_exponent = asn1.sub[2].getHexStringValue() // int
              this.e = parseInt(public_exponent, 16)
              var private_exponent = asn1.sub[3].getHexStringValue() // bigint
              this.d = parseBigInt(private_exponent, 16)
              var prime1 = asn1.sub[4].getHexStringValue() // bigint
              this.p = parseBigInt(prime1, 16)
              var prime2 = asn1.sub[5].getHexStringValue() // bigint
              this.q = parseBigInt(prime2, 16)
              var exponent1 = asn1.sub[6].getHexStringValue() // bigint
              this.dmp1 = parseBigInt(exponent1, 16)
              var exponent2 = asn1.sub[7].getHexStringValue() // bigint
              this.dmq1 = parseBigInt(exponent2, 16)
              var coefficient = asn1.sub[8].getHexStringValue() // bigint
              this.coeff = parseBigInt(coefficient, 16)
            } else if (asn1.sub.length === 2) {
              // Parse the public key.
              var bit_string = asn1.sub[1]
              var sequence = bit_string.sub[0]
              modulus = sequence.sub[0].getHexStringValue()
              this.n = parseBigInt(modulus, 16)
              public_exponent = sequence.sub[1].getHexStringValue()
              this.e = parseInt(public_exponent, 16)
            } else {
              return false
            }
            return true
          } catch (ex) {
            return false
          }
        }
        /**
         * Translate rsa parameters in a hex encoded string representing the rsa key.
         *
         * The translation follow the ASN.1 notation :
         * RSAPrivateKey ::= SEQUENCE {
         *   version           Version,
         *   modulus           INTEGER,  -- n
         *   publicExponent    INTEGER,  -- e
         *   privateExponent   INTEGER,  -- d
         *   prime1            INTEGER,  -- p
         *   prime2            INTEGER,  -- q
         *   exponent1         INTEGER,  -- d mod (p1)
         *   exponent2         INTEGER,  -- d mod (q-1)
         *   coefficient       INTEGER,  -- (inverse of q) mod p
         * }
         * @returns {string}  DER Encoded String representing the rsa private key
         * @private
         */
        JSEncryptRSAKey.prototype.getPrivateBaseKey = function() {
          var options = {
            array: [
              new KJUR.asn1.DERInteger({ int: 0 }),
              new KJUR.asn1.DERInteger({ bigint: this.n }),
              new KJUR.asn1.DERInteger({ int: this.e }),
              new KJUR.asn1.DERInteger({ bigint: this.d }),
              new KJUR.asn1.DERInteger({ bigint: this.p }),
              new KJUR.asn1.DERInteger({ bigint: this.q }),
              new KJUR.asn1.DERInteger({ bigint: this.dmp1 }),
              new KJUR.asn1.DERInteger({ bigint: this.dmq1 }),
              new KJUR.asn1.DERInteger({ bigint: this.coeff })
            ]
          }
          var seq = new KJUR.asn1.DERSequence(options)
          return seq.getEncodedHex()
        }
        /**
         * base64 (pem) encoded version of the DER encoded representation
         * @returns {string} pem encoded representation without header and footer
         * @public
         */
        JSEncryptRSAKey.prototype.getPrivateBaseKeyB64 = function() {
          return hex2b64(this.getPrivateBaseKey())
        }
        /**
         * Translate rsa parameters in a hex encoded string representing the rsa public key.
         * The representation follow the ASN.1 notation :
         * PublicKeyInfo ::= SEQUENCE {
         *   algorithm       AlgorithmIdentifier,
         *   PublicKey       BIT STRING
         * }
         * Where AlgorithmIdentifier is:
         * AlgorithmIdentifier ::= SEQUENCE {
         *   algorithm       OBJECT IDENTIFIER,     the OID of the enc algorithm
         *   parameters      ANY DEFINED BY algorithm OPTIONAL (NULL for PKCS #1)
         * }
         * and PublicKey is a SEQUENCE encapsulated in a BIT STRING
         * RSAPublicKey ::= SEQUENCE {
         *   modulus           INTEGER,  -- n
         *   publicExponent    INTEGER   -- e
         * }
         * @returns {string} DER Encoded String representing the rsa public key
         * @private
         */
        JSEncryptRSAKey.prototype.getPublicBaseKey = function() {
          var first_sequence = new KJUR.asn1.DERSequence({
            array: [
              new KJUR.asn1.DERObjectIdentifier({ oid: '1.2.840.113549.1.1.1' }),
              new KJUR.asn1.DERNull()
            ]
          })
          var second_sequence = new KJUR.asn1.DERSequence({
            array: [
              new KJUR.asn1.DERInteger({ bigint: this.n }),
              new KJUR.asn1.DERInteger({ int: this.e })
            ]
          })
          var bit_string = new KJUR.asn1.DERBitString({
            hex: '00' + second_sequence.getEncodedHex()
          })
          var seq = new KJUR.asn1.DERSequence({
            array: [first_sequence, bit_string]
          })
          return seq.getEncodedHex()
        }
        /**
         * base64 (pem) encoded version of the DER encoded representation
         * @returns {string} pem encoded representation without header and footer
         * @public
         */
        JSEncryptRSAKey.prototype.getPublicBaseKeyB64 = function() {
          return hex2b64(this.getPublicBaseKey())
        }
        /**
         * wrap the string in block of width chars. The default value for rsa keys is 64
         * characters.
         * @param {string} str the pem encoded string without header and footer
         * @param {Number} [width=64] - the length the string has to be wrapped at
         * @returns {string}
         * @private
         */
        JSEncryptRSAKey.wordwrap = function(str, width) {
          width = width || 64
          if (!str) {
            return str
          }
          var regex = '(.{1,' + width + '})( +|$\n?)|(.{1,' + width + '})'
          return str.match(RegExp(regex, 'g')).join('\n')
        }
        /**
         * Retrieve the pem encoded private key
         * @returns {string} the pem encoded private key with header/footer
         * @public
         */
        JSEncryptRSAKey.prototype.getPrivateKey = function() {
          var key = '-----BEGIN RSA PRIVATE KEY-----\n'
          key += JSEncryptRSAKey.wordwrap(this.getPrivateBaseKeyB64()) + '\n'
          key += '-----END RSA PRIVATE KEY-----'
          return key
        }
        /**
         * Retrieve the pem encoded public key
         * @returns {string} the pem encoded public key with header/footer
         * @public
         */
        JSEncryptRSAKey.prototype.getPublicKey = function() {
          var key = '-----BEGIN PUBLIC KEY-----\n'
          key += JSEncryptRSAKey.wordwrap(this.getPublicBaseKeyB64()) + '\n'
          key += '-----END PUBLIC KEY-----'
          return key
        }
        /**
         * Check if the object contains the necessary parameters to populate the rsa modulus
         * and public exponent parameters.
         * @param {Object} [obj={}] - An object that may contain the two public key
         * parameters
         * @returns {boolean} true if the object contains both the modulus and the public exponent
         * properties (n and e)
         * @todo check for types of n and e. N should be a parseable bigInt object, E should
         * be a parseable integer number
         * @private
         */
        JSEncryptRSAKey.hasPublicKeyProperty = function(obj) {
          obj = obj || {}
          return obj.hasOwnProperty('n') && obj.hasOwnProperty('e')
        }
        /**
         * Check if the object contains ALL the parameters of an RSA key.
         * @param {Object} [obj={}] - An object that may contain nine rsa key
         * parameters
         * @returns {boolean} true if the object contains all the parameters needed
         * @todo check for types of the parameters all the parameters but the public exponent
         * should be parseable bigint objects, the public exponent should be a parseable integer number
         * @private
         */
        JSEncryptRSAKey.hasPrivateKeyProperty = function(obj) {
          obj = obj || {}
          return (
            obj.hasOwnProperty('n') &&
            obj.hasOwnProperty('e') &&
            obj.hasOwnProperty('d') &&
            obj.hasOwnProperty('p') &&
            obj.hasOwnProperty('q') &&
            obj.hasOwnProperty('dmp1') &&
            obj.hasOwnProperty('dmq1') &&
            obj.hasOwnProperty('coeff')
          )
        }
        /**
         * Parse the properties of obj in the current rsa object. Obj should AT LEAST
         * include the modulus and public exponent (n, e) parameters.
         * @param {Object} obj - the object containing rsa parameters
         * @private
         */
        JSEncryptRSAKey.prototype.parsePropertiesFrom = function(obj) {
          this.n = obj.n
          this.e = obj.e
          if (obj.hasOwnProperty('d')) {
            this.d = obj.d
            this.p = obj.p
            this.q = obj.q
            this.dmp1 = obj.dmp1
            this.dmq1 = obj.dmq1
            this.coeff = obj.coeff
          }
        }
        return JSEncryptRSAKey
      })(RSAKey)

      /**
       *
       * @param {Object} [options = {}] - An object to customize JSEncrypt behaviour
       * possible parameters are:
       * - default_key_size        {number}  default: 1024 the key size in bit
       * - default_public_exponent {string}  default: '010001' the hexadecimal representation of the public exponent
       * - log                     {boolean} default: false whether log warn/error or not
       * @constructor
       */
      var JSEncrypt = /** @class */ (function() {
        function JSEncrypt(options) {
          options = options || {}
          this.default_key_size = parseInt(options.default_key_size, 10) || 1024
          this.default_public_exponent = options.default_public_exponent || '010001' // 65537 default openssl public exponent for rsa key type
          this.log = options.log || false
          // The private and public key.
          this.key = null
        }
        /**
         * Method to set the rsa key parameter (one method is enough to set both the public
         * and the private key, since the private key contains the public key paramenters)
         * Log a warning if logs are enabled
         * @param {Object|string} key the pem encoded string or an object (with or without header/footer)
         * @public
         */
        JSEncrypt.prototype.setKey = function(key) {
          if (this.log && this.key) {
            console.warn('A key was already set, overriding existing.')
          }
          this.key = new JSEncryptRSAKey(key)
        }
        /**
         * Proxy method for setKey, for api compatibility
         * @see setKey
         * @public
         */
        JSEncrypt.prototype.setPrivateKey = function(privkey) {
          // Create the key.
          this.setKey(privkey)
        }
        /**
         * Proxy method for setKey, for api compatibility
         * @see setKey
         * @public
         */
        JSEncrypt.prototype.setPublicKey = function(pubkey) {
          // Sets the public key.
          this.setKey(pubkey)
        }
        /**
         * Proxy method for RSAKey object's decrypt, decrypt the string using the private
         * components of the rsa key object. Note that if the object was not set will be created
         * on the fly (by the getKey method) using the parameters passed in the JSEncrypt constructor
         * @param {string} str base64 encoded crypted string to decrypt
         * @return {string} the decrypted string
         * @public
         */
        JSEncrypt.prototype.decrypt = function(str) {
          // Return the decrypted string.
          try {
            return this.getKey().decrypt(b64tohex(str))
          } catch (ex) {
            return false
          }
        }
        /**
         * Proxy method for RSAKey object's encrypt, encrypt the string using the public
         * components of the rsa key object. Note that if the object was not set will be created
         * on the fly (by the getKey method) using the parameters passed in the JSEncrypt constructor
         * @param {string} str the string to encrypt
         * @return {string} the encrypted string encoded in base64
         * @public
         */
        JSEncrypt.prototype.encrypt = function(str) {
          // Return the encrypted string.
          try {
            return hex2b64(this.getKey().encrypt(str))
          } catch (ex) {
            return false
          }
        }
        /**
         * Proxy method for RSAKey object's sign.
         * @param {string} str the string to sign
         * @param {function} digestMethod hash method
         * @param {string} digestName the name of the hash algorithm
         * @return {string} the signature encoded in base64
         * @public
         */
        JSEncrypt.prototype.sign = function(str, digestMethod, digestName) {
          // return the RSA signature of 'str' in 'hex' format.
          try {
            return hex2b64(this.getKey().sign(str, digestMethod, digestName))
          } catch (ex) {
            return false
          }
        }
        /**
         * Proxy method for RSAKey object's verify.
         * @param {string} str the string to verify
         * @param {string} signature the signature encoded in base64 to compare the string to
         * @param {function} digestMethod hash method
         * @return {boolean} whether the data and signature match
         * @public
         */
        JSEncrypt.prototype.verify = function(str, signature, digestMethod) {
          // Return the decrypted 'digest' of the signature.
          try {
            return this.getKey().verify(str, b64tohex(signature), digestMethod)
          } catch (ex) {
            return false
          }
        }
        /**
         * Getter for the current JSEncryptRSAKey object. If it doesn't exists a new object
         * will be created and returned
         * @param {callback} [cb] the callback to be called if we want the key to be generated
         * in an async fashion
         * @returns {JSEncryptRSAKey} the JSEncryptRSAKey object
         * @public
         */
        JSEncrypt.prototype.getKey = function(cb) {
          // Only create new if it does not exist.
          if (!this.key) {
            // Get a new private key.
            this.key = new JSEncryptRSAKey()
            if (cb && {}.toString.call(cb) === '[object Function]') {
              this.key.generateAsync(this.default_key_size, this.default_public_exponent, cb)
              return
            }
            // Generate the key.
            this.key.generate(this.default_key_size, this.default_public_exponent)
          }
          return this.key
        }
        /**
         * Returns the pem encoded representation of the private key
         * If the key doesn't exists a new key will be created
         * @returns {string} pem encoded representation of the private key WITH header and footer
         * @public
         */
        JSEncrypt.prototype.getPrivateKey = function() {
          // Return the private representation of this key.
          return this.getKey().getPrivateKey()
        }
        /**
         * Returns the pem encoded representation of the private key
         * If the key doesn't exists a new key will be created
         * @returns {string} pem encoded representation of the private key WITHOUT header and footer
         * @public
         */
        JSEncrypt.prototype.getPrivateKeyB64 = function() {
          // Return the private representation of this key.
          return this.getKey().getPrivateBaseKeyB64()
        }
        /**
         * Returns the pem encoded representation of the public key
         * If the key doesn't exists a new key will be created
         * @returns {string} pem encoded representation of the public key WITH header and footer
         * @public
         */
        JSEncrypt.prototype.getPublicKey = function() {
          // Return the private representation of this key.
          return this.getKey().getPublicKey()
        }
        /**
         * Returns the pem encoded representation of the public key
         * If the key doesn't exists a new key will be created
         * @returns {string} pem encoded representation of the public key WITHOUT header and footer
         * @public
         */
        JSEncrypt.prototype.getPublicKeyB64 = function() {
          // Return the private representation of this key.
          return this.getKey().getPublicBaseKeyB64()
        }
        JSEncrypt.version = '3.0.0-rc.1'
        return JSEncrypt
      })()

      window.JSEncrypt = JSEncrypt

      exports.JSEncrypt = JSEncrypt
      exports.default = JSEncrypt

      Object.defineProperty(exports, '__esModule', { value: true })
    })
  })

  var JSEncrypt = unwrapExports(jsencrypt)

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */
  const config$o = {
    name: 'system.cipher',
    methods: [
      // Method
      {
        name: 'rsa',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'aes',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      }
    ]
  }

  const moduleOwn$m = {
    rsa: function(opt) {
      console.warn('== system.cipher接口 ,请以真机调试为准 ==')
      if (opt.transformation) {
        console.warn(
          '== web预览system.cipher接口,参数暂时不支持 transformation ,请以真机调试为准 =='
        )
      }
      let val
      if (opt.action === 'encrypt') {
        val = handleEncrypt(opt.key, opt.text)
      } else if (opt.action === 'decrypt') {
        val = handleDecrypt(opt.key, opt.text)
      } else {
        console.error(`action:${opt.action}. action 只支持 encrypt, decrypt!!`)
      }
      if (val) {
        invokeFunction(opt.success, val)
      } else {
        invokeFunction(opt.fail, val, 'fail')
      }
      invokeFunction(opt.complete, val)
    }
  }

  function handleEncrypt(key, text) {
    const encrypt = new JSEncrypt()
    encrypt.setPublicKey(key)
    return encrypt.encrypt(text)
  }

  function handleDecrypt(key, text) {
    const decrypt = new JSEncrypt()
    decrypt.setPrivateKey(key)
    return decrypt.decrypt(text)
  }

  function invokeFunction(fn, data, type) {
    if (typeof fn === 'function') {
      if (type === 'fail') {
        fn('h5 RSA 错误, 请以真机调试结果为准!!', 200)
      } else {
        fn({ text: data })
      }
    }
  }

  var cipher = {
    module: moduleOwn$m,
    config: config$o
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  const mock$8 = {
    'system.contact.list': {
      apiName: 'system.contact.list',
      paramNameList: [],
      callbackList: { success: 'json', fail: 'json' },
      defaultData: {
        success: {
          contactList: [
            {
              displayName: 'Tom',
              number: '136784374738'
            },
            {
              displayName: 'Jerry',
              number: '132334453434'
            },
            {
              displayName: 'Host',
              number: '135343637567'
            }
          ]
        }
      }
    }
  }

  const config$p = {
    name: 'system.contact',
    methods: [
      // Method
      {
        name: 'pick',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'list',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      }
    ]
  }

  const moduleOwn$n = {
    list(options = {}) {
      console.warn('==contact.list()返回为模拟数据,请使用真机调试体验完整功能==')
      const data = mock$8['system.contact.list'].defaultData['success']
      options.success(data)
    }
  }

  var contact = {
    module: moduleOwn$n,
    config: config$p,
    mock: mock$8
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */
  const config$q = {
    name: 'system.notification',
    methods: [
      // Method
      {
        name: 'show',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.SYNC
      }
    ]
  }

  const moduleOwn$o = {}

  var notification = {
    module: moduleOwn$o,
    config: config$q
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  const mock$9 = {
    'system.package.getInfo': {
      apiName: 'system.package.getInfo',
      paramNameList: [],
      callbackList: { success: 'json', fail: 'json' },
      defaultData: {
        success: {
          versionCode: 1,
          versionName: '1.0.0'
        },
        fail: {
          code: 1000,
          data: '应用不存在'
        }
      }
    },
    'system.package.getSignatureDigests': {
      apiName: 'system.package.getSignatureDigests',
      paramNameList: [],
      callbackList: { success: 'json', fail: 'json' },
      defaultData: {
        success: {
          signatureDigests: ['6d3e6a3dcbdadb0aa94f64e33a36b01254cb6ef7e14be282d885cd95aeb952e0']
        },
        fail: {
          code: 1000,
          data: '应用不存在'
        }
      }
    }
  }

  const config$r = {
    name: 'system.package',
    methods: [
      // Method
      {
        name: 'hasInstalled',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'install',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'getInfo',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'getSignatureDigests',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      }
    ]
  }

  const moduleOwn$p = {
    hasInstalled(options = {}) {
      hybrid.polyfillPrompt(config$r.name, 'hasInstalled', options)
      options.success(true)
    },
    getInfo(options = {}) {
      console.warn('==package.getInfo()返回为模拟数据,请使用真机调试体验完整功能==')
      const data = mock$9['system.package.getInfo'].defaultData['success']
      options.success(data)
    },
    getSignatureDigests(options = {}) {
      console.warn('==package.getSignatureDigests()返回为模拟数据,请使用真机调试体验完整功能==')
      const data = mock$9['system.package.getSignatureDigests'].defaultData['success']
      options.success(data)
    }
  }

  var packageFeature = {
    module: moduleOwn$p,
    config: config$r,
    mock: mock$9
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  let audioCtx
  let uriObj = [],
    format = '3gpp',
    timerId = null,
    optionsExport$1 = null,
    _recordUri = null

  const config$s = {
    name: 'system.record',
    methods: [
      // Method
      {
        name: 'start',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'stop',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      }
    ]
  }

  function bindEvents$1() {
    // 该事件在停止时有返回值 e.data
    audioCtx.ondataavailable = getRecordingData
  }

  function moveEvents() {
    audioCtx.ondataavailable = null
    audioCtx.onstop = null
  }

  function getRecordingData(e) {
    if (e.data) {
      _recordUri = getRecordUri()
      // new Blob只接收一个Array，直接使用e.data会报错
      uriObj.push(e.data)
      let _blob = new Blob(uriObj, { type: `audio/${format}` })
      hybrid.saveFile(_recordUri, _blob)
      optionsExport$1.success({ uri: _recordUri })
    } else {
      return
    }
  }

  function getRecordUri() {
    let filePath = 'internal://cache/'
    let filename = `audio${Date.now()}.${format}`
    let uri = filePath + filename
    return uri
  }

  const moduleOwn$q = {
    start(options = {}) {
      _recordUri = '录音中...'
      let duration = options.duration || -1
      // 真机效果为：当用户触发了stop后，再执行start的success回调，实际还是由start API 返回uri
      // 为了在dataavailable事件中模拟该效果，因此将对象暴露出去。
      optionsExport$1 = Object.assign(options)
      navigator.mediaDevices
        .getUserMedia({ audio: true })
        .then(stream => {
          //创建媒体录制对象
          audioCtx = new window.MediaRecorder(stream)
          const legalFormats = ['3gpp', 'amr_nb', 'aac']
          if (legalFormats.indexOf(options.format) > -1) {
            format = options.format
          } else if (options.format) {
            options.fail(`illegal format:${format}`, 202)
            return
          }
          audioCtx.start()
          // 开启dataavailable事件监听
          bindEvents$1()
          // 若设置了duration，则达到duration所设置时间，立刻停止播放，主动执行stop()
          if (duration >= 0 && audioCtx.state === 'recording') {
            timerId = setTimeout(() => {
              audioCtx.stop()
            }, duration)
          }
        })
        .catch(e => {
          // 用户拒绝
          options.fail(`user denied`, 201)
          hybrid.polyfillPrompt(config$s.name, 'start', options)
        })
    },

    stop() {
      if (_recordUri && audioCtx.state === 'recording') {
        audioCtx.stop()
        setTimeout(() => {
          // 避免重复播放
          uriObj = []
          moveEvents()
        }, 0)
        clearTimeout(timerId)
      }
    }
  }
  var record = {
    module: moduleOwn$q,
    config: config$s
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  const mock$a = {
    'system.sensor.subscribeAccelerometer': {
      apiName: 'system.sensor.subscribeAccelerometer',
      paramNameList: ['reserved', 'interval'],
      callbackList: { callback: 'json' },
      defaultData: {
        callback: {
          x: 0,
          y: 0,
          z: 0
        }
      }
    },
    'system.sensor.subscribeCompass': {
      apiName: 'system.sensor.subscribeCompass',
      paramNameList: ['reserved'],
      callbackList: { callback: 'json' },
      defaultData: {
        callback: {
          accuracy: 3,
          direction: 1.4612962007522583
        }
      }
    },
    'system.sensor.subscribeProximity': {
      apiName: 'system.sensor.subscribeProximity',
      paramNameList: ['reserved'],
      callbackList: { callback: 'json' },
      defaultData: {
        callback: {
          distance: 5
        }
      }
    },
    'system.sensor.subscribeLight': {
      apiName: 'system.sensor.subscribeLight',
      paramNameList: ['reserved'],
      callbackList: { callback: 'json' },
      defaultData: {
        callback: {
          intensity: 124
        }
      }
    },
    'system.sensor.subscribeStepCounter': {
      apiName: 'system.sensor.subscribeStepCounter',
      paramNameList: ['reserved'],
      callbackList: { callback: 'json', fail: 'json' },
      defaultData: {
        callback: {
          steps: 14
        },
        fail: {
          code: 1000,
          data: '当前设备不支持计步传感器'
        }
      }
    }
  }

  const config$t = {
    name: 'system.sensor',
    methods: [
      // Method
      {
        name: 'subscribeAccelerometer',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.SUBSCRIBE
      },
      {
        name: 'unsubscribeAccelerometer',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.SYNC
      },
      {
        name: 'subscribeCompass',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.SUBSCRIBE
      },
      {
        name: 'unsubscribeCompass',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.SYNC
      },
      {
        name: 'subscribeProximity',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.SUBSCRIBE
      },
      {
        name: 'unsubscribeProximity',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.SYNC
      },
      {
        name: 'subscribeLight',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.SUBSCRIBE
      },
      {
        name: 'unsubscribeLight',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.SYNC
      },
      {
        name: 'subscribeStepCounter',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.SUBSCRIBE
      },
      {
        name: 'unsubscribeStepCounter',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.SYNC
      }
    ]
  }

  const moduleOwn$r = {
    subscribeAccelerometer(options = {}) {
      const data = mock$a['system.sensor.subscribeAccelerometer'].defaultData['callback']
      options.callback(data)
    },
    unsubscribeAccelerometer(options = {}) {
      mockUnsubscribe('system.sensor.unsubscribeAccelerometer')
    },
    subscribeCompass(options = {}) {
      const data = mock$a['system.sensor.subscribeCompass'].defaultData['callback']
      options.callback(data)
    },
    unsubscribeCompass(options = {}) {
      mockUnsubscribe('system.sensor.unsubscribeCompass')
    },
    subscribeProximity(options = {}) {
      const data = mock$a['system.sensor.subscribeProximity'].defaultData['callback']
      options.callback(data)
    },
    unsubscribeProximity(options = {}) {
      mockUnsubscribe('system.sensor.unsubscribeProximity')
    },
    subscribeLight(options = {}) {
      const data = mock$a['system.sensor.subscribeLight'].defaultData['callback']
      options.callback(data)
    },
    unsubscribeLight(options = {}) {
      mockUnsubscribe('system.sensor.unsubscribeLight')
    },
    subscribeStepCounter(options = {}) {
      const data = mock$a['system.sensor.subscribeStepCounter'].defaultData['callback']
      options.callback(data)
    },
    unsubscribeStepCounter(options = {}) {
      mockUnsubscribe('system.sensor.unsubscribeStepCounter')
    }
  }

  var sensor = {
    module: moduleOwn$r,
    config: config$t,
    mock: mock$a
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */
  const config$u = {
    name: 'system.shortcut',
    methods: [
      // Method
      {
        name: 'install',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'hasInstalled',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: '__getSystemPromptEnabled',
        type: hybrid.TYPE.ATTRIBUTE,
        mode: hybrid.MODE.SYNC,
        access: hybrid.ACCESS.READ,
        alias: 'systemPromptEnabled'
      },
      {
        name: '__setSystemPromptEnabled',
        type: hybrid.TYPE.ATTRIBUTE,
        mode: hybrid.MODE.SYNC,
        access: hybrid.ACCESS.WRITE,
        alias: 'systemPromptEnabled'
      }
    ]
  }

  const moduleOwn$s = {
    hasInstalled(options = {}) {
      hybrid.polyfillPrompt(config$u.name, 'hasInstalled', options)
      options.success(true)
    }
  }

  var shortcut = {
    module: moduleOwn$s,
    config: config$u
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  const mock$b = {
    'system.sms.readSafely': {
      apiName: 'system.sms.readSafely',
      paramNameList: ['timeout'],
      callbackList: { success: 'json', fail: 'json' },
      defaultData: {
        success: {
          message: '456342'
        },
        fail: {
          code: 204,
          data: '超时返回'
        }
      }
    }
  }

  const config$v = {
    name: 'system.sms',
    methods: [
      // Method
      {
        name: 'send',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'readSafely',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      }
    ]
  }

  const moduleOwn$t = {
    readSafely(options = {}) {
      console.warn('==sms.readSafely()返回为模拟数据,请使用真机调试体验完整功能==')
      const data = mock$b['system.sms.readSafely'].defaultData['success']
      options.success(data)
    }
  }

  var sms = {
    module: moduleOwn$t,
    config: config$v,
    mock: mock$b
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */
  const config$w = {
    name: 'system.vibrator',
    methods: [
      // Method
      {
        name: 'vibrate',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.SYNC
      }
    ]
  }

  const moduleOwn$u = {}

  var vibrator = {
    module: moduleOwn$u,
    config: config$w
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */
  const config$x = {
    name: 'system.volume',
    methods: [
      // Method
      {
        name: 'setMediaValue',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'getMediaValue',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      }
    ]
  }

  const moduleOwn$v = {}

  var volume = {
    module: moduleOwn$v,
    config: config$x
  }

  class WebsocketClass {
    constructor(url, protocols = ['protocol']) {
      // TODO 设置protocals 会报错：
      // Error during WebSocket handshake: Sent non-empty 'Sec-WebSocket-Protocol' header but no response was received
      // TODO header 无法设置
      // eslint-disable-next-line
      const instance = new WebSocket(url)
      instance.binaryType = 'arraybuffer'
      this._init(instance)
      this.instance = instance
    }

    _init(instance) {
      instance.onopen = () => {
        this.onopen()
      }
      instance.onmessage = e => {
        this.onmessage(e)
      }
      instance.onclose = () => {
        const result = {
          code: 0, // 状态码
          reason: '', // 服务器返回的关闭原因
          wasClean: true // 是否正常关闭
        }
        this.onclose(result)
      }
      instance.onerror = e => {
        console.log(e.data)
        this.onerror(e.data)
      }
    }

    send(opt) {
      this.instance.send(opt.data)
      opt.success && opt.success()
    }

    close(opt) {
      opt = opt || {}
      this.instance.close(opt.code, opt.reason)
      opt.success && opt.success()
    }

    set binaryType(val) {
      this.instance.binaryType = val
    }

    get binaryType() {
      return this.instance.binaryType
    }

    onopen() {}
    onmessage() {}
    onclose() {}
    onerror() {}
  }
  Object.defineProperty(WebsocketClass.prototype, 'send', {
    writable: false,
    configurable: false
  })
  Object.defineProperty(WebsocketClass.prototype, 'close', {
    writable: false,
    configurable: false
  })

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */
  const config$y = {
    name: 'system.websocketfactory',
    methods: [
      // Method websocketfactory 实例的方法
      // {
      //   name: 'send',
      //   type: hybrid.TYPE.METHOD,
      //   mode: hybrid.MODE.CALLBACK
      // },
      // {
      //   name: 'close',
      //   type: hybrid.TYPE.METHOD,
      //   mode: hybrid.MODE.CALLBACK
      // },
      // {
      //   name: '__onopen',
      //   type: hybrid.TYPE.EVENT,
      //   mode: hybrid.MODE.SUBSCRIBE
      // },
      // {
      //   name: '__onmessage',
      //   type: hybrid.TYPE.EVENT,
      //   mode: hybrid.MODE.SUBSCRIBE
      // },
      // {
      //   name: '__onerror',
      //   type: hybrid.TYPE.EVENT,
      //   mode: hybrid.MODE.SUBSCRIBE
      // },
      // {
      //   name: '__onclose',
      //   type: hybrid.TYPE.EVENT,
      //   mode: hybrid.MODE.SUBSCRIBE
      // },
      // websocketfactory
      {
        name: 'create',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.SYNC
      }
    ]
  }

  const moduleOwn$w = {
    create(options = {}) {
      hybrid.polyfillPrompt('system.websocketfactory', 'create', options)
      // 不支持header ？
      if (options.header) {
        console.warn(
          '### Web Render ###  system.websocketfactory => create: 预览不支持设置header属性，你设置的header属性不会生效，请使用真机调试'
        )
      }
      if (options.protocols) {
        console.warn(
          '### Web Render ###  system.websocketfactory => create: 预览不支持设置protocols属性，你设置的protocols属性不会生效，请使用真机调试'
        )
      }
      return new WebsocketClass(options.url, options.protocols)
    }
  }

  var websocketfactory = {
    module: moduleOwn$w,
    config: config$y
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */
  const config$z = {
    name: 'system.webview',
    methods: [
      // Method
      {
        name: 'loadUrl',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.SYNC
      }
    ]
  }

  const moduleOwn$x = {
    loadUrl(options) {
      Router.push({
        uri: options.url,
        allowthirdpartycookies: options.allowthirdpartycookies,
        backgroundColor: options.backgroundColor,
        showloadingdialog: options.showloadingdialog
      })
      return 'success'
    }
  }

  var webview = {
    module: moduleOwn$x,
    config: config$z
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */
  const config$A = {
    name: 'system.resident',
    methods: [
      // Method
      {
        name: 'start',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.SYNC
      },
      {
        name: 'stop',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.SYNC
      }
    ]
  }

  const moduleOwn$y = {}

  var resident = {
    module: moduleOwn$y,
    config: config$A
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */
  const config$B = {
    name: 'system.bluetooth',
    methods: [
      // Method
      {
        name: 'openAdapter',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'closeAdapter',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'getAdapterState',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'onadapterstatechange',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.SUBSCRIBE
      },
      {
        name: 'startDevicesDiscovery',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'stopDevicesDiscovery',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'getDevices',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'ondevicefound',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.SUBSCRIBE
      },
      {
        name: 'getConnectedDevices',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'createBLEConnection',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'closeBLEConnection',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'getBLEDeviceServices',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'getBLEDeviceCharacteristics',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'readBLECharacteristicValue',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'writeBLECharacteristicValue',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'notifyBLECharacteristicValueChange',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'onblecharacteristicvaluechange',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.SUBSCRIBE
      },
      {
        name: 'onbleconnectionstatechange',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.SUBSCRIBE
      }
    ]
  }

  const moduleOwn$z = {}

  var bluetooth = {
    module: moduleOwn$z,
    config: config$B
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  const config$C = {
    name: 'system.hostconnection',
    methods: [
      // Method
      {
        name: 'send',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'onregistercallback',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.SUBSCRIBE
      }
    ]
  }

  const moduleOwn$A = {}

  var hostconnection = {
    module: moduleOwn$A,
    config: config$C
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  const config$D = {
    name: 'hap.io.MessageChannel',
    instantiable: true,
    methods: [
      // 构造函数对应
      {
        name: '__init__',
        instanceMethod: false,
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.SYNC,
        alias: 'init'
      },
      // Method
      {
        name: 'send',
        instanceMethod: true,
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.SYNC
      },
      {
        name: 'close',
        instanceMethod: true,
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.SYNC
      }
    ]
  }

  const moduleOwn$B = {
    __init__: function() {
      hybrid.polyfillPrompt(config$D.name, 'new MessageChannel')
      return ''
    },
    send: function(options) {
      hybrid.polyfillPrompt(config$D.name, 'send')
      return ''
    },
    close: function(options) {
      hybrid.polyfillPrompt(config$D.name, 'close')
      return ''
    }
  }

  var messageChannel = {
    module: moduleOwn$B,
    config: config$D
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */
  const config$E = {
    name: 'system.alarm',
    methods: [
      // Method
      {
        name: 'getProvider',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'setAlarm',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'pickFile',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      }
    ]
  }

  const moduleOwn$C = {}

  var alarm = {
    module: moduleOwn$C,
    config: config$E
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */
  const config$F = {
    name: 'system.zip',
    methods: [
      // Method
      {
        name: 'decompress',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      }
    ]
  }

  const moduleOwn$D = {}

  var zip = {
    module: moduleOwn$D,
    config: config$F
  }

  const config$G = {
    name: 'system.page',
    methods: [
      {
        name: 'setMenubarData',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.SYNC
      },
      {
        name: 'getMenuBarRect',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.SYNC
      },
      {
        name: 'finishPage',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.SYNC
      }
    ]
  }

  const moduleOwn$E = {
    setMenubarData(options) {
      menubarManager.setMenubarData(options)
    },
    getMenuBarRect() {
      const menubar = menubarManager.instance
      if (!menubar) {
        return {}
      }
      const rect = menubar.shadowRoot.getElementById('menubar').getBoundingClientRect()
      return {
        menuBarWidth: rect.width,
        menuBarHeight: rect.height,
        menuBarLeft: rect.left,
        menuBarTop: rect.top,
        menuBarRight: rect.right,
        menuBarBottom: rect.bottom
      }
    },
    finishPage() {
      Router.back()
    }
  }

  var page = {
    module: moduleOwn$E,
    config: config$G
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  const locale = {
    countryOrRegion: 'CN',
    language: 'zh'
  }

  const mock$c = {
    'system.configuration.getThemeMode': {
      apiName: 'system.configuration.getThemeMode',
      paramNameList: [],
      callbackList: { result: 'number' },
      defaultData: {
        result: 0
      }
    }
  }

  const config$H = {
    name: 'system.configuration',
    methods: [
      // Method
      {
        name: 'getThemeMode',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.SYNC
      },
      {
        name: 'getLocale',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.SYNC
      },
      {
        name: 'setLocale',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.SYNC
      }
    ]
  }

  const moduleOwn$F = {
    getThemeMode() {
      hybrid.polyfillPrompt(config$H.name, 'getThemeMode')
      const data = mock$c['system.configuration.getThemeMode'].defaultData['result']
      return data
    },
    getLocale() {
      return locale
    },
    setLocale(options = {}) {
      if (options.countryOrRegion) {
        locale.countryOrRegion = options.countryOrRegion
      }
      if (options.language) {
        locale.language = options.language
      }
    }
  }

  var configuration = {
    module: moduleOwn$F,
    config: config$H,
    mock: mock$c
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */
  const config$I = {
    name: 'system.card',
    methods: [
      // Method
      {
        name: 'checkState',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'add',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      }
    ]
  }

  const moduleOwn$G = {}

  var card = {
    module: moduleOwn$G,
    config: config$I
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  const mock$d = {
    'system.telecom.getTelecomInfo': {
      apiName: 'system.telecom.getTelecomInfo',
      paramNameList: [],
      callbackList: { success: 'json', fail: 'json' },
      defaultData: {
        success: {
          is5GDevice: true,
          is5GSwitchOpened: true
        }
      }
    }
  }

  const config$J = {
    name: 'system.telecom',
    methods: [
      // Method
      {
        name: 'getTelecomInfo',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      }
    ]
  }

  const moduleOwn$H = {
    getTelecomInfo(options = {}) {
      hybrid.polyfillPrompt(config$J.name, 'getTelecomInfo', options)
      const data = mock$d['system.telecom.getTelecomInfo'].defaultData['success']
      options.success(data)
    }
  }

  var telecom = {
    module: moduleOwn$H,
    config: config$J,
    mock: mock$d
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */
  const config$K = {
    name: 'system.decode',
    methods: [
      // Method
      {
        name: 'decode',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.SYNC
      }
    ]
  }

  const moduleOwn$I = {}

  var decode$2 = {
    module: moduleOwn$I,
    config: config$K
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  const mock$e = {
    'service.account.getProvider': {
      apiName: 'service.account.getProvider',
      paramNameList: [],
      callbackList: { result: 'string' },
      defaultData: {
        result: 'vivo'
      }
    },
    'service.account.isLogin': {
      apiName: 'service.account.isLogin',
      paramNameList: [],
      callbackList: { success: 'json', fail: 'json' },
      defaultData: {
        success: {
          isLogin: false
        }
      }
    },
    'service.account.getProfile': {
      apiName: 'service.account.getProfile',
      paramNameList: ['token'],
      callbackList: { success: 'json', fail: 'json' },
      defaultData: {
        fail: {
          code: 999,
          data: 'error'
        }
      }
    },
    'service.account.getPhoneNumber': {
      apiName: 'service.account.getPhoneNumber',
      paramNameList: ['encrypt'],
      callbackList: { success: 'json', fail: 'json' },
      defaultData: {
        success: {
          phoneNumber: '13512344321'
        }
      }
    },
    'service.account.getEncryptedID': {
      apiName: 'service.account.getEncryptedID',
      paramNameList: ['encrypt'],
      callbackList: { success: 'json', fail: 'json' },
      defaultData: {
        fail: {
          code: 1001,
          data: '未登录账号'
        }
      }
    }
  }

  const config$L = {
    name: 'service.account',
    methods: [
      // Method
      {
        name: 'getProvider',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.SYNC
      },
      {
        name: 'authorize',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'getProfile',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'isLogin',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'getPhoneNumber',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'getEncryptedID',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      }
    ]
  }

  const moduleOwn$J = {
    getProvider() {
      hybrid.polyfillPrompt(config$L.name, 'getProvider')
      const data = mock$e['service.account.getProvider'].defaultData['result']
      return data
    },
    isLogin(options = {}) {
      hybrid.polyfillPrompt(config$L.name, 'isLogin')
      const data = mock$e['service.account.isLogin'].defaultData['success']
      options.success(data)
    },
    getProfile(options = {}) {
      hybrid.polyfillPrompt(config$L.name, 'getProfile')
      const data = mock$e['service.account.getProfile'].defaultData['fail']
      options.fail(data.data, data.code)
    },
    getPhoneNumber(options = {}) {
      hybrid.polyfillPrompt(config$L.name, 'getPhoneNumber')
      const data = mock$e['service.account.getPhoneNumber'].defaultData['success']
      options.success(data)
    },
    getEncryptedID(options = {}) {
      hybrid.polyfillPrompt(config$L.name, 'getEncryptedID')
      const data = mock$e['service.account.getEncryptedID'].defaultData['fail']
      options.fail(data.data, data.code)
    }
  }

  var account = {
    module: moduleOwn$J,
    config: config$L,
    mock: mock$e
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */
  const config$M = {
    name: 'service.alipay',
    methods: [
      // Method
      {
        name: 'pay',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'getVersion',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'getType',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.SYNC
      }
    ]
  }

  const moduleOwn$K = {}

  var alipay = {
    module: moduleOwn$K,
    config: config$M
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */
  const config$N = {
    name: 'service.pay',
    methods: [
      // Method
      {
        name: 'pay',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'getProvider',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.SYNC
      }
    ]
  }

  const moduleOwn$L = {
    getProvider() {
      hybrid.polyfillPrompt(config$N.name, 'getProvider')
      return 'vivo'
    }
  }

  var pay = {
    module: moduleOwn$L,
    config: config$N
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  const mock$f = {
    'service.health.hasStepsOfDay': {
      apiName: 'service.health.hasStepsOfDay',
      paramNameList: [],
      callbackList: { success: 'json', fail: 'json' },
      defaultData: {
        success: {
          support: true
        }
      }
    },
    'service.health.getTodaySteps': {
      apiName: 'service.health.getTodaySteps',
      paramNameList: [],
      callbackList: { success: 'json', fail: 'json' },
      defaultData: {
        success: {
          steps: 1690
        }
      }
    },
    'service.health.getLastWeekSteps': {
      apiName: 'service.health.getLastWeekSteps',
      paramNameList: [],
      callbackList: { success: 'json', fail: 'json' },
      defaultData: {
        success: {
          stepsList: [
            {
              date: '2019-10-11',
              steps: 8690
            },
            {
              date: '2019-10-12',
              steps: 9490
            },
            {
              date: '2019-10-13',
              steps: 12490
            }
          ]
        }
      }
    }
  }

  const config$O = {
    name: 'service.health',
    methods: [
      // Method
      {
        name: 'hasStepsOfDay',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'getTodaySteps',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'getLastWeekSteps',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      }
    ]
  }

  const moduleOwn$M = {
    hasStepsOfDay(options = {}) {
      console.warn('==health.hasStepsOfDay()返回为模拟数据,请使用真机调试体验完整功能==')
      const data = mock$f['service.health.hasStepsOfDay'].defaultData['success']
      options.success(data)
    },
    getTodaySteps(options = {}) {
      console.warn('==health.getTodaySteps()返回为模拟数据,请使用真机调试体验完整功能==')
      const data = mock$f['service.health.getTodaySteps'].defaultData['success']
      options.success(data)
    },
    getLastWeekSteps(options = {}) {
      console.warn('==health.getLastWeekSteps()返回为模拟数据,请使用真机调试体验完整功能==')
      const data = mock$f['service.health.getLastWeekSteps'].defaultData['success']
      options.success(data)
    }
  }

  var health = {
    module: moduleOwn$M,
    config: config$O,
    mock: mock$f
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  const mock$g = {
    'service.push.getProvider': {
      apiName: 'service.push.getProvider',
      paramNameList: [],
      callbackList: { result: 'string' },
      defaultData: {
        result: ''
      }
    },
    'service.push.subscribe': {
      apiName: 'service.push.subscribe',
      paramNameList: [],
      callbackList: { success: 'json', fail: 'json' },
      defaultData: {
        success: {
          regId: 'test_id'
        }
      }
    },
    'service.push.on': {
      apiName: 'service.push.on',
      paramNameList: [],
      callbackList: { callback: 'json' },
      defaultData: {
        callback: {
          messageId: 'message_id',
          data: 'push_message'
        }
      }
    }
  }

  const config$P = {
    name: 'service.push',
    methods: [
      // Method
      {
        name: 'getProvider',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.SYNC
      },
      {
        name: 'subscribe',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'unsubscribe',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'on',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.SUBSCRIBE
      },
      {
        name: 'off',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.SYNC
      }
    ]
  }

  const moduleOwn$N = {
    getProvider(options = {}) {
      hybrid.polyfillPrompt(config$P.name, 'getProvider', options)
      const data = mock$g['service.push.getProvider'].defaultData['result']
      return data
    },
    subscribe(options = {}) {
      hybrid.polyfillPrompt(config$P.name, 'subscribe', options)
      const data = mock$g['service.push.subscribe'].defaultData['success']
      options.success(data)
    },
    unsubscribe(options = {}) {
      hybrid.polyfillPrompt(config$P.name, 'unsubscribe', options)
      options.success({})
    },
    on(options = {}) {
      hybrid.polyfillPrompt(config$P.name, 'on', options)
      const data = mock$g['service.push.on'].defaultData['callback']
      options.callback(data)
    },
    off(options = {}) {
      hybrid.polyfillPrompt(config$P.name, 'off', options)
      options.success({})
    }
  }

  var pushService = {
    module: moduleOwn$N,
    config: config$P,
    mock: mock$g
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */
  const config$Q = {
    name: 'service.qqaccount',
    methods: [
      // Method
      {
        name: 'getType',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.SYNC
      },
      {
        name: 'authorize',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      }
    ]
  }

  const moduleOwn$O = {}

  var qqacount = {
    module: moduleOwn$O,
    config: config$Q
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */
  const config$R = {
    name: 'service.share',
    methods: [
      // Method
      {
        name: 'share',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'getProvider',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'getAvailablePlatforms',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      }
    ]
  }

  const moduleOwn$P = {}

  var shareService = {
    module: moduleOwn$P,
    config: config$R
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */
  const config$S = {
    name: 'service.stats',
    methods: [
      // Method
      {
        name: 'getProvider',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.SYNC
      },
      {
        name: 'recordCountEvent',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'recordCalculateEvent',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      }
    ]
  }

  const moduleOwn$Q = {}

  var stats = {
    module: moduleOwn$Q,
    config: config$S
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */
  const config$T = {
    name: 'service.wbaccount',
    methods: [
      // Method
      {
        name: 'getType',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.SYNC
      },
      {
        name: 'authorize',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      }
    ]
  }

  const moduleOwn$R = {}

  var wbaccount = {
    module: moduleOwn$R,
    config: config$T
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */
  const config$U = {
    name: 'service.wxaccount',
    methods: [
      // Method
      {
        name: 'authorize',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'getType',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.SYNC
      }
    ]
  }

  const moduleOwn$S = {}

  var wxaccount = {
    module: moduleOwn$S,
    config: config$U
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */
  const config$V = {
    name: 'service.wxpay',
    methods: [
      // Method
      {
        name: 'pay',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'getType',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.SYNC
      }
    ]
  }

  const moduleOwn$T = {}

  var wxpay = {
    module: moduleOwn$T,
    config: config$V
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  const config$W = {
    name: 'service.iot',
    methods: [
      // Method
      {
        name: 'getProvider',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.SYNC
      },
      {
        name: 'send',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      }
    ]
  }

  const moduleOwn$U = {}

  var iot = {
    module: moduleOwn$U,
    config: config$W
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */
  class BaseAd {
    constructor() {
      this.errorCallStack = []
      this.closeCallStack = []
      this.loadCallStack = []
      this.destroyCallStack = []
    }
    onError(fn) {
      if (!fn || typeof fn !== 'function') {
        return
      }
      this.errorCallStack.push(fn) // 模拟时，暂不支持onerror回调
    }
    offError(fn) {
      if (!fn) {
        return
      }
      this.errorCallStack.splice(this.errorCallStack.findIndex(fn), 1)
    }
    onClose(fn) {
      if (!fn || typeof fn !== 'function') {
        return
      }
      this.closeCallStack.push(fn)
    }
    offClose(fn) {
      if (!fn) {
        return
      }
      this.closeCallStack.splice(this.closeCallStack.findIndex(fn), 1)
    }
    onLoad(fn) {
      if (!fn || typeof fn !== 'function') {
        return
      }
      this.loadCallStack.push(fn)
    }
    offLoad(fn) {
      if (!fn) {
        return
      }
      this.loadCallStack.splice(this.loadCallStack.findIndex(fn), 1)
    }
    onDestroy(fn) {
      if (!fn || typeof fn !== 'function') {
        return
      }
      this.destroyCallStack.push(fn)
    }
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */
  const ELE_NAME = 'h-ad-page' // 元素名称
  const CONTAINER_ID = 'Ad_Page_Container' // 容器id
  const CLOSE_ID = 'Ad_Page_Close' // 关闭按钮的id
  const AD_URL = 'https://www.quickapp.cn/' // 模拟广告页地址

  class AdPageEle extends HTMLElement {
    constructor() {
      super()
      const shadowRoot = this.attachShadow({ mode: 'open' })
      const style = document.createElement('style')
      const zIndex = getMaxZindex() // 动态获取z-index，保证当前页浮在最上层
      style.textContent = `
.h-ad-page {
position: fixed;
width: 100%;
height: 100%;
left: 0;
top: 0;
display: flex;
flex-direction: column;
align-items: center;
justify-content: center;
box-sizing: border-box;
background-color: #fff;
z-index: ${zIndex};
}
.fade-In {
animation: fadeInRightBig 0.4s 1;
-webkit-animation: fadeInRightBig 0.4s 1;
}
.h-ad-title {
box-sizing: border-box;
width: 100%;
height: 1.2rem;
display: flex;
align-items: center;
background-color: #fff;
padding: 0 0.3rem;
justify-content: space-between;
}
.h-ad-title span {
font-size: 0.4rem;
color: #414141;
display: flex;
align-items: center;
}
.h-ad-title span i {
font-style: normal;
margin-left: 0.2rem;
}
@-webkit-keyframes fadeInRightBig {
from {
  -webkit-transform: translate3d(2000px, 0, 0);
  transform: translate3d(2000px, 0, 0);
}

to {
  -webkit-transform: translate3d(0, 0, 0);
  transform: translate3d(0, 0, 0);
}
}
@keyframes fadeInRightBig {
from {
  -webkit-transform: translate3d(2000px, 0, 0);
  transform: translate3d(2000px, 0, 0);
}

to {
  -webkit-transform: translate3d(0, 0, 0);
  transform: translate3d(0, 0, 0);
}
}
`
      const container = document.createElement('div')
      container.classList.add('h-ad-page')
      container.classList.add('fade-In')
      container.id = CONTAINER_ID
      container.innerHTML = `
<div class="h-ad-title">
<span id="${CLOSE_ID}">
  <svg t="1550914388347" width="64" height="64" style="fill:#414141" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1789" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M671.3 480.1H301.7L473.8 308c12.4-12.4 12.4-32.8 0-45.3-12.4-12.4-32.8-12.4-45.3 0L201.9 489.5c-5 5-8 11.2-9 17.7v0.1c-0.1 0.4-0.1 0.9-0.2 1.3v0.3c0 0.4-0.1 0.8-0.1 1.2v4c0 0.4 0.1 0.8 0.1 1.2v0.3c0 0.4 0.1 0.9 0.2 1.3v0.1c1 6.5 4 12.7 9 17.7l226.7 226.7c12.4 12.4 32.8 12.4 45.3 0 12.4-12.4 12.4-32.8 0-45.3l-172.2-172h369.6c17.6 0 32-14.4 32-32s-14.4-32-32-32z" p-id="1790" ></path></svg>
  <i>✕</i>
</span>
<span>快应用平台</span>
</div>
<iframe src="${AD_URL}" frameborder="0" width="100%" height="100%"></iframe>
`
      this.shadowRoot.appendChild(style)
      this.shadowRoot.appendChild(container)
    }
  }

  let adPageMap = new WeakMap()

  class AdPage {
    constructor(options = {}) {
      this.options = options
      this.showCallStack = []
      this.closeCallStack = []
      // 判断是否已经注册组件
      if (!window.customElements.get(ELE_NAME)) {
        this._registerEle()
      }
      this._createEle()
    }
    /**
     * 注册自定义元素
     */
    _registerEle() {
      window.customElements.define(ELE_NAME, AdPageEle)
    }
    /**
     * 初始化元素
     */
    _createEle() {
      let instance = document.createElement(ELE_NAME)
      instance.style.display = 'none'
      adPageMap.set(this, instance)
      document.body.appendChild(instance)
      this._initEvent()
    }
    /**
     * 初始化事件
     */
    _initEvent() {
      // 关闭广告事件
      adPageMap
        .get(this)
        .shadowRoot.getElementById(CLOSE_ID)
        .addEventListener(
          'click',
          e => {
            e.preventDefault()
            e.stopPropagation()
            this.close()
          },
          false
        )
      // 关闭广告事件
      adPageMap
        .get(this)
        .shadowRoot.getElementById(CONTAINER_ID)
        .addEventListener(
          'webkitAnimationEnd',
          e => {
            e.preventDefault()
            e.stopPropagation()
            this.showCallStack.forEach(fn => fn())
          },
          false
        )
    }
    /**
     * 监听页面加载完成
     */
    onShow(fn) {
      if (fn && typeof fn === 'function') {
        this.showCallStack.push(fn)
      }
    }
    /**
     * 显示页面
     */
    show() {
      adPageMap.get(this).style.display = 'block'
      setTimeout(() => {
        this.onShow()
      }, 10)
    }
    /**
     * 监听页面关闭
     */
    onClose(fn) {
      if (fn && typeof fn === 'function') {
        this.closeCallStack.push(fn)
      }
    }
    /**
     * 关闭页面
     */
    close() {
      document.body.removeChild(adPageMap.get(this))
      this.closeCallStack.forEach(fn => fn())
      setTimeout(() => {
        adPageMap.delete(this)
      }, 0)
    }
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */
  const ELE_NAME$1 = 'h-banner-ad' // 元素名称
  const CONTAINER_ID$1 = 'Banner_Ad_Container' // 容器id
  const DELETE_ID = 'Banner_Ad_Delete' // 右侧删除按钮的id
  const OPERATS_ID = 'Banner_Ad_Opts' // 左侧操作服id

  class BannerAdEle extends HTMLElement {
    constructor() {
      super()
      const shadowRoot = this.attachShadow({ mode: 'open' })
      const style = document.createElement('style')
      const zIndex = getMaxZindex()
      style.textContent = `
.h-banner-ad{
position: fixed;
height: 1.4rem;
width: 100%;
left: 0;
bottom: 0;
background-color: #565657;
z-index: ${zIndex};
}
.h-banner-wrapper {
height: 1.4rem;
width: 100%;
display: flex;
align-items: center;
padding: 0 0.48rem;
box-sizing: border-box;
}
.h-banner-img {
background-color: transparent;
height: 0.95rem;
flex: 0 0 0.95rem;
border-radius: 0.2rem;
}
.h-banner-img span{
position: absolute;
display: inline-block;
left: 0;
top: 0;
background: rgba(00, 00, 00, 0.6);
font-size: 0.24rem;
color: #fff;
text-align: center;
line-height: 0.47rem;
padding: 0 10px;
}
.h-banner-info {
display: flex;
justify-content: space-between;
flex-grow: 1;
align-items: center;
}
.h-banner-line {
padding-left: 0.24rem;
}
.h-banner-line div:first-child{
font-size: 0.33rem;
color: #fff;
display: none;
}
.h-banner-line div:last-child{
font-size: 0.29rem;
color: #ccc;
display: none;
}
.h-banner-btn i{
position: absolute;
width: 0.47rem;
height: 0.47rem;
font-size: 0.4rem;
background: rgba(00, 00, 00, 0.6);
top: 0;
right: 0;
font-style: normal;
text-align: center;
line-height: 0.47rem;
color: #fff;
}
.h-banner-btn span{
display: none;
background-color: #fff;
border-radius: 0.7rem;
color: #999;
font-size: 0.3rem;
line-height: 0.7rem;
text-align: center;
width: 1.9rem;
height: 0.71rem;
}
`
      let container = document.createElement('div')
      container.classList.add('h-banner-ad')
      container.id = CONTAINER_ID$1
      container.innerHTML = `
<div class="h-banner-wrapper">
<div class="h-banner-img">
  <img src="" alt="">
  <span id="${OPERATS_ID}">广告</span>
</div>
<div class="h-banner-info">
  <div class="h-banner-line">
    <div>广告标题</div>
    <div>这是一段广告描述</div>
  </div>
  <div class="h-banner-btn">
    <span>查看详情</span>
    <i id="${DELETE_ID}">✕</i>
  </div>
</div>
</div>
`
      this.shadowRoot.appendChild(style)
      this.shadowRoot.appendChild(container)
    }
  }

  let bannerAdMap = new WeakMap()

  class BannerAd extends BaseAd {
    constructor(options = {}) {
      super()
      this.options = options
      this._tempStyle = options.style || {}
      this.isLoaded = false // 广告是否已加载
      this.resizeCallStack = []
      // 判断是否已经注册组件
      if (!window.customElements.get(ELE_NAME$1)) {
        this._registerEle()
      }
      this._createEle()
    }
    get style() {
      const self = this
      return new Proxy(
        {},
        {
          get(target, key) {
            let res = target[key]
            if (key.startsWith('real')) {
              const container = bannerAdMap.get(self).shadowRoot.getElementById(CONTAINER_ID$1)
              try {
                res = getComputedStyle(container)[key.split('real')[1].toLowerCase()]
                if (res.endsWith('px')) {
                  // 处理px情况
                  res = res.replace('px', '')
                }
                if (res.endsWith('%')) {
                  // 处理%情况
                  res = window.innerWidth * ~~res.replace('%', '') * 0.01
                }
              } catch (error) {
                console.error(error)
              }
            }
            return ~~res
          },
          set(target, key, value) {
            const temp = {}
            temp[key] = value
            self._setStyle(temp)
            return true
          }
        }
      )
    }
    /**
     * 注册自定义元素
     */
    _registerEle() {
      window.customElements.define(ELE_NAME$1, BannerAdEle)
    }
    /**
     * 初始化元素
     */
    _createEle() {
      let instance = document.createElement(ELE_NAME$1)
      instance.style.display = 'none'
      bannerAdMap.set(this, instance)
      document.body.appendChild(instance)
      this._setStyle(this.options.style)
      this._initEvent()
    }
    /**
     * 设置样式
     */
    _setStyle(style = {}) {
      let { left, top, width, height } = style
      const container = bannerAdMap.get(this).shadowRoot.getElementById(CONTAINER_ID$1)
      let innerWidth = window.innerWidth
      // 处理左边距
      let templeft = Number(left)
      if (left !== '' && !isNaN(templeft)) {
        container.style.left = templeft + 'px'
        innerWidth -= templeft
        const curWidth = +getComputedStyle(container).width.replace('px', '')
        if (curWidth > innerWidth) {
          container.style.width = innerWidth + 'px'
        }
        this._tempStyle.left = templeft
      }
      // 处理上边距
      let temptop = Number(top)
      if (top !== '' && !isNaN(temptop)) {
        container.style.top = temptop + 'px'
        this._tempStyle.top = temptop
      }
      // 处理宽度
      let tempwidth = Number(width)
      let halfWidth = innerWidth / 2
      if (width) {
        container.style.width =
          (isNaN(tempwidth)
            ? innerWidth
            : tempwidth <= halfWidth
            ? halfWidth
            : tempwidth >= innerWidth
            ? innerWidth
            : tempwidth) + 'px'

        this._tempStyle.width = tempwidth
      }

      // 处理高度
      let tempheight = Number(height)
      if (height !== '' && !isNaN(tempheight)) {
        container.style.height = tempheight + 'px'
        this._tempStyle.height = tempheight
      }
      this.resizeCallStack.forEach(fn => {
        fn(this._tempStyle)
      })
    }
    /**
     * 初始化事件
     */
    _initEvent() {
      // 监听点击事件
      bannerAdMap.get(this).addEventListener(
        'click',
        e => {
          e.preventDefault()
          e.stopPropagation()
          new AdPage().show() // 显示广告页
        },
        false
      )
      // 关闭广告事件
      bannerAdMap
        .get(this)
        .shadowRoot.getElementById(DELETE_ID)
        .addEventListener(
          'click',
          e => {
            e.preventDefault()
            e.stopPropagation()
            bannerAdMap.get(this).style.display = 'none'
            this.closeCallStack.forEach(fn => fn())
          },
          false
        )
    }
    /**
     * 展示banner广告
     */
    show() {
      return new Promise(resolve => {
        // 如果广告已经加载过了，则直接显示
        if (this.isLoaded) {
          bannerAdMap.get(this).style.display = 'block'
          resolve()
        } else {
          // 模拟广告资源加载过程
          setTimeout(() => {
            this.isLoaded = true
            this.loadCallStack.forEach(fn => fn())
            bannerAdMap.get(this).style.display = 'block'
            resolve()
          }, 1000)
        }
      })
    }
    /**
     * 隐藏banner广告
     */
    hide() {
      return new Promise(resolve => {
        bannerAdMap.get(this).style.display = 'none'
        this.closeCallStack.forEach(fn => fn())
        resolve()
      })
    }
    /**
     * 监听 banner 广告尺寸变化事件
     */
    onResize(fn) {
      if (fn && typeof fn === 'function') {
        this.resizeCallStack.push(fn)
      }
    }
    /**
     * 销毁广告
     */
    destroy() {
      document.body.removeChild(bannerAdMap.get(this))
      bannerAdMap.delete(this)
      this.destroyCallStack.forEach(fn => fn())
    }
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */
  const ELE_NAME$2 = 'h-interstitial-ad' // 元素名称
  const CONTAINER_ID$2 = 'Interstitial_Ad_Container' // 容器id
  const CONTENT_ID = 'Interstitial_Ad_Content' // 广告容器
  const DELETE_ID$1 = 'Interstitial_Ad_Delete' // 右侧删除按钮的id
  /**
   * 自定义插屏广告组件
   */
  class InterstitialAdEle extends HTMLElement {
    constructor() {
      super()
      const shadowRoot = this.attachShadow({ mode: 'open' })
      const style = document.createElement('style')
      const zIndex = getMaxZindex()
      style.textContent = `
.h-interstitial-ad {
position: fixed;
width: 100%;
height: 100%;
left: 0;
top: 0;
display: flex;
flex-direction: column;
align-items: center;
justify-content: center;
box-sizing: border-box;
background-color: rgba(00, 00, 00, 0.4);
z-index: ${zIndex};
}
.h-interstitial-info {
position: relative;
background-color: #565657;
width: 6.1rem;
height: 6.36rem;
border-radius: 4px;
overflow: hidden;
}
.h-interstitial-opts {
text-align: right;
font-size: 0;
}
.h-interstitial-opts span{
display: inline-block;
background-color: #000;
font-size: 0.3rem;
color: #fff;
padding: 0 8px;
}
.h-interstitial-tips {
position: absolute;
text-align: left;
left: 0;
bottom: 0;
font-size: 0;
}
.h-interstitial-tips span{
display: inline-block;
background-color: #000;
font-size: 0.25rem;
color: #fff;
padding: 0 4px;
}
.h-interstitial-btn {
position: absolute;
width: 100%;
bottom: 30px;
text-align: center;
}
.h-interstitial-btn span{
display: inline-block;
font-size: 0.3rem;
width: 50%;
height: 0.7rem;
background-color: #fff;
text-align: center;
line-height: 0.7rem;
border-radius: 0.7rem;
color: #999;
}
.h-interstitial-del {
display: flex;
margin-top: 0.42rem;
justify-content: center;
align-items: center;
}
.h-interstitial-del span{
display: inline-block;
width: 0.9rem;
height: 0.9rem;
border-radius: 50%;
text-align: center;
line-height: 0.9rem;
overflow: hidden;
color: #fff;
background: rgba(00, 00, 00, 0.6);
font-size: 0.7rem;
}
`
      let container = document.createElement('div')
      container.classList.add('h-interstitial-ad')
      container.id = CONTAINER_ID$2
      container.innerHTML = `
<div class="h-interstitial-info" id="${CONTENT_ID}">
<div class="h-interstitial-opts">
  <span>反馈</span>
</div>
<div class="h-interstitial-btn">
  <span>查看详情</span>
</div>
<div class="h-interstitial-tips">
  <span>广告</span>
</div>
</div>
<div class="h-interstitial-del">
<span id="${DELETE_ID$1}">✕</span>
</div>
`
      this.shadowRoot.appendChild(style)
      this.shadowRoot.appendChild(container)
    }
  }

  let bannerAdMap$1 = new WeakMap()

  class InterstitialAd extends BaseAd {
    constructor(options = {}) {
      super()
      this.options = options
      // 判断是否已经注册组件
      if (!window.customElements.get(ELE_NAME$2)) {
        this._registerEle()
      }
      this._createEle()
    }
    /**
     * 注册自定义元素
     */
    _registerEle() {
      window.customElements.define(ELE_NAME$2, InterstitialAdEle)
    }
    /**
     * 创建广告元素
     */
    _createEle() {
      let instance = document.createElement(ELE_NAME$2)
      instance.style.display = 'none'
      bannerAdMap$1.set(this, instance)
      document.body.appendChild(instance)
      this._initEvent()
      // 模拟资源加载过程
      setTimeout(() => {
        this.loadCallStack.forEach(fn => fn())
      }, 1000)
    }
    /**
     * 初始化事件
     */
    _initEvent() {
      // 广告点击事件
      bannerAdMap$1
        .get(this)
        .shadowRoot.getElementById(CONTENT_ID)
        .addEventListener(
          'click',
          e => {
            e.preventDefault()
            e.stopPropagation()
            new AdPage().show() // 显示广告页
          },
          false
        )
      // 关闭广告事件
      bannerAdMap$1
        .get(this)
        .shadowRoot.getElementById(DELETE_ID$1)
        .addEventListener(
          'click',
          e => {
            e.preventDefault()
            e.stopPropagation()
            bannerAdMap$1.get(this).style.display = 'none'
            this.closeCallStack.forEach(fn => fn())
          },
          false
        )
    }
    /**
     * 展示广告
     */
    show() {
      return new Promise(resolve => {
        bannerAdMap$1.get(this).style.display = 'block'
        resolve()
      })
    }
    /**
     * 销毁广告
     */
    destroy() {
      document.body.removeChild(bannerAdMap$1.get(this))
      bannerAdMap$1.delete(this)
      this.destroyCallStack.forEach(fn => fn())
    }
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */
  const ELE_NAME$3 = 'h-video-ad' // 元素名称
  const CONTAINER_ID$3 = 'Video_Ad_Container' // 容器id
  const DELETE_ID$2 = 'Video_Ad_Delete' // 右侧删除按钮的id
  const TIME_ID = 'Video_Ad_Timer' // 时间id
  const BTN_ID = 'Video_Ad_Btn' // 查看详情id
  const INIT_TIME = 10 // 初始化倒计时

  class RewardedVideoAdEle extends HTMLElement {
    constructor() {
      super()
      const shadowRoot = this.attachShadow({ mode: 'open' })
      const style = document.createElement('style')
      const zIndex = getMaxZindex()
      style.textContent = `
.h-video-ad {
position: fixed;
width: 100%;
height: 100%;
left: 0;
top: 0;
display: flex;
flex-direction: column;
justify-content: space-between;
box-sizing: border-box;
background-color: #000;
z-index: ${zIndex};
}
.h-video-info{
height: 0.8rem;
color: #fff;
overflow: hidden;
flex-grow: 0;
flex-shrink: 0;
display: flex;
justify-content: space-between;
align-items: center;
padding: 0 0.5rem;
}
.h-video-tips {
font-size: 0.3rem;
}
.h-video-btns {
font-size: 0.4rem;
}
.h-video-btns>span:last-child {
font-size: 0.4rem;
display: none;
}
.h-video-player {
position: relative;
display: flex;
align-items: center;
width: 100%;
flex-grow: 1;
flex-shrink: 1;
}
.h-video-player img {
width: 100%;
height: auto;
}
.h-video-player img {
width: 100%;
height: auto;
}
.h-video-bottom {
height: 1.2rem;
overflow: hidden;
flex-grow: 0;
flex-shrink: 0;
padding: 0 0.4rem;
display: flex;
justify-content: space-between;
align-items: center;
margin-bottom: 0.2rem;
}
.h-video-bottom span:first-child{
color: #fff;
font-size: 0.26rem;
}
.h-video-bottom span:last-child{
display: inline-block;
background-color: #fff;
border-radius: 0.7rem;
color: #999;
font-size: 0.3rem;
line-height: 0.7rem;
text-align: center;
width: 2rem;
height: 0.71rem;
}
.fade-In {
animation: fadeInRightBig 0.4s 1;
-webkit-animation: fadeInRightBig 0.4s 1;
}
@-webkit-keyframes fadeInRightBig {
from {
  opacity: 0;
  -webkit-transform: translate3d(2000px, 0, 0);
  transform: translate3d(2000px, 0, 0);
}

to {
  opacity: 1;
  -webkit-transform: translate3d(0, 0, 0);
  transform: translate3d(0, 0, 0);
}
}
@keyframes fadeInRightBig {
from {
  opacity: 0;
  -webkit-transform: translate3d(2000px, 0, 0);
  transform: translate3d(2000px, 0, 0);
}

to {
  opacity: 1;
  -webkit-transform: translate3d(0, 0, 0);
  transform: translate3d(0, 0, 0);
}
}
`
      let container = document.createElement('div')
      container.classList.add('h-video-ad')
      container.classList.add('fade-In')
      container.id = CONTAINER_ID$3
      container.innerHTML = `
<div class="h-video-info">
<div class="h-video-tips">
  <span>反馈</span>
</div>
<div class="h-video-btns">
  <span>奖励发放还有<span id="${TIME_ID}">${INIT_TIME}</span>秒</span>
  <span id="${DELETE_ID$2}"> | 关闭</span>
</div>
</div>
<div class="h-video-player">
<img src="data:image/jpeg;base64,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AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA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nm1ZiJ7pXYNfzLT/AFVWXHipijilYrH2PsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQkBAkBAkBAAAkBAkBHECQEcAAkAECQAAECQECQEJABCQEcCQBCQECQECUAAAAAAAAAAAAAAAAAAAAAAAkAAAAAECQEcQkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQJAAAAAAAQJAAAAAAAAAAAAAAAAAAAAAEJAQJAQJAQJAQJAQJAQJAQJAQJAQJAQJAQJAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABCQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABh1OfyGLrcczPZENeb6yuPyk9Xjv4BvDXpqa203lu6IjmWCubVZazlpFYp6o8Qb4wabP5fH1uOJjsmGDWa+uGOrj9K3Pb9gN4fGO02x1tPrjlqTqM+fLauniIrWeJmQbz5taKxzM8Q1tLqL3yWxZo4vXt7EaqbZrxhp7ZkG3ExMcwNSceox4+y8cRCMM6jLji3XrHINwYsVcsTPlLRLHrNZXT0njtvx2QDaGHS5Jzael7d8ww5NRkvn8lp4jmO+ZBtnPHe1cOfLXP5HPERM90x631rpmNNPE8doNjrR4x7zrR4w1KaXFNYmb27vpGTTY60tMXnmI+kDbS19HPOniZnlsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA+YlPLXpk5Za25B9pRACQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEJQCLUi/HWjnhravPFKTip25LdkRCddqfN8XMfKnuaul1Gmx+ne/OSe/mO4H1mxzg2zqT8r1t3Txxp6R9jFm6ur0lvJzz4MWHWUpg6t+YtWOOAToY4z549XWRrsOPHprTWvEzMdv9X3oKW9PLaOOvPPCdy/VbceMfiDPi/Q05+jCvpbJTUXnSx1qT38+LfpHW08R6+q09Hmrp4viyxNZie/xB9aLtz3tlnjNPq+x96ms4YicU8WvbtlirzqNb5THExWsd/iyZdPnyzHOSOyeYBOTDm8nMzl5jjufGlxZZwxMZJiH3empjHPOSOOGPS0zzhjq3iIBt4qXpz179Zi1ODHGLJeK+lMd76x0zxfm94mH1qv1bJ7AfGg/U6exh0HHl88+vrM2g/VKexgx2jSarJ5TsrftiQTrp41GCY7+WXXdumn7WG141esp1InqU7Zsyaz0ppij96QK6bBNI9Ke7xRk02GMVpi09keLL5pj+33vjNpcdcVp7eyPEH3ov1arYa+i/VqtgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFPgz8+tvYr8tDXUri13oRxFq9aY+1s4JniAbtZfT4p3PuASAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD5tStvlVifa+fI4voV9zIA+a1rWOKxEexE4sczzNKzPjw+wEdxNYtHExzCQEPm2Ol/lVifa+wHzWtaxxWIiPsTxCQHzavNZjxfGDHOLHFZnllAQTETHE9yQEREVjiI4hFqVvHFqxPtfQD5rWtI4rER7GOMP5+clp58I8GYBDVyafNeZjys9WfU2wHxipGPHFI7ofYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//Z" alt="">
<span></span>
</div>
<div class="h-video-bottom" id="${BTN_ID}">
<span>广告</span>
<span>查看详情</span>
</div>
`
      this.shadowRoot.appendChild(style)
      this.shadowRoot.appendChild(container)
    }
  }

  let videoAd = new WeakMap()

  class RewardedVideoAd extends BaseAd {
    constructor(options = {}) {
      super()
      this.options = options
      this.finished = false // 视频是否是播放完成
      this.timer = null // 倒计时定时器
      this.dialog = null
      this.destroyCallStack = []
      // 判断是否已经注册组件
      if (!window.customElements.get(ELE_NAME$3)) {
        this._registerEle()
      }
      this._createEle()
    }
    /**
     * 注册自定义元素
     */
    _registerEle() {
      window.customElements.define(ELE_NAME$3, RewardedVideoAdEle)
    }
    /**
     * 初始化元素
     */
    _createEle() {
      let instance = document.createElement(ELE_NAME$3)
      instance.style.display = 'none'
      videoAd.set(this, instance)
      document.body.appendChild(instance)
      this._initEvent()
    }
    /**
     * 初始化事件
     */
    _initEvent() {
      // 关闭广告事件
      videoAd
        .get(this)
        .shadowRoot.getElementById(DELETE_ID$2)
        .addEventListener(
          'click',
          e => {
            e.preventDefault()
            e.stopPropagation()
            if (this.timer) {
              clearInterval(this.timer)
            }
            let dialog = new Dialog({
              type: 'dialog',
              message: '现在关闭视频将无法获得奖励，确定关闭？',
              buttons: [
                {
                  text: '继续观看'
                },
                {
                  text: '关闭视频'
                }
              ],
              success: val => {
                switch (+val.index) {
                  case 0:
                    this._initTime()
                    break
                  case 1:
                    this.hide()
                    break
                }
              },
              autocancel: false
            })
            dialog._mask.style.zIndex = 100003
          },
          false
        )
      // 初始化查看详情事件
      videoAd
        .get(this)
        .shadowRoot.getElementById(BTN_ID)
        .addEventListener('click', e => {
          const adPage = new AdPage() // 显示广告页
          adPage.show()
          adPage.onShow(() => {
            clearInterval(this.timer)
          })
          adPage.onClose(() => {
            this._initTime()
          })
        })
    }
    /**
     * 加载广告资源
     */
    load() {
      return new Promise(resolve => {
        // 模拟广告加载过程
        setTimeout(() => {
          resolve()
        }, 1000)
      })
    }
    /**
     * 展示广告
     */
    show() {
      return new Promise(resolve => {
        // 重新显示视频
        videoAd.get(this).style.display = 'block'
        this.finished = false // 初始化播放完成标识
        // 重置关闭按钮
        videoAd.get(this).shadowRoot.getElementById(DELETE_ID$2).style.display = 'none'
        // 重置倒计时
        videoAd.get(this).shadowRoot.getElementById(TIME_ID).innerHTML = INIT_TIME
        this._initTime()
        resolve()
      })
    }
    /**
     * 关闭视频
     */
    hide() {
      videoAd.get(this).style.display = 'none'
      this.closeCallStack.forEach(fn => fn({ isEnded: this.finished }))
    }
    /**
     * 初始化倒计时
     */
    _initTime() {
      this.timer = setInterval(() => {
        const timeDom = videoAd.get(this).shadowRoot.getElementById(TIME_ID)
        timeDom.innerHTML -= 1
        if (timeDom.innerHTML == 3) {
          videoAd.get(this).shadowRoot.getElementById(DELETE_ID$2).style.display = 'inline-block'
        }
        if (timeDom.innerHTML == 0) {
          this.finished = true
          clearInterval(this.timer)
          let dialog = new Dialog({
            type: 'dialog',
            message: '视频观看完成是否继续',
            buttons: [
              {
                text: '查看详情'
              },
              {
                text: '关闭视频'
              }
            ],
            success: val => {
              switch (+val.index) {
                case 0:
                  const adPage = new AdPage()
                  adPage.show()
                  adPage.onShow(() => {
                    this.hide()
                  })
                  break
                case 1:
                  this.hide()
                  break
              }
            },
            autocancel: false
          })
          dialog._mask.style.zIndex = 100003
          return
        }
      }, 1000)
    }
    /**
     * 销毁广告
     */
    destroy() {
      document.body.removeChild(videoAd.get(this))
      videoAd.delete(this)
      this.destroyCallStack.forEach(fn => fn())
    }
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */
  class NativeAd extends BaseAd {
    constructor() {
      super()
    }
    load() {}
    reportAdShow() {}
    reportAdClick() {}
    destroy() {}
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  const config$X = {
    name: 'service.ad',
    methods: [
      // Method
      {
        name: 'getProvider',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.SYNC
      },
      {
        name: 'createBannerAd', // banner广告
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.SYNC
      },
      {
        name: 'createInterstitialAd', // 插屏广告
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.SYNC
      },
      {
        name: 'createRewardedVideoAd', // 激励视频广告
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.SYNC
      },
      {
        name: 'preloadAd', // 加载广告数据
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'createNativeAd', // 原生点击广告
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.SYNC
      },
      {
        name: 'createNativeComponentAd', // 原生点击广告
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.SYNC
      }
    ]
  }

  const moduleOwn$V = {
    getProvider() {
      return 'vivo'
    },
    // 创建banner广告
    createBannerAd(options = {}) {
      const adUnitId = options.adUnitId
      if (!adUnitId) {
        console.warn('### Web Render ### adUnitId不能为空')
        return
      }
      return new BannerAd(options)
    },
    // 创建插屏广告
    createInterstitialAd(options = {}) {
      const adUnitId = options.adUnitId
      if (!adUnitId) {
        console.warn('### Web Render ### adUnitId不能为空')
        return
      }
      return new InterstitialAd(options)
    },
    // 创建视频激励广告
    createRewardedVideoAd(options = {}) {
      const adUnitId = options.adUnitId
      if (!adUnitId) {
        console.warn('### Web Render ### adUnitId不能为空')
        return
      }
      return new RewardedVideoAd(options)
    },
    // 创建原生广告
    createNativeAd() {
      console.warn('###  Web Render ### service.ad中createNativeAdAd接口,请在真机上调试')
      return new NativeAd()
    },
    // 创建原生点击广告
    createNativeComponentAd() {
      console.warn('###  Web Render ### service.ad中createNativeComponentAd接口,请在真机上调试')
      return new NativeAd()
    },
    // 预加载广告资源
    preloadAd(options = {}) {
      const { adUnitId, type, success } = options
      if (!adUnitId) {
        console.warn('### Web Render ### adUnitId不能为空')
        return
      }
      if (type === 'native') {
        let adList = [
          {
            adId: `adId-${adUnitId}`,
            title: '广告标题',
            desc: '这是一个广告',
            icon: '',
            imgUrlList: [],
            clickBtnTxt: '查看详情',
            creativeType: 0,
            interactionType: ''
          }
        ]
        typeof success === 'function' && success({ adList })
      } else {
        return true
      }
    }
  }

  var ad = {
    module: moduleOwn$V,
    config: config$X
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */
  const config$Y = {
    name: 'service.exchange',
    methods: [
      // Method
      {
        name: 'get',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'set',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'remove',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'clear',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'grantPermission',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'revokePermission',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      }
    ]
  }

  const moduleOwn$W = {}

  var exchange = {
    module: moduleOwn$W,
    config: config$Y
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */
  const config$Z = {
    name: 'service.texttoaudio',
    methods: [
      // Method
      {
        name: 'speak',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'textToAudioFile',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'isLanguageAvailable',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'stop',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.SYNC
      },
      {
        name: 'isSpeaking',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.SYNC
      },
      {
        name: '__ttsstatechange',
        type: hybrid.TYPE.EVENT,
        mode: hybrid.MODE.SUBSCRIBE,
        alias: 'onttsstatechange'
      }
    ]
  }
  let state = 'onStop',
    speechInstance,
    utteranceId = 0
  let texttoaudioDom = document.createElement('texttoaudio')

  let change = new Event('change')

  const moduleOwn$X = {
    __ttsstatechange(options = {}) {
      texttoaudioDom.addEventListener('change', () => {
        const ret = {
          utteranceId: utteranceId,
          state: state
        }
        options.callback(ret)
      })
    },
    speak(options = {}) {
      state = 'onStart'
      texttoaudioDom.dispatchEvent(change)
      const lang = options.lang
      const text = options.content
      const rate = options.rate
      const pitch = options.pitch
      let failCode

      speechInstance = new SpeechSynthesisUtterance(text)

      if (text.length > 4000) {
        failCode = 1003
      } else if (!speechInstance) {
        failCode = 1002
      } else {
        speechInstance.lang = lang
        speechInstance.rate = rate
        speechInstance.pitch = pitch
        try {
          speechSynthesis.speak(speechInstance)
        } catch (err) {
          failCode = 1000
          state = 'onError'
          texttoaudioDom.dispatchEvent(change)
        }
      }

      if (!failCode) {
        utteranceId++
        state = 'onDone'
        texttoaudioDom.dispatchEvent(change)
        options.success({ utteranceId: utteranceId })
      } else {
        options.fail({ code: failCode })
      }
    },
    stop() {
      let retCode = -1
      if (speechInstance) {
        state = 'onStop'
        texttoaudioDom.dispatchEvent(change)
        speechSynthesis.cancel()
        retCode = 0
      }
      return retCode
    },
    isSpeaking() {
      return speechInstance && !speechSynthesis.paused && speechSynthesis.speaking
    }
  }

  var texttoaudio = {
    module: moduleOwn$X,
    config: config$Z
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */
  const config$_ = {
    name: 'service.biometriverify',
    methods: [
      // Method
      {
        name: 'verifyWithFacialRecognition',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'verifyLivingPerson',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      }
    ]
  }

  const moduleOwn$Y = {}

  var biometriverify = {
    module: moduleOwn$Y,
    config: config$_
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  const config$$ = {
    name: 'system.model',
    methods: [
      // Method
      {
        name: 'getType',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      }
    ]
  }

  const moduleOwn$Z = {}

  var model = {
    module: moduleOwn$Z,
    config: config$$
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */
  const config$10 = {
    name: 'system.vivo',
    methods: [
      // Method
      {
        name: 'reportSingleImmediateEvent',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'reportTraceImediateEvent',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'getRecentAppList',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'shortcutHasInstalled',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'reportSingleDelayEvent',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'reportTraceDelayEvent',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'aesEncryptUrl',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'aesDecryptResponse',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'getImei',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'getEngineVersion',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'login',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'isLogin',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'getProfile',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'installShortcut',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'getCacheUsage',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'removeApp',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'clearStorage',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'clearCache',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'getInstalledNativePackages',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'toAccountPage',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      }
    ]
  }

  const moduleOwn$_ = {
    reportTraceDelayEvent(options = {}) {
      options.success()
    },
    reportSingleImmediateEvent(options = {}) {
      options.success()
    },
    getImei(options = {}) {
      options.success({ imei: '3178363a2051b63d0e0f1b54bbd860f1eaa2a847e8426df03f0c8d98936fe945' })
    },
    getEngineVersion(options = {}) {
      options.success({ engineVersion: '10700000' })
    },
    login(options = {}) {
      options.success({ isLogin: true })
    },
    isLogin(options = {}) {
      options.success({ isLogin: true })
    },
    aesEncryptUrl(options = {}) {
      if (options.url && options.params) {
        let url = options.url

        const paramsArr = Object.keys(options.params).map(key => {
          return `${key}=${options.params[key]}`
        })
        let params = paramsArr.join('&')
        if (params !== '') {
          url += '?' + params
        }
        options.success({ result: url })
      }
    },
    aesDecryptResponse(options = {}) {
      if (options.rawData) {
        options.success({ result: options.rawData })
      }
    },
    getProfile(options = {}) {
      const msg = {
        email: 'lzj_tech@163.com',
        openId: 'd2a8bd4d285b9454',
        telephone: '18592072795',
        userName: '18592072795',
        uuId: '086f48db-de69-4191-b23c-2fb871b76ddb',
        vivoToken: 'sys_YWQ5NjNlYWM4NWZiMWZmNzUwNDIuMzk4ODc5MzI2LjE1OTIzNjM1NTU5OTM'
      }
      options.success(msg)
    },
    getRecentAppList(options = {}) {
      options.success({ appList: [] })
    },
    getInstalledNativePackages(options = {}) {
      const appPackages =
        '["com.rn.hanju","com.android.cts.priv.ctsshim","com.vivo.weather.provider","com.qualcomm.qti.qcolor","com.android.internal.display.cutout.emulation.corner","com.sohu.inputmethod.sogou.vivo","com.android.internal.display.cutout.emulation.double","com.android.providers.telephony","com.vivo.smartmultiwindow","com.android.dynsystem","com.vivo.hybrid.sdkdemo","com.vivo.aitranslate","com.vivo.fuelsummary","com.android.providers.calendar","com.bbk.scene.launcher.theme","com.android.providers.media","com.vivo.livewallpaper.coffeetime","com.qti.service.colorservice","com.vivo.setupwizard","com.qiyi.video","com.android.theme.icon.square","com.google.android.onetimeinitializer","com.google.android.ext.shared","com.android.internal.systemui.navbar.gestural_wide_back","com.vivo.easyshare","com.qualcomm.qti.simcontacts","com.qualcomm.qti.modemtestmode","com.vivo.abe","com.vivo.epm","com.vivo.pem","com.vivo.sos","com.vivo.vms","com.android.wallpapercropper","com.citrix.Receiver","com.android.theme.color.cinnamon","com.vivo.safecenter","com.vivo.appfilter","com.vivo.nightpearl","com.sankuai.meituan","com.vivo.hiboard","com.android.theme.icon_pack.rounded.systemui","com.vivo.floatingball","com.yimanxin.soundtest","com.vivo.compass","com.android.documentsui","com.android.externalstorage","com.qualcomm.uimremoteclient","com.android.htmlviewer","com.vivo.fingerprintengineer","com.vivo.numbermark","com.qualcomm.qti.uceShimService","com.android.companiondevicemanager","com.iflytek.speechsuite","com.android.mms.service","com.funtouch.uiengine","com.android.providers.downloads","com.vivo.smartanswer","com.android.networkstack.inprocess","com.vivo.vivokaraoke","com.android.theme.icon_pack.rounded.android","com.vivo.weather","vendor.qti.hardware.cacert.server","com.vivo.lockscreen.play","com.qualcomm.qti.callenhancement","com.vivo.livewallpaper.firenze","com.android.bbkmusic","com.greatefunhy.sdgs.vivo","com.oppoit.vst","com.jm.android.jumei","com.qualcomm.qti.telephonyservice","com.android.browser","org.hapjs.debugger","com.yyets.pro","com.bbk.updater","com.vivo.shortcutcenter","com.android.theme.icon_pack.circular.themepicker","com.vivo.gamecube","com.android.bbkcalculator","vendor.qti.iwlan","com.google.android.configupdater","com.qualcomm.qti.optinoverlay","com.vivo.backtoolbar","com.vivo.ewarranty","com.vivo.pushservice","com.st.frameLoggerNew","com.lanjing.yanyu.vivo","com.qualcomm.uimremoteserver","com.volte.config","com.vivo.scrawl.pair","com.qti.confuridialer","android.qvaoverlay.common","com.vivo.livewallpaper.amberlight","com.android.providers.downloads.ui","com.android.vending","com.android.pacprocessor","com.android.simappdialog","com.android.filemanager","android.overlay.common","com.tencent.mm","com.bbk.theme.online.livewallpaper","com.android.internal.display.cutout.emulation.tall","com.android.vendors.bridge.softsim","com.android.modulemetadata","com.android.certinstaller","com.android.theme.color.black","com.android.carrierconfig","com.vivo.smartshot","com.google.android.marvin.talkback","com.android.theme.color.green","com.android.theme.color.ocean","com.android.theme.color.space","com.wapi.wapicertmanage","com.android.internal.systemui.navbar.threebutton","com.xunlei.downloadprovider","com.vivo.smartunlock","com.qti.qualcomm.datastatusnotification","android","jp.co.cyberagent.stf.rotationwatcher","com.android.contacts","com.qualcomm.qti.callfeaturessetting","com.qualcomm.wfd.service","com.vivo.secime.service","com.vivo.upnpserver","com.baidu.searchbox","com.android.theme.icon_pack.rounded.launcher","com.qti.qualcomm.deviceinfo","com.vivo.vhomeguide","com.bbk.cloud","com.bbk.theme","com.vivo.scanner","com.android.egg","com.android.mms","com.android.mtp","com.android.ons","com.android.stk","com.android.backupconfirm","com.wuba","com.android.tethersettings","com.vivo.iot.iotframeworks","com.android.internal.systemui.navbar.twobutton","org.codeaurora.ims","com.bbk.calendar","com.android.statementservice","com.bbk.iqoo.feedback","com.android.BBKClock","com.android.hotspot2","android.overlay.target","com.android.wifisettings","com.vivo.quickpay","com.vlife.vivo.wallpaper","com.vivo.aiengine","com.vivo.daemonService","com.ringclip","com.vivo.voicewakeup","com.android.internal.systemui.navbar.gestural_extra_wide_back","com.qualcomm.qti.dynamicddsservice","com.iqoo.engineermode","com.mobile.cos.iroaming","com.qualcomm.qcrilmsgtunnel","com.android.providers.settings","com.android.sharedstoragebackup","com.android.printspooler","com.vivo.globalanimation","com.android.theme.icon_pack.filled.settings","com.vivo.Tips","com.vivo.game","com.android.incallui","com.tencent.qqlive","com.android.se","com.android.inputdevices","com.qualcomm.qti.biometrics.fingerprint.service","com.android.bluetoothsettings","com.bbk.photoframewidget","com.android.bips","com.qti.dpmserviceapp","com.xunmeng.pinduoduo","com.android.theme.icon_pack.circular.settings","com.baidu.searchbox.remotedebug","com.qti.xdivert","com.bbk.iqoo.logsystem","com.google.android.overlay.gmsconfig","com.vivo.SmartKey","com.bbk.facewake","com.google.android.webview","com.android.theme.icon.teardrop","com.vivo.faceui","com.vivo.videoeditor","com.ss.android.article.news","com.android.server.telecom","com.google.android.syncadapters.contacts","com.m1905.mobilefree","com.android.bbklog","com.vivo.permissionmanager","com.android.keychain","com.qti.snapdragon.qdcm_ff","com.vivo.hybrid","com.mobile.iroaming","com.android.camera","com.android.chrome","com.bbk.launcher2","com.android.dialer","com.android.theme.icon_pack.filled.systemui","com.ss.android.ugc.aweme","com.google.android.gms","com.google.android.gsf","android.ext.services","com.vivo.livewallpaper.blazingbeat","com.android.phone.overlay.common","com.qualcomm.qti.qtisystemservice","com.android.carrierconfig.overlay.common","com.android.calllogbackup","com.android.systemui.overlay.common","com.tencent.mobileqq","com.android.server.telecom.overlay.common","com.android.localtransport","com.vivo.faceunlock","com.android.packageinstaller","com.android.carrierdefaultapp","com.dsi.ant.server","com.qualcomm.qti.remoteSimlockAuth","com.vivo.networkstate","com.android.theme.font.notoserifsource","com.android.theme.icon_pack.filled.android","com.vivo.livewallpaper.silk","com.android.proxyhandler","com.vivo.widget.calendar","com.vivo.magazine","com.qualcomm.qti.workloadclassifier","com.android.VideoPlayer","com.android.theme.icon_pack.circular.systemui","com.android.BBKCrontab","com.vivo.devicereg","com.google.android.printservice.recommendation","com.google.android.syncadapters.calendar","com.vivo.doubletimezoneclock","com.android.managedprovisioning","com.iqoo.secure","com.yaoji.byhlz.vivo","com.vivo.childrenmode","com.vivo.vtouch","com.vivo.wallet","com.tencent.soter.soterserver","com.vivo.sim.contacts","com.vivo.livewallpaper.galaxy","com.vivo.globalsearch","com.ximalaya.ting.android","com.iqoo.powersaving","com.baidu.BaiduMap","com.vivo.sdkplugin","com.vivo.singularity","com.bbk.appstore","com.android.smspush","com.vivo.vivolight","com.vivo.arruler","com.vivo.findphone","com.vivo.networkimprove","com.android.bbk.lockscreen3","com.baidu.map.location","com.vivo.audiofx","com.android.theme.icon.squircle","com.android.vivo.tws.vivotws","com.vivo.dream.weather","com.bbk.theme.resources","com.android.storagemanager","com.android.settings","com.qualcomm.qti.cne","com.qualcomm.qti.lpa","com.qualcomm.qti.uim","com.vivo.video.floating","com.sie.mp","com.android.theme.icon_pack.filled.launcher","org.hapjs.mockup","com.vivo.multinlp","com.android.networkstack.permissionconfig","com.vivo.puresearch","com.qualcomm.location","ctrip.android.view","com.android.cts.ctsshim","com.android.theme.icon_pack.circular.launcher","com.qualcomm.qti.uimGbaApp","com.bbk.scene.databaseprovider","com.vivo.dream.clock","com.vivo.wifiengineermode","com.vivo.dream.music","com.vivo.upslide","com.android.vpndialogs","com.vivo.gallery","com.vivo.agent","com.vivo.email","com.sina.weibo","com.vivo.gametrain","com.vivo.omacp","com.vivo.gamewatch","com.vivo.share","com.vivo.space","com.android.notes","com.vivo.vhome","com.android.phone","com.android.shell","com.vivo.fingerprint","com.android.theme.icon_pack.filled.themepicker","com.android.wallpaperbackup","com.android.providers.blockednumber","com.vivo.aiservice","com.android.providers.userdictionary","com.vivo.minscreen","com.vivo.favorite","com.qualcomm.qti.seccamservice","com.qualcomm.qti.qmmi","com.vivo.contentcatcher","com.smile.gifmaker","com.android.internal.systemui.navbar.gestural","com.vivo.PCTools","com.android.location.fused","com.android.theme.color.orchid","com.android.systemui","com.android.theme.color.purple","com.vivo.livewallpaper.coralsea","com.android.bluetoothmidiservice","com.qualcomm.qti.poweroffalarm","com.vivo.v5","com.vivo.doubleinstance","com.qti.ltebc","com.vivo.fingerprintui","com.android.permissioncontroller","com.bbk.SuperPowerSave","com.baidu.netdisk","com.vivo.livewallpaper.azure","com.vivo.livewallpaper.beach","com.vivo.browser","com.taobao.taobao","com.cewo.voicerecorder","com.vivo.bsptest","com.vivo.motionrecognition","com.qualcomm.qti.qms.service.trustzoneaccess","com.yozo.vivo.office","com.vivo.assistant","com.android.bluetooth","com.qualcomm.timeservice","com.qualcomm.atfwd","com.qualcomm.embms","com.android.providers.contacts","com.sina.news","tv.danmaku.bili","com.android.captiveportallogin","com.android.theme.icon.roundedrect","com.android.internal.systemui.navbar.gestural_narrow_back","com.eg.android.AlipayGphone","com.android.cellbroadcastreceiver.overlay.common","com.chaozh.iReader","com.android.theme.icon_pack.rounded.settings","cn.wps.moffice_eng","com.android.bbksoundrecorder","com.android.bluetooth.overlay.common","com.bbk.account","com.android.theme.icon_pack.circular.android"]'
      options.success({ appPackages })
    },
    getRecentShortcutHistoryList(options = {}) {
      const appList =
        '[{"appId":"com.quickapp.center","appName":"快应用中心","appIconUrl":"https://quickimgtxdl.vivo.com.cn/appstore/developer/rpk/icon/20190305/201903051146244216008.png","appType":"app","scene":"api","lastInstallShortcutTime":1597826730858}]'
      options.success({ appList })
    },
    getCacheUsage(options = {}) {
      options.success({ size: 0 })
    },
    shortcutHasInstalled(options = {}) {
      options.success(false)
    },
    installShortcut(options = {}) {
      options.success(true)
    },
    removeApp(options = {}) {
      options.success(true)
    }
  }

  var vivo = {
    module: moduleOwn$_,
    config: config$10
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */
  const config$11 = {
    name: 'vivo.appwidget',
    methods: [
      // Method
      {
        name: 'addAppWidget',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'hasAppWidget',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      }
    ]
  }

  const moduleOwn$$ = {
    hasAppWidget(options = {}) {
      options.success(true)
    },
    addAppWidget(options = {}) {
      options.success()
    }
  }

  var appwidget = {
    module: moduleOwn$$,
    config: config$11
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */
  const config$12 = {
    name: 'vivo.device',
    methods: [
      // Method
      {
        name: 'getSystemElapsedRealtime',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'getEmmcId',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'getUfsId',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'getVAID',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'getAAID',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'getImei',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'getEngineVersion',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'is5GDevice',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'isTrue5G',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'is5GSwitchOpened',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      },
      {
        name: 'getTelecomOperator',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      }
    ]
  }

  const moduleOwn$10 = {
    getUfsId(options = {}) {
      options.success({ UfsId: 'jdkjkdfijijiefjiere' })
    },
    getVAID(options = {}) {
      options.success({ vaid: 'fdkjkfd' })
    }
  }

  var vivodevice = {
    module: moduleOwn$10,
    config: config$12
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */
  const config$13 = {
    name: 'vivo.package',
    methods: [
      // Method
      {
        name: 'getInstalledNativePackages',
        type: hybrid.TYPE.METHOD,
        mode: hybrid.MODE.CALLBACK
      }
    ]
  }

  const moduleOwn$11 = {
    getInstalledNativePackages(options = {}) {
      const appPackages =
        '["com.rn.hanju","com.android.cts.priv.ctsshim","com.vivo.weather.provider","com.qualcomm.qti.qcolor","com.android.internal.display.cutout.emulation.corner","com.sohu.inputmethod.sogou.vivo","com.android.internal.display.cutout.emulation.double","com.android.providers.telephony","com.vivo.smartmultiwindow","com.android.dynsystem","com.vivo.hybrid.sdkdemo","com.vivo.aitranslate","com.vivo.fuelsummary","com.android.providers.calendar","com.bbk.scene.launcher.theme","com.android.providers.media","com.vivo.livewallpaper.coffeetime","com.qti.service.colorservice","com.vivo.setupwizard","com.qiyi.video","com.android.theme.icon.square","com.google.android.onetimeinitializer","com.google.android.ext.shared","com.android.internal.systemui.navbar.gestural_wide_back","com.vivo.easyshare","com.qualcomm.qti.simcontacts","com.qualcomm.qti.modemtestmode","com.vivo.abe","com.vivo.epm","com.vivo.pem","com.vivo.sos","com.vivo.vms","com.android.wallpapercropper","com.citrix.Receiver","com.android.theme.color.cinnamon","com.vivo.safecenter","com.vivo.appfilter","com.vivo.nightpearl","com.sankuai.meituan","com.vivo.hiboard","com.android.theme.icon_pack.rounded.systemui","com.vivo.floatingball","com.yimanxin.soundtest","com.vivo.compass","com.android.documentsui","com.android.externalstorage","com.qualcomm.uimremoteclient","com.android.htmlviewer","com.vivo.fingerprintengineer","com.vivo.numbermark","com.qualcomm.qti.uceShimService","com.android.companiondevicemanager","com.iflytek.speechsuite","com.android.mms.service","com.funtouch.uiengine","com.android.providers.downloads","com.vivo.smartanswer","com.android.networkstack.inprocess","com.vivo.vivokaraoke","com.android.theme.icon_pack.rounded.android","com.vivo.weather","vendor.qti.hardware.cacert.server","com.vivo.lockscreen.play","com.qualcomm.qti.callenhancement","com.vivo.livewallpaper.firenze","com.android.bbkmusic","com.greatefunhy.sdgs.vivo","com.oppoit.vst","com.jm.android.jumei","com.qualcomm.qti.telephonyservice","com.android.browser","org.hapjs.debugger","com.yyets.pro","com.bbk.updater","com.vivo.shortcutcenter","com.android.theme.icon_pack.circular.themepicker","com.vivo.gamecube","com.android.bbkcalculator","vendor.qti.iwlan","com.google.android.configupdater","com.qualcomm.qti.optinoverlay","com.vivo.backtoolbar","com.vivo.ewarranty","com.vivo.pushservice","com.st.frameLoggerNew","com.lanjing.yanyu.vivo","com.qualcomm.uimremoteserver","com.volte.config","com.vivo.scrawl.pair","com.qti.confuridialer","android.qvaoverlay.common","com.vivo.livewallpaper.amberlight","com.android.providers.downloads.ui","com.android.vending","com.android.pacprocessor","com.android.simappdialog","com.android.filemanager","android.overlay.common","com.tencent.mm","com.bbk.theme.online.livewallpaper","com.android.internal.display.cutout.emulation.tall","com.android.vendors.bridge.softsim","com.android.modulemetadata","com.android.certinstaller","com.android.theme.color.black","com.android.carrierconfig","com.vivo.smartshot","com.google.android.marvin.talkback","com.android.theme.color.green","com.android.theme.color.ocean","com.android.theme.color.space","com.wapi.wapicertmanage","com.android.internal.systemui.navbar.threebutton","com.xunlei.downloadprovider","com.vivo.smartunlock","com.qti.qualcomm.datastatusnotification","android","jp.co.cyberagent.stf.rotationwatcher","com.android.contacts","com.qualcomm.qti.callfeaturessetting","com.qualcomm.wfd.service","com.vivo.secime.service","com.vivo.upnpserver","com.baidu.searchbox","com.android.theme.icon_pack.rounded.launcher","com.qti.qualcomm.deviceinfo","com.vivo.vhomeguide","com.bbk.cloud","com.bbk.theme","com.vivo.scanner","com.android.egg","com.android.mms","com.android.mtp","com.android.ons","com.android.stk","com.android.backupconfirm","com.wuba","com.android.tethersettings","com.vivo.iot.iotframeworks","com.android.internal.systemui.navbar.twobutton","org.codeaurora.ims","com.bbk.calendar","com.android.statementservice","com.bbk.iqoo.feedback","com.android.BBKClock","com.android.hotspot2","android.overlay.target","com.android.wifisettings","com.vivo.quickpay","com.vlife.vivo.wallpaper","com.vivo.aiengine","com.vivo.daemonService","com.ringclip","com.vivo.voicewakeup","com.android.internal.systemui.navbar.gestural_extra_wide_back","com.qualcomm.qti.dynamicddsservice","com.iqoo.engineermode","com.mobile.cos.iroaming","com.qualcomm.qcrilmsgtunnel","com.android.providers.settings","com.android.sharedstoragebackup","com.android.printspooler","com.vivo.globalanimation","com.android.theme.icon_pack.filled.settings","com.vivo.Tips","com.vivo.game","com.android.incallui","com.tencent.qqlive","com.android.se","com.android.inputdevices","com.qualcomm.qti.biometrics.fingerprint.service","com.android.bluetoothsettings","com.bbk.photoframewidget","com.android.bips","com.qti.dpmserviceapp","com.xunmeng.pinduoduo","com.android.theme.icon_pack.circular.settings","com.baidu.searchbox.remotedebug","com.qti.xdivert","com.bbk.iqoo.logsystem","com.google.android.overlay.gmsconfig","com.vivo.SmartKey","com.bbk.facewake","com.google.android.webview","com.android.theme.icon.teardrop","com.vivo.faceui","com.vivo.videoeditor","com.ss.android.article.news","com.android.server.telecom","com.google.android.syncadapters.contacts","com.m1905.mobilefree","com.android.bbklog","com.vivo.permissionmanager","com.android.keychain","com.qti.snapdragon.qdcm_ff","com.vivo.hybrid","com.mobile.iroaming","com.android.camera","com.android.chrome","com.bbk.launcher2","com.android.dialer","com.android.theme.icon_pack.filled.systemui","com.ss.android.ugc.aweme","com.google.android.gms","com.google.android.gsf","android.ext.services","com.vivo.livewallpaper.blazingbeat","com.android.phone.overlay.common","com.qualcomm.qti.qtisystemservice","com.android.carrierconfig.overlay.common","com.android.calllogbackup","com.android.systemui.overlay.common","com.tencent.mobileqq","com.android.server.telecom.overlay.common","com.android.localtransport","com.vivo.faceunlock","com.android.packageinstaller","com.android.carrierdefaultapp","com.dsi.ant.server","com.qualcomm.qti.remoteSimlockAuth","com.vivo.networkstate","com.android.theme.font.notoserifsource","com.android.theme.icon_pack.filled.android","com.vivo.livewallpaper.silk","com.android.proxyhandler","com.vivo.widget.calendar","com.vivo.magazine","com.qualcomm.qti.workloadclassifier","com.android.VideoPlayer","com.android.theme.icon_pack.circular.systemui","com.android.BBKCrontab","com.vivo.devicereg","com.google.android.printservice.recommendation","com.google.android.syncadapters.calendar","com.vivo.doubletimezoneclock","com.android.managedprovisioning","com.iqoo.secure","com.yaoji.byhlz.vivo","com.vivo.childrenmode","com.vivo.vtouch","com.vivo.wallet","com.tencent.soter.soterserver","com.vivo.sim.contacts","com.vivo.livewallpaper.galaxy","com.vivo.globalsearch","com.ximalaya.ting.android","com.iqoo.powersaving","com.baidu.BaiduMap","com.vivo.sdkplugin","com.vivo.singularity","com.bbk.appstore","com.android.smspush","com.vivo.vivolight","com.vivo.arruler","com.vivo.findphone","com.vivo.networkimprove","com.android.bbk.lockscreen3","com.baidu.map.location","com.vivo.audiofx","com.android.theme.icon.squircle","com.android.vivo.tws.vivotws","com.vivo.dream.weather","com.bbk.theme.resources","com.android.storagemanager","com.android.settings","com.qualcomm.qti.cne","com.qualcomm.qti.lpa","com.qualcomm.qti.uim","com.vivo.video.floating","com.sie.mp","com.android.theme.icon_pack.filled.launcher","org.hapjs.mockup","com.vivo.multinlp","com.android.networkstack.permissionconfig","com.vivo.puresearch","com.qualcomm.location","ctrip.android.view","com.android.cts.ctsshim","com.android.theme.icon_pack.circular.launcher","com.qualcomm.qti.uimGbaApp","com.bbk.scene.databaseprovider","com.vivo.dream.clock","com.vivo.wifiengineermode","com.vivo.dream.music","com.vivo.upslide","com.android.vpndialogs","com.vivo.gallery","com.vivo.agent","com.vivo.email","com.sina.weibo","com.vivo.gametrain","com.vivo.omacp","com.vivo.gamewatch","com.vivo.share","com.vivo.space","com.android.notes","com.vivo.vhome","com.android.phone","com.android.shell","com.vivo.fingerprint","com.android.theme.icon_pack.filled.themepicker","com.android.wallpaperbackup","com.android.providers.blockednumber","com.vivo.aiservice","com.android.providers.userdictionary","com.vivo.minscreen","com.vivo.favorite","com.qualcomm.qti.seccamservice","com.qualcomm.qti.qmmi","com.vivo.contentcatcher","com.smile.gifmaker","com.android.internal.systemui.navbar.gestural","com.vivo.PCTools","com.android.location.fused","com.android.theme.color.orchid","com.android.systemui","com.android.theme.color.purple","com.vivo.livewallpaper.coralsea","com.android.bluetoothmidiservice","com.qualcomm.qti.poweroffalarm","com.vivo.v5","com.vivo.doubleinstance","com.qti.ltebc","com.vivo.fingerprintui","com.android.permissioncontroller","com.bbk.SuperPowerSave","com.baidu.netdisk","com.vivo.livewallpaper.azure","com.vivo.livewallpaper.beach","com.vivo.browser","com.taobao.taobao","com.cewo.voicerecorder","com.vivo.bsptest","com.vivo.motionrecognition","com.qualcomm.qti.qms.service.trustzoneaccess","com.yozo.vivo.office","com.vivo.assistant","com.android.bluetooth","com.qualcomm.timeservice","com.qualcomm.atfwd","com.qualcomm.embms","com.android.providers.contacts","com.sina.news","tv.danmaku.bili","com.android.captiveportallogin","com.android.theme.icon.roundedrect","com.android.internal.systemui.navbar.gestural_narrow_back","com.eg.android.AlipayGphone","com.android.cellbroadcastreceiver.overlay.common","com.chaozh.iReader","com.android.theme.icon_pack.rounded.settings","cn.wps.moffice_eng","com.android.bbksoundrecorder","com.android.bluetooth.overlay.common","com.bbk.account","com.android.theme.icon_pack.circular.android"]'
      options.success({ appPackages })
    }
  }

  var vivopackage = {
    module: moduleOwn$11,
    config: config$13
  }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */

  const featureList = [
    router,
    fetch$1,
    prompt,
    storage,
    network,
    app,
    share,
    barcode,
    clipboard,
    mask,
    request,
    media,
    device,
    keyguard,
    geolocation,
    file,
    wifi,
    webview,
    notification,
    audio,
    battery,
    canvas,
    brightness,
    calendar,
    cipher,
    contact,
    notification,
    packageFeature,
    record,
    sensor,
    shortcut,
    sms,
    vibrator,
    volume,
    websocketfactory,
    webview,
    zip,
    page,
    configuration,
    card,
    telecom,
    decode$2,
    account,
    alipay,
    pay,
    health,
    pushService,
    qqacount,
    shareService,
    stats,
    wbaccount,
    wxaccount,
    wxpay,
    iot,
    resident,
    ad,
    exchange,
    texttoaudio,
    biometriverify,
    bluetooth,
    hostconnection,
    messageChannel,
    alarm,
    model,
    appwidget,
    vivodevice,
    vivopackage,
    vivo
  ]

  const allFeatureMethList = []
  const allFeatureInstHash = {}

  const mockFeatureList = {}

  for (let i = 0; i < featureList.length; i++) {
    // 记录具体方法与 feature 名的关系
    setFunctionToFeatureMap(featureList[i])
    // 收集各接口 mock 数据
    Object.assign(mockFeatureList, featureList[i].mock)
    // module配置列表(用于全局注册)
    allFeatureMethList.push(featureList[i].config)
    // module接口实现
    allFeatureInstHash[featureList[i].config.name] = registerProxy(featureList[i])
  }

  if (
    window.__DEVTOOLS_GLOBAL_API__ &&
    window.__DEVTOOLS_GLOBAL_API__.mock &&
    window.__DEVTOOLS_GLOBAL_API__.mock.updateMockApi
  ) {
    window.__DEVTOOLS_GLOBAL_API__.mock.updateMockApi(mockFeatureList)
  }

  // 代理feature接口方法
  function registerProxy(feature) {
    const module = feature.module
    if (typeof module === 'object') {
      const handler = {
        apply: function(target, thisArg, argumentsList) {
          if (
            typeof argumentsList[0] === 'object' &&
            argumentsList[1] &&
            argumentsList[1] !== '-1'
          ) {
            argumentsList[0].callback = argumentsList[0].success = data => {
              hybrid.callbackSuccess(argumentsList[1], data)
            }
            argumentsList[0].fail = (data, code) => {
              hybrid.callbackFail(argumentsList[1], data, code)
            }
            argumentsList[0].cancel = data => {
              hybrid.callbackCancel(argumentsList[1], data)
            }
          }
          target = getMockFeature(target, argumentsList)

          const result =
            argumentsList[1] === '-1'
              ? target.apply(thisArg, argumentsList)
              : new Promise(resolve => {
                  resolve(argumentsList)
                }).then(argumentsList => {
                  try {
                    target.apply(thisArg, argumentsList)
                  } catch (e) {
                    console.error(e)
                  }
                })
          return result !== undefined ? hybrid.syncResult(result) : undefined
        }
      }
      const methodsInConfig = feature.config.methods
      if (Array.isArray(methodsInConfig)) {
        methodsInConfig.forEach(method => {
          const key = method.name
          if (typeof module[key] === 'function') {
            const oriFn = module[key]
            module[key] = new Proxy(oriFn, handler)
          }
        })
      }
    }
    const proxy = new Proxy(module, {
      get: function(target, property, receiver) {
        if (property in target) {
          return target[property]
        } else {
          const featureName = feature.config.name
          return (...args) => {
            console.warn(
              `### Web Render ### ${featureName} => ${property}:${JSON.stringify(args[0]) ||
                ''}\n==暂时不支持该接口，请使用真机调试体验完整功能==`
            )
          }
        }
      }
    })
    return proxy
  }

  // sync call native component method.
  function callNativeComponent(instanceId, ref, method, args, options) {
    return processCall(instanceId, {
      component: options.component,
      ref,
      method,
      args
    })
  }

  // sync call native module api.
  function callNativeModule(instanceId, module, method, args, options) {
    return processCall(instanceId, { module, method, args })
  }

  // callNative: jsFramework will call this method to talk to
  // this renderer.
  // params:
  //  - instanceId: string.
  //  - tasks: array of object.
  //  - callbackId: number.
  function callNative(instanceId, tasks, callbackId) {
    let calls = []
    let result = []
    if (typeof tasks === 'string') {
      try {
        calls = JSON.parse(tasks)
      } catch (e) {
        console.error('invalid tasks:', tasks)
      }
    } else if (isArray(tasks)) {
      calls = tasks
    }
    const len = calls.length
    calls[len - 1].callbackId = !callbackId && callbackId !== 0 ? -1 : callbackId
    if (len === 1) {
      result = processCall(instanceId, calls[0])
    } else {
      for (let i = 0; i < len; i++) {
        result.push(processCall(instanceId, calls[i]))
      }
    }
    return result
  }

  function processCall(instanceId, call) {
    const isComponent = typeof call.module === 'undefined'
    const res = isComponent ? componentCall(instanceId, call) : moduleCall(instanceId, call)

    // for sync call.
    return res
  }

  function moduleCall(instanceId, call) {
    const methodName = call.method
    let managerInstance = ComponentManager.getInstance(instanceId)
    if (!managerInstance) {
      global.Hap && global.Hap.createInstance({ appId: instanceId })
      managerInstance = new ComponentManager(instanceId)
      if (window.__DEVTOOLS_GLOBAL_HOOK__ && window.__DEVTOOLS_GLOBAL_HOOK__.inject) {
        window.__DEVTOOLS_GLOBAL_HOOK__.inject(managerInstance)
      }
    }

    const args = call.args || call.arguments || []

    if (managerInstance[methodName]) {
      // add test for 头条铃声
      // Promise.resolve().then(() => {
      //   return managerInstance[methodName](args)
      // })
      return managerInstance[methodName](args)
    } else {
      console.error(`moduleCall error: ${instanceId}: ${call.method}`)
      return
    }
  }

  function componentCall(instanceId, call) {
    const componentName = call.component
    const ref = call.ref
    const methodName = call.method
    const args = call.args || call.arguments || []

    const elem = global.hap
      .getInstance(instanceId)
      .getComponentManager()
      .getComponent(ref)
    if (!elem) {
      return console.error(`### Web Render ###  component of ref ${ref} doesn't exist.`)
    }

    let method

    if (!(method = elem[methodName])) {
      return console.error(
        `### Web Render ###  component ${componentName} doesn't have a method named ${methodName}.`
      )
    }
    // 由于组件方法可能存在多个回调，所以把回调能力下放到组件中
    const performCallback = function(callbackId, res) {
      if (
        (callbackId || callbackId === 0 || callbackId === '0') &&
        callbackId !== '-1' &&
        callbackId !== -1
      ) {
        performNextTick(instanceId, callbackId, res)
      }
    }
    // 目前所有组件方法只有一个参数，回调方法暂时放在第二个参数
    args.push(performCallback)

    return method.apply(elem, args)
  }

  function performNextTick(instanceId, callbackId, data) {
    Sender.getSender(instanceId).performCallback(callbackId, data)
  }

  function nativeLog() {
    if (config$1.debug) {
      if (arguments[0].match(/^perf/)) {
        console.info.apply(console, arguments)
        return
      }
      console.debug.apply(console, arguments)
    }
  }

  function getPageElementViewId(ref) {
    const mockViewId = 1e3 + ref
    console.warn(
      `### Web Render ### getPageElementViewId() ==预览返回模拟数据,请使用真机调试体验完整功能==.`
    )
    return mockViewId
  }

  function readResource(bundlePath) {
    const temp = bundlePath.match(/.+\/(.+)\.js$/)
    const dir = temp && temp[1]
    const canvas = Object.create(null)
    if (!dir) {
      return null
    }
    if (dir.indexOf('canvas') > -1) {
      // 重写native用的canvas.enable方法，直接用h5的canvas即可，因此不会执行到system.canvas
      canvas.enable = function(el, app, { module } = {}) {
        el.getContext = function(type) {
          let context = null

          const pageId = this._docId

          if (type.match(/2d/i)) {
            context = global.callNativeComponent(pageId, this.ref, 'getContext', [type], {
              component: 'canvas'
            })
          } else {
            throw new Error('### App Canvas ### not supported context ' + type)
          }

          return context
        }

        return el
      }
      return canvas
    }

    return null
  }

  function exportsBridgeMethodsToGlobal() {
    global.callNative = callNative
    global.callNativeComponent = callNativeComponent
    global.callNativeModule = callNativeModule
    global.nativeLog = nativeLog
    global.getPageElementViewId = getPageElementViewId

    // add test JsBridge定义
    global.JsBridge = global.ModuleManager = {
      invoke(moduleName, methodName, args, callbackId, moduleInstId) {
        if (typeof args === 'string') {
          args = JSON.parse(args)
        }
        if (allFeatureInstHash[moduleName] && allFeatureInstHash[moduleName][methodName]) {
          return allFeatureInstHash[moduleName][methodName](args, callbackId, moduleInstId)
        } else {
          throw new Error(`ERROR: Unknown moduleName:${moduleName}, methodName:${methodName}`)
        }
      }
    }

    global.readResource = readResource
  }

  var receiver = {
    init: function() {
      // exports methods to global(window).
      exportsBridgeMethodsToGlobal()
    }
  }

  /**
   * save the original listener for 'addEventListener'.
   * this is the dipaching listener which is waiting for feed.
   * map structure: moduleName -> eventName -> [handlers].
   */
  const handlerMap = {}

  window.addEventListener('moduleevent', event => {
    const dt = event.detail || {}
    const module = dt.module
    const type = dt.type
    try {
      handlerMap[module][type].forEach(handler => handler(dt))
    } catch (e) {
      console.warn(`### Web Render ###  no such event ${type} for module ${module}.`)
    }
  })

  function addEventListener(module, evt, callbackId, options) {
    const once = options && !!options.once
    let moduleMap = handlerMap[module]
    if (!moduleMap) {
      moduleMap = handlerMap[module] = {}
    }
    let handlers = moduleMap[evt]
    if (!handlers) {
      handlers = moduleMap[evt] = []
    }
    handlers.push(data => this.sender.performCallback(callbackId, data, !once))
  }

  function removeAllEventListeners(module, evt) {
    try {
      delete handlerMap[module][evt]
    } catch (e) {
      // do nothing.
    }
  }

  /**
   * register module event listener for every api module except 'globalEvent'.
   */
  function registerModuleEventListener(name, module, meta) {
    if (name !== 'globalEvent') {
      module.addEventListener = function(evt, callbackId, options) {
        return addEventListener.call(this, name, evt, callbackId, options)
      }
      module.removeAllEventListeners = function(evt) {
        return removeAllEventListeners.call(this, name, evt)
      }
      ;[
        {
          name: 'addEventListener',
          args: ['string', 'function', 'object']
        },
        {
          name: 'removeAllEventListeners',
          args: ['string']
        }
      ].forEach(info => meta[name].push(info))
    }
  }

  const methods$1 = {
    // Register a new component with the specified name.
    registerComponent(name, comp) {
      ComponentManager.registerComponent(name, comp)
    },

    // Register a new api module.
    // If the module already exists, just add methods from the
    // new module to the old one.
    registerApiModule(name, module, meta) {
      registerModuleEventListener(name, module, meta)
      if (!protocol.apiModule[name]) {
        protocol.apiModule[name] = module
      } else {
        for (const key in module) {
          if (module.hasOwnProperty(key)) {
            protocol.apiModule[name][key] = module[key]
          }
        }
      }
      // register API module's meta info to jsframework
      if (meta) {
        protocol.setApiModuleMeta(meta)
        global.registerModules(protocol.getApiModuleMeta(name), true)
      }
    },

    // Register a new api method for the specified module.
    // opts:
    //  - args: type of arguments the API method takes such
    //    as ['string', 'function']
    registerApi(moduleName, name, method, args) {
      if (typeof method !== 'function') {
        return
      }
      if (!protocol.apiModule[moduleName]) {
        protocol.apiModule[moduleName] = {}
        protocol._meta[moduleName] = []
      }
      protocol.apiModule[moduleName][name] = method
      if (!args) {
        return
      }
      // register API meta info to jsframework
      protocol.setApiMeta(moduleName, {
        name: name,
        args: args
      })
      global.registerModules(protocol.getApiModuleMeta(moduleName), true)
    },

    // Register a new hap-bundle-loader.
    registerLoader(name, loaderFunc) {}
  }

  // To install components and plugins.
  function install(mod) {
    mod.init(this)
  }

  function bind(Hap) {
    Hap.install = install.bind(Hap)
    $extend(Hap, methods$1)
  }

  const NOT_PX_NUMBER_PROPERTIES = ['flex', 'opacity', 'zIndex', 'fontWeight']

  function getFilters(key) {
    if (NOT_PX_NUMBER_PROPERTIES.indexOf(key) !== -1) {
      return {}
    }
    return {
      number: function(val) {
        // return val + 'px'
        return val
      },
      string: function(val) {
        // string of a number suffixed with a 'px' or 'wx' unit. original RegExp is /^-?\d*\.?\d+(?:px)?$/
        const match = val.match(/^([+-]?\d.*)+([p,w]x)$/)
        if (match && match.length === 3) {
          if (/\s+/.test(val)) {
            const arr = val.split(/\s+/)
            val = arr
              .map(item => {
                if (/\d*\.?\d+[w,p]x$/.test(item)) {
                  return (
                    parseFloat(item) *
                      (/wx+$/.test(item) ? global.HapEnvironment.previewRatio : 1) +
                    'px'
                  )
                }
                return item
              })
              .join(' ')
            return val
          }
          if (match[2] === 'px' || match[2] === 'wx') {
            return parseFloat(match[1]) * global.HapEnvironment.previewRatio + 'px'
          }
        }
        // if (key.match(/animationKeyframes/)) {
        //   console.log('')
        //   return val
        // }
        if (key.match(/transform/)) {
          try {
            if (val.indexOf('{') > -1) {
              /* eslint-disable */
              const tmp = global.eval('(' + val + ')')
              let ret = ''
              for (const tk in tmp) {
                let val = tmp[tk]
                if (typeof val === 'string' && val.indexOf('px') > -1) {
                  val =
                    Math.floor(parseFloat(val) * global.HapEnvironment.previewRatio * 100) / 100 +
                    'px'
                }
                ret += tk + '(' + val + ') '
              }
              return ret
            } else {
              const adjustVal = val.replace(/\((-?\d+\.?\d*)px\)/, function(match, p1) {
                const newval = Math.floor(p1 * global.HapEnvironment.previewRatio * 100) / 100
                return `(${newval}px)`
              })
              return adjustVal
            }
          } catch (e) {
            return val
          }
        }
        if (key.match(/transform/) && val.match(/translate/)) {
          let ret = val.replace(/\d*\.?\d+px/g, function(match) {
            return parseInt(parseFloat(match)) + 'px'
          })
          if (ret.match(/wx/)) {
            ret = ret.replace(/\d*\.?\d+wx/g, function(match) {
              return parseInt(parseFloat(match)) * global.HapEnvironment.previewRatio + 'px'
            })
          }
          return ret
        }
        if (key.match(/^border$/) && val.match(/^\d+(?:[w,p]x)?\s+/)) {
          val = val.replace(/^(\d+(?:[w,p]x)?)/, function($0, $1) {
            const v =
              parseFloat($1) * (val.match(/^\d+(?:wx)+/) ? global.HapEnvironment.previewRatio : 1)
            return v + 'px'
          })
        }
        return val
      }
    }
  }

  const divStyle = new Set([
    'flexDirection',
    'flexWrap',
    'justifyContent',
    'alignItems',
    'alignContent',
    'columnSpan'
  ])

  const textStyle = new Set([
    // text
    'lines',
    'color',
    'fontSize',
    'fontStyle',
    'fontWeight',
    'fontFamily',
    'fontFamilyDesc',
    'textDecoration',
    'textAlign',
    'textIndent',
    'lineHeight',
    'textOverflow'
  ])

  // CSS属性校验器映射表
  const validatorMap$1 = {
    general: new Set([
      'width',
      'height',
      'padding',
      'paddingLeft',
      'paddingRight',
      'paddingTop',
      'paddingBottom',
      'margin',
      'marginLeft',
      'marginRight',
      'marginTop',
      'marginBottom',
      'border',
      'borderStyle',
      'borderWidth',
      'borderLeftWidth',
      'borderTopWidth',
      'borderRightWidth',
      'borderBottomWidth',
      'borderColor',
      'borderLeftColor',
      'borderTopColor',
      'borderRightColor',
      'borderBottomColor',
      'borderRadius',
      'borderBottomLeftRadius',
      'borderBottomRightRadius',
      'borderTopLeftRadius',
      'borderTopRightRadius',
      // common
      'background',
      'backgroundColor',
      'backgroundImage',
      'backgroundSize',
      'backgroundRepeat',
      'backgroundPosition',
      'opacity',
      'display',
      'visibility',
      'objectFit',
      // flexbox
      'flex',
      'flexGrow',
      'flexShrink',
      'flexBasis',
      'alignSelf',
      // position
      'position',
      'top',
      'bottom',
      'left',
      'right',
      'zIndex',
      // animation
      'transform',
      'transformOrigin',
      'animationName',
      'animationDuration',
      'animationTimingFunction',
      'animationDelay',
      'animationIterationCount',
      'animationFillMode',
      'animationKeyframes',
      'animationDirection'
    ]),
    div: divStyle,
    stack: divStyle,
    richtext: divStyle,
    list: new Set(['flexDirection', 'columns', 'layoutType']),
    'list-item': divStyle,
    popup: new Set(['maskColor']),
    refresh: new Set([
      'backgroundColor',
      'progressColor',
      'flexDirection',
      'flexWrap',
      'justifyContent',
      'alignItems',
      'alignContent'
    ]),
    swiper: new Set([
      'indicatorColor',
      'indicatorSelectedColor',
      'indicatorSize',
      'indicatorTop',
      'indicatorRight',
      'indicatorBottom',
      'indicatorLeft'
    ]),
    image: new Set(['resizeMode', 'objectFit', 'filter', 'altObjectFit']),
    progress: new Set(['color', 'strokeWidth']),
    rating: new Set(['starBackground', 'starForeground', 'starSecondary']),
    span: new Set([
      'color',
      'fontSize',
      'fontStyle',
      'fontWeight',
      'fontFamily',
      'fontFamilyDesc',
      'textDecoration'
    ]),
    a: textStyle,
    text: textStyle,
    label: textStyle,
    select: textStyle,
    option: textStyle,
    input: new Set(['color', 'fontSize', 'placeholderColor', 'caretColor', ...textStyle]),
    slider: new Set(['color', 'selectedColor', 'blockColor']),
    textarea: new Set(['color', 'fontSize', 'placeholderColor']),
    video: new Set(['objectFit']),
    'tab-bar': new Set(['mode']),
    map: new Set([
      'mylocation',
      'mylocationFillColor',
      'mylocationStrokeColor',
      'mylocationIconPath'
    ]),
    marquee: textStyle
  }

  /**
   * 校验CSS属性
   * @param type
   * @param name
   * @returns {boolean}
   */
  function validate$1(type, name) {
    const validator = validatorMap$1[type]
    if (validatorMap$1.general.has(name) || (validator && validator.has(name))) {
      return true
    }
    return false
  }

  var styleValidator = {
    validate: validate$1
  }

  let pseudoId = 0
  function getPseudoId() {
    return '' + pseudoId++
  }

  // hack for touch event offset
  function getVertexPosition(el) {
    let currentTarget = el
    let top = 0
    let left = 0
    while (currentTarget !== null) {
      const nextTarget = currentTarget.offsetParent
      top += currentTarget.offsetTop
      left += currentTarget.offsetLeft
      if (nextTarget) {
        top -= nextTarget.scrollTop
        left -= nextTarget.scrollLeft
      }
      currentTarget = nextTarget
    }
    return { top, left }
  }

  function create(nodeType) {
    return document.createElement(nodeType || 'div')
  }

  function createChildren() {
    const children = this.data.children
    const parentRef = this.data.ref
    const componentManager = this.getComponentManager()
    this.children = []
    if (children && children.length) {
      const fragment = document.createDocumentFragment()
      let isFlex = false
      for (let i = 0; i < children.length; i++) {
        // 容器传递给后代的数据
        children[i].props = this.data.props
        children[i].instanceId = this.data.instanceId
        children[i]._parentRef = parentRef
        const child = componentManager.createElement(children[i])
        fragment.appendChild(child.node)
        this.children.push(child)
        child.parentRef = parentRef
        if (!isFlex && child.data.style && child.data.style.hasOwnProperty('flex')) {
          isFlex = true
        }
      }
      this.node.appendChild(fragment)
      Array.prototype.forEach.call(this.children, child => {
        child._appended = true
        child.onAppend && child.onAppend()
      })
    }
  }

  function appendChild(data) {
    const children = this.data.children
    const componentManager = this.getComponentManager()
    const child = componentManager.createElement(data)
    this.node.appendChild(child.node)
    // update this.data.children
    if (!children || !children.length) {
      this.data.children = [data]
    } else {
      children.push(data)
    }
    return child
  }

  function insertBefore(child, before) {
    const children = this.data.children || (this.data.children = [])
    let i = 0
    let l
    let isAppend = false
    // 中间多加了一层的tags
    const wrapTags = ['tab-content', 'tab-bar', 'stack']
    // update this.data.children
    if (!children || !children.length || !before) {
      isAppend = true
    } else {
      for (l = children.length; i < l; i++) {
        if (children[i].ref === before.data.ref) {
          break
        }
      }
      if (i === l) {
        isAppend = true
      }
    }

    if (wrapTags.indexOf(this.data.type) > -1) {
      return this._insertBefore(child, before, isAppend, i)
    }
    if (isAppend) {
      this.node.appendChild(child.node)
      children.push(child.data)
    } else {
      if (before.fixedPlaceholder) {
        this.node.insertBefore(child.node, before.fixedPlaceholder)
      } else if (before.stickyPlaceholder) {
        this.node.insertBefore(child.node, before.stickyPlaceholder)
      } else {
        this.node.insertBefore(child.node, before.node)
      }
      children.splice(i, 0, child.data)
    }
  }

  function removeChild(child) {
    const children = this.data.children
    // remove from this.data.children
    let i = 0
    const componentManager = this.getComponentManager()
    if (children && children.length) {
      let l
      for (l = children.length; i < l; i++) {
        if (children[i].ref === child.data.ref) {
          break
        }
      }
      if (i < l) {
        children.splice(i, 1)
      }
    }
    // remove from componentMap recursively
    componentManager.removeComponent(child.data.ref)
    child.unsetPosition()
    child.node.parentNode.removeChild(child.node)
  }

  function updateProp(params) {
    if (!this.node.prop) {
      this.node.prop = {}
    }
    const props = params.prop || {}
    for (const key in props) {
      const value = props[key]
      this.node.setAttribute(key, value)
    }
  }

  function delAttrs(attrs) {
    if (typeof attrs === 'object') {
      attrs.forEach(attr => {
        if (attr !== 'class') {
          this.node.removeAttribute(attr)
        } else {
          const classList = Array.prototype.slice.call(this.node.classList, 0)
          classList.forEach(c => {
            if (c.indexOf('hap-') === -1) {
              this.node.classList.remove(c)
            }
          })
        }
      })
    }
  }

  function updateAttrs(attrs) {
    // Note：attr must be injected into the dom element because
    // it will be accessed from the outside developer by event.target.attr.
    if (!this.node.attr) {
      this.node.attr = {}
    }
    for (const key in attrs) {
      const value = attrs[key]
      const attrSetter = this.attr[key]
      const styleSetter = this.style[key]
      if (this.data && this.data.attr) {
        this.data.attr[key] = value
      }
      if (typeof attrSetter === 'function') {
        attrSetter.call(this, value)
      } else if (typeof styleSetter === 'function') {
        // native处理逻辑:如果能当成样式解析成功,则按样式处理
        styleSetter.call(this, value)
      } else {
        if (typeof value === 'boolean') {
          this.node[key] = value
        } else if (key === 'class' && this.node.getAttribute('class')) {
          this.node.setAttribute('class', this.node.getAttribute('class') + ' ' + value)
        } else {
          this.node.setAttribute(key, value)
        }
        this.node.attr[key] = value
      }
    }
  }

  function updateStyle(style) {
    const pseudoData = {}
    const rootRef = this.getComponentManager().rootRef

    for (const key in style) {
      let value = style[key]
      const pseudoClassReg = /^([^:]+)((?::[^:]+)+)/
      const match = key.match(pseudoClassReg)
      let styleName, pseudoName
      if (match) {
        styleName = match[1]
        pseudoName = match[2]
      } else {
        styleName = key
      }
      if (this.data.ref === rootRef && styleName === 'height') {
        this._setRootHeight()
      }
      if (styleValidator.validate(this.data && this.data.type, styleName)) {
        const parser = getFilters(styleName)[typeof value]
        if (typeof parser === 'function') {
          value = parser(value)
        }

        if (!match) {
          if (typeof this.style[styleName] === 'function') {
            this.style[styleName].call(this, value)
          } else {
            this.node.style[styleName] = value
          }
          continue
        }

        if (pseudoData[pseudoName]) {
          pseudoData[pseudoName][styleName] = value
        } else {
          pseudoData[pseudoName] = { [styleName]: value }
        }
      }
    }

    if (Object.keys(pseudoData).length > 0) {
      processPseudoClass(this, 'data-pseudo-id', pseudoData)
    }
  }

  const processPseudoClass = (function() {
    const $header = document.getElementsByTagName('head')[0]
    const queue = []
    const stylesheetMap = new Map()
    let timer

    return function(component, idName, pseudoData) {
      queue.push({ component, idName, pseudoData })
      if (!timer) {
        let routeURI
        const _postcallback = routesStr => {
          try {
            let routes = JSON.parse(routesStr) || []
            const index = Math.max(routes.length - 1, 0)
            routeURI = routes[index].routeURI
          } catch (e) {
            console.log(e)
          }
        }
        const telegram = new Telegram()
        telegram.postMessage(
          {
            method: 'getItem',
            args: 'routes'
          },
          _postcallback
        )
        timer = setTimeout(() => {
          stylesheetMap.clear()
          $header.style.display = 'none'
          while (queue.length) {
            const { component, idName, pseudoData } = queue.shift()
            _processPseudoClass(stylesheetMap, component, idName, pseudoData)
          }
          // 单条 style 标签只插入 document 一次
          stylesheetMap.forEach(stylesheet => {
            stylesheet.appendChild(document.createTextNode(stylesheet._innerHTML))
            $header.appendChild(stylesheet)
            global._pageCache[routeURI].headElm.push(stylesheet)
          })
          $header.style.display = ''
          timer = null
        }, 0)
      }
    }
  })()

  // 该函数属于 processPseudoClass 内部调用函数，太大故不放置于内部
  // modify styles of pseudo class.
  function _processPseudoClass(stylesheetMap, component, idName, pseudoData) {
    let pseudoId = component.node.getAttribute('data-pseudo-id')

    function getCssText(selector, rulesObj) {
      // TODO: must process vendors if needed.
      // !important is needed since the style rules is inline for most components.
      let borderStyle = false
      let borderWidth = false
      let rulesText = Object.keys(rulesObj)
        .map(key => {
          borderWidth = /^border(\S*)Width/.test(key) ? true : borderWidth
          borderStyle = /^border(\S*)Style/.test(key) ? true : borderStyle
          return `${camelToKebab(key)}:${rulesObj[key]}!important;`
        })
        .join('')
      if (borderWidth && !borderStyle) {
        // for 风行视频
        rulesText += `border-style:solid!important;`
      }
      return `${selector}{${rulesText}}`
    }

    if (!pseudoId) {
      const styleSheetId = `hap-stysheet-pseudo-id-${component.data.instanceId}`
      let stylesheet = stylesheetMap.get(styleSheetId) || document.getElementById(styleSheetId)
      if (!stylesheet) {
        stylesheet = document.createElement('style')
        stylesheet.id = styleSheetId
        stylesheet.type = 'text/css'
        stylesheet._innerHTML = ''
      }
      pseudoId = getPseudoId()
      component.node.setAttribute('data-pseudo-id', pseudoId)
      const cssText = Object.keys(pseudoData)
        .map(pseudo => {
          const rules = pseudoData[pseudo]
          let pseudoRules = getCssText(`[data-pseudo-id="${pseudoId}"]${pseudo}`, rules)
          // add test 兼容tab-bar :active
          if (/:|::(active|disabled)/.test(pseudo)) {
            pseudoRules = getCssText(
              `
[data-pseudo-id="${pseudoId}"]${pseudo}, 
${pseudo.replace(/:|::/g, '.hap-')}[data-pseudo-id="${pseudoId}"], 
${pseudo.replace(/:|::/g, '.hap-')} [data-pseudo-id="${pseudoId}"]`,
              rules
            )
          }
          return pseudoRules
        })
        .join('')
      // 缓存内容，统一插入
      stylesheet._innerHTML += cssText
      // 把生成的 style 标签存起来，不要每次都去访问，且不要重复插入 document
      stylesheetMap.set(stylesheet.id, stylesheet)
      return
    }

    const styleSheets = Array.prototype.slice
      .call(document.styleSheets || [])
      .filter(style => style.ownerNode.getAttribute('data-pseudo-id') === pseudoId)
    if (!styleSheets || styleSheets.length <= 0) {
      return
    }
    const styleSheet = styleSheets[0]
    const rules = styleSheet.cssRules || styleSheet.rules
    Object.keys(pseudoData).forEach(pseudo => {
      const data = pseudoData[pseudo]
      const selector = `[data-pseudo-id="${pseudoId}"]${pseudo}`
      const res = Array.prototype.slice.call(rules).reduce(
        (res, rule, idx) => {
          rule.selectorText === selector && (res.idx = idx)
          return res
        },
        { idx: -1 }
      )
      const { idx } = res
      if (idx !== -1) {
        const pseudoRule = rules[idx]
        const match = pseudoRule.cssText.match(/^[^{]+\{([^}]+)\}/)
        if (match && match[1]) {
          const rulesData = match[1].split(';').reduce((res, str) => {
            const match = str.match(/(\S+)\s*:\s*(\S+)/)
            if (match && match[1] && match[2]) {
              res[match[1]] = match[2]
            }
            return res
          }, {})
          $extend(rulesData, data)
          Object.keys(rulesData).forEach(rule => {
            if (!rulesData[rule]) {
              delete rulesData[rule]
            }
          })
          styleSheet.deleteRule(idx)
          styleSheet.insertRule(getCssText(selector, rulesData), rules.length - 1)
        }
      } else {
        styleSheet.insertRule(getCssText(selector, data), rules.length)
      }
    })
  }

  function bindEvents$2(evts) {
    const self = this
    const hapInstance = this.getHapInstance()
    let titlebarHeight = global.Env.titleBarHeight
    evts.map(function(evt) {
      if (evt === 'click' || evt === 'longpress' || evt === 'swipe' || evt.indexOf('touch') > -1) {
        self.node.style.pointerEvents = 'auto'
      }
      const sender = hapInstance.sender
      if (evt !== 'resize') {
        const func = self.event[evt] || {}
        const setter = func.setter
        if (global._willDispatchRoute) {
          // 用于 sitemap 检测工具
          self.node.setAttribute('data-mode', 'spider')
        }
        if (setter) {
          self.node.addEventListener(evt, setter)
          return
        }
        const listener = function(e) {
          // do stop bubbling.
          // do not prevent default, otherwise the touchstart
          // event will no longer trigger a click event
          if (e._alreadyTriggered) {
            return
          }
          e._alreadyTriggered = true
          const event = $extend({}, e) // 这里无法把e的属性拷贝到event
          event._target = self.data
          // 支持touch事件
          // 由于framework/src/infras/runtime/dom/nodes/event/touch.js touches被做为touchEvent类的属性，导致无法直接用object.assign来拷贝touches，但可以拷贝赋值给_touches来解决

          // 1050
          let vertex = { left: 0, right: 0 }
          if (e instanceof MouseEvent) {
            // add global.HapEnvironment.previewRatio for online editor
            const tempTouches = []
            const temptouch = {
              clientX: e.clientX / global.HapEnvironment.previewRatio,
              clientY: (e.clientY - titlebarHeight) / global.HapEnvironment.previewRatio,
              pageX: e.pageX,
              pageY: e.pageY - titlebarHeight,
              offsetX: e.offsetX / global.HapEnvironment.previewRatio,
              offsetY: e.offsetY / global.HapEnvironment.previewRatio
            }
            Object.assign(event, temptouch)
            //add test for native, click 事件也有 changedTouches，touches
            tempTouches.push(temptouch)
            event.touches = tempTouches
            event.changedTouches = tempTouches
          }
          // hack for touchevent offsetX,offsetY ignore any transformations
          if (e.touches && e.touches.length > 0) {
            vertex = getVertexPosition(e.currentTarget)
            const tempTouches = []
            Array.prototype.forEach.call(e.touches, (touch, index) => {
              const temptouch = {
                identifier: touch.identifier,
                clientX: touch.clientX / global.HapEnvironment.previewRatio,
                clientY: (touch.clientY - titlebarHeight) / global.HapEnvironment.previewRatio,
                pageX: touch.pageX,
                pageY: touch.pageY - titlebarHeight,
                offsetX: (touch.pageX - vertex.left) / global.HapEnvironment.previewRatio,
                offsetY: (touch.pageY - vertex.top) / global.HapEnvironment.previewRatio
              }
              tempTouches.push(temptouch)
            })
            event._touches = tempTouches
          }
          if (e.changedTouches && e.changedTouches.length > 0) {
            const tempTouches = []
            Array.prototype.forEach.call(e.changedTouches, touch => {
              const temptouch = {
                identifier: touch.identifier,
                clientX: touch.clientX / global.HapEnvironment.previewRatio,
                clientY: (touch.clientY - titlebarHeight) / global.HapEnvironment.previewRatio,
                pageX: touch.pageX,
                pageY: touch.pageY - titlebarHeight,
                offsetX: (touch.pageX - vertex.left) / global.HapEnvironment.previewRatio,
                offsetY: (touch.pageY - vertex.top) / global.HapEnvironment.previewRatio
              }
              tempTouches.push(temptouch)
            })
            event._changedTouches = tempTouches
          }
          sender.fireEvent(
            self.data.ref,
            evt,
            {
              extra: func.extra && func.extra.bind(self),
              updator: func.updator && func.updator.bind(self)
            },
            event
          )
        }
        // passive：fix [Violation] Added non-passive event listener to a scroll-blocking 'mousewheel' event. Consider marking event handler as 'passive' to make the page more responsive.
        self.node.addEventListener(evt, listener, { capture: false, passive: true })
        let listeners = self._listeners
        if (!listeners) {
          listeners = self._listeners = {}
          self.node._listeners = {}
        }
        listeners[evt] = listener
        self.node._listeners[evt] = listener
      } else {
        const event = { _target: self.data }
        const resizeObserver = new ResizeObserver(entries => {
          const target = entries[0].target
          Object.assign(event, {
            offsetWidth: target.offsetWidth,
            offsetHeight: target.offsetHeight,
            offsetLeft: target.offsetLeft,
            offsetTop: target.offsetTop
          })
          sender.fireEvent(self.data.ref, evt, {}, event)
        })
        resizeObserver.observe(self.node)
        let observers = self._observers
        if (!observers) {
          observers = self._observers = {}
          self.node._observers = {}
        }
        observers[evt] = resizeObserver
        self.node._observers[evt] = resizeObserver
      }
    })
  }

  function unbindEvents(evts) {
    const self = this
    evts.map(function(evt) {
      const listener = this._listeners
      const observer = this._observers
      if (listener && self._listeners[evt]) {
        self.node.removeEventListener(evt, listener)
        self._listeners[evt] = null
        self.node._listeners[evt] = null
      }
      if (observer && self._observers[evt]) {
        self._observers[evt].unobserve(self.node)
        self._observers[evt] = null
        self.node._observers[evt] = null
      }
    })
  }

  function toTempFilePath() {
    unsupportPrompt(this.data.type, 'toTempFilePath()')
  }

  function getBoundingClientRect(callback, performCallback) {
    const rect = this.node.getBoundingClientRect()
    if (rect && callback.success) {
      console.warn(
        `### Web Render ### ${JSON.stringify(this.data.type)} => getBoundingClientRect()
==可能返回模拟数据，请使用真机调试体验完整功能==`
      )
      performCallback && performCallback(callback.success, [rect])
    } else if (callback.fail) {
      performCallback && performCallback(callback.fail, [])
    } else {
      console.warn(
        `### Web Render ### ${JSON.stringify(
          this.data.type
        )} => getBoundingClientRect() == 回调函数传入有误，请检查！==`
      )
    }
  }

  function unsupportPrompt(componentName, componentAttr) {
    console.warn(
      `### Web Render ### ${JSON.stringify(componentName)} => ${JSON.stringify(componentAttr)}
==暂时不支持该接口,请使用真机调试体验完整功能==`
    )
  }

  var operate = {
    __proto__: null,
    create: create,
    createChildren: createChildren,
    appendChild: appendChild,
    insertBefore: insertBefore,
    removeChild: removeChild,
    updateProp: updateProp,
    delAttrs: delAttrs,
    updateAttrs: updateAttrs,
    updateStyle: updateStyle,
    bindEvents: bindEvents$2,
    unbindEvents: unbindEvents,
    toTempFilePath: toTempFilePath,
    getBoundingClientRect: getBoundingClientRect,
    unsupportPrompt: unsupportPrompt
  }

  /* global HTMLElement */

  const ua = navigator.userAgent
  const isFirefox = !!ua.match(/Firefox/i)
  const isIEMobile = !!ua.match(/IEMobile/i)
  const cssPrefix = isFirefox ? '-moz-' : isIEMobile ? '-ms-' : '-webkit-'
  const stylePrefix = isFirefox ? 'Moz' : isIEMobile ? 'ms' : 'webkit'

  // even sticky, still not work. so...
  // const supportSticky = detectSticky()

  function bindParent(sticky) {
    if (!(sticky instanceof Sticky)) {
      return
    }
    const scroller = sticky.component.getParentScroller()
    let pt
    if (scroller) {
      pt = sticky.parent = scroller
      sticky.parentElement = pt.node
    } else {
      pt = sticky.parent = sticky.component.getRootContainer()
      sticky.parentElement = pt
    }
  }

  function setSticky(sticky) {
    const comp = sticky.component
    const element = sticky.element
    comp.stickyPlaceholder = sticky.element.cloneNode(true)
    comp.stickyPlaceholder.removeAttribute('data-ref')
    comp.stickyPlaceholder.classList.add('hap-sticky-placeholder')
    element.classList.add('hap-sticky')
    sticky.preMarginTop = element.style.marginTop
    sticky.preTop = element.style.top
    element.style.marginTop = sticky.top || '0' + 'px'

    element.parentNode.insertBefore(comp.stickyPlaceholder, element)
    element.style.position = 'fixed'
    let top
    if (sticky.parent instanceof HTMLElement) {
      top = 0
    } else {
      top = sticky.parentElement.getBoundingClientRect().top
    }
    element.style.top = top + 'px'
    sticky.parentElement.appendChild(element)
  }

  /**
   * unsetSticky
   * @param  {Sticky} sticky : a sticky instance.
   * @param  {string} position : position replacing with (default: 'relative').
   */
  function unsetSticky(sticky, position) {
    const comp = sticky.component
    const element = sticky.element
    position = position ? position + '' : sticky.prePosition
    element.style.position = position
    element.style.marginTop = sticky.preMarginTop || ''
    element.style.top = sticky.preTop || ''
    element.classList.remove('hap-sticky')
    if (comp.stickyPlaceholder) {
      const parent = comp.stickyPlaceholder.parentNode
      parent.insertBefore(element, comp.stickyPlaceholder)
      parent.removeChild(comp.stickyPlaceholder)
      comp.stickyPlaceholder = null
    }
  }

  /**
   * @class  Sticky
   * @param {Component} component: a hap component.
   * @param {object} options config options.
   *  - options.component (optional) incase the component param is missing, it can
   *    be specified in this options.
   *  - options.withinParent=false（optional，only for Android）the sticky effect is
   *    limited within the parent element only.
   */
  function Sticky(component, options) {
    options = options || {}
    this.component = component
    this.element = component.node
    this.prePosition = this.element.style.position
    this.withinParent = options.withinParent || false
    this.parent = null
    this.init()
  }

  Sticky.prototype = {
    constructor: Sticky,

    init() {
      const elementStyle = this.element.style
      elementStyle[stylePrefix + 'Transform'] = 'translateZ(0)' // fix flickering
      elementStyle.transform = 'translateZ(0)'
      bindParent(this)
      // if (supportSticky) {
      //   elementStyle.position = cssPrefix + 'sticky'
      // }
      this._simulateSticky()
      this._bindResize()
    },

    _bindResize() {
      const self = this
      const isAndroid = /android/gi.test(navigator.appVersion)
      const resizeEvent = (self._resizeEvent =
        'onorientationchange' in window ? 'orientationchange' : 'resize')
      const resizeHandler = (self._resizeHandler = function() {
        setTimeout(
          function() {
            self.refresh()
          },
          isAndroid ? 200 : 0
        )
      })
      window.addEventListener(resizeEvent, resizeHandler, false)
    },

    /**
     * Refresh a instance.
     * If withParent is true and the parent' height altered, this
     * method should be called.
     */
    refresh() {
      // if (supportSticky) {
      //   return
      // }
      this._detach()
      this._simulateSticky()
    },

    _simulateSticky() {
      const self = this
      const isInScrollable = this.isInScrollable()
      // the initial y offset.
      this.offset = (isInScrollable ? this.getParentScroller().offset : window.pageYOffset) || 0
      const rectTop = this.element.getBoundingClientRect().top
      let wrapperTop = 0
      if (isInScrollable) {
        wrapperTop = this.parentElement.getBoundingClientRect().top
      }
      const withinParent = this.withinParent
      const thresholdBase = rectTop - wrapperTop + this.offset
      /**
       * curState:
       *   1 - normal
       *   2 - sticky
       *   3 - exceed parent
       * @type {Number}
       */
      this.curState = 1
      const scrollHandler = (this._scrollHandler = throttle(function(e) {
        const thresholdTop = thresholdBase
        const ypos = self.isInScrollable() ? e.offset : window.pageYOffset
        self.offset = ypos
        if (ypos < thresholdTop) {
          if (self.curState !== 1) {
            unsetSticky(self)
            self.curState = 1
          }
        } else if (
          (!withinParent && ypos >= thresholdTop) ||
          (withinParent && ypos >= thresholdTop) /* && ypos < thresholdBottom */
        ) {
          if (self.curState !== 2) {
            setSticky(self)
            self.curState = 2
          }
        }
      }, 100))
      window.addEventListener('scroll', scrollHandler, false)

      // take effect once inited after a destroyment.
      if (this.offset >= thresholdBase) {
        const dummyEvent = document.createEvent('HTMLEvents')
        dummyEvent.initEvent('scroll', true, true)
        window.dispatchEvent(dummyEvent)
      }
    },

    _detach(position) {
      // if (supportSticky) {
      //   return
      // }
      if (this.curState === 2) {
        unsetSticky(this)
      }
      window.removeEventListener('scroll', this._scrollHandler, false)
    },

    isInScrollable() {
      if (!this._isInScrollable) {
        try {
          this._isInScrollable = this.component.isInScrollable()
        } catch (err) {
          // The parentRef is not in componentManager's componentMap yet, so
          // it's invalid to get the parent and test if it's scrollable.
          // This is most likely to happen in the case that the parent
          // component's 'append' attribute is set to 'tree'.
          console.error('isInScrollable is not yet available to call', err)
        }
      }
      return this._isInScrollable
    },

    getParentScroller() {
      return this.component.getParentScroller()
    },

    destroy(position) {
      this._detach(position)
      const elementStyle = this.element.style
      elementStyle.removeProperty(cssPrefix + 'transform')
      elementStyle.removeProperty('transform')
      // if (supportSticky) {
      //   return
      // }
      window.removeEventListener(this._resizeEvent, this._resizeHandler, false)
    }
  }

  const availablePosition = ['relative', 'absolute', 'fixed']
  function setParentZIndex(pNode, zindex) {
    if (pNode === null || pNode.localName === 'root') {
      return
    }
    // add test for 微博
    if (availablePosition.indexOf(pNode.style.positon) > -1) {
      pNode.style.zIndex = zindex
    }
    setParentZIndex(pNode.parentNode, zindex)
  }

  // Set positon to fixed, with a placeholder if it's in a
  // scrollable component.
  function setFixed() {
    this.node.style.position = 'fixed'
    this.node.style.zIndex = '1'

    this._setProps(this.data, {
      _isInFixed: true
    })

    this.node.style.pointerEvents = 'auto'
    const tilebar = this.getComponentManager().tilebar
    // for samples/functionality/menutop & autohome/PageCarPicSeriesDetail
    const originHeight = this.data.style && this.data.style.height
    const originWidth = this.data.style && this.data.style.width
    const originRight = this.data.style && this.data.style.right
    const originLeft = this.data.style && this.data.style.left
    // for 中文书城/hello
    const hasFlex = this.data.style && this.data.style.flex
    if (!originWidth && ((!originRight && !originLeft && this.data.type !== 'image') || hasFlex)) {
      this.node.style.width = '-webkit-fill-available'
    }
    // for 铁行 搜索页loading弹窗
    if (!originHeight && hasFlex) {
      const pHeight = window.getComputedStyle(this.getParent(this.data._parentRef).node).height
      // add test for apex-ui/dialog
      if (pHeight !== '0px') {
        this.node.style.height = pHeight
        this._setFixedHeight = true
      }
    }
    let parent = this.getParent(this.data._parentRef)
    if (parent) {
      parent = parent.node
    }
    // 解决由于父层.hap-div z-index=0 影响, fixed 设置很大值也无法覆盖在最上层的问题
    // iot/6e23250930047c764c2e6e5fa07644be 点击保存时的loading弹窗被遮挡
    // add test for 驴妈妈旅游
    const zIndex = this.data.style && this.data.style.zIndex
    if (zIndex && zIndex > 0) {
      setParentZIndex(parent, zIndex)
    }

    // add test for 适配汽车之家桌面保存图标引导页（清除localStorage即可展示），没有顶部对齐的问题; 快递100小助手;万能计时器; 晋业快收银
    // add test for 淘券宝
    const data = this.data
    if (data.style) {
      if (!(data.style.top || data.style.bottom)) {
        let top = 0
        if (!this._getProps('_isInTransform')) {
          top = global.Env.titleBarHeight + global.Env.statusBarHeight + 'px'
        }
        this.node.style.top = top
      }
      if (!(this.data.style.left || this.data.style.right)) {
        //  add test for 挂号通
        this.node.style.left = 0
      }
    }
    if (!this.isInScrollable()) {
      return
    }
    if (parent) {
      // For the elements who are fixed: this fixedPlaceholder
      // shoud be inserted, and the fixed element itself should
      // be moved to the root container.
      this.fixedPlaceholder = document.createElement('div')
      this.fixedPlaceholder.classList.add('hap-fixed-placeholder')
      this.fixedPlaceholder.style.cssText = ['display:none;', 'width:0px;', 'height:0px;'].join('')
      // add test for 土巴兔装修问答
      setTimeout(() => {
        parent.insertBefore(this.fixedPlaceholder, this.node)
        this.getRootContainer().appendChild(this.node)
        if (this._getProps('_isInTransform')) {
          this.node.style.top = `calc(${this.node.style.top} + ${global.Env.titleBarHeight +
            global.Env.statusBarHeight}px)`
        }
      }, 0)
    }
  }

  // unset a fixed node to the pecified 'position' or 'relative' by default.
  function unsetFixed(position) {
    // For the elements who are fixed elements before, now
    // are not fixed: the fixedPlaceholder has to be replaced
    // by this element.
    position = position ? position + '' : 'relative'
    if (this.fixedPlaceholder) {
      const parent = this.fixedPlaceholder.parentNode
      parent.insertBefore(this.node, this.fixedPlaceholder)
      parent.removeChild(this.fixedPlaceholder)
      this.fixedPlaceholder = null
      this.node.style.position = position
    }
    if (this._setFixedHeight) {
      this.node.style.height = (this.data.style && this.data.style.height) || ''
      this._setFixedHeight = false
    }
  }

  function setSticky$1() {
    this.node.style.zIndex = 100
    setTimeout(
      function() {
        this.sticky = new Sticky(this)
      }.bind(this),
      0
    )
  }

  function unsetSticky$1() {
    if (this.sticky) {
      this.sticky.destroy()
      this.sticky = null
    }
  }

  // usally used to unset sticky and fixed
  function unsetPosition(position) {
    this.style.position.call(this, position)
  }

  function setAbsolute() {
    const parent = this.getParent(this.data._parentRef)
    if (!(parent && parent.data && parent.data.style && parent.data.style.position)) {
      parent.node.style.position = 'relative'
    }
    this.node.style.position = 'absolute'
  }

  // add test 先挪到component/index.js
  // export const style = {
  //   position (value) {
  //     // This is a peace of hacking to fix the problem about
  //     // mixing fixed and transform. See 'http://stackoverflo
  //     // w.com/questions/15194313/webkit-css-transform3d-posi
  //     // tion-fixed-issue' for more info.
  //     value !== 'fixed' && this.unsetFixed()
  //     value !== 'sticky' && this.unsetSticky()
  //     if (value === 'fixed') {
  //       return this.setFixed()
  //     }
  //     if (value === 'sticky') {
  //       return this.setSticky()
  //     }
  //     this.node.style.position = value
  //   }
  // }

  var position = {
    __proto__: null,
    setFixed: setFixed,
    unsetFixed: unsetFixed,
    setSticky: setSticky$1,
    unsetSticky: unsetSticky$1,
    unsetPosition: unsetPosition,
    setAbsolute: setAbsolute
  }

  const boxAlignMap = {
    stretch: 'stretch',
    'flex-start': 'start',
    'flex-end': 'end',
    center: 'center'
  }

  const boxOrientMap = {
    row: 'horizontal',
    column: 'vertical'
  }

  const boxPackMap = {
    'flex-start': 'start',
    'flex-end': 'end',
    center: 'center',
    'space-between': 'justify',
    'space-around': 'justify' // Just same as `space-between`
  }

  var flexbox = {
    style: {
      flex(value) {
        // add test for 八字测算
        if (value === 0 || value === '0') {
          value = '0 1 auto'
        }
        this.node.style.webkitBoxFlex = value
        this.node.style.webkitFlex = value
        this.node.style.flex = value
      },

      alignItems(value) {
        this.node.style.webkitBoxAlign = boxAlignMap[value]
        this.node.style.webkitAlignItems = value
        this.node.style.alignItems = value
      },

      alignContent(value) {
        this.node.style.alignContent = value
        if (!this.data.style || !this.data.style.alignItems) {
          this.node.style.webkitAlignItems = value
          this.node.style.alignItems = value
        }
      },

      alignSelf(value) {
        this.node.style.webkitAlignSelf = value
        this.node.style.alignSelf = value
      },

      flexDirection(value) {
        this.node.style.webkitBoxOrient = boxOrientMap[value]
        this.node.style.webkitFlexDirection = value
        this.node.style.flexDirection = value
      },

      justifyContent(value) {
        this.node.style.webkitBoxPack = boxPackMap[value]
        this.node.style.webkitJustifyContent = value
        this.node.style.justifyContent = value
        // add test for 氧气听书, 澎湃新闻
        if (value === 'space-between' && this.data.style && !this.data.style.width) {
          setTimeout(() => {
            const parent = this.getParent()
            // add test for com.demo.news.quickapp, 随手记, 微博动漫
            if (parent && parent.data) {
              const parentStyle = parent.data.style
              if (
                !parentStyle ||
                (parentStyle.flexDirection === 'column' && parentStyle.alignItems !== 'center')
              ) {
                this.node.style.width = '-webkit-fill-available'
              }
            }
          }, 0)
        }
      }
    }
  }

  /* eslint-disable */
  /* eslint-enable */

  /* global lib, HTMLElement */

  // 暂时不用
  // import 'lazyimg'
  global.lib = {
    img: {
      defaultSrc:
        // 'data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==',
        'data:image/gif;base64,R0lGODlhAwADAPAAAP///wAAACH5BAAAAAAALAAAAAADAAMAAAIDhH8FACH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDAgNzkuMTYwNDUxLCAyMDE3LzA1LzA2LTAxOjA4OjIxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+Af/+/fz7+vn49/b19PPy8fDv7u3s6+rp6Ofm5eTj4uHg397d3Nva2djX1tXU09LR0M/OzczLysnIx8bFxMPCwcC/vr28u7q5uLe2tbSzsrGwr66trKuqqainpqWko6KhoJ+enZybmpmYl5aVlJOSkZCPjo2Mi4qJiIeGhYSDgoGAf359fHt6eXh3dnV0c3JxcG9ubWxramloZ2ZlZGNiYWBfXl1cW1pZWFdWVVRTUlFQT05NTEtKSUhHRkVEQ0JBQD8+PTw7Ojk4NzY1NDMyMTAvLi0sKyopKCcmJSQjIiEgHx4dHBsaGRgXFhUUExIREA8ODQwLCgkIBwYFBAMCAQAAOw==',
      fire() {
        console.debug('lazyimg fire')
      }
    }
  }

  let lazyloadTimer

  // fire lazyimg on images.
  function fire() {
    setTimeout(() => lib.img.fire(), 0)
  }

  // we don't know when all images are appended
  // just use setTimeout to do delay lazyload
  //
  // -- actually everytime we add a element or update styles,
  // the component manager will call startIfNeed to fire
  // lazyload once again in the handleAppend function. so there
  // is no way that any image element can miss it. See source
  // code in componentMangager.js.

  // just for the image component to start lazyload.
  function startIfNeeded(target) {
    if (!lazyloadTimer) {
      lazyloadTimer = setTimeout(function() {
        fire()
        clearTimeout(lazyloadTimer)
        lazyloadTimer = null
      }, 16)
    }
  }

  // for a scope of element, not for a image.
  function loadIfNeeded(elementScope) {
    const notPreProcessed = elementScope.querySelectorAll('[img-src]')
    // image elements which have attribute 'i-lazy-src' were elements
    // that had been preprocessed by lib-img-core, but not loaded yet, and
    // must be loaded when 'appear' events were fired. It turns out the
    // 'appear' event was not fired correctly in the css-translate-transition
    // situation, so 'i-lazy-src' must be checked and lazyload must be
    // fired manually.
    const preProcessed = elementScope.querySelectorAll('[i-lazy-src]')
    if (notPreProcessed.length > 0 || preProcessed.length > 0) {
      fire()
    }
  }

  function makeImageLazy(image, src) {
    image.removeAttribute('img-src')
    image.removeAttribute('i-lazy-src')
    image.removeAttribute('src')
    image.setAttribute('img-src', src)
    fire()
  }

  function fireLazyload(target) {
    if (typeof target === 'object' && !(target instanceof HTMLElement)) {
      target = target.node
    }
    if (!target) {
      return
    }
    if (target.tagName.toLowerCase() === 'image') {
      return startIfNeeded()
    }
    return loadIfNeeded(target)
  }

  let bodyClientWidth = 0

  // 兼容native渲染规则(https://github.com/facebook/yoga)
  function fixWidth(comp) {
    // 若父节点没有确切宽度,则继续向上递归直至找到有确切宽度的容器,以其宽度为基准取百分比
    const parent = comp.getParent()
    if (!needFixWidth(comp)) {
      return
    }
    parent._fixWidth = true
    parent.node.style.width =
      parent.data.ref === parent.getComponentManager().rootRef ? '100%' : '-webkit-fill-available'
    // 如果这里设置了宽度，则无需再另外调整stack宽度
    delete parent._needSetWidth

    bodyClientWidth = bodyClientWidth || document.body.clientWidth
    if (parent.node.clientWidth >= bodyClientWidth) {
      return
    }
    fixWidth(parent)
  }

  function resetWidth(comp) {
    const parent = comp.getParent()
    if (!parent || !parent._fixWidth) {
      return
    }
    const children = (parent.data && parent.data.children) || []
    if (children.length > 1) {
      for (let i = 0; i < children.length; i++) {
        if (children[i] !== comp.data) {
          const childHidden = isHidden(children[i])
          if (!childHidden) {
            return
          }
        }
      }
    }
    parent.node.style.width = (parent.data.style && parent.data.style.width) || ''
    resetWidth(parent)
  }

  function needFixWidth(comp) {
    const parent = comp.getParent()
    if (!parent || comp.isRoot()) {
      return false
    }
    const parentStyle = parent.data.style
    const parentWidth = parentStyle && parentStyle.width
    // add test for 理财收益计算器
    const leftandright = parentStyle && parentStyle.left && parentStyle.right
    const compHidden = isHidden(comp)
    // add test for 挂号通
    const isFixed = comp.data.style && comp.data.style.position === 'fixed'
    bodyClientWidth = bodyClientWidth || document.body.clientWidth
    if (
      compHidden ||
      isInWhiteList(parent) ||
      (parentWidth && parentWidth !== '100%') ||
      leftandright ||
      isFixed ||
      parseInt(parentWidth) >= bodyClientWidth
    ) {
      return false
    }
    return true
  }

  function isInWhiteList(comp) {
    // list-item for for 慢慢买 tab3
    if (
      comp.data &&
      ((comp.data.type === 'stack' && comp._getProps('_listDirection') === 'row') ||
        comp.data.type === 'list-item')
    ) {
      return true
    }
    return false
  }

  function needResetWidth(comp) {
    return (comp._needFixWidth || comp._fixWidth) && isHidden(comp)
  }

  function fixStackSize(stack, wrap) {
    const stackParent = stack.getParent()
    if (
      stackParent &&
      stackParent.data.type === 'list-item' &&
      stack._getProps('_listDirection') !== 'row'
    ) {
      // com.VIP.VIPQuickAPP/pages/index
      stack._needSetWidth = false
    }
    stack._needSetHeight && stack._resizeHeight(wrap)
    stack._needSetWidth && stack._resizeWidth(wrap)
  }

  function isHidden(comp) {
    if (comp.data) {
      return (
        (comp.data.style && comp.data.style.display === 'none') ||
        (comp.data.attr && comp.data.attr.show === false)
      )
    }
    return false
  }

  var yoga = {
    fixWidth,
    resetWidth,
    needFixWidth,
    needResetWidth,
    fixStackSize
  }

  /*
   * Licensed to the Apache Software Foundation (ASF) under one
   * or more contributor license agreements.  See the NOTICE file
   * distributed with this work for additional information
   * regarding copyright ownership.  The ASF licenses this file
   * to you under the Apache License, Version 2.0 (the
   * "License"); you may not use this file except in compliance
   * with the License.  You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   * KIND, either express or implied.  See the License for the
   * specific language governing permissions and limitations
   * under the License.
   */

  const appearEvts = ['appear', 'disappear']

  const linearMap = {
    linearGradient: 'linear-gradient',
    repeatingLinearGradient: 'repeating-linear-gradient'
  }

  let userSetRootHeight = false

  // 缓存 document.body.clientWidth，不要反复读取
  let bodyClientWidth$1 = 0

  let timer$1

  const setAvailableWidthSet = new Set()

  /**
   * check whether a event is valid to dispatch.
   * @param  {Component}      comp  the component that this event is to trigger on.
   * @param  {string}  type   the event type.
   * @return {Boolean}        is it valid to dispatch.
   */
  function isEventValid(comp, type) {
    // if a component has aleary triggered 'appear' event, then
    // the 'appear' even† can't be triggered again utill the
    // 'disappear' event triggered.
    if (appearEvts.indexOf(type) <= -1) {
      return true
    }
    if (comp._appear === undefined && type === 'disappear') {
      return false
    }
    let res
    if (comp._appear === undefined && type === 'appear') {
      res = true
    } else {
      res = type !== comp._appear
    }
    res && (comp._appear = type)
    return res
  }

  function Component(data, nodeType) {
    this.data = data
    this.node = this.create(nodeType)
    this.createChildren()
    this.updateAttrs(this.data.attr || {})
    // issue: when add element to a list in lifetime hook 'ready', the
    // styles is set to the classStyle, not style. This is a issue
    // that jsframework should do something about.
    const classStyle = this.data.classStyle
    classStyle && this.updateStyle(this.data.classStyle)
    this.updateStyle(this.data.style || {})
    this.bindEvents(this.data.event || [])
  }

  Component.prototype = {
    getComponentManager() {
      return ComponentManager.getInstance(this.data.instanceId)
    },

    getHapInstance() {
      return this.getComponentManager().getHapInstance()
    },

    getParent(ref) {
      const parentRef = ref || this.parentRef
      return this.getComponentManager().componentMap[parentRef]
    },

    getParentScroller() {
      if (this.isInScrollable()) {
        return this._parentScroller
      }
      return null
    },

    getRootScroller() {
      if (this.isInScrollable()) {
        let scroller = this._parentScroller
        let parent = scroller._parentScroller
        while (parent) {
          scroller = parent
          parent = scroller._parentScroller
        }
        return scroller
      }
      return null
    },

    getRootContainer() {
      const root = this.getHapInstance().getRoot() || document.body
      return root
    },

    isScrollable() {
      const t = this.data.type
      return ComponentManager.getScrollableTypes().indexOf(t) !== -1
    },

    isRoot() {
      return this.ref === this.getComponentManager().rootRef
    },

    isInScrollable() {
      if (typeof this._isInScrollable === 'boolean') {
        return this._isInScrollable
      }
      const parent = this.getParent(this.data._parentRef)
      if (parent && typeof parent._isInScrollable !== 'boolean' && !parent.isScrollable()) {
        if (parent.data.ref === '_root') {
          this._isInScrollable = false
          return false
        }
        this._isInScrollable = parent.isInScrollable()
        this._parentScroller = parent._parentScroller
        return this._isInScrollable
      }
      if (parent && typeof parent._isInScrollable === 'boolean') {
        this._isInScrollable = parent._isInScrollable
        this._parentScroller = parent._parentScroller
        return this._isInScrollable
      }
      if (parent && parent.isScrollable()) {
        this._isInScrollable = true
        this._parentScroller = parent
        return true
      }
    },

    // dispatch a specified event on this.node
    //  - type: event type
    //  - data: event data
    //  - config: event config object
    //     - bubbles
    //     - cancelable
    dispatchEvent(type, data, config) {
      if (!isEventValid(this, type)) {
        return
      }
      const event = document.createEvent('HTMLEvents')
      config = config || {}
      event.initEvent(type, config.bubbles || false, config.cancelable || false)
      !data && (data = {})
      event.data = $extend({}, data)
      $extend(event, data)
      this.node.dispatchEvent(event)
    },

    onAppend: function() {
      this._fixStyles()
      const evts = this.data.event
      if (!evts || !evts.length) {
        return
      }
      let flag = false
      for (let i = 0, l = evts.length; i < l; i++) {
        if (evts[i] === 'appear') {
          flag = true
          break
        }
      }
      if (!flag) {
        return
      }
      // trigger 'appear' event in the next tick.
      setTimeout(() => {
        if (isComponentAppear(this)) {
          this.dispatchEvent('appear', { direction: '' })
        }
      }, 0)
    },

    onRemove: function() {
      const parent = this.getParent()
      if (parent && parent._fixWidth && parent.data.children.length === 1) {
        // 对应onappend的_fixStyles
        parent.node.style.width = (parent.data.style && parent.data.style.width) || ''
      }
    },

    removeChildHandler() {
      !userSetRootHeight && this._resetRootHeight()
      // 删除孩子后重新计算祖先宽高
      const stack = this._getProps('stack')
      if (stack && stack._needSetHeight) {
        stack.maxHeight = 0
        stack.node.style.height = ''
      }
      this._fixStyles()
    },

    addAppendHandler(cb) {
      let pre
      if (this.onAppend) {
        pre = this.onAppend.bind(this)
      }
      this.onAppend = function() {
        pre && pre.call(this)
        cb && cb.call(this)
      }.bind(this)
    },

    // change src to img-src for lib.img to fire lazyload later.
    enableLazyload(src) {
      if (this.node) {
        makeImageLazy(this.node, src)
      } else {
        console.error('### Web Render ###  this.node does not exist.')
      }
    },

    // target can be both hap component and dom element.
    fireLazyload(target) {
      !target && (target = this)
      fireLazyload(target)
    },

    _fixStyles() {
      // 有些样式必须append之后才能计算，统一在此处理
      this._setAvailableWidth()
      // 如果没有孩子,则无需修正宽度,但对于text/a等组件,即使没有孩子也需调整祖先宽度
      // car_template/pages/Main & apex-ui/pages/home
      if (this._needFixWidth || this._fixWidth) {
        // 如果节点的show属性(或display样式)做了切换，需要重新恢复其祖先节点修正过的宽度
        // 唯品会极速版/pages/index & com.foodDelivery.template/pages/ShopsListPage
        if (yoga.needResetWidth(this)) {
          yoga.resetWidth(this)
        }
        if (yoga.needFixWidth(this)) {
          yoga.fixWidth(this)
        } else {
          delete this._needFixWidth
        }
      }
      // 如果节点位于stack内，则重新计算stack宽高
      const props = this.data.props

      if (props && props._isInStack && props.stackwrap) {
        // console.log(`stack resize:${props.stack.data.ref},${this.data.ref},${props.stackwrap.clientHeight}`)
        if (this.data.style && this.data.style.position === 'fixed') {
          this._setProps(this.data, {
            _isInStack: false
          })
        } else {
          // stack：所属的 stack 实例，stackwrap：外层的 hap-stack-wrap dom
          yoga.fixStackSize(props.stack, props.stackwrap)
        }
      }
    },

    _resetRootHeight() {
      if (this.data.type === 'div' || this.data.type === 'stack' || this.data.type === 'list') {
        // 如果整个页面没有list组件，则恢复root-container样式
        let resetRootHeight = true
        const listArr = document.querySelectorAll('list')
        const componentManager = this.getComponentManager()
        for (let i = 0; i < listArr.length; i++) {
          const item = listArr[i]
          if (
            item.clientHeight > 0 &&
            item.getAttribute('direction') !== 'row' &&
            !(item.style.height && item.style.height.indexOf('px') > 0)
          ) {
            resetRootHeight = false
            const ref = item.getAttribute('ref')
            if (ref) {
              const comp = componentManager.getComponent(ref)
              comp && comp.refresh && comp.refresh()
            }
            break
          }
        }

        if (resetRootHeight) {
          const rootComp = componentManager.getComponent(componentManager.rootRef)
          rootComp.node.style.height =
            (rootComp.data.style && rootComp.data.style.height) ||
            (rootComp.node.style.height === 'inherit' ? 'inherit' : '')
          rootComp.node.style.overflow = ''
        }
      }
    },

    _setProps(data, props) {
      if (props) {
        if (data.props) {
          // 新建引用，避免赋值后影响父节点props中对象的指向
          const tmp = {}
          Object.assign(tmp, data.props, props)
          data.props = tmp
        } else {
          data.props = props
        }
      }
    },

    _getProps(props) {
      if (props && this.data && this.data.props) {
        return this.data.props[props]
      }
      return undefined
    },

    _setAvailableWidth() {
      // NOTE：尝试缓存，单个组件不要重复设置，注意测试影响
      if (!timer$1) {
        timer$1 = setTimeout(() => {
          setAvailableWidthSet.clear()
          timer$1 = null
        }, 0)
      }
      if (setAvailableWidthSet.has(this)) {
        return
      }
      // 设置可用宽高
      const style = this.data.style
      let availableWidth = this.node.clientWidth
      if (style && style.width) {
        if (style.width.indexOf('px') > -1) {
          availableWidth = parseInt(style.width)
        } else if (style.width.indexOf('%') > -1) {
          const rate = parseFloat(parseInt(style.width.replace('%', '')) / 100)
          if (this._getProps('availableWidth') > 0) {
            availableWidth = parseInt(this._getProps('availableWidth') * rate)
          } else if (this.getParent()) {
            availableWidth = parseInt(this.getParent().node.clientWidth * rate)
          }
        }
      } else if (!this._getProps('availableWidth')) {
        bodyClientWidth$1 = bodyClientWidth$1 || document.body.clientWidth
        availableWidth = bodyClientWidth$1
      }

      if (style && style.paddingLeft && style.paddingLeft.indexOf('px') > -1) {
        availableWidth -= parseInt(style.paddingLeft)
      }
      if (style && style.paddingRight && style.paddingRight.indexOf('px') > -1) {
        availableWidth -= parseInt(style.paddingRight)
      }

      if (availableWidth > 0) {
        this._setProps(this.data, {
          availableWidth: availableWidth
        })
      }
      setAvailableWidthSet.add(this)
    },
    _setBodyHeight() {
      //add test for apex-ui-docs/sticky/, 平安服务， 屈臣氏商城 https://stackoverflow.com/questions/8468066/child-inside-parent-with-min-height-100-not-inheriting-height
      const componentManager = this.getComponentManager()
      const rootComp = componentManager.getComponent(componentManager.rootRef)
      // add test for 极客修 , 社保助手
      if (
        rootComp.data.type !== 'tabs' &&
        (!rootComp.data.style || (rootComp.data.style && rootComp.data.style.flex == 1))
      ) {
        rootComp.node.style.height = 'inherit'
      }
    },

    attr: {
      show: function(val) {
        // for 美名腾宝宝起名大师
        const falseArr = [null, 'null', 'none', undefined, 'undefined', 0, '0', false, 'false']
        if (falseArr.includes(val)) {
          this.node.style.display = 'none'
          this.node.setAttribute('show', false)
          this._setProps(this.data, {
            _inDisplayNone: true
          })
        } else {
          this.node.style.display = ''
          this.node.setAttribute('show', true)
          this._setProps(this.data, {
            _inDisplayNone: false
          })
        }
        this._resetRootHeight()
        this._fixStyles()
      },
      disabled: function(val) {
        if (val === true || val === 'true') {
          this.node.setAttribute('disabled', true)
          this.node.classList.add('hap-disabled')
        } else {
          this.node.setAttribute('disabled', false)
          this.node.classList.remove('hap-disabled')
        }
      }
    }, // attr setters
    //#add:lzz --- 处理负margin 元素 background不显示问题，参考梨视频tab4
    _processNegativeMargin(val) {
      const tmpVal = `${val}`
      if (tmpVal.indexOf('-') > -1) {
        if (!this.data.style.hasOwnProperty('position')) {
          this.node.style.position = 'relative'
        }
      }
    },
    //#addend

    style: {
      // add test
      borderBottomWidth: function(val) {
        this.node.style.borderBottomWidth = val
        this.node.style.borderBottomStyle =
          (this.data.style && (this.data.style.borderBottomStyle || this.data.style.borderStyle)) ||
          'solid'
      },

      borderTopWidth: function(val) {
        this.node.style.borderTopWidth = val
        this.node.style.borderTopStyle =
          (this.data.style && (this.data.style.borderTopStyle || this.data.style.borderStyle)) ||
          'solid'
      },

      borderLeftWidth: function(val) {
        this.node.style.borderLeftWidth = val
        this.node.style.borderLeftStyle =
          (this.data.style && (this.data.style.borderLeftStyle || this.data.style.borderStyle)) ||
          'solid'
      },

      borderRightWidth: function(val) {
        this.node.style.borderRightWidth = val
        this.node.style.borderRightStyle =
          (this.data.style && (this.data.style.borderRightStyle || this.data.style.borderStyle)) ||
          'solid'
      },

      backgroundImage: function(val) {
        const url = val[0] === '/' && Hap.basePath ? `${Hap.basePath}${val}` : val
        const is9Patch = url.slice(-6) === '.9.png'
        if (!is9Patch) {
          this.node.style.backgroundImage = 'url(' + url + ')'
          if (!this.data.style || (this.data.style && !this.data.style.backgroundRepeat)) {
            this.node.style.backgroundRepeat = 'no-repeat'
          }
          if (!this.data.style || (this.data.style && !this.data.style.backgroundSize)) {
            this.node.style.backgroundSize = '100% 100%'
          }
        } else {
          // hacking for .9patch image according to https://stackoverflow.com/questions/3659457/nine-patch-images-for-web-development
          // add test for 滴滴出行
          this.node.style.backgroundImage = `url(${url})`
          this.node.style.borderImage = `url(${url}) 45% fill`
          console.warn(`### Web Render ###  9-patch 图片的实际效果请用真机调试！`)
        }
      },
      background: function(val) {
        try {
          const linearList = JSON.parse(val).values
          // add test 从现象来看多个渐变函数，native只会处理最后一个渐变函数
          const item = linearList[linearList.length - 1]
          const res = `${linearMap[item.type]}(${item.directions.join(' ')}, ${item.values.join(
            ','
          )})`
          /* const list = linearList.map(item => {
    return `${linearMap[item.type]}(${item.directions.join(' ')}, ${item.values.join(',')})`
  })
  const res = list.join(',') */
          this.node.style.background = res
        } catch (e) {
          this.node.style.background = val
        }
      },

      width: function(val) {
        const dataStyles = (this.data && this.data.style) || {}
        // add test for market/pages/spdetail
        if (val.indexOf('px') > -1 && dataStyles.backgroundImage) {
          this.node.style.flexShrink = '0'
        } else if (
          val.indexOf('%') > -1 &&
          dataStyles.position !== 'fixed' &&
          !this._getProps('_isInTabBar')
        ) {
          // 删除 isInList for 手机惠农
          // position为fixed 或者 处于tabbar内 的元素都无需调整宽度
          this._needFixWidth = true
        }
        this.node.style.width = val
      },

      top(value) {
        if (!(this.data.style && this.data.style.position === 'fixed')) {
          this.node.style.top = value
        } else {
          // add test for fixed
          let originTop = value
          if (originTop && typeof originTop === 'number') {
            originTop += 'px'
          }
          if (originTop && originTop.indexOf('px') > -1) {
            // if (parseInt(originTop) === 0) {
            //   this.node.style.top = originTop
            //   return
            // }
            if (this._getProps('_isInTabContent') && this._getProps('tabwrap')) {
              let newTop = parseFloat(originTop) * global.HapEnvironment.previewRatio
              const tabCarousel = this._getProps('tabwrap').parentNode
              if (tabCarousel) {
                const top = tabCarousel.getBoundingClientRect().top
                newTop -= top - global.Env.titleBarHeight - global.Env.statusBarHeight
              }
              const tabBarHeight = this._getProps('_tabBarHeight')
              if (tabBarHeight) {
                newTop -= tabBarHeight
              }
              this.node.style.top = `${newTop}px`
            } else if (this._getProps('_isInTransform')) {
              this.node.style.top = originTop
            } else {
              let newTop = parseFloat(originTop) * global.HapEnvironment.previewRatio
              newTop += global.Env.titleBarHeight + global.Env.statusBarHeight
              this.node.style.top = `${newTop}px`
            }
          } else {
            this.node.style.top = originTop
          }
        }
      },
      bottom(value) {
        if (!(this.data.style && this.data.style.position === 'fixed')) {
          this.node.style.bottom = value
        } else {
          let originBottom = value
          if (originBottom && typeof originBottom === 'number') {
            originBottom += 'px'
          }
          if (
            originBottom &&
            originBottom.indexOf('px') > -1 &&
            this._getProps('_isInTabContent') &&
            this._getProps('tabwrap') &&
            this._getProps('tabwrap').parentNode
          ) {
            if (parseInt(originBottom) === 0) {
              this.node.style.bottom = originBottom
              return
            }
            const tabCarousel = this._getProps('tabwrap').parentNode
            const bottom = document.body.offsetHeight - tabCarousel.getBoundingClientRect().bottom
            const newBottom = parseFloat(originBottom) * global.HapEnvironment.previewRatio - bottom
            this.node.style.bottom = `${newBottom}px`
          } else {
            this.node.style.bottom = originBottom
          }
        }
      },
      left(value) {
        const originLeft = value
        //  add test for 猫眼极速版，电影tab
        if (this.data.style && this.data.style.position === 'fixed') {
          if (this._getProps('_isInTabContent')) {
            const tabIndex = this._getProps('tabIndex')
            let left = tabIndex * 100 + '%'
            if (originLeft) {
              if (originLeft.indexOf('px')) {
                left = window.innerWidth * tabIndex + parseFloat(originLeft) + 'px'
              } else if (originLeft.indexOf('%')) {
                left = tabIndex * 100 + parseFloat(originLeft) + '%'
              }
              this.node.style.left = left
            } else if (tabIndex > 0) {
              this.node.style.left = left
            }
          } else {
            this.node.style.left = originLeft
          }
        } else {
          this.node.style.left = originLeft
        }
      },
      height(value) {
        if (!(this.data.style && this.data.style.position === 'fixed')) {
          this.node.style.height = value
        } else {
          // add test for apex-ui-docs keybord
          const originHeight = value
          const tilebar = this.getComponentManager().tilebar
          if (
            originHeight &&
            originHeight === '100%' &&
            !this._getProps('_isInTabContent') &&
            tilebar &&
            tilebar.showTitleBar
          ) {
            this.node.style.height = `calc(${originHeight} - ${global.Env.titleBarHeight +
              global.Env.statusBarHeight}px)`
          } else {
            this.node.style.height = originHeight
          }
        }
      },
      position(value) {
        // This is a peace of hacking to fix the problem about
        // mixing fixed and transform. See 'http://stackoverflo
        // w.com/questions/15194313/webkit-css-transform3d-posi
        // tion-fixed-issue' for more info.
        value !== 'fixed' && this.unsetFixed()
        value !== 'sticky' && this.unsetSticky()
        if (value === 'fixed') {
          this.setFixed()
        }
        if (value === 'sticky') {
          return this.setSticky()
        }
        if (value === 'absolute') {
          // add test for vshop
          return this.setAbsolute()
        }
        this.node.style.position = value
      },
      animationIterationCount(value) {
        if (value === -1) {
          value = 'infinite'
        }
        this.node.style.animationIterationCount = value
      },
      //#add:lzz --- 处理负margin 元素 background不显示问题，参考梨视频tab4
      marginRight(val) {
        this.node.style.marginRight = val
        this._processNegativeMargin(val)
      },
      marginLeft(val) {
        this.node.style.marginLeft = val
        this._processNegativeMargin(val)
      },
      marginTop(val) {
        this.node.style.marginTop = val
        this._processNegativeMargin(val)
      },
      marginBottom(val) {
        this.node.style.marginBottom = val
        this._processNegativeMargin(val)
      }
      //addend
    }, // style setters
    // event funcs
    //  - 1. 'updator' for updating attrs or styles with out triggering messages.
    //  - 2. 'extra' for binding extra data.
    //  - 3. 'setter' set a specified event handler.
    // funcs should be functions like this: (take 'change' event as a example)
    // {
    //   change: {
    //     updator () {
    //       return {
    //         attrs: {
    //           checked: this.checked
    //         }
    //       }
    //     },
    //     extra () {
    //       return {
    //         value: this.checked
    //       }
    //     }
    //   }
    // }
    event: {},

    clearAttr() {},

    clearStyle() {
      this.node.cssText = ''
    },
    _setRootHeight() {
      userSetRootHeight = true
    }
  }

  // extend operations.
  $extend(Component.prototype, operate)

  // extend attr and style setters from 'position' and 'flexbox'.
  $extend(Component.prototype, position)
  $extend(Component.prototype.style, flexbox.style)

  // Component which can have no subcomponents.
  // This component should not be instantiated directly, since
  // it is designed to be used as a base class to extend from.
  function Atomic(data) {
    Component.call(this, data)
  }

  Atomic.prototype = Object.create(Component.prototype)

  Atomic.prototype.createChildren = function(data) {
    // do nonthing
  }

  Atomic.prototype.appendChild = function(data) {
    // do nothing
  }

  Atomic.prototype.insertBefore = function(child, before) {
    // do nothing
  }

  Atomic.prototype.removeChild = function(child) {
    // do nothing
  }

  var touchemulator = createCommonjsModule(function(module) {
    ;(function(window, document, exportName) {
      let isMultiTouch = false
      let multiTouchStartPos
      let eventTarget
      const touchElements = {}
      let cancelClick = false
      let touchStartTime = 0

      // polyfills
      if (!document.createTouch) {
        document.createTouch = function(
          view,
          target,
          identifier,
          pageX,
          pageY,
          screenX,
          screenY,
          clientX,
          clientY
        ) {
          // auto set
          if (clientX === undefined || clientY === undefined) {
            clientX = pageX - window.pageXOffset
            clientY = pageY - window.pageYOffset
          }

          return new Touch(target, identifier, {
            pageX: pageX,
            pageY: pageY,
            screenX: screenX,
            screenY: screenY,
            clientX: clientX,
            clientY: clientY
          })
        }
      }

      if (!document.createTouchList) {
        document.createTouchList = function() {
          const touchList = new TouchList()
          for (let i = 0; i < arguments.length; i++) {
            touchList[i] = arguments[i]
          }
          touchList.length = arguments.length
          return touchList
        }
      }

      /**
       * create an touch point
       * @constructor
       * @param target
       * @param identifier
       * @param pos
       * @param deltaX
       * @param deltaY
       * @returns {Object} touchPoint
       */
      function Touch(target, identifier, pos, deltaX, deltaY) {
        deltaX = deltaX || 0
        deltaY = deltaY || 0

        this.identifier = identifier
        this.target = target
        this.clientX = pos.clientX + deltaX
        this.clientY = pos.clientY + deltaY
        this.screenX = pos.screenX + deltaX
        this.screenY = pos.screenY + deltaY
        this.pageX = pos.pageX + deltaX
        this.pageY = pos.pageY + deltaY
      }

      /**
       * create empty touchlist with the methods
       * @constructor
       * @returns touchList
       */
      function TouchList() {
        const touchList = []

        touchList.item = function(index) {
          return this[index] || null
        }

        // specified by Mozilla
        touchList.identifiedTouch = function(id) {
          return this[id + 1] || null
        }

        return touchList
      }

      /**
       * Simple trick to fake touch event support
       * this is enough for most libraries like Modernizr and Hammer
       */
      function fakeTouchSupport() {
        const objs = [window, document.documentElement]
        const props = ['ontouchstart', 'ontouchmove', 'ontouchcancel', 'ontouchend']

        for (let o = 0; o < objs.length; o++) {
          for (let p = 0; p < props.length; p++) {
            if (objs[o] && objs[o][props[p]] === undefined) {
              objs[o][props[p]] = null
            }
          }
        }
      }

      /**
       * we don't have to emulate on a touch device
       * @returns {boolean}
       */
      function hasTouchSupport() {
        return (
          'ontouchstart' in window || // touch events
          (window.Modernizr && window.Modernizr.touch) || // modernizr
          (navigator.msMaxTouchPoints || navigator.maxTouchPoints) > 2
        ) // pointer events
      }

      /**
       * disable mouseevents on the page
       * @param ev
       */
      function preventMouseEvents(ev) {
        ev.preventDefault()
        ev.stopPropagation()
      }

      /**
       * only trigger touches when the left mousebutton has been pressed
       * @param touchType
       * @returns {Function}
       */
      function onMouse(touchType) {
        return function(ev) {
          if (TouchEmulator.ignoreTags.indexOf(ev.target.tagName) < 0) {
            // prevent mouse events
            preventMouseEvents(ev)
          }
          if (ev.which !== 1) {
            return
          }

          // The EventTarget on which the touch point started when it was first placed on the surface,
          // even if the touch point has since moved outside the interactive area of that element.
          // also, when the target doesnt exist anymore, we update it
          if (
            ev.type === 'mousedown' ||
            !eventTarget ||
            (eventTarget && !eventTarget.dispatchEvent)
          ) {
            touchStartTime = Date.now()
            eventTarget = ev.target
          }

          // shiftKey has been lost, so trigger a touchend
          if (isMultiTouch && !ev.shiftKey) {
            triggerTouch('touchend', ev)
            isMultiTouch = false
          }

          triggerTouch(touchType, ev)

          // we're entering the multi-touch mode!
          if (!isMultiTouch && ev.shiftKey) {
            isMultiTouch = true
            multiTouchStartPos = {
              pageX: ev.pageX,
              pageY: ev.pageY,
              clientX: ev.clientX,
              clientY: ev.clientY,
              screenX: ev.screenX,
              screenY: ev.screenY
            }
            triggerTouch('touchstart', ev)
          }

          if (ev.type === 'mousemove') {
            const touchEndTime = Date.now()
            const touchTime = touchEndTime - touchStartTime
            if (touchTime > 80) {
              cancelClick = true
            }
          }

          // reset
          if (ev.type === 'mouseup') {
            multiTouchStartPos = null
            isMultiTouch = false
            eventTarget = null
          }
        }
      }

      /**
       * trigger a touch event
       * @param eventName
       * @param mouseEv
       */
      function triggerTouch(eventName, mouseEv) {
        const touchEvent = document.createEvent('Event')
        touchEvent.initEvent(eventName, true, true)

        touchEvent.altKey = mouseEv.altKey
        touchEvent.ctrlKey = mouseEv.ctrlKey
        touchEvent.metaKey = mouseEv.metaKey
        touchEvent.shiftKey = mouseEv.shiftKey

        touchEvent.touches = getActiveTouches(mouseEv, eventName)
        touchEvent.targetTouches = getActiveTouches(mouseEv, eventName)
        touchEvent.changedTouches = getChangedTouches(mouseEv, eventName)

        eventTarget.dispatchEvent(touchEvent)
      }

      /**
       * create a touchList based on the mouse event
       * @param mouseEv
       * @returns {TouchList}
       */
      function createTouchList(mouseEv) {
        const touchList = new TouchList()

        if (isMultiTouch) {
          const f = TouchEmulator.multiTouchOffset
          const deltaX = multiTouchStartPos.pageX - mouseEv.pageX
          const deltaY = multiTouchStartPos.pageY - mouseEv.pageY

          touchList.push(
            new Touch(eventTarget, 1, multiTouchStartPos, deltaX * -1 - f, deltaY * -1 + f)
          )
          touchList.push(new Touch(eventTarget, 2, multiTouchStartPos, deltaX + f, deltaY - f))
        } else {
          touchList.push(new Touch(eventTarget, 1, mouseEv, 0, 0))
        }

        return touchList
      }

      /**
       * receive all active touches
       * @param mouseEv
       * @returns {TouchList}
       */
      function getActiveTouches(mouseEv, eventName) {
        // empty list
        if (mouseEv.type === 'mouseup') {
          return new TouchList()
        }

        const touchList = createTouchList(mouseEv)
        if (isMultiTouch && mouseEv.type !== 'mouseup' && eventName === 'touchend') {
          touchList.splice(1, 1)
        }
        return touchList
      }

      /**
       * receive a filtered set of touches with only the changed pointers
       * @param mouseEv
       * @param eventName
       * @returns {TouchList}
       */
      function getChangedTouches(mouseEv, eventName) {
        const touchList = createTouchList(mouseEv)

        // we only want to return the added/removed item on multitouch
        // which is the second pointer, so remove the first pointer from the touchList
        //
        // but when the mouseEv.type is mouseup, we want to send all touches because then
        // no new input will be possible
        if (
          isMultiTouch &&
          mouseEv.type !== 'mouseup' &&
          (eventName === 'touchstart' || eventName === 'touchend')
        ) {
          touchList.splice(0, 1)
        }

        return touchList
      }

      /**
       * show the touchpoints on the screen
       */
      function showTouches(ev) {
        let touch, i, el, styles

        // first all visible touches
        for (i = 0; i < ev.touches.length; i++) {
          touch = ev.touches[i]
          el = touchElements[touch.identifier]
          if (!el) {
            el = touchElements[touch.identifier] = document.createElement('div')
            document.body.appendChild(el)
          }

          styles = TouchEmulator.template(touch)
          for (const prop in styles) {
            el.style[prop] = styles[prop]
          }
        }

        // remove all ended touches
        if (ev.type === 'touchend' || ev.type === 'touchcancel') {
          for (i = 0; i < ev.changedTouches.length; i++) {
            touch = ev.changedTouches[i]
            el = touchElements[touch.identifier]
            if (el) {
              el.parentNode.removeChild(el)
              delete touchElements[touch.identifier]
            }
          }
        }
      }

      /**
       * TouchEmulator initializer
       */
      function TouchEmulator(showDot) {
        showDot = showDot !== false

        if (hasTouchSupport() && !window._willDispatchRoute) {
          return
        }

        fakeTouchSupport()
        window.addEventListener(
          'click',
          ev => {
            // 按住拖动时防止mouseup和click一并触发
            if (cancelClick) {
              preventMouseEvents(ev)
              cancelClick = false
            }
          },
          true
        )
        window.addEventListener('mousedown', onMouse('touchstart'), true)
        window.addEventListener('mousemove', onMouse('touchmove'), true)
        window.addEventListener('mouseup', onMouse('touchend'), true)

        window.addEventListener('mouseenter', preventMouseEvents, true)
        window.addEventListener('mouseleave', preventMouseEvents, true)
        window.addEventListener('mouseout', preventMouseEvents, true)
        window.addEventListener('mouseover', preventMouseEvents, true)

        if (showDot) {
          // it uses itself!
          window.addEventListener('touchstart', showTouches, true)
          window.addEventListener('touchmove', showTouches, true)
          window.addEventListener('touchend', showTouches, true)
          window.addEventListener('touchcancel', showTouches, true)
        }
      }

      // start distance when entering the multitouch mode
      TouchEmulator.multiTouchOffset = 75

      // tags that shouldn't swallow mouse events
      TouchEmulator.ignoreTags = ['TEXTAREA', 'INPUT']

      /**
       * css template for the touch rendering
       * @param touch
       * @returns object
       */
      TouchEmulator.template = function(touch) {
        const size = 30
        const transform = 'translate(' + touch.clientX + 'px, ' + touch.clientY + 'px)'
        return {
          position: 'fixed',
          left: 0,
          top: 0,
          background: '#2c2c2c',
          opacity: 0.6,
          borderRadius: '100%',
          height: size + 'px',
          width: size + 'px',
          padding: 0,
          margin: 0,
          display: 'block',
          overflow: 'hidden',
          pointerEvents: 'none',
          webkitUserSelect: 'none',
          mozUserSelect: 'none',
          userSelect: 'none',
          webkitTransform: transform,
          mozTransform: transform,
          transform: transform,
          zIndex: 100
        }
      }

      // export
      if (module.exports) {
        module.exports = TouchEmulator
      } else {
        window[exportName] = TouchEmulator
      }
    })(window, document, 'TouchEmulator')
  })

  function checkConfig(rules, pages, pagesComp) {
    rules.map((i, index) => {
      const page = i.page
      // sitemap page 可以写为 Demo 或 Demo/index
      if (page !== '*' && !pages.includes(page) && !pagesComp.includes(page)) {
        console.warn(
          `### Web Render ### sitemap 配置 rules[${index}]: ${page} 不存在，请检查 manifest 中router.pages 是否已经配置`
        )
      }
      return page
    })
  }

  function sortPages(rules, pages) {
    const enablePagesArr = rules.filter(i => i.rule === 'enable' && i.page !== '*').map(i => i.page)
    const disablePagesArr = rules
      .filter(i => i.rule === 'disable' && i.page !== '*')
      .map(i => i.page)

    const checkPage = page => {
      if (enablePagesArr.includes(page)) {
        return true
      }
      if (disablePagesArr.includes(page)) {
        return false
      }

      const disableAll = rules.find(i => i.rule === 'disable' && i.page === '*')
      if (disableAll) {
        return false
      }

      return true
    }

    const r = pages.map(page => {
      return {
        page,
        result: checkPage(page)
      }
    })
    const allowPages = []
    const disablePages = []
    r.map(i => {
      if (i.result) {
        allowPages.push(i.page)
      } else {
        disablePages.push(i.page)
      }
    })
    return { allowPages, disablePages }
  }

  /* eslint-disable */

  const inDesktop = navigator.userAgent ? !navigator.userAgent.match(/Mobile|Electron/i) : true
  var isInitialized = false

  // major events supported:
  //   panstart
  //   panmove
  //   panend
  //   swipe
  //   longpress
  // extra events supported:
  //   dualtouchstart
  //   dualtouch
  //   dualtouchend
  //   tap
  //   doubletap
  //   pressend

  var doc = window.document
  var docEl = doc.documentElement
  var slice$1 = Array.prototype.slice
  var gestures = {}
  var lastTap = null

  /**
   * find the closest common ancestor
   * if there's no one, return null
   *
   * @param  {Element} el1 first element
   * @param  {Element} el2 second element
   * @return {Element}     common ancestor
   */
  function getCommonAncestor(el1, el2) {
    var el = el1
    while (el) {
      if (el.contains(el2) || el == el2) {
        return el
      }
      el = el.parentNode
    }
    return null
  }

  /**
   * fire a HTMLEvent
   *
   * @param  {Element} element which element to fire a event on
   * @param  {string}  type    type of event
   * @param  {object}  extra   extra data for the event object
   */
  function fireEvent$2(element, type, extra) {
    var event = doc.createEvent('HTMLEvents')
    event.initEvent(type, true, true)

    if (typeof extra === 'object') {
      for (var p in extra) {
        event[p] = extra[p]
      }
    }

    element.dispatchEvent(event)
  }

  /**
   * calc the transform
   * assume 4 points ABCD on the coordinate system
   * > rotate：angle rotating from AB to CD
   * > scale：scale ratio from AB to CD
   * > translate：translate shift from A to C
   *
   * @param  {number} x1 abscissa of A
   * @param  {number} y1 ordinate of A
   * @param  {number} x2 abscissa of B
   * @param  {number} y2 ordinate of B
   * @param  {number} x3 abscissa of C
   * @param  {number} y3 ordinate of C
   * @param  {number} x4 abscissa of D
   * @param  {number} y4 ordinate of D
   * @return {object}    transform object like
   *   {rotate, scale, translate[2], matrix[3][3]}
   */
  function calc(x1, y1, x2, y2, x3, y3, x4, y4) {
    var rotate = Math.atan2(y4 - y3, x4 - x3) - Math.atan2(y2 - y1, x2 - x1)
    var scale = Math.sqrt(
      (Math.pow(y4 - y3, 2) + Math.pow(x4 - x3, 2)) / (Math.pow(y2 - y1, 2) + Math.pow(x2 - x1, 2))
    )
    var translate = [
      x3 - scale * x1 * Math.cos(rotate) + scale * y1 * Math.sin(rotate),
      y3 - scale * y1 * Math.cos(rotate) - scale * x1 * Math.sin(rotate)
    ]

    return {
      rotate: rotate,
      scale: scale,
      translate: translate,
      matrix: [
        [scale * Math.cos(rotate), -scale * Math.sin(rotate), translate[0]],
        [scale * Math.sin(rotate), scale * Math.cos(rotate), translate[1]],
        [0, 0, 1]
      ]
    }
  }

  /**
   * take over the touchstart events. Add new touches to the gestures.
   * If there is no previous records, then bind touchmove, tochend
   * and touchcancel events.
   * new touches initialized with state 'tapping', and within 500 milliseconds
   * if the state is still tapping, then trigger gesture 'press'.
   * If there are two touche points, then the 'dualtouchstart' is triggerd. The
   * node of the touch gesture is their cloest common ancestor.
   *
   * @event
   * @param  {event} event
   */
  function touchstartHandler(event) {
    if (Object.keys(gestures).length === 0) {
      docEl.addEventListener('touchmove', touchmoveHandler, false)
      docEl.addEventListener('touchend', touchendHandler, false)
      docEl.addEventListener('touchcancel', touchcancelHandler, false)
    }

    // record every touch
    for (var i = 0; i < event.changedTouches.length; i++) {
      var touch = event.changedTouches[i]
      var touchRecord = {}

      for (var p in touch) {
        touchRecord[p] = touch[p]
      }

      var gesture = {
        startTouch: touchRecord,
        startTime: Date.now(),
        status: 'tapping',
        element: event.srcElement || event.target,
        pressingHandler: setTimeout(
          (function(element, touch) {
            return function() {
              if (gesture.status === 'tapping') {
                gesture.status = 'pressing'
                console.warn(
                  '==预览中longpress暂不支持offsetX/offsetY,返回为模拟数据,请使用真机调试体验完整功能=='
                )
                fireEvent$2(element, 'longpress', {
                  // add touch data for hap
                  touch: touch,
                  touches: event.touches,
                  changedTouches: event.changedTouches,
                  touchEvent: event,
                  // 1050
                  clientX: touch.clientX,
                  clientY: touch.clientY,
                  pageX: touch.pageX,
                  pageY: touch.pageY,
                  offsetX: 0,
                  offsetY: 0
                })
              }

              clearTimeout(gesture.pressingHandler)
              gesture.pressingHandler = null
            }
          })(event.srcElement || event.target, event.changedTouches[i]),
          500
        )
      }
      gestures[touch.identifier] = gesture
    }

    if (Object.keys(gestures).length == 2) {
      var elements = []

      for (var p in gestures) {
        elements.push(gestures[p].element)
      }

      fireEvent$2(getCommonAncestor(elements[0], elements[1]), 'dualtouchstart', {
        touches: slice$1.call(event.touches),
        touchEvent: event
      })
    }
  }

  /**
   * take over touchmove events, and handle pan and dual related gestures.
   *
   * 1. traverse every touch point：
   * > if 'tapping' and the shift is over 10 pixles, then it's a 'panning'.
   * 2. if there are two touch points, then calc the tranform and trigger
   *   'dualtouch'.
   *
   * @event
   * @param  {event} event
   */
  function touchmoveHandler(event) {
    for (var i = 0; i < event.changedTouches.length; i++) {
      var touch = event.changedTouches[i]
      var gesture = gestures[touch.identifier]

      if (!gesture) {
        return
      }

      if (!gesture.lastTouch) {
        gesture.lastTouch = gesture.startTouch
      }
      if (!gesture.lastTime) {
        gesture.lastTime = gesture.startTime
      }
      if (!gesture.velocityX) {
        gesture.velocityX = 0
      }
      if (!gesture.velocityY) {
        gesture.velocityY = 0
      }
      if (!gesture.duration) {
        gesture.duration = 0
      }

      var time = Date.now() - gesture.lastTime
      var vx = (touch.clientX - gesture.lastTouch.clientX) / time
      var vy = (touch.clientY - gesture.lastTouch.clientY) / time
      if (inDesktop) {
        vx = vx * 2.5
        vy = vy * 2.5
      }
      var RECORD_DURATION = 70
      if (time > RECORD_DURATION) {
        time = RECORD_DURATION
      }
      if (gesture.duration + time > RECORD_DURATION) {
        gesture.duration = RECORD_DURATION - time
      }

      gesture.velocityX =
        (gesture.velocityX * gesture.duration + vx * time) / (gesture.duration + time)
      gesture.velocityY =
        (gesture.velocityY * gesture.duration + vy * time) / (gesture.duration + time)
      gesture.duration += time

      gesture.lastTouch = {}

      for (var p in touch) {
        gesture.lastTouch[p] = touch[p]
      }
      gesture.lastTime = Date.now()

      var displacementX = touch.clientX - gesture.startTouch.clientX
      var displacementY = touch.clientY - gesture.startTouch.clientY
      var distance = Math.sqrt(Math.pow(displacementX, 2) + Math.pow(displacementY, 2))
      var isVertical = !(Math.abs(displacementX) > Math.abs(displacementY))
      var direction = isVertical
        ? displacementY >= 0
          ? 'down'
          : 'up'
        : displacementX >= 0
        ? 'right'
        : 'left'

      // magic number 10: moving 10px means pan, not tap
      if ((gesture.status === 'tapping' || gesture.status === 'pressing') && distance > 10) {
        gesture.status = 'panning'
        gesture.isVertical = isVertical
        gesture.direction = direction

        fireEvent$2(gesture.element, 'panstart', {
          touch: touch,
          touches: event.touches,
          changedTouches: event.changedTouches,
          touchEvent: event,
          isVertical: gesture.isVertical,
          direction: direction
        })
      }

      if (gesture.status === 'panning') {
        gesture.panTime = Date.now()

        fireEvent$2(gesture.element, 'panmove', {
          displacementX: displacementX,
          displacementY: displacementY,
          touch: touch,
          touches: event.touches,
          changedTouches: event.changedTouches,
          touchEvent: event,
          isVertical: gesture.isVertical,
          direction: direction
        })
      }
    }

    if (Object.keys(gestures).length == 2) {
      var position = []
      var current = []
      var elements = []
      var transform

      for (var i = 0; i < event.touches.length; i++) {
        var touch = event.touches[i]
        var gesture = gestures[touch.identifier]
        position.push([gesture.startTouch.clientX, gesture.startTouch.clientY])
        current.push([touch.clientX, touch.clientY])
      }

      for (var p in gestures) {
        elements.push(gestures[p].element)
      }

      transform = calc(
        position[0][0],
        position[0][1],
        position[1][0],
        position[1][1],
        current[0][0],
        current[0][1],
        current[1][0],
        current[1][1]
      )
      fireEvent$2(getCommonAncestor(elements[0], elements[1]), 'dualtouch', {
        transform: transform,
        touches: event.touches,
        touchEvent: event
      })
    }
  }

  /**
   * handle touchend event
   *
   * 1. if there are tow touch points, then trigger 'dualtouchend'如
   *
   * 2. traverse every touch piont：
   * > if tapping, then trigger 'tap'.
   * If there is a tap 300 milliseconds before, then it's a 'doubletap'.
   * > if padding, then decide to trigger 'panend' or 'swipe'
   * > if pressing, then trigger 'pressend'.
   *
   * 3. remove listeners.
   *
   * @event
   * @param  {event} event
   */
  function touchendHandler(event) {
    if (Object.keys(gestures).length == 2) {
      var elements = []
      for (var p in gestures) {
        elements.push(gestures[p].element)
      }
      fireEvent$2(getCommonAncestor(elements[0], elements[1]), 'dualtouchend', {
        touches: slice$1.call(event.touches),
        touchEvent: event
      })
    }

    for (var i = 0; i < event.changedTouches.length; i++) {
      var touch = event.changedTouches[i]
      var id = touch.identifier
      var gesture = gestures[id]

      if (!gesture) {
        continue
      }

      if (gesture.pressingHandler) {
        clearTimeout(gesture.pressingHandler)
        gesture.pressingHandler = null
      }

      if (gesture.status === 'tapping') {
        gesture.timestamp = Date.now()
        fireEvent$2(gesture.element, 'tap', {
          touch: touch,
          touchEvent: event
        })

        if (lastTap && gesture.timestamp - lastTap.timestamp < 300) {
          fireEvent$2(gesture.element, 'doubletap', {
            touch: touch,
            touchEvent: event
          })
        }

        lastTap = gesture
      }

      if (gesture.status === 'panning') {
        var now = Date.now()
        var duration = now - gesture.startTime
        var displacementX = touch.clientX - gesture.startTouch.clientX
        var displacementY = touch.clientY - gesture.startTouch.clientY

        var velocity = Math.sqrt(
          gesture.velocityY * gesture.velocityY + gesture.velocityX * gesture.velocityX
        )
        var isSwipe = velocity > 0.5 && now - gesture.lastTime < 100
        var extra = {
          duration: duration,
          isSwipe: isSwipe,
          velocityX: gesture.velocityX,
          velocityY: gesture.velocityY,
          displacementX: displacementX,
          displacementY: displacementY,
          touch: touch,
          touches: event.touches,
          changedTouches: event.changedTouches,
          touchEvent: event,
          isVertical: gesture.isVertical,
          direction: gesture.direction
        }

        fireEvent$2(gesture.element, 'panend', extra)
        if (isSwipe) {
          fireEvent$2(gesture.element, 'swipe', extra)
        }
      }

      if (gesture.status === 'pressing') {
        fireEvent$2(gesture.element, 'pressend', {
          touch: touch,
          touchEvent: event
        })
      }

      delete gestures[id]
    }

    if (Object.keys(gestures).length === 0) {
      docEl.removeEventListener('touchmove', touchmoveHandler, false)
      docEl.removeEventListener('touchend', touchendHandler, false)
      docEl.removeEventListener('touchcancel', touchcancelHandler, false)
    }
  }

  /**
   * handle touchcancel
   *
   * 1. if there are two touch points, then trigger 'dualtouchend'
   *
   * 2. traverse everty touch point:
   * > if pannnig, then trigger 'panend'
   * > if pressing, then trigger 'pressend'
   *
   * 3. remove listeners
   *
   * @event
   * @param  {event} event
   */
  function touchcancelHandler(event) {
    if (Object.keys(gestures).length == 2) {
      var elements = []
      for (var p in gestures) {
        elements.push(gestures[p].element)
      }
      fireEvent$2(getCommonAncestor(elements[0], elements[1]), 'dualtouchend', {
        touches: slice$1.call(event.touches),
        touchEvent: event
      })
    }

    for (var i = 0; i < event.changedTouches.length; i++) {
      var touch = event.changedTouches[i]
      var id = touch.identifier
      var gesture = gestures[id]

      if (!gesture) {
        continue
      }

      if (gesture.pressingHandler) {
        clearTimeout(gesture.pressingHandler)
        gesture.pressingHandler = null
      }

      if (gesture.status === 'panning') {
        fireEvent$2(gesture.element, 'panend', {
          touch: touch,
          touches: event.touches,
          changedTouches: event.changedTouches,
          touchEvent: event
        })
      }
      if (gesture.status === 'pressing') {
        fireEvent$2(gesture.element, 'pressend', {
          touch: touch,
          touchEvent: event
        })
      }
      delete gestures[id]
    }

    if (Object.keys(gestures).length === 0) {
      docEl.removeEventListener('touchmove', touchmoveHandler, false)
      docEl.removeEventListener('touchend', touchendHandler, false)
      docEl.removeEventListener('touchcancel', touchcancelHandler, false)
    }
  }

  if (!isInitialized) {
    docEl.addEventListener('touchstart', touchstartHandler, false)
    isInitialized = true
  }

  receiver.init()

  const DEFAULT_DESIGN_WIDTH = 750
  const DEFAULT_ROOT_ID = 'hap'
  const inDesktop$1 = navigator.userAgent ? !navigator.userAgent.match(/Mobile|Electron/i) : true

  // 支持爬虫模拟touch滑动列表
  if (inDesktop$1 || window._willDispatchRoute) {
    touchemulator && touchemulator(false)
  }

  // 由于未catch的异常 Android 不会输出到控制台，特在此拦截对齐Android 表现
  window.addEventListener('unhandledrejection', e => {
    e.stopPropagation()
    e.preventDefault()
  })

  // 预览端模拟IDE注入的方法window._getQuickappDevice，传入缺省的设备类型
  if (!window._getQuickappDevice) {
    window._getQuickappDevice = function(callback) {
      callback('')
    }
  }

  global.HapEnvironment = {
    version: config$1.version,
    // appName: lib.env.aliapp ? lib.env.aliapp.appname : null,
    // appVersion: lib.env.aliapp ? lib.env.aliapp.version.val : null,
    platform: 'Web',
    // osName: lib.env.browser ? lib.env.browser.name : null,
    // osVersion: lib.env.browser ? lib.env.browser.version.val : null,
    designWidth: DEFAULT_DESIGN_WIDTH
  }
  Object.defineProperties(global.HapEnvironment, {
    devicePixelRatio: {
      configurable: false,
      get() {
        return window.devicePixelRatio
          ? window.devicePixelRatio
          : window.screen.width >= 1440
          ? 3.5
          : window.screen.width >= 1080
          ? 3
          : window.screen.width >= 800
          ? 2.5
          : window.screen.width >= 640
          ? 2
          : window.screen.width >= 480
          ? 1.5
          : 1
      }
    },
    deviceWidth: {
      configurable: false,
      get() {
        return window.innerWidth
      }
    },
    deviceHeight: {
      configurable: false,
      get() {
        return window.innerHeight
      }
    },
    previewRatio: {
      configurable: false,
      get() {
        // for 在线编辑器
        return inDesktop$1 ? parseFloat(window.innerWidth / global.HapEnvironment.designWidth) : 1
      }
    }
  })

  const _hapInstance = {}
  function setupViewport(width) {
    global.HapEnvironment.designWidth = width
    if (global.Env && global.Env.idePlatform === 'online') {
      width = window.innerWidth
    } else {
      // 适配快应用横屏逻辑
      const baseWidth = Math.min(window.innerWidth, window.innerHeight)
      const ratio = width / baseWidth
      const resizeWidth = parseInt(window.innerWidth * ratio)
      document
        .querySelector('meta[name=viewport]')
        .setAttribute('content', `width=${resizeWidth}, user-scalable=no`)
    }
    const rootSize = parseInt(width / 10)
    document.documentElement.style.fontSize = rootSize + 'px'
    global.HapEnvironment.previewRem = rootSize
  }

  setupViewport(DEFAULT_DESIGN_WIDTH)

  function Hap$1(options) {
    if (!(this instanceof Hap$1)) {
      return new Hap$1(options)
    }

    // Width of the root container. Default is window.innerWidth.
    this.width = options.width || window.innerWidth
    this.bundleUrl = options.bundleUrl || window.location.href
    this.instanceId = options.appId
    this.rootId = options.rootId || DEFAULT_ROOT_ID + getRandom(10)
    this.jsonpCallback = options.jsonpCallback
    this.source = options.source
    this.loader = options.loader

    this.data = options.data
    this.sender = new Sender(this)

    _hapInstance[this.instanceId] = this
  }

  Hap$1.init = function(config) {
    const basePath =
      (config && (config.basePath || config.base)) || window.location.pathname.split('/')[1]
    const type = config.type || 'app'
    this.basePath = basePath[0] === '/' ? basePath : '/' + basePath
    config.base = this.basePath

    // 注入环境
    global.Env = {
      platform: 'h5',
      osVersion: null,
      osVersionInt: null,
      appVersionName: null,
      appVersionCode: null,
      appName: null,
      logLevel: 'log',
      density: null,
      densityDpi: null,
      deviceWidth: 1080,
      deviceHeight: 1280,
      engine: 'page',
      idePlatform: config.idePlatform || 'normal', // normal | online: 在线编辑器
      titleBarHeight: 0,
      statusBarHeight: 0
    }
    if (config.idePlatform === 'online') {
      global._Router = Router
    }
    class Connection {
      constructor() {
        console.warn(`### Web Render ### 暂不支持Session相关API，请使用真机调试体验完整功能`)
      }
      dispatch() {}
      disconnect() {}
    }
    global.Connection = Connection
    const app = () => {
      // 普通快应用 or 卡片
      type === 'app' ? initApp$1(config) : initCard(config)
    }
    // 读入独立JS资源
    loadScriptByXHR(this.basePath + '/app-chunks.json', (text, err) => {
      if (err) {
        return false
      }
      try {
        global.registerBundleChunks(text)
      } catch (error) {}
    })
    loadScriptByXHR(this.basePath + '/page-chunks.json', (text, err) => {
      if (err) {
        return false
      }
      try {
        global.registerBundleChunks(text)
      } catch (error) {}
    })
    global.createApplication('1', app)
  }

  /**
   * 初始化地址解析器
   * */
  Hap$1._initLocationParser = function(config) {
    if (config.mode !== 'hash') {
      return function() {
        const base = config.basePath || config.base
        let pathname = window.location.pathname
        pathname =
          pathname.length > 1 && pathname[pathname.length - 1] === '/'
            ? pathname.slice(0, -1)
            : pathname
        const routePath = pathname.replace(base, '')
        config.routePath = routePath
        return config
      }
    } else {
      /**
       * 静态模式解析地址
       * htmlPath - html的加载地址
       * basePath - 应用地址 - 绝对路径，用于加载应用文件夹下的静态资源
       * appPath - 应用相对路径
       * routePath - 应用路由地址
       * */
      const htmlPath = window.location.pathname
      config.htmlPath = htmlPath
      return function() {
        const hashStr = window.location.hash.replace('#', '')
        const basePath = htmlPath.replace(/\/[^/]+.html$/, '') + config.appPath
        const pathname = hashStr.replace(config.appPath, '')
        const routePath =
          pathname.length > 1 && pathname[pathname.length - 1] === '/'
            ? pathname.slice(0, -1)
            : pathname
        config.routePath = routePath
        config.basePath = basePath
        return config
      }
    }
  }

  function initConfig(config, base, text) {
    const manifest = Object.assign(defaultManifest, JSON.parse(text))
    global.manifest = manifest
    // 初始化应用配置
    initAppConfig(global.manifest)
    loadScriptByXHR(base + '/sitemap.json', (text, err) => {
      if (!err) {
        try {
          global.sitemapdata = JSON.parse(text)
          const pagesComp = [] // 得出类似数组：['Demo/index']
          let pages =
            (global.manifest && global.manifest.router && global.manifest.router.pages) || {}
          pages = Object.keys(pages).map(page => {
            const component = pages[page].component || 'index'
            pagesComp.push(page + '/' + component)
            return page
          })

          const rules = global.sitemapdata.rules
          checkConfig(rules, pages, pagesComp)
          const { allowPages } = sortPages(rules, pages)
          config.allowPages = allowPages
        } catch (e) {}
      }
      loadScript(base + '/app.js', err => {
        if (!err) {
          global.manifest = manifest
          // 创建应用
          global.createAppHandler && global.createAppHandler()
          Router.init(config)
        }
      })
    })
  }

  function initApp$1(config) {
    const base = config.base
    /* 适配华为，manifest先行 */
    window._getQuickappDevice(device => {
      const deviceType = device.toLowerCase()
      const path = deviceType ? base + `/manifest-${deviceType}.json` : base + `/manifest.json`
      loadScriptByXHR(path, (text, err) => {
        if (!err) {
          // 请求的manifest-${deviceType}.json不存在时，返回可能为null或html的内容。返回为html时，在json解析的时候会抛出异常，返回为null时主动抛出异常，捕获到异常后去请求manifest.json文件
          try {
            if (!text) {
              throw 'text is null'
            }
            initConfig(config, base, text)
          } catch (e) {
            loadScriptByXHR(base + '/manifest.json', (text, err) => {
              if (!err) {
                initConfig(config, base, text)
              }
            })
          }
        }
      })
    })
  }

  function initCardConfig(config, text) {
    global.manifest = Object.assign(defaultManifest, JSON.parse(text))
    // 初始化应用配置
    initAppConfig(global.manifest)
    Router.init(config)
  }

  function initCard(config) {
    const base = config.base
    window._getQuickappDevice(device => {
      const deviceType = device.toLowerCase()
      const path = deviceType ? base + `/manifest-${deviceType}.json` : base + `/manifest.json`
      loadScriptByXHR(path, (text, err) => {
        if (!err) {
          // 请求的manifest-${deviceType}.json不存在时，返回可能为null或html的内容。返回为html时，在json解析的时候会抛出异常，返回为null时主动抛出异常，捕获到异常后去请求manifest.json文件
          try {
            if (!text) {
              throw 'text is null'
            }
            initCardConfig(config, text)
          } catch (e) {
            loadScriptByXHR(base + '/manifest.json', (text, err) => {
              if (!err) {
                initCardConfig(config, text)
              }
            })
          }
        }
      })
    })
  }

  function initAppConfig(manifest) {
    // 注册组件
    global.registerComponents(config$1.componentList)
    // 注册Feature
    global.registerModules(allFeatureMethList, 'feature')
    // 注册模块
    global.registerModules([], 'modules')
    // 注册manifest
    registerManifest(manifest)
    // init viewport
    setupViewport((manifest.config && manifest.config.designWidth) || DEFAULT_DESIGN_WIDTH)
  }

  Hap$1.createInstance = function(options) {
    if (isArray(options)) {
      options.forEach(function(config) {
        // eslint-disable-next-line
        new Hap$1(config)
      })
    } else if (getType$1(options) === 'object') {
      // eslint-disable-next-line
      new Hap$1(options)
    }
  }

  Hap$1.getInstance = function(instanceId) {
    if (!_hapInstance[instanceId]) {
      this.createInstance({ appId: instanceId })
    }
    return _hapInstance[instanceId]
  }

  Hap$1.prototype = {
    createApp: function(config, appCode) {
      let root = document.querySelector('#' + this.rootId)
      if (!root) {
        root = document.createElement('div')
        root.id = this.rootId
        document.body.appendChild(root)
      }

      const instance = global.createApplication(
        this.instanceId,
        appCode,
        {
          bundleUrl: this.bundleUrl,
          debug: config.debug
        },
        this.data
      )

      if (instance instanceof Error) {
        return console.error('### Web Render ### ', instance)
      }

      // Do not destroy instance before unload, because in most browser
      // press back button to back to this page will not refresh
      // the window and the instance will not be recreated then.
      // window.addEventListener('beforeunload', function (e) {
      // })
    },

    getComponentManager: function() {
      if (!this._componentManager) {
        this._componentManager = ComponentManager.getInstance(this.instanceId)
      }
      return this._componentManager
    },

    getRoot: function() {
      return document.querySelector('#' + this.rootId)
    }
  }

  Hap$1.stopTheWorld = function(instanceId) {
    if (!instanceId) {
      return Object.keys(_hapInstance).map(function(instanceId) {
        Hap$1.stopTheWorld(instanceId)
      })
    }
    window.destroyInstance(instanceId)
  }

  bind(Hap$1)

  $extend(Hap$1, {
    Component,
    Atomic,
    ComponentManager,
    utils,
    config: config$1
  })

  global.Hap = global.hap = Hap$1

  function init$a(Hap) {
    const Component = Hap.Component

    function Div(data, nodeType) {
      Component.call(this, data, nodeType)
      if (data.ref === '_root' || nodeType === 'root') {
        this.node.classList.add('root-container')
      } else {
        this.node.classList.add('hap-div')
      }
    }
    Div.prototype = Object.create(Component.prototype)

    Hap.registerComponent('div', Div)
    Hap.registerComponent('container', Div)
  }

  var div = { init: init$a }

  var css_248z$2 =
    '.hap-img{display:flex;flex:0 1 auto;box-sizing:border-box;position:relative;border:0 solid #000;margin:0;padding:0;min-width:0;white-space:normal;overflow:hidden}'
  styleInject(css_248z$2)

  // 下列两个方法取自 node path 模块：https://github.com/jinder/path/blob/master/path.js
  function normalizeArray(parts, allowAboveRoot) {
    var res = []
    for (var i = 0; i < parts.length; i++) {
      var p = parts[i]

      // ignore empty parts
      if (!p || p === '.') {
        continue
      }

      if (p === '..') {
        if (res.length && res[res.length - 1] !== '..') {
          res.pop()
        } else if (allowAboveRoot) {
          res.push('..')
        }
      } else {
        res.push(p)
      }
    }

    return res
  }

  function pathResolve() {
    var resolvedPath = '',
      resolvedAbsolute = false

    for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {
      var path = i >= 0 ? arguments[i] : ''

      // Skip empty and invalid entries
      if (typeof path !== 'string') {
        throw new TypeError('Arguments to path.resolve must be strings')
      } else if (!path) {
        continue
      }

      resolvedPath = path + '/' + resolvedPath
      resolvedAbsolute = path[0] === '/'
    }

    // At this point the path should be resolved to a full absolute path, but
    // handle relative paths to be safe (might happen when process.cwd() fails)

    // Normalize the path
    resolvedPath = normalizeArray(resolvedPath.split('/'), !resolvedAbsolute).join('/')

    return (resolvedAbsolute ? '/' : '') + resolvedPath || '.'
  }

  /* global lib */

  const DEFAULT_SIZE = 2.66 * global.HapEnvironment.previewRem
  const RESIZE_MODES = ['stretch', 'cover', 'contain', 'center']
  // const DEFAULT_RESIZE_MODE = 'stretch'

  let Atomic$1
  /**
   * resize: 'cover' | 'contain' | 'stretch', default is 'cover'
   * src: url
   * placeholder / place-holder: url
   */
  const intersetctionMap = new Map()
  const intersectionHandler = function(entries, self) {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        const cb = intersetctionMap.get(entry.target)
        cb && cb()
        self.unobserve(entry.target)
      }
    })
  }
  const intersectionInstance = new IntersectionObserver(intersectionHandler, {
    rootMargin: '0px 50% 100% 50%'
  })

  const proto = {
    create() {
      const node = document.createElement('image')
      node.classList.add('hap-img')
      // TODO：先为在线编辑器做适配，后续测试没问题再设为常规 1rem
      if (global.Env.idePlatform === 'online') {
        node.style.height = node.style.width = '1rem'
      } else {
        node.style.height = node.style.width = 'auto'
      }
      node.style.overflow = 'hidden'
      this.imgElement = document.createElement('img')
      // add test for 心理咨询师
      // this.imgElement.style.height = '100%'
      // this.imgElement.style.width = '100%'
      node.appendChild(this.imgElement)

      const $canvas = document.createElement('canvas')
      this._canvas = $canvas
      this.imgElement.status = 'stop'
      this.autoplay = true
      return node
    },
    onAppend() {
      // add test for 澎湃新闻,有车帝
      this._fixStyles()
    },
    regiterIntersection() {
      if (!this.src) {
        return
      }
      // media.pickImage、media.pickImages
      if (this.src.indexOf('internal://') === 0) {
        let dstUri = hybrid.getFile(this.src)
        if (dstUri && dstUri.type) {
          let dstSrc = dstUri.type
            ? dstUri.compress || dstUri.operations
              ? dstUri
              : URL.createObjectURL(dstUri)
            : dstUri
          this.src = dstSrc
          this.compress = dstSrc.compress || false
          this.operations = dstSrc.operations || false
          if (this.compress || this.operations) {
            this.src = URL.createObjectURL(dstSrc)
          }
        } else {
          this.src = dstUri
        }
      }
      const element = this.node
      if (intersetctionMap.get(element)) {
        intersectionInstance.unobserve(element)
        intersetctionMap.delete(element)
      }
      intersectionInstance.observe(element)
      intersetctionMap.set(element, () => {
        this._loadImg()
      })
    },
    _resize() {
      // 调整容器节点宽高，若只设高度或宽度，则按原图保持宽高比
      const dataStyle = this.data.style
      const parent = this.getParent()
      if (dataStyle && (dataStyle.height || dataStyle.width)) {
        if (dataStyle.height && dataStyle.height.indexOf('px') > -1 && !dataStyle.width) {
          if (parent && parent.data.type === 'swiper') {
            // fix for ytycm/pages/home swiper中image宽度
            this.node.style.width = '100%'
          } else {
            const width =
              (parseInt(dataStyle.height) / this.naturalHeight) *
              this.naturalWidth *
              global.HapEnvironment.previewRatio
            this.node.style.width = width + 'px'
          }
        } else if (dataStyle.width && dataStyle.width.indexOf('px') > -1 && !dataStyle.height) {
          const height =
            (parseInt(dataStyle.width) / this.naturalWidth) *
            this.naturalHeight *
            global.HapEnvironment.previewRatio
          this.node.style.height = height + 'px'
        }
        // add test for 小说阅读器
        else if (
          dataStyle.width === '100%' &&
          parent &&
          parent.data.style &&
          parent.data.style.width &&
          parent.data.style.width.indexOf('px') > -1
        ) {
          parent.node.style.flexShrink = 0
        }
      } else if (!dataStyle || (dataStyle && !dataStyle.height && !dataStyle.width)) {
        if (parent && parent.data.type === 'stack') {
          // fix for pearvideo/Home stack中image宽度
          this.node.style.height = this.node.style.width = '100%'
        }
      }
      // append之后才能进行的调整
      if (this._appended) {
        // 调整图片节点大小
        if (
          this.node.clientHeight / this.node.clientWidth !==
            this.naturalHeight / this.naturalWidth &&
          ((this.node.style.height === 'auto' && this.node.clientHeight < this.naturalHeight) ||
            (this.node.style.width === 'auto' && this.node.clientWidth < this.naturalWidth))
        ) {
          this.imgElement.style.objectFit = 'contain'
        }
        // 调整容器节点宽高，适配新闻快应用首页底栏
        if (
          parent &&
          parent.data.style &&
          typeof parent.data.style.height === 'string' &&
          parent.data.style.height.indexOf('px') > -1 &&
          parent.data.style.flexDirection === 'column'
        ) {
          if (this.node.style.height === 'auto') {
            this.imgElement.style.height = 'inherit'
          }
        }
      }
    },
    _loadImg() {
      const val = this.src
      const ref = this.data.ref
      if (val) {
        const localOrigin = new global.URL(global.location.href).origin
        this.node.style.opacity = '0'
        const img = new window.Image()
        let url = val[0] === '/' && Hap.basePath ? `${Hap.basePath}${val}` : val
        if (global.Env.idePlatform === 'online') {
          if (val.indexOf('http') > -1) {
            url = val
          } else {
            // NOTE：在线编辑器使用了 history.pushState 等 api 会报同源策略的错，所以不能使用
            // 导致后果是内容有变，但是相应的路由没变，进一步导致相对地址的图片无法显示
            // 故只能把本该前进的路由与图片的相对路径结合起来成绝对路径
            url =
              val[0] === '/' && Hap.basePath
                ? `${Hap.basePath}${val}`
                : pathResolve(Hap.loadPath, val)
          }
        }

        const errorCallback = () => {
          this.imgElement.src = url
          this.imgElement.storeSrc = this.imgElement.src
          this.imgElement.setAttribute('url-error', url)
          this.dispatchEvent('error')
          this._loaded = true
        }
        img.onload = e => {
          // add test for vshop
          if (img.width === 1 && img.height === 1) {
            errorCallback()
            return false
          }
          // fix for autohome/PageCarPicSeriesDetail 临时解决汽车之家实拍页面swiper切换时图片抖动的问题
          let opacity = ''
          // add test for vivo 游戏宝
          if (this.data.style && this.data.style.opacity !== undefined) {
            opacity = this.data.style.opacity
          }
          this.node.style.opacity = opacity
          this.naturalWidth = img.width
          this.naturalHeight = img.height
          // add test for 有车帝
          this.imgElement.style.objectFit = this._resizeMode
          this._resize()
          // add test for 随行停车， 新闻
          if (!this.compress) {
            this.imgElement.style.width = '100%'
          }
          // for 屈臣氏
          this.imgElement.style.height = '100%'
          {
            this.imgElement.src = url
            this.imgElement.storeSrc = this.imgElement.src
            // 项目资源图片地址转换为blob
            // image.getImageInfo() 需要返回size
            if (url[0] === '/') {
              let mimeType = url.split('.').pop()
              mimeType = `image/${mimeType}`
              this._canvas.width = img.width
              this._canvas.height = img.height
              this._canvas.getContext('2d').drawImage(this.imgElement, 0, 0, img.width, img.height)
              const _base64 = this._canvas.toDataURL(mimeType)
              const _blob = base64toBlob(_base64, mimeType)
              _blob.width = img.width
              _blob.height = img.height
              hybrid.saveFile(this.src, _blob)
            }
            if (this.compress) {
              this.imgElement.width = this.compress.width
              this.imgElement.height = this.compress.height
            }
            if (this.operations) {
              let crop = this.operations.filter(i => i.action === 'crop')[0] || ''
              let scale = this.operations.filter(i => i.action === 'scale')[0] || ''
              let rotate = this.operations.filter(i => i.action === 'rotate')[0] || ''
              this.imgElement.width = crop.width
              this.imgElement.height = crop.height
              this.imgElement.setAttribute(
                'style',
                `transform:scale(${scale.scaleX || 0},${scale.scaleY ||
                  0}) rotate(${rotate.degree || 0}deg)`
              )
            }
            if (!this.autoplay) {
              this._drawFirstFrame()
            }
          }
          this._fixStyles()
          this.dispatchEvent('complete', {
            width: this.naturalWidth,
            height: this.naturalHeight
          })
          this._loaded = true
        }
        img.onerror = () => {
          this.imgElement.src = url
          this.imgElement.storeSrc = this.imgElement.src
          this.imgElement.setAttribute('url-error', url)
          this.dispatchEvent('error')
        }
        // 注： heic 库压缩后也占用1.2M左右体积
        // if (url.indexOf('.heic') !== -1 || url.indexOf('.heif') !== -1) {
        //   fetch(url)
        //     .then((res) => res.blob())
        //     .then((blob) => heic2any({ blob }))
        //     .then((conversionResult) => {
        //       const path = window.URL.createObjectURL(conversionResult)
        //       img.src = path
        //       url = path
        //     })
        // } else {
        img.src = url
        // }
      }
    },
    _drawFirstFrame() {
      const canvas = this._canvas
      const imgEle = this.imgElement
      const ctx = canvas.getContext('2d')
      canvas.width = imgEle.width
      canvas.height = imgEle.height
      ctx.drawImage(imgEle, 0, 0, imgEle.width, imgEle.height)
      imgEle.src = canvas.toDataURL('image/png')
    },
    startAnimation() {
      const imgEle = this.imgElement
      if (imgEle.status === 'stop') {
        imgEle.src = imgEle.storeSrc
        imgEle.status = 'play'
      }
    },
    stopAnimation() {
      const imgEle = this.imgElement
      if (imgEle.status === 'play') {
        this._drawFirstFrame()
        imgEle.status = 'stop'
      }
    },
    _setResizeMode(val) {
      this._resizeMode = val
      if (this._loaded) {
        this.imgElement.style.objectFit = val
      }
    }
  }
  const attr$1 = {
    src: function(val) {
      this.src = val
      this.node.setAttribute('src', val)
      // default src, 防止有些没有设置具体值的图片也显示一个默认的占位图，for 魔幻变变变
      this.imgElement.src = lib.img.defaultSrc
      this.imgElement.storeSrc = this.imgElement.src
      this.regiterIntersection()
    },
    alt: function(val) {
      this.imgElement.alt = val
    },
    placeholder: function(val) {
      this.imgElement.dataset.placeholder = val
    },
    // alias for placeholder (place-holder)
    placeHolder: function(val) {
      return this.attr.placeholder.call(this, val)
    },

    enablenightmode: function(val) {
      Atomic$1.prototype.unsupportPrompt.call(this, this.data.type, 'enablenightmode')
    },
    objectFit: function(val) {
      this._setResizeMode(val)
    },
    autoplay: function(val) {
      val = val && val !== 'false'
      this.autoplay = val
      this.imgElement.status = this.autoplay ? 'play' : 'stop'
    }
  }

  const style = {
    width: function(val) {
      if (val.indexOf('px') > -1) {
        val = parseFloat(val)
        if (val < 0 || isNaN(val)) {
          val = DEFAULT_SIZE
        }
        this.node.style.width = val + 'px'
      } else if (val.indexOf('%') > -1) {
        this._needFixWidth = true
        this.node.style.width = val
      } else {
        this.node.style.width = val
      }
    },

    height: function(val) {
      if (val.indexOf('px') > -1) {
        val = parseFloat(val)
        if (val < 0 || isNaN(val)) {
          val = DEFAULT_SIZE
        }
        this.node.style.height = val + 'px'
      } else {
        this.node.style.height = val
      }
    },

    resizeMode: function(val) {
      let _resizeMode = 'cover'
      if (RESIZE_MODES.indexOf(val) === -1) {
        _resizeMode = 'cover'
      }
      if (val === 'stretch') {
        _resizeMode = 'fill'
      } else if (val === 'center') {
        _resizeMode = 'none'
      } else {
        _resizeMode = val
      }
      this._setResizeMode(_resizeMode)
    },
    objectFit: function(val) {
      this._setResizeMode(val)
    },
    filter(val) {
      try {
        val = JSON.parse(val)
        let content = ''
        Object.keys(val).forEach(key => {
          content += key + '(' + val[key] + ') '
        })
        this.node.style.filter = content
      } catch (e) {
        this.node.style.filter = val
      }
    },
    paddingTop: function(val) {
      if (val.indexOf('%') === -1) {
        this.node.style.paddingTop = val
      }
    },

    paddingBottom: function(val) {
      if (val.indexOf('%') === -1) {
        this.node.style.paddingBottom = val
      }
    },

    paddingLeft: function(val) {
      if (val.indexOf('%') === -1) {
        this.node.style.paddingLeft = val
      }
    },

    paddingRight: function(val) {
      if (val.indexOf('%') === -1) {
        this.node.style.paddingRight = val
      }
    },
    bottom(val) {
      // add test for  动物声音模拟器
      if (this.data.style.position) {
        this.node.style.bottom = val
      }
    },
    altObjectFit(val) {}
  }

  const event = {
    load: {
      extra: function() {
        const { naturalWidth, naturalHeight } = this.imgElement
        return {
          naturalWidth,
          naturalHeight
        }
      }
    }
  }

  function init$b(Hap) {
    Atomic$1 = Hap.Atomic
    const extend = Hap.utils.extend

    function Image(data) {
      // this.resize = DEFAULT_RESIZE_MODE
      this.src = null
      this._loaded = false
      this._resizeMode = 'cover'
      Atomic$1.call(this, data)
    }
    Image.prototype = Object.create(Atomic$1.prototype)
    extend(Image.prototype, proto)
    extend(Image.prototype, {
      attr: extend(Object.create(Atomic$1.prototype.attr), attr$1)
    })
    extend(Image.prototype, {
      style: extend(Object.create(Atomic$1.prototype.style), style)
    })
    extend(Image.prototype, { event })

    Hap.registerComponent('image', Image)
  }

  var Image$1 = { init: init$b }

  /**
   * 处理引入字体@font-face
   */

  const existFonts = {}
  var fontFamilyDesc = {
    fontFamilyDesc(value) {
      // add test for 微博
      if (value === '') {
        return
      }

      // 暂不支持多个src 值，from 1030+： https://doc.quickapp.cn/widgets/font-face-style.html?h=font-family
      // add test 临时解决绝对路径的问题
      const basepath = Hap.basePath || `/${window.location.pathname.split('/')[1]}`
      const instanceId = this.data.instanceId
      if (!existFonts[instanceId]) {
        existFonts[instanceId] = {}
      }
      const fontsFamilies = JSON.parse(value)
      if (Array.isArray(fontsFamilies)) {
        fontsFamilies.forEach(font => {
          if (existFonts[instanceId][font.fontName] || !font.fontSrc) {
            existFonts[instanceId][font.fontName] &&
              existFonts[instanceId][font.fontName].loaded.then(() => {
                resetStackSize(this)
              })
            return
          }
          // 处理适配web的css片段
          font.fontSrc.forEach(fontSrc => {
            const url = fontSrc.indexOf('http') > -1 ? fontSrc : basepath + fontSrc
            // https://developer.mozilla.org/zh-CN/docs/Web/API/FontFace/FontFace
            const fontFaceInst = new FontFace(`${font.fontName}`, `url(${url})`)
            existFonts[instanceId][font.fontName] = fontFaceInst
            // wait for font to be loaded
            fontFaceInst.load().then(() => {
              resetStackSize(this)
            })
            // add font to document
            document.fonts.add(fontFaceInst)
          })
        })
      }
    }
  }

  // 字体加载完大小发生变化，如果处于stack内需重新调整stack大小
  function resetStackSize(comp) {
    const props = comp.data.props
    if (props && props._isInStack && props.stack) {
      // add test for apex-ui/circle
      if (!(props.stack.data.style && props.stack.data.style.height)) {
        props.stack.maxHeight = 0
        props.stack.node.style.height = ''
        comp._fixStyles()
      }
    }
  }

  function formatText(component, value, span) {
    const textLen = value.length
    let lines = 1
    if (!component.data.style || !component.data.style.lines || component.data.style.lines === -1) {
      return
    } else {
      lines = component.data.style.lines
    }
    const computedStyle = window.getComputedStyle(component.node)
    const baseWidth = computedStyle.width.slice(0, -2)
    const baseFontSize = computedStyle.fontSize.slice(0, -2)
    const perLineTextLen = Math.floor(baseWidth / baseFontSize)

    let displayContent = ''
    const maxTextLen = Math.floor(perLineTextLen * lines)
    let index = maxTextLen - textLen
    let curHeight
    let textHeight

    if (textLen > maxTextLen) {
      displayContent = value.slice(0, index - 3).concat('...')
      let lineHeight = 0
      if (
        component.data.style &&
        component.data.style.lineHeight &&
        component.data.style.lineHeight.indexOf('px') !== -1
      ) {
        lineHeight = parseInt(component.data.style.lineHeight)
      } else {
        lineHeight = baseFontSize * 1.4
      }
      const maxHeight = Math.ceil(lineHeight * lines)
      span.innerHTML = value
      curHeight = parseInt(span.getBoundingClientRect().height)
      textHeight = parseInt(component.node.getBoundingClientRect().height)
      const textOverflow = component.data.style.textOverflow || 'ellipsis'

      // 设置一个容许的误差范围： 5
      if (curHeight <= maxHeight || curHeight - maxHeight <= 5) {
        if (component.data._childNodesLength === 0 && lines === 1 && textHeight > curHeight) {
          component.node.classList.add('hap-text-center')
        }
        return
      }

      for (index = index - 2; index < 0; index++) {
        if (textOverflow === 'ellipsis') {
          span.innerHTML = value.slice(0, index).concat('...')
        } else {
          span.innerHTML = value.slice(0, index)
        }
        curHeight = parseInt(span.getBoundingClientRect().height)
        // 设置一个容许的误差范围： 5
        if (curHeight - maxHeight > lineHeight - 5) {
          break
        }
      }

      if (textOverflow === 'ellipsis') {
        displayContent = value.slice(0, index - 1).concat('...')
      } else {
        displayContent = value.slice(0, index - 1)
      }
      span.innerHTML = displayContent
    } else {
      span.innerHTML = value
      curHeight = parseInt(span.getBoundingClientRect().height)
      textHeight = parseInt(component.node.getBoundingClientRect().height)
      if (component.data._childNodesLength === 0 && lines === 1 && textHeight > curHeight) {
        component.node.classList.add('hap-text-center')
      }
    }
  }

  const DEFAULT_TEXT_OVERFLOW = 'ellipsis'
  let Component$1
  const alignMap = {
    left: 'flex-start',
    center: 'center',
    right: 'flex-end'
  }

  const proto$1 = {
    create() {
      const node = document.createElement('text')
      // Give the developers the ability to control space
      // and line-breakers.
      node.classList.add('hap-text')
      // add test 忘记因为什么加了 目前影响sample - richtext的展示，先去掉
      // node.style.lineHeight = node.style.lineHeight || this.data.style && this.data.style.height || ''
      this.textNode = document.createElement('span')
      this.textNode.classList.add('default-text')
      node.appendChild(this.textNode)
      if (this.data.style && this.data.style.textAlign) {
        node.style.justifyContent = alignMap[this.data.style.textAlign]
      }
      this._setProps(this.data, {
        _isInText: true
      })
      return node
    },

    clearAttr() {
      this.node.firstChild.textContent = ''
    },

    onAppend() {
      const parent = this.getParent()
      if (parent) {
        const parentStyles = parent.data.style
        const styles = this.data.style || {}
        // add test for news & health & com.autohome.quickapp/PageCarprovince & e-commerce/pages/Main
        if (parentStyles && parentStyles.flexDirection === 'column' && !parentStyles.alignItems) {
          // 如果父节点设置了flexDirection为column且alignItems不为flex-start等，则宽度撑满
          if (!this.node.style.width && !styles.alignSelf) {
            this.node.style.width = `-webkit-fill-available`
          }
          // 这里注释会导致news下方文字不居中 非文字对齐方式不对 跟image大小有关
          // if (parentStyles.justifyContent === 'center') {
          //   this.node.style.textAlign = 'center'
          // }
        }
      }

      // 为解决 autohome/PageCarSeries autohome/PageHotCarLevel 横向list中文字不横的问题
      this.node.style.whiteSpace = 'nowrap'
      if (this.node.scrollWidth > this._getProps('availableWidth')) {
        this.node.style.whiteSpace = ''
      }
      Component$1.prototype.onAppend.call(this)
      this.node.style.whiteSpace = ''
      if (
        this.data._childNodesLength === 1 &&
        this.node.firstChild.innerText === '' &&
        !(this.data.style && this.data.style.height && this.data.style.lines === 1)
      ) {
        this.node.classList.add('hap-text-center')
      }
      if (this.data._childNodesLength > 1) {
        this.node.classList.remove('hap-text-center')
      }
    }
  }

  const attr$2 = {
    value: function(value) {
      const span = this.node.firstChild
      span.innerHTML = ''
      if (value == null || value === '') {
        return
      }
      const valueType = typeof value
      value = valueType === 'string' ? value : JSON.stringify(value)
      // add test for /samples/functionality/form
      if (valueType === 'number') {
        span.style.wordBreak = 'keep-all'
      }
      // add test for 慢慢买、券妈妈优惠券、帅帅哒
      setTimeout(() => {
        formatText(this, value, span)
      }, 0)

      span.innerHTML = value
      // add test for autohome/PageIndex & autohome/PageCarSeries & wbcomic/Category
      // 如果在document上添加节点计算出span宽度后删除，则会影响list-item宽度的计算，具体表现在汽车之家首页展现偶现异常
      // if (value.length >= 2 && value.length <= 6) {
      //   this.node.style.whiteSpace = 'nowrap'
      // }
      // else {
      //   this.node.style.whiteSpace = ''
      // }
      this.node.style.whiteSpace = 'nowrap'
      if (this.node.scrollWidth > this._getProps('availableWidth')) {
        this.node.style.whiteSpace = ''
      }
      // 设置value后text大小会变化，需重新调整祖先宽高，for autohome/PageVideo
      this._fixStyles()
      this.node.style.whiteSpace = ''
      /**
* Developers are supposed to have the ability to break text
* lines manually. Using ``&nbsp;`` to replace text space is
* not compatible with the ``-webkit-line-clamp``. Therefor
* we use ``white-space: no-wrap`` instead (instead of the
* code bellow).

const frag = document.createDocumentFragment()
  text.split(' ').forEach(function(str) {
    const textNode = document.createTextNode(str)
    const space = document.createElement('i')
    space.innerHTML = '&nbsp;'
    frag.appendChild(space)
    frag.appendChild(textNode)
  })
  frag.removeChild(frag.firstChild)
  span.appendChild(document.createElement('br'))
  span.appendChild(frag)
})
span.removeChild(span.firstChild)
*/
    }
  }

  const style$1 = {
    lines: function(val) {
      val = parseInt(val)
      if (isNaN(val)) {
        return
      }
      if (val <= 0) {
        this.node.style.textOverflow = ''
        this.node.style.overflow = 'visible'
        this.node.style.webkitLineClamp = ''
      } else {
        const style = this.data ? this.data.style : null
        this.node.style.overflow = 'hidden'
        this.node.style.textOverflow = style ? style.textOverflow : DEFAULT_TEXT_OVERFLOW
        this.node.style.webkitLineClamp = val

        // add test for 美食天下、王者荣耀盒子、知命八字算命、一点资讯 (ps:此处可能改了开发者原来设置的样式)
        setTimeout(() => {
          const clientHeight = this.node.offsetHeight
          const scrollHeight = this.node.scrollHeight
          if (scrollHeight > clientHeight * 1.2) {
            // 加系数以兼容一点资讯
            const computedStyle = global.getComputedStyle(this.node)
            const paddingHeight =
              parseFloat(computedStyle.paddingTop) + parseFloat(computedStyle.paddingBottom)
            const pT = parseFloat(computedStyle.paddingTop)
            const pB = parseFloat(computedStyle.paddingBottom)
            const mT = parseFloat(computedStyle.marginTop)
            const mB = parseFloat(computedStyle.marginBottom)
            const lineHeight = (clientHeight - paddingHeight) / val
            this.node.style.lineHeight = lineHeight + 'px'
            this.node.style.paddingTop = '0px'
            this.node.style.paddingBottom = '0px'
            this.node.style.marginTop = pT + mT + 'px'
            this.node.style.marginBottom = pB + mB + 'px'
          }
        })
      }
    },

    textOverflow: function(val) {
      this.node.style.textOverflow = val
    },
    textAlign(val) {
      this.node.style.textAlign = val
      const style = this.data.style
      // add test for 快速问医生
      if (style && style.display === 'flex' && !style.justifyContent) {
        this.node.style.justifyContent = alignMap[val]
      }
      const isHapTextCenter = Object.values(this.node.classList).some(
        item => item === 'hap-text-center'
      )
      if (isHapTextCenter) {
        this.node.style.justifyContent = alignMap[val]
      }
    },
    height(val) {
      this.node.style.height = val
      if (val !== '' && (!this.data.style || this.data.style.lines !== 1)) {
        this.node.classList.add('hap-text-center')
      } else {
        this.node.classList.remove('hap-text-center')
      }
    }
  }

  function init$c(Hap) {
    // const Atomic = Hap.Atomic
    Component$1 = Hap.Component
    const extend = Hap.utils.extend

    // attr
    //  - value: text content.
    // style
    //  - lines: maximum lines of the text.
    function Text(data, nodeType) {
      Component$1.call(this, data, nodeType)
    }
    Text.prototype = Object.create(Component$1.prototype)
    extend(Text.prototype, proto$1)
    extend(Text.prototype, { attr: extend(Object.create(Component$1.prototype.attr), attr$2) })
    extend(Text.prototype, {
      style: extend(Object.create(Component$1.prototype.style), fontFamilyDesc, style$1)
    })

    Hap.registerComponent('text', Text)
  }

  var Text = { init: init$c }

  var css_248z$3 =
    '.scrollable-wrap{display:block;overflow:hidden;height:100%;width:-webkit-fill-available;flex:0 999999 auto;pointer-events:auto}.scrollable-element.horizontal{-webkit-box-orient:horizontal;-webkit-flex-direction:row;flex-direction:row}.scrollable-element.vertical{-webkit-box-orient:vertical;-webkit-flex-direction:column;flex-direction:column}.hap-list-item.row{max-width:100%;flex-shrink:0}.hap-list-item.column,.hap-list-item.row{box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:flex;z-index:0;overflow:hidden}.hap-list-item.column{height:fit-content;max-width:100vw}'
  styleInject(css_248z$3)

  /* global lib: true */

  /**
   * transfer Quadratic Bezier Curve to Cubic Bezier Curve
   *
   * @param  {number} a abscissa of p1
   * @param  {number} b ordinate of p1
   * @return {Array} parameter matrix for cubic bezier curve
   *   like [[p1x, p1y], [p2x, p2y]]
   */
  function quadratic2cubicBezier(a, b) {
    return [
      [
        (a / 3 + (a + b) / 3 - a) / (b - a),
        ((a * a) / 3 + (a * b * 2) / 3 - a * a) / (b * b - a * a)
      ],
      [
        (b / 3 + (a + b) / 3 - a) / (b - a),
        ((b * b) / 3 + (a * b * 2) / 3 - a * a) / (b * b - a * a)
      ]
    ]
  }

  /**
   * derive position data from knowing motion parameters
   * base on Newton's second law: s = vt + at^2/2
   *
   * @param {object} config object of { v, a, s, t }
   *   - v: initial velocity
   *   - a: accelerate speed
   *   - t: time
   *   - s: shifting
   */
  function Motion(config) {
    this.v = config.v || 0
    this.a = config.a || 0

    if (typeof config.t !== 'undefined') {
      this.t = config.t
    }

    if (typeof config.s !== 'undefined') {
      this.s = config.s
    }

    // derive time from shifting
    if (typeof this.t === 'undefined') {
      if (typeof this.s === 'undefined') {
        this.t = -this.v / this.a
      } else {
        const t1 = (Math.sqrt(this.v * this.v + 2 * this.a * this.s) - this.v) / this.a
        const t2 = (-Math.sqrt(this.v * this.v + 2 * this.a * this.s) - this.v) / this.a
        this.t = Math.min(t1, t2)
      }
    }

    // derive shifting from time
    if (typeof this.s === 'undefined') {
      this.s = (this.a * this.t * this.t) / 2 + this.v * this.t
    }
  }

  /**
   * derive cubic bezier parameters from motion parameters
   * @return {Array} parameter matrix for cubic bezier curve
   *   like [[p1x, p1y], [p2x, p2y]]
   */
  Motion.prototype.generateCubicBezier = function() {
    return quadratic2cubicBezier(this.v / this.a, this.t + this.v / this.a)
  }

  !lib && (lib = {})
  lib.motion = Motion

  /* eslint-disable */

  var doc$1 = window.document
  var ua$1 = window.navigator.userAgent
  var scrollObjs = {}
  var plugins = {}
  var dpr =
    window.dpr ||
    (!!window.navigator.userAgent.match(/iPhone|iPad|iPod/)
      ? document.documentElement.clientWidth / window.screen.availWidth
      : 1)
  var inertiaCoefficient = {
    normal: [2 * dpr, 0.0015 * dpr],
    slow: [1.5 * dpr, 0.003 * dpr],
    veryslow: [1.5 * dpr, 0.005 * dpr]
  }
  var Firefox = !!ua$1.match(/Firefox/i)
  var IEMobile = !!ua$1.match(/IEMobile/i)
  var cssPrefix$1 = Firefox ? '-moz-' : IEMobile ? '-ms-' : '-webkit-'
  var stylePrefix$1 = Firefox ? 'Moz' : IEMobile ? 'ms' : 'webkit'

  function debugLog() {
    if (lib.scroll.outputDebugLog) {
      console.log.apply(console, arguments)
    }
  }

  function getBoundingClientRect$1(el) {
    var rect = el.getBoundingClientRect()
    if (!rect) {
      rect = {}
      rect.width = el.offsetWidth
      rect.height = el.offsetHeight

      rect.left = el.offsetLeft
      rect.top = el.offsetTop
      var parent = el.offsetParent
      while (parent) {
        rect.left += parent.offsetLeft
        rect.top += parent.offsetTop
        parent = parent.offsetParent
      }

      rect.right = rect.left + rect.width
      rect.bottom = rect.top + rect.height
    }
    return rect
  }

  function getMinScrollOffset(scrollObj) {
    return 0 - scrollObj.options[scrollObj.axis + 'PaddingTop']
  }

  function getMaxScrollOffset(scrollObj) {
    var rect = getBoundingClientRect$1(scrollObj.element)
    var pRect = getBoundingClientRect$1(scrollObj.viewport)
    var min = getMinScrollOffset(scrollObj)
    if (scrollObj.axis === 'y') {
      var max = 0 - rect.height + pRect.height
    } else {
      var max = 0 - rect.width + pRect.width
    }
    return Math.min(max + scrollObj.options[scrollObj.axis + 'PaddingBottom'], min)
  }

  function getBoundaryOffset(scrollObj, offset) {
    if (offset > scrollObj.minScrollOffset) {
      return offset - scrollObj.minScrollOffset
    }
    if (offset < scrollObj.maxScrollOffset) {
      return offset - scrollObj.maxScrollOffset
    }
  }

  function touchBoundary(scrollObj, offset) {
    if (offset > scrollObj.minScrollOffset) {
      offset = scrollObj.minScrollOffset
    } else if (offset < scrollObj.maxScrollOffset) {
      offset = scrollObj.maxScrollOffset
    }
    return offset
  }

  function fireEvent$3(scrollObj, eventName, extra) {
    debugLog(scrollObj.element.scrollId, eventName, extra)
    var event = doc$1.createEvent('HTMLEvents')
    event.initEvent(eventName, false, true)
    event.scrollObj = scrollObj
    if (extra) {
      for (var key in extra) {
        event[key] = extra[key]
      }
    }
    scrollObj.element.dispatchEvent(event)
    scrollObj.viewport.dispatchEvent(event)
  }

  function getTransformOffset(scrollObj) {
    var offset = { x: 0, y: 0 }
    var transform = getComputedStyle(scrollObj.element)[stylePrefix$1 + 'Transform']
    var matched
    var reg1 = new RegExp(
      '^matrix3d' + '\\((?:[-\\d.]+,\\s*){12}([-\\d.]+),' + '\\s*([-\\d.]+)(?:,\\s*[-\\d.]+){2}\\)'
    )
    var reg2 = new RegExp('^matrix' + '\\((?:[-\\d.]+,\\s*){4}([-\\d.]+),\\s*([-\\d.]+)\\)$')
    if (transform !== 'none') {
      if ((matched = transform.match(reg1) || transform.match(reg2))) {
        offset.x = parseFloat(matched[1]) || 0
        offset.y = parseFloat(matched[2]) || 0
      }
    }

    return offset
  }

  var CSSMatrix = IEMobile ? 'MSCSSMatrix' : 'WebKitCSSMatrix'
  var has3d = !!Firefox || (CSSMatrix in window && 'm11' in new window[CSSMatrix]())
  function getTranslate(x, y) {
    x = parseFloat(x)
    y = parseFloat(y)

    if (x != 0) {
      x += 'px'
    }

    if (y != 0) {
      y += 'px'
    }

    if (has3d) {
      return 'translate3d(' + x + ', ' + y + ', 0)'
    }
    return 'translate(' + x + ', ' + y + ')'
  }

  function setTransitionStyle(scrollObj, duration, timingFunction) {
    if (duration === '' && timingFunction === '') {
      scrollObj.element.style[stylePrefix$1 + 'Transition'] = ''
    } else {
      scrollObj.element.style[stylePrefix$1 + 'Transition'] =
        cssPrefix$1 + 'transform ' + duration + ' ' + timingFunction + ' 0s'
    }
  }

  function setTransformStyle(scrollObj, offset) {
    var x = 0
    var y = 0
    if (typeof offset === 'object') {
      x = offset.x
      y = offset.y
    } else {
      if (scrollObj.axis === 'y') {
        y = offset
      } else {
        x = offset
      }
    }
    scrollObj.element.style[stylePrefix$1 + 'Transform'] = getTranslate(x, y)
  }

  var panning = false
  doc$1.addEventListener(
    'touchmove',
    function(e) {
      if (panning) {
        return false
      }
      return true
    },
    false
  )

  function Scroll(element, options) {
    var that = this

    options = options || {}
    options.noBounce = !!options.noBounce
    options.padding = options.padding || {}

    if (options.isPrevent == null) {
      options.isPrevent = true
    } else {
      options.isPrevent = !!options.isPrevent
    }

    if (options.isFixScrollendClick == null) {
      options.isFixScrollendClick = true
    } else {
      options.isFixScrollendClick = !!options.isFixScrollendClick
    }

    if (options.padding) {
      options.yPaddingTop = -options.padding.top || 0
      options.yPaddingBottom = -options.padding.bottom || 0
      options.xPaddingTop = -options.padding.left || 0
      options.xPaddingBottom = -options.padding.right || 0
    } else {
      options.yPaddingTop = 0
      options.yPaddingBottom = 0
      options.xPaddingTop = 0
      options.xPaddingBottom = 0
    }

    options.direction = options.direction || 'y'
    options.inertia = options.inertia || 'normal'

    this.options = options
    that.axis = options.direction
    this.element = element
    this.viewport = element.parentNode
    this.plugins = {}
    this.curOffset = 0

    this.scrollpage = options.scrollpage
    this.inscrollpageView = false
    let defaultEventConfig = false
    this._$root = document.querySelector('root')
    this._viewPortTop = 0
    if (this.scrollpage) {
      defaultEventConfig = { passive: false, cancelable: true }
    }

    this.element.scrollId = setTimeout(function() {
      scrollObjs[that.element.scrollId + ''] = that
    }, 1)

    // passive：fix [Violation] Added non-passive event listener to a scroll-blocking 'mousewheel' event. Consider marking event handler as 'passive' to make the page more responsive.
    this.viewport.addEventListener('touchstart', touchstartHandler, {
      capture: false,
      passive: true
    })
    this.viewport.addEventListener('touchend', touchendHandler, false)
    this.viewport.addEventListener('touchcancel', touchendHandler, false)
    this.viewport.addEventListener('panstart', panstartHandler, false)
    this.viewport.addEventListener('panmove', panHandler, defaultEventConfig)
    this.viewport.addEventListener('panend', panendHandler, false)

    if (options.isPrevent) {
      this.viewport.addEventListener(
        'touchstart',
        function(e) {
          panning = true
        },
        { capture: false, passive: true }
      )
      that.viewport.addEventListener(
        'touchend',
        function(e) {
          panning = false
        },
        false
      )
    }

    // if (options.isPrevent) {
    //   var d = this.axis === 'y'?'vertical':'horizontal'
    //   this.viewport.addEventListener(d + 'panstart', function (e) {
    //     panning = true
    //   }, false)
    //   that.viewport.addEventListener('panend', function (e) {
    //     panning = false
    //   }, false)
    // }

    if (options.isFixScrollendClick) {
      var preventScrollendClick
      var fixScrollendClickTimeoutId

      this.viewport.addEventListener(
        'scrolling',
        function() {
          preventScrollendClick = true
          fixScrollendClickTimeoutId && clearTimeout(fixScrollendClickTimeoutId)
          fixScrollendClickTimeoutId = setTimeout(function(e) {
            preventScrollendClick = false
          }, 400)
        },
        false
      )

      function preventScrollendClickHandler(e) {
        if (preventScrollendClick || isScrolling) {
          e.preventDefault()
          e.stopPropagation()
          return false
        }
        return true
      }

      function fireNiceTapEventHandler(e) {
        if (!preventScrollendClick && !isScrolling) {
          setTimeout(function() {
            var niceTapEvent = document.createEvent('HTMLEvents')
            niceTapEvent.initEvent('niceclick', true, true)
            e.target.dispatchEvent(niceTapEvent)
          }, 300)
        }
      }

      this.viewport.addEventListener('click', preventScrollendClickHandler)
      this.viewport.addEventListener('tap', fireNiceTapEventHandler)
    }

    function setTransitionEndHandler(h, t) {
      if (options.useFrameAnimation) {
        return
      }
      transitionEndHandler = null
      clearTimeout(transitionEndTimeoutId)

      transitionEndTimeoutId = setTimeout(function() {
        if (transitionEndHandler) {
          transitionEndHandler = null
          lib.animation.requestFrame(h)
        }
      }, t || 400)

      transitionEndHandler = h
    }

    if (options.useFrameAnimation) {
      var scrollAnimation

      Object.defineProperty(this, 'animation', {
        get: function() {
          return scrollAnimation
        }
      })
    } else {
      var transitionEndHandler
      var transitionEndTimeoutId = 0

      element.addEventListener(
        Firefox ? 'transitionend' : stylePrefix$1 + 'TransitionEnd',
        function(e) {
          if (transitionEndHandler) {
            var handler = transitionEndHandler

            transitionEndHandler = null
            clearTimeout(transitionEndTimeoutId)

            lib.animation.requestFrame(function() {
              handler(e)
            })
          }
        },
        false
      )
    }

    var panFixRatio
    var isScrolling
    var isFlickScrolling
    var cancelScrollEnd

    Object.defineProperty(this, 'isScrolling', {
      get: function() {
        return !!isScrolling
      }
    })

    function isEnabled(e) {
      if (!that.enabled) {
        return false
      }

      if (typeof e.isVertical != 'undefined') {
        if ((that.axis === 'y' && e.isVertical) || (that.axis === 'x' && !e.isVertical)) {
          // gesture in same direction, stop bubbling up
          e.stopPropagation()
        } else {
          // gesture in different direction, bubbling up
          // to the top, without any other process
          return false
        }
      }

      return true
    }

    function touchstartHandler(e) {
      if (!isEnabled(e)) {
        return
      }

      if (isScrolling) {
        scrollEnd()
      }

      if (options.useFrameAnimation) {
        scrollAnimation && scrollAnimation.stop()
        scrollAnimation = null
      } else {
        var transform = getTransformOffset(that)
        setTransformStyle(that, transform)
        setTransitionStyle(that, '', '')
        transitionEndHandler = null
        clearTimeout(transitionEndTimeoutId)
      }
    }

    function touchendHandler(e) {
      if (!isEnabled(e)) {
        return
      }

      var s0 = getTransformOffset(that)[that.axis]
      var boundaryOffset = getBoundaryOffset(that, s0)

      if (boundaryOffset) {
        // dragging out of boundray, bounce is needed
        var s1 = touchBoundary(that, s0)

        if (options.useFrameAnimation) {
          // frame
          var _s = s1 - s0
          scrollAnimation = new lib.animation(400, lib.cubicbezier.ease, 0, function(i1, i2) {
            var offset = (s0 + _s * i2).toFixed(2)
            setTransformStyle(that, offset)
            fireEvent$3(that, 'scrolling')
          })
          scrollAnimation.onend(scrollEnd)
          scrollAnimation.play()
        } else {
          // css
          var offset = s1.toFixed(0)
          setTransitionEndHandler(scrollEnd, 400)
          setTransitionStyle(that, '0.4s', 'ease')
          setTransformStyle(that, offset)

          lib.animation.requestFrame(function doScroll() {
            if (isScrolling && that.enabled) {
              fireEvent$3(that, 'scrolling')
              lib.animation.requestFrame(doScroll)
            }
          })
        }

        if (boundaryOffset > 0) {
          fireEvent$3(that, that.axis === 'y' ? 'pulldownend' : 'pullrightend')
        } else if (boundaryOffset < 0) {
          fireEvent$3(that, that.axis === 'y' ? 'pullupend' : 'pullleftend')
        }
      } else if (isScrolling) {
        // without exceeding the boundary, just end it
        scrollEnd()
      }
    }

    var lastDisplacement
    function panstartHandler(e) {
      if (!isEnabled(e)) {
        return
      }

      that.transformOffset = getTransformOffset(that)
      that.minScrollOffset = getMinScrollOffset(that)
      that.maxScrollOffset = getMaxScrollOffset(that)
      panFixRatio = 2.5
      cancelScrollEnd = true
      isScrolling = true
      isFlickScrolling = false
      fireEvent$3(that, 'scrollstart')

      lastDisplacement = e['displacement' + that.axis.toUpperCase()]

      // isscrollpage
      that.moveDisplacement = 0
    }

    function panHandler(e) {
      if (!isEnabled(e)) {
        return
      }

      if (that.scrollpage) {
        const scrollTop = that._$root.scrollTop
        // sticky list in the top
        if (that.inscrollpageView) {
          that._$root.scrollTop = that._viewPortTop
        } else {
          if (scrollTop >= that._viewPortTop) {
            that.inscrollpageView = true
            that._$root.scrollTop = that._viewPortTop
          } else {
            that.moveDisplacement = e['displacement' + that.axis.toUpperCase()]
            that.inscrollpageView = false
            return false
          }
        }
      }

      let displacement = e['displacement' + that.axis.toUpperCase()]
      if (that.inscrollpageView && that.moveDisplacement !== 0) {
        displacement -= that.moveDisplacement
      }

      // finger move less than 5 px. just ignore that.
      // var displacement = e['displacement' + that.axis.toUpperCase()]
      if (Math.abs(displacement - lastDisplacement) < 5) {
        e.stopPropagation()
        return
      }
      lastDisplacement = displacement

      var offset = that.transformOffset[that.axis] + displacement
      if (offset > that.minScrollOffset) {
        offset = that.minScrollOffset + (offset - that.minScrollOffset) / panFixRatio
        panFixRatio *= 1.003
      } else if (offset < that.maxScrollOffset) {
        offset = that.maxScrollOffset - (that.maxScrollOffset - offset) / panFixRatio
        panFixRatio *= 1.003
      }
      if (panFixRatio > 4) {
        panFixRatio = 4
      }

      // tell whether or not reach the fringe
      var boundaryOffset = getBoundaryOffset(that, offset)
      if (boundaryOffset) {
        const eventType =
          boundaryOffset > 0
            ? that.axis === 'y'
              ? 'pulldown'
              : 'pullright'
            : that.axis === 'y'
            ? 'pullup'
            : 'pullleft'

        fireEvent$3(that, eventType, {
          boundaryOffset: Math.abs(boundaryOffset)
        })
        if (that.options.noBounce) {
          let resOffset = touchBoundary(that, offset)
          if (eventType === 'pulldown' && resOffset === 0) {
            that.inscrollpageView = false
            that._$root.scrollTop -= offset
          }
        }
      }

      setTransformStyle(that, offset.toFixed(2))
      fireEvent$3(that, 'scrolling')
    }

    function panendHandler(e) {
      if (!isEnabled(e)) {
        return
      }

      if (e.isSwipe) {
        flickHandler(e)
      }

      if (that.scrollpage) {
        // sticky list in the top
        if (that.inscrollpageView) {
          that._$root.scrollTop = that._viewPortTop
        }
      }
    }

    function flickHandler(e) {
      cancelScrollEnd = true

      var v0, a0, t0, s0, s, motion0
      var v1, a1, t1, s1, motion1, sign
      var v2, a2, t2, s2, motion2

      s0 = getTransformOffset(that)[that.axis]
      var boundaryOffset0 = getBoundaryOffset(that, s0)
      if (!boundaryOffset0) {
        // when fingers left the range of screen, let touch end handler
        // to deal with it.
        // when fingers left the screen, but still in the range of
        // screen, calculate the intertia.
        v0 = e['velocity' + that.axis.toUpperCase()]

        var maxV = 2
        var friction = 0.0015
        if (options.inertia && inertiaCoefficient[options.inertia]) {
          maxV = inertiaCoefficient[options.inertia][0]
          friction = inertiaCoefficient[options.inertia][1]
        }

        if (v0 > maxV) {
          v0 = maxV
        }
        if (v0 < -maxV) {
          v0 = -maxV
        }
        a0 = friction * (v0 / Math.abs(v0))
        motion0 = new lib.motion({
          v: v0,
          a: -a0
        })
        t0 = motion0.t
        s = s0 + motion0.s

        var boundaryOffset1 = getBoundaryOffset(that, s)
        if (boundaryOffset1) {
          debugLog('inertial calculation has exceeded the boundary', boundaryOffset1)

          v1 = v0
          a1 = a0
          if (boundaryOffset1 > 0) {
            s1 = that.minScrollOffset
            sign = 1
          } else {
            s1 = that.maxScrollOffset
            sign = -1
          }
          motion1 = new lib.motion({
            v: sign * v1,
            a: -sign * a1,
            s: Math.abs(s1 - s0)
          })
          t1 = motion1.t
          var timeFunction1 = motion1.generateCubicBezier()

          v2 = v1 - a1 * t1
          a2 = 0.03 * (v2 / Math.abs(v2))
          motion2 = new lib.motion({
            v: v2,
            a: -a2
          })
          t2 = motion2.t
          s2 = s1 + motion2.s
          var timeFunction2 = motion2.generateCubicBezier()

          if (options.noBounce) {
            debugLog('no bounce effect')

            if (s0 !== s1) {
              if (options.useFrameAnimation) {
                // frame
                var _s = s1 - s0
                var bezier = lib.cubicbezier(
                  timeFunction1[0][0],
                  timeFunction1[0][1],
                  timeFunction1[1][0],
                  timeFunction1[1][1]
                )
                scrollAnimation = new lib.animation(t1.toFixed(0), bezier, 0, function(i1, i2) {
                  var offset = s0 + _s * i2
                  getTransformOffset(that, offset.toFixed(2))
                  fireEvent$3(that, 'scrolling', {
                    afterFlick: true
                  })
                })

                scrollAnimation.onend(scrollEnd)

                scrollAnimation.play()
              } else {
                // css
                var offset = s1.toFixed(0)
                setTransitionEndHandler(scrollEnd, (t1 / 1000).toFixed(2) * 1000)
                setTransitionStyle(
                  that,
                  (t1 / 1000).toFixed(2) + 's',
                  'cubic-bezier(' + timeFunction1 + ')'
                )
                setTransformStyle(that, offset)
              }
            } else {
              scrollEnd()
            }
          } else if (s0 !== s2) {
            debugLog(
              'scroll for inertia',
              's=' + s2.toFixed(0),
              't=' + ((t1 + t2) / 1000).toFixed(2)
            )

            if (options.useFrameAnimation) {
              var _s = s2 - s0
              var bezier = lib.cubicbezier.easeOut
              scrollAnimation = new lib.animation((t1 + t2).toFixed(0), bezier, 0, function(
                i1,
                i2
              ) {
                var offset = s0 + _s * i2
                setTransformStyle(that, offset.toFixed(2))
                fireEvent$3(that, 'scrolling', {
                  afterFlick: true
                })
              })

              scrollAnimation.onend(function() {
                if (!that.enabled) {
                  return
                }

                var _s = s1 - s2
                var bezier = lib.cubicbezier.ease
                scrollAnimation = new lib.animation(400, bezier, 0, function(i1, i2) {
                  var offset = s2 + _s * i2
                  setTransformStyle(that, offset.toFixed(2))
                  fireEvent$3(that, 'scrolling', {
                    afterFlick: true
                  })
                })

                scrollAnimation.onend(scrollEnd)

                scrollAnimation.play()
              })

              scrollAnimation.play()
            } else {
              var offset = s2.toFixed(0)
              setTransitionEndHandler(function(e) {
                if (!that.enabled) {
                  return
                }

                debugLog('inertial bounce', 's=' + s1.toFixed(0), 't=400')

                if (s2 !== s1) {
                  var offset = s1.toFixed(0)
                  setTransitionStyle(that, '0.4s', 'ease')
                  setTransformStyle(that, offset)
                  setTransitionEndHandler(scrollEnd, 400)
                } else {
                  scrollEnd()
                }
              }, ((t1 + t2) / 1000).toFixed(2) * 1000)

              setTransitionStyle(that, ((t1 + t2) / 1000).toFixed(2) + 's', 'ease-out')
              setTransformStyle(that, offset)
            }
          } else {
            scrollEnd()
          }
        } else {
          debugLog("inertial calculation hasn't exceeded the boundary")
          var timeFunction = motion0.generateCubicBezier()

          if (options.useFrameAnimation) {
            // frame
            var _s = s - s0
            var bezier = lib.cubicbezier(
              timeFunction[0][0],
              timeFunction[0][1],
              timeFunction[1][0],
              timeFunction[1][1]
            )
            scrollAnimation = new lib.animation(t0.toFixed(0), bezier, 0, function(i1, i2) {
              var offset = (s0 + _s * i2).toFixed(2)
              setTransformStyle(that, offset)
              fireEvent$3(that, 'scrolling', {
                afterFlick: true
              })
            })

            scrollAnimation.onend(scrollEnd)

            scrollAnimation.play()
          } else {
            // css
            var offset = s.toFixed(0)
            setTransitionEndHandler(scrollEnd, (t0 / 1000).toFixed(2) * 1000)
            setTransitionStyle(
              that,
              (t0 / 1000).toFixed(2) + 's',
              'cubic-bezier(' + timeFunction + ')'
            )
            setTransformStyle(that, offset)
          }
        }

        isFlickScrolling = true
        if (!options.useFrameAnimation) {
          lib.animation.requestFrame(function doScroll() {
            if (isScrolling && isFlickScrolling && that.enabled) {
              fireEvent$3(that, 'scrolling', {
                afterFlick: true
              })
              lib.animation.requestFrame(doScroll)
            }
          })
        }
      }
    }

    function scrollEnd() {
      if (!that.enabled) {
        return
      }

      cancelScrollEnd = false

      setTimeout(function() {
        if (!cancelScrollEnd && isScrolling) {
          isScrolling = false
          isFlickScrolling = false

          if (options.useFrameAnimation) {
            scrollAnimation && scrollAnimation.stop()
            scrollAnimation = null
          } else {
            setTransitionStyle(that, '', '')
          }
          fireEvent$3(that, 'scrollend')
        }
      }, 50)
    }

    var proto = {
      init: function() {
        this.enable()
        this.refresh()
        this.scrollTo(0)
        return this
      },

      enable: function() {
        this.enabled = true
        return this
      },

      disable: function() {
        var el = this.element
        this.enabled = false

        if (this.options.useFrameAnimation) {
          scrollAnimation && scrollAnimation.stop()
        } else {
          lib.animation.requestFrame(function() {
            el.style[stylePrefix$1 + 'Transform'] = getComputedStyle(el)[
              stylePrefix$1 + 'Transform'
            ]
          })
        }

        return this
      },

      getScrollWidth: function() {
        return getBoundingClientRect$1(this.element).width
      },

      getScrollHeight: function() {
        return getBoundingClientRect$1(this.element).height
      },

      getScrollLeft: function() {
        return -getTransformOffset(this).x - this.options.xPaddingTop
      },

      getScrollTop: function() {
        return -getTransformOffset(this).y - this.options.yPaddingTop
      },

      getMaxScrollLeft: function() {
        return -that.maxScrollOffset - this.options.xPaddingTop
      },

      getMaxScrollTop: function() {
        return -that.maxScrollOffset - this.options.yPaddingTop
      },

      getBoundaryOffset: function() {
        return Math.abs(getBoundaryOffset(this, getTransformOffset(this)[this.axis]) || 0)
      },

      refresh: function() {
        var el = this.element
        var isVertical = this.axis === 'y'
        var type = isVertical ? 'height' : 'width'
        var size, rect

        function getExtraSize(el, isVertical) {
          var extraType = isVertical ? ['top', 'bottom'] : ['left', 'right']
          return (
            parseFloat(getComputedStyle(el.firstElementChild)['margin-' + extraType[0]]) +
            parseFloat(getComputedStyle(el.lastElementChild)['margin-' + extraType[1]])
          )
        }

        if (this.options[type] != null) {
          // use options
          size = this.options[type]
        } else if (el.childElementCount <= 0) {
          el.style[type] = 'auto'
          size = null
        } else if (!!this.options.useElementRect) {
          el.style[type] = 'auto'
          rect = getBoundingClientRect$1(el)
          size = rect[type]
          size += getExtraSize(el, isVertical)
        } else {
          var range, rect
          var firstEl = el.firstElementChild
          var lastEl = el.lastElementChild

          if (document.createRange && !this.options.ignoreOverflow) {
            // use range
            range = document.createRange()
            range.selectNodeContents(el)
            rect = getBoundingClientRect$1(range)
          }

          if (rect) {
            size = rect[type]
          } else {
            // use child offsets
            while (firstEl) {
              if (getBoundingClientRect$1(firstEl)[type] === 0 && firstEl.nextElementSibling) {
                firstEl = firstEl.nextElementSibling
              } else {
                break
              }
            }

            while (lastEl && lastEl !== firstEl) {
              if (getBoundingClientRect$1(lastEl)[type] === 0 && lastEl.previousElementSibling) {
                lastEl = lastEl.previousElementSibling
              } else {
                break
              }
            }

            size =
              getBoundingClientRect$1(lastEl)[isVertical ? 'bottom' : 'right'] -
              getBoundingClientRect$1(firstEl)[isVertical ? 'top' : 'left']
          }

          size += getExtraSize(el, isVertical)
        }

        // add test for psychologist/user/expert/index
        // el.style[type] = size ? size + 'px' : 'auto'
        el.style[type] = type === 'width' ? 'fit-content' : 'auto'

        this.transformOffset = getTransformOffset(this)
        this.minScrollOffset = getMinScrollOffset(this)
        this.maxScrollOffset = getMaxScrollOffset(this)

        this.scrollTo(-this.transformOffset[this.axis] - this.options[this.axis + 'PaddingTop'])
        fireEvent$3(this, 'contentrefresh')
        if (!this.inscrollpageView) {
          const viewRect = getBoundingClientRect$1(this.viewport)
          let top = viewRect.top
          if (document.querySelector('h-titlebar')) {
            const titlebarHeight = getBoundingClientRect$1(document.querySelector('h-titlebar'))
              .height
            top -= titlebarHeight
          }
          this._viewPortTop = top
        }
        return this
      },

      offset: function(childEl) {
        var elRect = getBoundingClientRect$1(this.element)
        var childRect = getBoundingClientRect$1(childEl)
        if (this.axis === 'y') {
          var offsetRect = {
            top: childRect.top - elRect.top - this.options.yPaddingTop,
            left: childRect.left - elRect.left,
            right: elRect.right - childRect.right,
            width: childRect.width,
            height: childRect.height
          }

          offsetRect.bottom = offsetRect.top + offsetRect.height
        } else {
          var offsetRect = {
            top: childRect.top - elRect.top,
            bottom: elRect.bottom - childRect.bottom,
            left: childRect.left - elRect.left - this.options.xPaddingTop,
            width: childRect.width,
            height: childRect.height
          }

          offsetRect.right = offsetRect.left + offsetRect.width
        }
        return offsetRect
      },

      getRect: function(childEl) {
        var viewRect = getBoundingClientRect$1(this.viewport)
        var childRect = getBoundingClientRect$1(childEl)
        if (this.axis === 'y') {
          var offsetRect = {
            top: childRect.top - viewRect.top,
            left: childRect.left - viewRect.left,
            right: viewRect.right - childRect.right,
            width: childRect.width,
            height: childRect.height
          }

          offsetRect.bottom = offsetRect.top + offsetRect.height
        } else {
          var offsetRect = {
            top: childRect.top - viewRect.top,
            bottom: viewRect.bottom - childRect.bottom,
            left: childRect.left - viewRect.left,
            width: childRect.width,
            height: childRect.height
          }

          offsetRect.right = offsetRect.left + offsetRect.width
        }
        return offsetRect
      },

      isInView: function(childEl) {
        var viewRect = this.getRect(this.viewport)
        var childRect = this.getRect(childEl)
        if (this.axis === 'y') {
          return viewRect.top < childRect.bottom && viewRect.bottom > childRect.top
        }
        return viewRect.left < childRect.right && viewRect.right > childRect.left
      },

      scrollTo: function(offset, behavior) {
        var that = this
        var element = this.element

        offset = -offset - this.options[this.axis + 'PaddingTop']
        offset = touchBoundary(this, offset)
        this.curOffset = -offset
        isScrolling = true
        if (behavior === 'smooth') {
          if (this.options.useFrameAnimation) {
            var s0 = getTransformOffset(that)[this.axis]
            var _s = offset - s0
            scrollAnimation = new lib.animation(400, lib.cubicbezier.easeInOut, 0, function(
              i1,
              i2
            ) {
              var offset = (s0 + _s * i2).toFixed(2)
              setTransformStyle(that, offset)
              fireEvent$3(that, 'scrolling')
            })

            scrollAnimation.onend(scrollEnd)

            scrollAnimation.play()
          } else {
            setTransitionEndHandler(scrollEnd, 400)
            setTransitionStyle(that, '0.4s', 'ease-in-out')
            setTransformStyle(that, offset)

            function _cancelScroll() {
              if (isScrolling && that.enabled) {
                fireEvent$3(that, 'scrolling')
                lib.animation.requestFrame(_cancelScroll)
              }
            }

            lib.animation.requestFrame(_cancelScroll)
          }
        } else {
          if (!this.options.useFrameAnimation) {
            setTransitionStyle(that, '', '')
          }
          setTransformStyle(that, offset)
          scrollEnd()
        }

        return this
      },

      scrollToElement: function(childEl, behavior, topOffset) {
        var offset = this.offset(childEl)
        offset = offset[this.axis === 'y' ? 'top' : 'left']
        topOffset && (offset += topOffset)
        return this.scrollTo(offset, behavior)
      },

      scrollByOffset: function(topOffset, leftOffset, behavior) {
        if ((this.axis === 'y' && !topOffset) || (this.axis === 'x' && !leftOffset)) {
          console.warn(`scrollBy params偏移量参数设置不正确，请重新设置!`)
          return
        }
        const offset = this.axis === 'y' ? topOffset : leftOffset
        this.curOffset += offset
        return this.scrollTo(this.curOffset, behavior)
      },

      getViewWidth: function() {
        return getBoundingClientRect$1(this.viewport).width
      },

      getViewHeight: function() {
        return getBoundingClientRect$1(this.viewport).height
      },

      addPulldownHandler: function(handler) {
        var that = this
        this.element.addEventListener(
          'pulldownend',
          function(e) {
            that.disable()
            handler.call(that, e, function() {
              that.scrollTo(0, true)
              that.refresh()
              that.enable()
            })
          },
          false
        )

        return this
      },

      addPullupHandler: function(handler) {
        var that = this

        this.element.addEventListener(
          'pullupend',
          function(e) {
            that.disable()
            handler.call(that, e, function() {
              that.scrollTo(that.getScrollHeight(), true)
              that.refresh()
              that.enable()
            })
          },
          false
        )

        return this
      },

      addScrollstartHandler: function(handler) {
        var that = this
        this.element.addEventListener(
          'scrollstart',
          function(e) {
            handler.call(that, e)
          },
          false
        )

        return this
      },

      addScrollingHandler: function(handler) {
        var that = this
        this.element.addEventListener(
          'scrolling',
          function(e) {
            handler.call(that, e)
          },
          false
        )

        return this
      },

      addScrollendHandler: function(handler) {
        var that = this
        this.element.addEventListener(
          'scrollend',
          function(e) {
            handler.call(that, e)
          },
          false
        )

        return this
      },

      addContentrenfreshHandler: function(handler) {
        var that = this
        this.element.addEventListener(
          'contentrefresh',
          function(e) {
            handler.call(that, e)
          },
          false
        )
      },

      addEventListener: function(name, handler, useCapture) {
        var that = this
        this.element.addEventListener(
          name,
          function(e) {
            handler.call(that, e)
          },
          !!useCapture
        )
      },

      removeEventListener: function(name, handler) {
        var that = this
        this.element.removeEventListener(name, function(e) {
          handler.call(that, e)
        })
      },

      enablePlugin: function(name, options) {
        var plugin = plugins[name]
        if (plugin && !this.plugins[name]) {
          this.plugins[name] = true
          options = options || {}
          plugin.call(this, name, options)
        }
        return this
      }
    }

    for (var k in proto) {
      this[k] = proto[k]
    }
    // delete proto
  }

  lib.scroll = function(el, options) {
    if (arguments.length === 1 && !(arguments[0] instanceof HTMLElement)) {
      options = arguments[0]
      if (options.scrollElement) {
        el = options.scrollElement
      } else if (options.scrollWrap) {
        el = options.scrollWrap.firstElementChild
      } else {
        throw new Error('no scroll element')
      }
    }

    if (!el.parentNode) {
      throw new Error('wrong dom tree')
    }
    if (options && options.direction && ['x', 'y'].indexOf(options.direction) < 0) {
      throw new Error('wrong direction')
    }

    var scroll
    if (options.downgrade === true && lib.scroll.downgrade) {
      scroll = lib.scroll.downgrade(el, options)
    } else {
      if (el.scrollId) {
        scroll = scrollObjs[el.scrollId]
      } else {
        scroll = new Scroll(el, options)
      }
    }
    return scroll
  }

  lib.scroll.plugin = function(name, constructor) {
    if (constructor) {
      name = name.split(',')
      name.forEach(function(n) {
        plugins[n] = constructor
      })
    } else {
      return plugins[name]
    }
  }

  /* global lib */

  // lib.scroll events:
  //  - scrollstart
  //  - scrolling
  //  - pulldownend
  //  - pullupend
  //  - pullleftend
  //  - pullrightend
  //  - pulldown
  //  - pullup
  //  - pullleft
  //  - pullright
  //  - contentrefresh

  const directionMap = {
    h: ['row', 'horizontal', 'h', 'x', 'column wrap'],
    v: ['column', 'vertical', 'v', 'y', 'row wrap']
  }

  const DEFAULT_DIRECTION = 'column'
  const DEFAULT_LOAD_MORE_OFFSET = 0

  function refreshWhenDomRenderend(comp) {
    if (!comp.renderendHandler) {
      comp.renderendHandler = function() {
        comp.scroller.refresh()
      }
    }
    window.addEventListener('renderend', comp.renderendHandler)
  }

  function removeEvents(comp) {
    if (comp.renderendHandler) {
      window.removeEventListener('renderend', comp.renderendHandler)
    }
  }

  function getProto(Hap) {
    const Component = Hap.Component

    function create(nodeType) {
      const Scroll = lib.scroll
      const node = Component.prototype.create.call(this, nodeType)
      node.classList.add('hap-container')
      node.classList.add('scrollable-wrap')
      this.scrollElement = document.createElement('div')
      this.scrollElement.classList.add('scrollable-element')
      this.scrollElement.classList.add('dir-' + this.direction)

      this.scrollElement.style.webkitBoxOrient = directionMap[this.direction][1]
      this.scrollElement.style.webkitFlexDirection = directionMap[this.direction][0]
      this.scrollElement.style.flexDirection = directionMap[this.direction][0]
      // add test
      this.scrollElement.style.display = 'grid'
      this.scrollElement.style.flex = 1

      node.appendChild(this.scrollElement)

      this.scroller = new Scroll({
        // if the direction is x, then the bounding rect of the scroll element
        // should be got by the 'Range' API other than the 'getBoundingClientRect'
        // API, because the width outside the viewport won't be count in by
        // 'getBoundingClientRect'.
        // Otherwise should use the element rect in case there is a child scroller
        // or list in this scroller. If using 'Range', the whole scroll element
        // including the hiding part will be count in the rect.
        useElementRect: this.direction === 'v',
        scrollElement: this.scrollElement,
        direction: this.direction === 'h' ? 'x' : 'y',
        noBounce: true,
        scrollpage: this.scrollpage
      })
      this.scroller.init()

      this.offset = 0
      return node
    }

    function createChildren() {
      const children = this.data.children
      const parentRef = this.data.ref
      const componentManager = this.getComponentManager()
      if (children && children.length) {
        const fragment = document.createDocumentFragment()
        let isFlex = false
        for (let i = 0; i < children.length; i++) {
          children[i].instanceId = this.data.instanceId
          children[i]._parentRef = parentRef
          const child = componentManager.createElement(children[i])
          fragment.appendChild(child.node)
          child.parentRef = parentRef
          if (!isFlex && child.data.style && child.data.style.hasOwnProperty('flex')) {
            isFlex = true
          }
        }
        this.scrollElement.appendChild(fragment)
      }
      // wait for fragment to appended on scrollElement on UI thread.
      setTimeout(
        function() {
          this.scroller.refresh()
        }.bind(this),
        0
      )
    }

    function appendChild(data) {
      const children = this.data.children
      const componentManager = this.getComponentManager()
      const child = componentManager.createElement(data)
      this.scrollElement.appendChild(child.node)

      // wait for UI thread to update.
      setTimeout(
        function() {
          this.scroller.refresh()
        }.bind(this),
        0
      )

      // update this.data.children
      if (!children || !children.length) {
        this.data.children = [data]
      } else {
        children.push(data)
      }

      return child
    }

    function insertBefore(child, before) {
      const children = this.data.children
      let i = 0
      let isAppend = false

      // update this.data.children
      if (!children || !children.length || !before) {
        isAppend = true
      } else {
        let l
        for (l = children.length; i < l; i++) {
          if (children[i].ref === before.data.ref) {
            break
          }
        }
        if (i === l) {
          isAppend = true
        }
      }

      if (isAppend) {
        this.scrollElement.appendChild(child.node)
        children.push(child.data)
      } else {
        const refreshLoadingPlaceholder = before.refreshPlaceholder || before.loadingPlaceholder
        if (refreshLoadingPlaceholder) {
          this.scrollElement.insertBefore(child.node, refreshLoadingPlaceholder)
        } else if (before.fixedPlaceholder) {
          this.scrollElement.insertBefore(child.node, before.fixedPlaceholder)
        } else if (before.stickyPlaceholder) {
          this.scrollElement.insertBefore(child.node, before.stickyPlaceholder)
        } else {
          this.scrollElement.insertBefore(child.node, before.node)
        }
        children.splice(i, 0, child.data)
      }

      // wait for UI thread to update.
      setTimeout(
        function() {
          this.scroller.refresh()
        }.bind(this),
        0
      )
    }

    function removeChild(child) {
      const children = this.data.children
      // remove from this.data.children
      let i = 0
      const componentManager = this.getComponentManager()
      if (children && children.length) {
        let l
        for (l = children.length; i < l; i++) {
          if (children[i].ref === child.data.ref) {
            break
          }
        }
        if (i < l) {
          children.splice(i, 1)
        }
      }
      // remove from componentMap recursively
      componentManager.removeComponent(child.data.ref)
      const refreshLoadingPlaceholder = child.refreshPlaceholder || child.loadingPlaceholder
      child.unsetPosition()
      if (refreshLoadingPlaceholder) {
        this.scrollElement.removeChild(refreshLoadingPlaceholder)
      }
      child.node.parentNode.removeChild(child.node)

      // wait for UI thread to update.
      setTimeout(
        function() {
          this.scroller.refresh()
        }.bind(this),
        0
      )
    }

    function bindEvents(evts) {
      Component.prototype.bindEvents.call(this, evts)
      // to enable lazyload for Images 后续如果影响图片懒加载再看回记录
      this.scroller.addEventListener(
        'scrolling',
        function(e) {
          const so = e.scrollObj
          const scrollTop = so.getScrollTop()
          const scrollLeft = so.getScrollLeft()
          const offset = this.direction === 'v' ? scrollTop : scrollLeft
          const diff = offset - this.offset
          this.dispatchEvent(
            'scroll',
            {
              scrollY: this.direction === 'v' ? diff : 0,
              scrollX: this.direction === 'v' ? 0 : diff,
              scrollState: 0 // add test 后续修改：0-list 停止滑动，1-list 正在通过用户的手势滑动，2-list 正在滑动，用户已松手
            },
            {
              bubbles: true
            }
          )
          this.offset = offset
          this.scroller.curOffset = offset
          // fire loadmore event.
          const leftDist = Math.abs(so.maxScrollOffset) - this.offset
          if (leftDist <= this.loadmoreoffset && this.isAvailableToFireloadmore) {
            this.isAvailableToFireloadmore = false
            this.dispatchEvent('loadmore')
            // add test 增加list事件支持
            this.dispatchEvent('scrollbottom')
          } else if (leftDist > this.loadmoreoffset && !this.isAvailableToFireloadmore) {
            this.isAvailableToFireloadmore = true
          }

          // add test 增加list事件支持
          if (this.offset <= 0) {
            this.dispatchEvent('scrolltop')
          }
        }.bind(this)
      )
    }

    function onAppend() {
      refreshWhenDomRenderend(this)
      Component.prototype.onAppend.call(this)
    }

    function onRemove() {
      removeEvents(this)
    }

    return {
      create,
      createChildren,
      appendChild,
      insertBefore,
      removeChild,
      bindEvents,
      onAppend,
      onRemove
    }
  }

  const attr$3 = {
    loadmoreoffset: function(val) {
      val = parseFloat(val)
      if (val < 0 || isNaN(val)) {
        console.warn('### Web Render ###  invalid')
        return
      }
      this.loadmoreoffset = val
    }
  }

  function init$d(Hap) {
    const Component = Hap.Component
    const extend = Hap.utils.extend

    // attrs:
    //  - loadmoreoffset: updatable
    //  - scroll-direciton: none|vertical|horizontal (default is vertical)
    //  - show-scrollbar: true|false (default is true)
    function Scrollable(data, nodeType) {
      this.loadmoreoffset = DEFAULT_LOAD_MORE_OFFSET
      this.isAvailableToFireloadmore = true
      const attrs = data.attr || {}
      const style = data.style || {}
      const direction =
        style.flexDirection ||
        attrs.scrollDirection ||
        attrs.direction ||
        attrs.flexDirection ||
        DEFAULT_DIRECTION
      this.direction = directionMap.h.indexOf(direction) === -1 ? 'v' : 'h'
      this.showScrollbar = attrs.showScrollbar || false
      let scrollpage = false
      if (attrs.scrollpage) {
        if (attrs.scrollpage === 'true' || attrs.scrollpage === true) {
          scrollpage = true
        }
      }
      this.scrollpage = scrollpage
      Component.call(this, data, nodeType)
    }
    Scrollable.prototype = Object.create(Component.prototype)
    extend(Scrollable.prototype, getProto(Hap))
    extend(Scrollable.prototype, { attr: extend(Object.create(Component.prototype.attr), attr$3) })
    return Scrollable
  }

  var scrollableModule = { init: init$d }

  const availableChildrenTypes = ['list-item', 'cell', 'loading', 'refresh']

  function getProto$1(Scrollable) {
    return {
      create(nodeType) {
        const node = Scrollable.prototype.create.call(this, nodeType)
        node.classList.add('list-wrap')
        this.scrollElement.classList.add('list-element')
        // 祖先容器中的tab-carousel-item需要自适应空间
        const isRow = this.data.style && this.data.style.flexDirection === 'row'
        if (this.data.props && this.data.props._isInTabContent && this.data.props.tabwrap) {
          // add test for health & cookbook & 铁行飞机票/Index/ 如果竖向list不设高度,则由孩子大小和父容器可用大小决定
          if (
            !isRow &&
            (!this.data.style ||
              (this.data.style &&
                (!this.data.style.height || this.data.style.height === '100%'))) &&
            (!this.data.attr || (this.data.attr && !this.data.attr.scrollpage))
          ) {
            this.data.props.tabwrap.style.display = 'flex'
          }
          // fix for cookbook/Tabs 若tab下有list,则list后代的计算不受tab影响
          this._setProps(this.data, {
            _isInTabContent: false,
            _isInList: true
          })
        }
        if (!isRow && !(this.data.style && this.data.style.width)) {
          this._needFixWidth = true
        }
        this._setProps(this.data, {
          _listScrollElement: this.scrollElement
        })
        return node
      },

      createChildren() {
        const children = this.data.children || []
        children.forEach(function(data) {
          const type = data.type
          if (availableChildrenTypes.indexOf(type) === -1) {
            // throw new Error('### Web Render ###  invalid child type "'
            //   + type + '" for list.')
            console.warn('### Web Render ###  invalid child type "' + type + '" for list.')
          }
        })
        return Scrollable.prototype.createChildren.call(this)
      },

      appendChild(data) {
        const type = data.type
        if (availableChildrenTypes.indexOf(type) === -1) {
          // throw new Error('### Web Render ###  invalid child type "'
          //   + type + '" for list.')
          console.warn('### Web Render ###  invalid child type "' + type + '" for list.')
        }
        return Scrollable.prototype.appendChild.call(this, data)
      },

      insertBefore(child, before) {
        const type = child.data.type
        if (availableChildrenTypes.indexOf(type) === -1) {
          // throw new Error('### Web Render ###  invalid child type "'
          //   + type + '" for list.')
          console.warn('### Web Render ###  invalid child type "' + type + '" for list.')
        }
        return Scrollable.prototype.insertBefore.call(this, child, before)
      },

      onAppend() {
        this.refresh()
        Scrollable.prototype.onAppend.call(this)
      },

      refresh() {
        refreshForScrollPage(this)
        refreshForParent(this)
      },

      scrollTo(params) {
        if (params.index !== undefined) {
          const childEl = this.scrollElement.children[params.index]
          if (childEl) {
            this.scroller.scrollToElement(childEl, params.behavior)
          }
        }
      },
      scrollBy(params) {
        this.scroller.scrollByOffset(params.top, params.left, params.behavior)
      }
    }
  }

  const style$2 = {
    columns: function(val) {
      this.scrollElement.style.gridTemplateColumns = `repeat(${val}, 1fr)`
      this._setProps(this.data, {
        _listColumns: val
      })
    },
    flexDirection: function(val) {
      // 动态切换列表方向(暂不支持水平滚动事件，1040开始需要支持)
      const isRow = val === 'row'
      this.flexDirection = val
      this._setProps(this.data, {
        _listDirection: val
      })
      // add test -webkit-box for psychologist/user/expert/index
      this.scrollElement.style.display = isRow ? 'flex' : 'grid'
      this.scrollElement.style.overflow = isRow ? 'auto hidden' : ''
      // for preview/online/货拉拉/pages/home/
      this.scrollElement.style.height = isRow ? '-webkit-fill-available' : ''
      this.node.style.flexShrink = isRow ? '0' : ''
      this.node.setAttribute('direction', val)
    },
    layoutType: function(val) {
      this._setProps(this.data, {
        _listLayoutType: val
      })
      const listColumns = this._getProps('_listColumns')
      const itemList = this.node.childNodes['0'].childNodes
      itemList.forEach(item => {
        let span = val === 'stagger' ? listColumns : item.style.columnSpanVal
        if (val === 'stagger' && item.style.columnSpanVal < listColumns) {
          span = 1
          console.warn(
            `### Web Render ### 当layout-type为stagger时，column-span小于columns则不生效`
          )
        }
        const height = val === 'stagger' ? item.style.heightVal : ''
        item.style.gridColumnEnd = `span ${span}`
        item.style.height = height
      })
    },
    display(val) {
      // 忽略，防止设置flex
      // add test for 小学语文数学英语同步
      if (val !== 'flex') {
        this.node.style.display = val
      }
    }
  }

  const attr$4 = {
    scrollpage: function(val) {
      if (this._appended) {
        refreshForScrollPage(this, val)
      }
    }
  }

  function init$e(Hap) {
    const Scrollable = scrollableModule.init(Hap)
    function List(data, nodeType) {
      Scrollable.call(this, data, nodeType)
    }
    const extend = Hap.utils.extend

    List.prototype = Object.create(Scrollable.prototype)
    extend(List.prototype, getProto$1(Scrollable))
    extend(List.prototype, {
      style: extend(Object.create(Scrollable.prototype.style), style$2)
    })
    extend(List.prototype, {
      attr: extend(Object.create(Scrollable.prototype.attr), attr$4)
    })

    return List
  }

  var listModule = { init: init$e }

  function refreshForScrollPage(comp, scrollpage) {
    const componentManager = comp.getComponentManager()
    const rootComp = componentManager.getComponent(componentManager.rootRef)
    const parent = comp.getParent()
    const isScrollpage =
      typeof scrollpage === 'boolean'
        ? scrollpage
        : comp.data.attr &&
          (comp.data.attr.scrollpage === true || comp.data.attr.scrollpage === 'true')
    comp.scrollpage = isScrollpage
    if (isScrollpage === true) {
      // 由于暂时无法完全模拟安卓端scrollview的逻辑，先注释，涉及页面 autohome/PageCarSeries/
      // comp.scroller.init()
      // comp.node.classList.remove('scrollable-wrap')
      // reset 最大高度只能是视口高度, 或者tab-content 的高度
      comp.node.style.maxHeight = window.innerHeight + 'px'
      console.warn('### Web Render ###  暂不支持scrollpage属性，请使用手机调试')
    } else {
      comp.node.classList.add('scrollable-wrap')
      parent.node.style.overflowY = ''
      // add test fix height for doubantushu & health & takeout
      const parentStyle = parent && parent.data.style
      const compStyle = comp.data.style
      // 只对竖向list生效
      // add test for 铁行日期list
      if (
        comp.flexDirection !== 'row' &&
        !(parentStyle && parentStyle.height) &&
        !(
          compStyle &&
          (compStyle.position === 'fixed' ||
            (compStyle.height && compStyle.height.indexOf('px') > -1))
        )
      ) {
        parent.node.style.height = '100%'
        // add test for apex 图表编辑
        if (!comp._getProps('_isInFixed')) {
          rootComp.node.style.height = (rootComp.data.style && rootComp.data.style.height) || '100%'
        }
        // 此处设置了高度，则stack无需再调整高度
        if (rootComp.data && rootComp.data.type === 'stack') {
          rootComp._needSetHeight = false
        }
        rootComp.node.style.overflow = 'hidden'
        if (comp.node.style.height === '100%' && parent.node.style.flexDirection !== 'column') {
          parent.node.style.height = '-webkit-fill-available'
          comp.node.style.height = 'auto'
        }
      }
    }

    if (comp.data.attr) {
      comp.data.attr.scrollpage = isScrollpage
      comp.node.setAttribute('scrollpage', isScrollpage)
    }
  }

  function refreshForParent(comp) {
    if (comp._getProps('_isInRefresh') && comp._getProps('refreshComp')) {
      comp._getProps('refreshComp').updateScrollable(comp)
    }
  }

  function init$f(Hap) {
    const List = listModule.init(Hap)

    function Vlist(data, nodeType) {
      List.call(this, data, nodeType)
    }
    Vlist.prototype = Object.create(List.prototype)

    Hap.registerComponent('list', Vlist)
    Hap.registerComponent('vlist', Vlist)
  }

  var Vlist = { init: init$f }

  function init$g(Hap) {
    const List = listModule.init(Hap)

    function Hlist(data, nodeType) {
      data.attr.direction = 'h'
      List.call(this, data, nodeType)
    }

    Hlist.prototype = Object.create(List.prototype)

    Hap.registerComponent('hlist', Hlist)
  }

  var Hlist = { init: init$g }

  const proto$2 = {
    create(nodeType) {
      const node = document.createElement(nodeType)
      node.classList.add('hap-list-item')
      if (this._getProps('_listDirection') === 'row') {
        node.classList.add('row')
      } else {
        node.classList.add('column')
      }
      this._setProps(this.data, {
        _isInTransform: true
      })
      return node
    }
  }

  const style$3 = {
    columnSpan: function(val) {
      const layoutType = this._getProps('_listLayoutType')
      const listColumns = this._getProps('_listColumns')
      let span = layoutType === 'stagger' ? listColumns : val
      if (layoutType === 'stagger' && val < listColumns) {
        span = 1
        console.warn(`### Web Render ### 当layout-type为stagger时，column-span小于columns则不生效`)
      }
      this.node.style.columnSpanVal = val
      this.node.style.gridColumnEnd = `span ${span}`
    },
    width: function(val) {
      if (val === '100%') {
        this.node.style.width = '-webkit-fill-available'
      } else if (this._getProps('_listDirection') === 'row') {
        // for 书市、心理咨询师
        this.node.style.width = val
      } else if (this._getProps('_listDirection') !== 'row') {
        if (val.indexOf('px') > -1) {
          // for 乐播、王者荣耀盒子、一起买买买
          const listColumns = this._getProps('_listColumns') || 1
          const parentWidth = parseInt(
            global.getComputedStyle(this._getProps('_listScrollElement')).width
          )
          if (parseInt(val) < parentWidth / listColumns) {
            // for 周公AI解梦、小学课程名师辅导
            this.node.style.width = val
          } else if (
            parseInt(val) >= parentWidth &&
            (!this.data.style || (this.data.style && !this.data.style.columnSpan))
          ) {
            this.node.style.gridColumnEnd = `span ${listColumns}`
          }
        }
      }
    },
    position: function(val) {
      // 不支持
    },
    height: function(val) {
      const layoutType = this._getProps('_listLayoutType')
      this.node.style.heightVal = val
      if (layoutType !== 'grid') {
        this.node.style.height = val
      }
    }
  }

  function init$h(Hap) {
    const Component = Hap.Component
    function ListItem(data, nodeType) {
      Component.call(this, data, nodeType)
    }
    const extend = Hap.utils.extend

    ListItem.prototype = Object.create(Component.prototype)
    extend(ListItem.prototype, proto$2)
    extend(ListItem.prototype, {
      style: extend(Object.create(Component.prototype.style), style$3)
    })

    Hap.registerComponent('list-item', ListItem)
  }

  var listitem = { init: init$h }

  function init$i(Hap) {
    Hap.install(Vlist)
    Hap.install(Hlist)
    Hap.install(listitem)
  }

  var list = { init: init$i }

  function init$j(Hap) {
    const Scrollable = scrollableModule.init(Hap)
    function Scroller(data, nodeType) {
      Scrollable.call(this, data, nodeType)
    }
    const extend = Hap.utils.extend

    Scroller.prototype = Object.create(Scrollable.prototype)
    extend(Scroller.prototype, {
      create() {
        const node = Scrollable.prototype.create.call(this)
        node.classList.add('scroller-wrap')
        this.scrollElement.classList.add('scroller-element')
        return node
      }
    })

    Hap.registerComponent('scroller', Scroller)
  }

  var scroller = { init: init$j }

  var css_248z$4 =
    '.hap-refresh{box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:flex;flex:0 1 auto;z-index:0;width:100%;height:100%;max-width:100%;pointer-events:auto}.mui-refresh-main{position:fixed;top:0;opacity:0;-webkit-transform:scale(0);left:50%;margin-left:-.453rem;padding:.12rem;z-index:10001;background-color:#fff;overflow:hidden;border-radius:13.32rem;box-shadow:0 .04rem .107rem 0 rgba(0,0,0,.19),0 .08rem .173rem 0 rgba(0,0,0,.24);-webkit-box-shadow:0 .04rem .107rem 0 rgba(0,0,0,.19),0 .08rem .173rem 0 rgba(0,0,0,.24)}.mui-refresh-main-animate{-webkit-transition:all .43s cubic-bezier(.08,.55,.81,1.8)}.mui-refresh-nav{-webkit-transform:scale(1)}.mui-refresh-noshow{opacity:0;-webkit-transform:scale(.01)!important;-webkit-transition:all .25s ease-in-out!important}.mui-refresh-wrapper{width:.667rem;height:.667rem}.mui-arrow-wrapper{-webkit-transition:all .2s ease}.mui-arrow-main,.mui-half-circle{position:absolute;top:0;width:.667rem;height:.667rem;box-sizing:border-box;border:.04rem solid;border-color:#000 #000 transparent;border-radius:13.32rem}.mui-arrow-main{margin-top:.133rem;-webkit-transform:rotate(-37deg)}.mui-arrow-main:before{content:"";display:block;position:relative;top:.4rem;left:0;width:0;height:0;border-width:.08rem;border-style:solid;transform:rotate(-56deg);-webkit-transform:rotate(-56deg)}.mui-spinner-main{width:.667rem;height:.667rem;position:relative}.mui-spinner-main .mui-spinner-left,.mui-spinner-main .mui-spinner-right{position:absolute;top:0;height:.667rem;width:.347rem;overflow:hidden}.mui-spinner-main .mui-spinner-left{left:0}.mui-spinner-main .mui-spinner-left .mui-half-circle{left:0;border-right-color:transparent}.mui-spinner-main .mui-spinner-right{right:0}.mui-spinner-main .mui-spinner-right .mui-half-circle{right:0;border-left-color:transparent}.mui-black-theme .mui-arrow-main{border-color:#000 #000 transparent}.mui-black-theme .mui-arrow-main:before{border-color:#000 #fff #fff}.mui-black-theme .mui-spinner-main .mui-spinner-left .mui-half-circle,.mui-black-theme .mui-spinner-main .mui-spinner-right .mui-half-circle{border-top-color:#000}.mui-black-theme .mui-spinner-main .mui-spinner-left .mui-half-circle{border-left-color:#000}.mui-black-theme .mui-spinner-main .mui-spinner-right .mui-half-circle{border-right-color:#000}.mui-spinner-wrapper{-webkit-animation:outer-rotate 2.91667s linear infinite;animation:outer-rotate 2.91667s linear infinite}.mui-spinner-main{-webkit-animation:sporadic-rotate 5.25s cubic-bezier(.35,0,.25,1) infinite;animation:sporadic-rotate 5.25s cubic-bezier(.35,0,.25,1) infinite}.mui-spinner-main .mui-spinner-left .mui-half-circle,.mui-spinner-main .mui-spinner-right .mui-half-circle{-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-duration:1.3125s;animation-duration:1.3125s;-webkit-animation-timing-function:cubic-bezier(.35,0,.25,1);animation-timing-function:cubic-bezier(.35,0,.25,1)}.mui-spinner-main .mui-spinner-left .mui-half-circle{-webkit-animation-name:left-wobble;animation-name:left-wobble}.mui-spinner-main .mui-spinner-right .mui-half-circle{-webkit-animation-name:right-wobble;animation-name:right-wobble}@-moz-keyframes outer-rotate{to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes outer-rotate{to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-o-keyframes outer-rotate{to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes outer-rotate{to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-moz-keyframes left-wobble{0%,to{-webkit-transform:rotate(130deg);transform:rotate(130deg)}50%{-webkit-transform:rotate(-5deg);transform:rotate(-5deg)}}@-webkit-keyframes left-wobble{0%,to{-webkit-transform:rotate(130deg);transform:rotate(130deg)}50%{-webkit-transform:rotate(-5deg);transform:rotate(-5deg)}}@-o-keyframes left-wobble{0%,to{-webkit-transform:rotate(130deg);transform:rotate(130deg)}50%{-webkit-transform:rotate(-5deg);transform:rotate(-5deg)}}@keyframes left-wobble{0%,to{-webkit-transform:rotate(130deg);transform:rotate(130deg)}50%{-webkit-transform:rotate(-5deg);transform:rotate(-5deg)}}@-moz-keyframes right-wobble{0%,to{-webkit-transform:rotate(-130deg);transform:rotate(-130deg)}50%{-webkit-transform:rotate(5deg);transform:rotate(5deg)}}@-webkit-keyframes right-wobble{0%,to{-webkit-transform:rotate(-130deg);transform:rotate(-130deg)}50%{-webkit-transform:rotate(5deg);transform:rotate(5deg)}}@-o-keyframes right-wobble{0%,to{-webkit-transform:rotate(-130deg);transform:rotate(-130deg)}50%{-webkit-transform:rotate(5deg);transform:rotate(5deg)}}@keyframes right-wobble{0%,to{-webkit-transform:rotate(-130deg);transform:rotate(-130deg)}50%{-webkit-transform:rotate(5deg);transform:rotate(5deg)}}@-moz-keyframes sporadic-rotate{12.5%{-webkit-transform:rotate(135deg);transform:rotate(135deg)}25%{-webkit-transform:rotate(270deg);transform:rotate(270deg)}37.5%{-webkit-transform:rotate(405deg);transform:rotate(405deg)}50%{-webkit-transform:rotate(540deg);transform:rotate(540deg)}62.5%{-webkit-transform:rotate(675deg);transform:rotate(675deg)}75%{-webkit-transform:rotate(810deg);transform:rotate(810deg)}87.5%{-webkit-transform:rotate(945deg);transform:rotate(945deg)}to{-webkit-transform:rotate(3turn);transform:rotate(3turn)}}@-webkit-keyframes sporadic-rotate{12.5%{-webkit-transform:rotate(135deg);transform:rotate(135deg)}25%{-webkit-transform:rotate(270deg);transform:rotate(270deg)}37.5%{-webkit-transform:rotate(405deg);transform:rotate(405deg)}50%{-webkit-transform:rotate(540deg);transform:rotate(540deg)}62.5%{-webkit-transform:rotate(675deg);transform:rotate(675deg)}75%{-webkit-transform:rotate(810deg);transform:rotate(810deg)}87.5%{-webkit-transform:rotate(945deg);transform:rotate(945deg)}to{-webkit-transform:rotate(3turn);transform:rotate(3turn)}}@-o-keyframes sporadic-rotate{12.5%{-webkit-transform:rotate(135deg);transform:rotate(135deg)}25%{-webkit-transform:rotate(270deg);transform:rotate(270deg)}37.5%{-webkit-transform:rotate(405deg);transform:rotate(405deg)}50%{-webkit-transform:rotate(540deg);transform:rotate(540deg)}62.5%{-webkit-transform:rotate(675deg);transform:rotate(675deg)}75%{-webkit-transform:rotate(810deg);transform:rotate(810deg)}87.5%{-webkit-transform:rotate(945deg);transform:rotate(945deg)}to{-webkit-transform:rotate(3turn);transform:rotate(3turn)}}@keyframes sporadic-rotate{12.5%{-webkit-transform:rotate(135deg);transform:rotate(135deg)}25%{-webkit-transform:rotate(270deg);transform:rotate(270deg)}37.5%{-webkit-transform:rotate(405deg);transform:rotate(405deg)}50%{-webkit-transform:rotate(540deg);transform:rotate(540deg)}62.5%{-webkit-transform:rotate(675deg);transform:rotate(675deg)}75%{-webkit-transform:rotate(810deg);transform:rotate(810deg)}87.5%{-webkit-transform:rotate(945deg);transform:rotate(945deg)}to{-webkit-transform:rotate(3turn);transform:rotate(3turn)}}'
  styleInject(css_248z$4)

  // from material-refresh

  const noShowClass = 'mui-refresh-noshow'
  const mainAnimatClass = 'mui-refresh-main-animate'
  const blackThemeClass = 'mui-black-theme'

  const NUM_POS_START_Y = -85
  const customNavTop = 0
  const basePosY = 60

  const isIOS = !!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)

  // Defined the object to improve performance
  const touchPos = {
    top: 0,
    x1: 0,
    x2: 0,
    y1: 0,
    y2: 0
  }

  // Default options
  /* var opts = { */
  /*     scrollEl: '', //String  */
  /*     nav: '', //String */
  /*     top: '0px', //String */
  /*     theme: '', //String */
  /*     index: 10001, //Number */
  /*     maxTime: 3000, //Number */
  /*     freeze: false, //Boolen */
  /*     onBegin: null, //Function */
  /*     onEnd: null //Function */
  /* } */

  /* Known issue:
   * 1. iOS feature when scrolling ,animation will stop
   * 2. Animation display issue in anfroid like miui小米
   *
   *
   * TODO list:
   * 1. Using translate and scale together to replace top
   * 2. Optimize circle rotate animation
   */

  // Main function to init the refresh style
  class mRefresh {
    constructor(options) {
      options = options || {}
      init$k.call(this)
      this.scrollEl = options.scrollEl ? options.scrollEl : isIOS ? this.scrollEl : document

      // extend options
      this.onBegin = options.onBegin
      this.onEnd = options.onEnd
      this.maxRotateTime = options.maxTime || this.maxRotateTime
      this.refreshNav = options.nav || ''

      this.$refreshMain = options.refreshEl
      this.$spinnerWrapper = this.$refreshMain.querySelector('.mui-spinner-wrapper')
      this.$arrowWrapper = this.$refreshMain.querySelector('.mui-arrow-wrapper')
      this.$arrowMain = this.$refreshMain.querySelector('.mui-arrow-main')

      // 解决unbindEvents不生效bug
      this.touchStartEvt = touchStart.bind(this)
      this.touchMoveEvt = touchMove.bind(this)
      this.touchEndEvt = touchEnd.bind(this)

      // Set custom z-index
      if (options.index) {
        this.$refreshMain.style.zIndex = ~~options.index
      }

      // Set custom top, to change the position
      if (options.top) {
        this.$refreshMain.style.top = options.top
      }

      // Extract theme
      if (options.theme) {
        this.$refreshMain.classList.add(options.theme)
      } else {
        this.$refreshMain.classList.add(blackThemeClass)
      }

      // Set custom left
      if (options.tabIndex) {
        this.$refreshMain.style.left = `${options.tabIndex * 100 + 50}%`
      }

      // Add Animation Class
      this.$refreshMain.classList.add(mainAnimatClass)

      if (!options.freeze) {
        bindEvents$3.call(this)
      }
    }

    // Public Methods
    // Finish loading
    resolve() {
      if (!this.isStoping && this.stopAnimatTimeout) {
        clearTimeout(this.stopAnimatTimeout)
        this.stopAnimatTimeout = null

        recoverRefresh.call(this)
      }
    }

    // Destory refresh
    destroy() {
      unbindEvents$1.call(this)
      this.$refreshMain = ''
      this.scrollableList = []
    }

    // Type3: Button action refresh
    refresh(opt) {
      // Do rotate
      if (!this.isShowLoading) {
        const realTargetPos = basePosY + this.NUM_POS_TARGET_Y
        this.isShowLoading = true
        this.isBtnAction = true

        opt = opt || {}
        this.onBtnBegin = opt.onBegin
        this.onBtnEnd = opt.onEnd

        // Handle freeze
        this.$refreshMain.style.display = ''
        // Romove animat time
        this.$refreshMain.classList.remove(mainAnimatClass)
        // move to target position
        this.$refreshMain.style.top = realTargetPos + 'px'
        // make it small
        this.$refreshMain.style.webkitTransform = 'scale(' + 0.01 + ')'

        setTimeout(doRotate.bind(this), 60)
      }
    }

    updateScrollable(component) {
      if (component.data.type === 'list') {
        this.scrollableList.push(component.node.children[0])
      }
    }

    // add test 目前根据style顺序写死，如果样式文件有修改，需留意
    setBackGroundColor(val) {
      this.$refreshMain.style.backgroundColor = val
      const cssrule = document.styleSheets[4].cssRules[16]
      if (cssrule.selectorText === '.mui-black-theme .mui-arrow-main:before') {
        cssrule.style.borderRightColor = cssrule.style.borderLeftColor = cssrule.style.borderBottomColor = val
      }
    }

    setProgressColor(val) {
      const cssrules = document.styleSheets[4].cssRules
      if (cssrules[15] && cssrules[15].selectorText === '.mui-black-theme .mui-arrow-main') {
        cssrules[15].style.borderRightColor = cssrules[15].style.borderLeftColor = cssrules[15].style.borderTopColor = val
      }
      if (
        cssrules[16] &&
        cssrules[16].selectorText === '.mui-black-theme .mui-arrow-main::before'
      ) {
        cssrules[16].style.borderTopColor = val
      }
      if (
        cssrules[17] &&
        cssrules[17].selectorText ===
          '.mui-black-theme .mui-spinner-main .mui-spinner-left .mui-half-circle, .mui-black-theme .mui-spinner-main .mui-spinner-right .mui-half-circle'
      ) {
        cssrules[17].style.borderTopColor = val
      }
      if (
        cssrules[18] &&
        cssrules[18].selectorText ===
          '.mui-black-theme .mui-spinner-main .mui-spinner-left .mui-half-circle'
      ) {
        cssrules[18].style.borderLeftColor = val
      }
      if (
        cssrules[19] &&
        cssrules[19].selectorText ===
          '.mui-black-theme .mui-spinner-main .mui-spinner-right .mui-half-circle'
      ) {
        cssrules[19].style.borderRightColor = val
      }
    }

    // Unbind touch events,for freeze type1 and type2
    unbindEvents() {
      unbindEvents$1.call(this)
    }

    bindEvents() {
      bindEvents$3.call(this)
    }

    changeOffest(offset) {
      this.NUM_POS_TARGET_Y = 12 + parseInt(offset || 0)
      this.NUM_POS_MAX_Y = 160 + parseInt(offset || 0)
    }
  }

  function init$k() {
    this.scrollEl = document.body
    this.scrollableList = []
    this.isShowLoading = false
    this.isStoping = false
    this.isBtnAction = false
    this.isTouching = false
    this.NUM_POS_TARGET_Y = 12 // Where to stop
    this.NUM_POS_MAX_Y = 160 // Max position for the moving distance

    this.touchCurrentY = 0
    this.touchStartY = 0
    this.circlePosY = 0
    this.maxRotateTime = 60000 // Max time to stop rotate

    this.onBtnBegin = null
    this.onBtnEnd = null
    this.stopAnimatTimeout = null
  }

  function touchStart(e) {
    this.isTouching = true
    if (isIOS && this.scrollEl === document.body) {
      touchPos.top = window.scrollY
    } else if (this.scrollEl !== document) {
      touchPos.top = this.scrollEl.scrollTop
    } else {
      touchPos.top = (
        document.documentElement ||
        document.body.parentNode ||
        document.body
      ).scrollTop
    }

    if (touchPos.top > 0 || this.isShowLoading) {
      return
    }

    this.circlePosY = basePosY + NUM_POS_START_Y

    this.$refreshMain.style.display = ''
    this.$spinnerWrapper.style.display = 'none'

    // Fix jQuery touch event detect
    e = e.originalEvent || e

    if (e.touches[0]) {
      this.touchCurrentY = this.touchStartY = e.touches[0].pageY
    }
  }

  function touchMove(e) {
    e = e.originalEvent || e

    if (touchPos.top > 0 || this.isShowLoading || !e.touches || e.touches.length !== 1) {
      // Just allow one finger
      return
    }

    if (this.scrollableList.length > 0) {
      for (let i = 0; i < this.scrollableList.length; i++) {
        const scrollableEl = this.scrollableList[i]
        const translate3d = scrollableEl.style.transform
        const listScrollY = parseInt(translate3d.split(',')[1])
        if (listScrollY && listScrollY < 0) {
          return
        }
      }
    }

    const thisTouch = e.touches[0]

    this.touchCurrentY = thisTouch.pageY

    const circlePosOffset = this.touchCurrentY - this.touchStartY
    this.circlePosY = basePosY + NUM_POS_START_Y + circlePosOffset
    // console.log(`touchCurrentY:${touchCurrentY},touchStartY:${touchStartY},circlePosOffset:${circlePosOffset},circlePosY:${circlePosY}`)
    // e.preventDefault()

    if (circlePosOffset < basePosY - customNavTop + this.NUM_POS_MAX_Y) {
      moveCircle.call(this, circlePosOffset)
    } else {
      moveCircle.call(this, basePosY - customNavTop + this.NUM_POS_MAX_Y)
    }
  }

  function touchEnd(e) {
    this.isTouching = false
    if (touchPos.top > 0 || this.isShowLoading) {
      return
    }

    if (this.circlePosY > basePosY - customNavTop + this.NUM_POS_TARGET_Y) {
      // Should move over the min position
      doRotate.call(this)
    } else {
      backToStart.call(this)
    }
  }

  /**
   * backToStart
   * Return to start position
   */
  function backToStart() {
    const realStartPos = basePosY + NUM_POS_START_Y
    {
      this.$refreshMain.style.top = realStartPos + 'px'
      this.$refreshMain.style.webkitTransform = 'scale(' + 0 + ')'
    }
    setTimeout(
      function() {
        // Handle button action
        if (!this.isShowLoading && !this.isTouching) {
          this.$refreshMain.style.opacity = 0
          this.$refreshMain.style.display = 'none'
        }
      }.bind(this),
      300
    )
  }

  /**
   * moveCircle
   * touchmove change the circle style
   *
   * @param {number} y
   */
  function moveCircle(y) {
    const scaleRate = 100
    const scalePer = y / scaleRate > 1 ? 1 : y / scaleRate < 0 ? 0 : y / scaleRate
    const currMoveY = basePosY + NUM_POS_START_Y + y

    {
      // Small to Big
      // $refreshMain.style.webkitTransform = 'scale(' + scalePer + ')'
      this.$refreshMain.style.webkitTransform = 'scale(' + 1 + ')'
    }
    /* $refreshMain.css('-webkit-transform', 'translateY('+ y + 'px)'); */

    this.$refreshMain.style.opacity = scalePer
    // Change the position
    this.$refreshMain.style.top = currMoveY + 'px'
    // console.log(`$refreshMain.style.top:${$refreshMain.style.top}`)
    this.$arrowMain.style.webkitTransform = 'rotate(' + -(y * 2) + 'deg)'
    /* $arrowMain.css('transform', 'rotate(' + -(y * 3) + 'deg)'); */
  }

  /**
   * doRotate
   * Rotate the circle,and you can stop it by `mRefresh.resolve()`
   * or it wil stop within the time: `maxRotateTime`
   */
  function doRotate() {
    this.isShowLoading = true
    // Do button action callback
    if (this.isBtnAction && typeof this.onBtnBegin === 'function') {
      this.onBtnBegin()
    } else if (typeof this.onBegin === 'function') {
      // Do onBegin callback
      this.onBegin()
    }

    // Make sure display entirely
    this.$refreshMain.style.opacity = 1

    if (!this.isBtnAction) {
      const realTargetPos = basePosY + this.NUM_POS_TARGET_Y
      this.$refreshMain.style.top = realTargetPos + 'px'
      /* $refreshMain.css('-webkit-transform', 'translateY(' + realTargetPos + 'px)'); */
    } else {
      this.$refreshMain.classList.add(mainAnimatClass)
      this.$refreshMain.style.webkitTransform = 'scale(' + 1 + ')'
    }

    this.$arrowWrapper.style.display = 'none'

    // Start animation
    this.$spinnerWrapper.style.display = ''

    // Timeout to stop animation
    this.stopAnimatTimeout = setTimeout(recoverRefresh.bind(this), this.maxRotateTime)
  }

  /**
   * Recover Refresh
   * Hide the circle
   */
  function recoverRefresh() {
    // For aviod resolve
    this.isStoping = true

    // Stop animation
    this.$refreshMain.classList.add(noShowClass)

    this.$spinnerWrapper.style.diplay = 'none'

    setTimeout(
      function() {
        this.$refreshMain.classList.remove(noShowClass)
        this.$refreshMain.style.display = 'none'

        backToStart.call(this)

        this.$arrowWrapper.style.display = ''

        this.isShowLoading = false
        this.isStoping = false

        if (this.isBtnAction && typeof this.onBtnEnd === 'function') {
          this.onBtnEnd()
        } else if (typeof this.onEnd === 'function') {
          this.onEnd()
        }

        this.isBtnAction = false
      }.bind(this),
      300
    )
  }

  function bindEvents$3() {
    this.scrollEl.addEventListener('touchstart', this.touchStartEvt)
    this.scrollEl.addEventListener('touchmove', this.touchMoveEvt)
    this.scrollEl.addEventListener('touchend', this.touchEndEvt)
  }

  function unbindEvents$1() {
    this.scrollEl.removeEventListener('touchstart', this.touchStartEvt)
    this.scrollEl.removeEventListener('touchmove', this.touchMoveEvt)
    this.scrollEl.removeEventListener('touchend', this.touchEndEvt)
  }

  /**
   * Refresh component based on material-refresh by lightningtgc
   * Licensed under the MIT License
   * https://github.com/lightningtgc/material-refresh
   */

  const proto$3 = {
    create() {
      const node = document.createElement('refresh')
      node.classList.add('hap-refresh')

      this.muiRefresh = document.createElement('div')
      this.muiRefresh.classList.add('mui-refresh-main')
      const refreshTemplate = `<div class="mui-refresh-wrapper">
<div class="mui-arrow-wrapper">
<div class="mui-arrow-main"></div>
</div>
<div class="mui-spinner-wrapper" style="display:none;">
<div class="mui-spinner-main" >
    <div class="mui-spinner-left">
        <div class="mui-half-circle"></div>
    </div>
    <div class="mui-spinner-right">
        <div class="mui-half-circle"></div>
    </div>
</div>
</div>
</div>`
      this.muiRefresh.innerHTML = refreshTemplate

      this.enableRefresh = true
      const refreshBegin = function() {
        if (this.enableRefresh) {
          this.dispatchEvent('refresh', {
            refreshing: true
          })
        }
      }.bind(this)

      this.refresh = new mRefresh({
        scrollEl: node,
        refreshEl: this.muiRefresh,
        onBegin: refreshBegin,
        tabIndex: this._getProps('_isInTabContent') && this._getProps('tabIndex')
      })

      node.appendChild(this.muiRefresh)

      this._setProps(this.data, {
        _isInRefresh: true,
        refreshComp: this
      })
      this._needFixWidth = true
      return node
    },
    updateScrollable(comp) {
      this.refresh.updateScrollable(comp)
    }
  }

  const attr$5 = {
    refreshing: function(val) {
      if (!this.enableRefresh) {
        return
      }

      if (val === false || val === 'false') {
        this.refresh.resolve()
      }
      this.isRefreshing = val
      this.node.setAttribute('refreshing', val)
    },
    offset: function(val) {
      // offset
      this.refresh.changeOffest(val)
      this.node.setAttribute('offset', val)
    },
    enableRefresh(val) {
      this.enableRefresh = val && val !== 'false'
      if (!this.enableRefresh) {
        this.refresh.unbindEvents()
      } else {
        this.refresh.bindEvents()
      }
    }
  }

  const style$4 = {
    backgroundColor: function(val) {
      // 刷新组件背景颜色
      if (val) {
        this.refresh.setBackGroundColor(val)
      }
    },
    progressColor: function(val) {
      // 刷新组件 loading 颜色
      if (val) {
        this.refresh.setProgressColor(val)
      }
    },
    height(val) {
      // fixed for 芸芸故事
      if (val === '100%') {
        this.node.style.height = '100%'
      }
      console.warn('### Web Render ###  refresh 组件不支持设置height属性')
    }
  }

  function init$l(Hap) {
    const Component = Hap.Component
    const extend = Hap.utils.extend

    function Refresh(data) {
      this.isRefreshing = false
      Component.call(this, data)
    }
    Refresh.prototype = Object.create(Component.prototype)
    extend(Refresh.prototype, proto$3)
    extend(Refresh.prototype, {
      attr: extend(Object.create(Component.prototype.attr), attr$5)
    })
    extend(Refresh.prototype, {
      style: extend(Object.create(Component.prototype.style), style$4)
    })

    Hap.registerComponent('refresh', Refresh)
  }

  var refresh = { init: init$l }

  var css_248z$5 =
    '.hap-loading{overflow:hidden;position:absolute;bottom:0;left:0;width:100%;height:0}'
  styleInject(css_248z$5)

  const parents = ['scroller', 'list', 'vlist']

  const DEFAULT_CLAMP = 130
  const DEFAULT_ALIGN_ITEMS = 'center'
  const DEFAULT_JUSTIFY_CONTENT = 'center'

  function adjustHeight(loading, val) {
    loading.node.style.height = val + 'px'
  }

  function handleLoading(loading, e) {
    loading.node.style.height = loading.clamp + 'px'
    loading.dispatchEvent('loading')
    loading.isLoading = true
  }

  function show(loading) {
    loading.display = true
    loading.node.style.display = '-webkit-box'
    loading.node.style.display = '-webkit-flex'
    loading.node.style.display = 'flex'
  }

  function hide(loading) {
    loading.display = false
    loading.node.style.display = 'none'
    loading.isLoading = false
  }

  const proto$4 = {
    create() {
      const node = document.createElement('div')
      node.classList.add('hap-container')
      node.classList.add('hap-loading')
      return node
    },

    onAppend() {
      const parent = this.getParent()
      const self = this
      const scrollWrapHeight = parent.node.getBoundingClientRect().height
      if (parents.indexOf(parent.data.type) === -1) {
        // not in a scroller or a list
        return
      }
      this.loadingPlaceholder = document.createElement('div')
      this.loadingPlaceholder.classList.add('hap-loading-placeholder')
      this.loadingPlaceholder.style.display = 'none'
      this.loadingPlaceholder.style.width = '0px'
      this.loadingPlaceholder.style.height = '0px'
      const scrollElement = parent.scrollElement || parent.listElement
      scrollElement.insertBefore(this.loadingPlaceholder, this.node)
      parent.node.appendChild(this.node)
      parent.scroller.addEventListener('pullup', function(e) {
        if (self.isLoading) {
          return
        }
        const obj = e.scrollObj
        adjustHeight(self, Math.abs(obj.getScrollHeight() - obj.getScrollTop() - scrollWrapHeight))
        if (!self.display) {
          show(self)
        }
      })
      parent.scroller.addEventListener('pullupend', function(e) {
        if (self.isLoading) {
          return
        }
        handleLoading(self)
      })
    }
  }

  const attr$6 = {
    display: function(val) {
      if (val === 'show') {
        setTimeout(
          function() {
            show(this)
          }.bind(this),
          0
        )
      } else if (val === 'hide') {
        setTimeout(
          function() {
            hide(this)
          }.bind(this),
          0
        )
      } else {
        console.error(
          "### Web Render ###  attr 'display' of <refresh>': value " +
            val +
            " is invalid. Should be 'show' or 'hide'"
        )
      }
    }
  }

  const style$5 = {
    height: function(val) {
      val = parseFloat(val)
      if (Number.isNaN(val) || val < 0) {
        return console.warn("### Web Render ###  <loading>'s height (" + val + ') is invalid.')
      }
      this.clamp = val
    }
  }

  function init$m(Hap) {
    const Component = Hap.Component
    const extend = Hap.utils.extend

    function Loading(data) {
      this.clamp = data.style.height || DEFAULT_CLAMP
      !data.style.alignItems && (data.style.alignItems = DEFAULT_ALIGN_ITEMS)
      !data.style.justifyContent && (data.style.justifyContent = DEFAULT_JUSTIFY_CONTENT)
      Component.call(this, data)
    }
    Loading.prototype = Object.create(Component.prototype)
    extend(Loading.prototype, proto$4)
    extend(Loading.prototype, { attr: attr$6 })
    extend(Loading.prototype, {
      style: extend(Object.create(Component.prototype.style), style$5)
    })

    Hap.registerComponent('loading', Loading)
  }

  var loading = { init: init$m }

  var Scrollable = {
    init: function(Hap) {
      Hap.install(list)
      Hap.install(scroller)
      Hap.install(refresh)
      Hap.install(loading)
    }
  }

  /* eslint-disable */
  /* eslint-enable */

  var css_248z$6 =
    '.hap-slider-container{position:relative;width:-webkit-fill-available;align-self:center;pointer-events:auto;height:.493rem;align-items:center}.hap-slider-container .range-bar{position:relative;width:100%;box-sizing:border-box;height:.107rem;border-radius:.133rem}.hap-slider-container .value-bar{position:absolute;left:0;top:0;height:100%;border-radius:.133rem}.hap-slider-container .block{position:absolute;width:.36rem;height:.36rem;top:-.12rem;left:0;border-radius:50%}'
  styleInject(css_248z$6)

  // import 'cubicbezier'
  // import 'animationjs'
  let Atomic$2
  let nodeLength
  const proto$5 = {
    create() {
      const sliderContainer = document.createElement('div')
      sliderContainer.classList.add('hap-slider-container')
      sliderContainer.classList.add('hap-container')
      return sliderContainer
    },
    createChildren() {
      const sliderContainer = this.node
      const rangeBar = document.createElement('div')
      const valueBar = document.createElement('div')
      const block = document.createElement('span')
      rangeBar.classList.add('range-bar')
      valueBar.classList.add('value-bar')
      block.classList.add('block')
      rangeBar.appendChild(valueBar)
      rangeBar.appendChild(block)
      sliderContainer.appendChild(rangeBar)
      this.rangeBar = rangeBar
      this.valueBar = valueBar
      this.block = block
    },
    onAppend() {
      this.setBackground()
      this.updateContainer()
      const that = this
      let newPosition
      this.block.addEventListener('panstart', function(e) {
        const sliderStyle = that.sliderStyle
        e.preventDefault()
        e.stopPropagation()
        nodeLength =
          parseInt(window.getComputedStyle(that.node).width) -
          parseInt(sliderStyle.paddingLeft) +
          parseInt(sliderStyle.paddingRight)
      })
      this.block.addEventListener('panmove', function(e) {
        that.isFromUser = true
        that.isMoving = true
        const sliderAttrs = that.sliderAttrs
        e.preventDefault()
        e.stopPropagation()
        const moveX = parseInt((e.displacementX / nodeLength) * 100)
        const startX = that.startX
        newPosition = Math.floor((moveX + parseInt(startX)) / sliderAttrs.step) * sliderAttrs.step
        sliderAttrs.value =
          sliderAttrs.min + Math.floor((newPosition / 100) * (sliderAttrs.max - sliderAttrs.min))
        that.setSlider()
      })
      this.block.addEventListener('panend', function(e) {
        that.isMoving = false
        that.startX = newPosition
      })
      Atomic$2.prototype.onAppend.call(this)
    },
    setSlider() {
      // 渲染range
      const valueBar = this.valueBar
      const block = this.block
      const sliderAttrs = this.sliderAttrs
      // 注意：value 必须是step的倍数，先向上取整
      let formatValue = Math.ceil(sliderAttrs.value / sliderAttrs.step) * sliderAttrs.step
      formatValue =
        formatValue > sliderAttrs.max
          ? sliderAttrs.max
          : formatValue < sliderAttrs.min
          ? sliderAttrs.min
          : formatValue
      // position 的值也要在 0~100 之间
      let newPosition = Math.round(
        ((formatValue - sliderAttrs.min) / (sliderAttrs.max - sliderAttrs.min)) * 100
      )
      newPosition = newPosition > 100 ? 100 : newPosition < 0 ? 0 : newPosition

      valueBar.style.width = `calc(${newPosition}% + .133rem)`
      block.style.left = `${newPosition}%`
      sliderAttrs.value = formatValue
      // add test for 白噪音生成器
      this.isChanged = true
      Promise.resolve().then(() => {
        this.dispatchEvent('change')
      })
      this.isChanged = false
      if (!this.isMoving) {
        this.startX = newPosition
      }
    },
    setBackground() {
      const rangeBar = this.rangeBar
      const valueBar = this.valueBar
      const block = this.block
      rangeBar.style.backgroundColor = this.sliderStyle.color
      valueBar.style.backgroundColor = this.sliderStyle.selectedColor
      block.style.backgroundColor = this.sliderStyle.blockColor
    },
    updateContainer() {
      const node = this.node
      node.style.paddingLeft = this.sliderStyle.paddingLeft
      node.style.paddingRight = this.sliderStyle.paddingRight
      this.setSlider()
    }
  }

  const attr$7 = {
    min: function(val) {
      this.sliderAttrs.min = parseInt(val)
      if (val > this.sliderAttrs.value) {
        this.sliderAttrs.value = val
      }
      this.setSlider()
    },
    max: function(val) {
      this.sliderAttrs.max = val
      this.setSlider()
    },
    value: function(val) {
      if (this.isMoving || this.isChanged) {
        return
      }
      this.isFromUser = false
      this.sliderAttrs.value = val
      this.setSlider()
    },
    step: function(val) {
      this.sliderAttrs.step = val
      // value 必须是step的倍数，先向上取整，如果大于最大值再向下取整
      this.setSlider()
    }
  }

  const style$6 = {
    blockColor: function(val) {
      this.sliderStyle.blockColor = val
      this.setBackground()
    },
    selectedColor: function(val) {
      this.sliderStyle.selectedColor = val
      this.setBackground()
    },
    color: function(val) {
      this.sliderStyle.color = val
      this.setBackground()
    },
    paddingLeft: function(val) {
      this.sliderStyle.paddingLeft = val
      this.updateContainer()
    },
    paddingRight: function(val) {
      this.sliderStyle.paddingRight = val
      this.updateContainer()
    }
  }

  const event$1 = {
    change: {
      updator() {
        return {
          attrs: {
            value: this.sliderAttrs.value
          }
        }
      },
      extra() {
        return {
          progress: this.sliderAttrs.value,
          isFromUser: this.isFromUser
        }
      }
    }
  }
  function init$n(Hap) {
    Atomic$2 = Hap.Atomic
    const extend = Hap.utils.extend

    function Slider(data) {
      this.isMoving = false // 正在滑动？
      const attr = data.attr || {}
      const style = data.style || {}
      this.sliderAttrs = {
        min: attr.min || 0,
        max: attr.max || 100,
        step: attr.step || 1,
        value: attr.value || 0
      }
      this.sliderStyle = {
        blockColor: style.blockColor || 'rgb(0, 150, 136)',
        selectedColor: style.selectedColor || 'rgb(0, 150, 136)',
        color: style.color || 'rgb(240, 240, 240)',
        paddingLeft: style.paddingLeft || '.427rem',
        paddingRight: style.paddingRight || '.427rem'
      }
      Atomic$2.call(this, data)
    }
    Slider.prototype = Object.create(Atomic$2.prototype)
    extend(Slider.prototype, proto$5)
    extend(Slider.prototype, {
      attr: extend(Object.create(Atomic$2.prototype.attr), attr$7)
    })
    extend(Slider.prototype, { style: style$6 })
    extend(Slider.prototype, { event: event$1 })
    Hap.registerComponent('slider', Slider)
  }
  var Slider = { init: init$n }

  var css_248z$7 =
    '.progress-container{position:relative}.progress-container .range-bar{border-radius:10px;overflow:hidden}.progress-container .circle-container .circle{box-sizing:border-box;position:absolute;border-style:solid;border-radius:50%}.progress-container .circle-container .circle.infinite{animation:rotateCircle 1s cubic-bezier(.5,0,.5,1) infinite}.progress-container .circle-container div:first-child{animation-delay:-.375s}.progress-container .circle-container div:nth-child(2){animation-delay:-.25s}.progress-container .circle-container div:nth-child(3){animation-delay:-.125s}@keyframes rotateCircle{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}'
  styleInject(css_248z$7)

  const proto$6 = {
    create() {
      const type = this.type
      const node = document.createElement('div')
      node.classList.add('hap-container')
      node.classList.add('progress-container')
      this.node = node
      type === 'horizontal' ? this.setHorizontal() : this.setCircular()
      return node
    },
    setHorizontal() {
      const node = this.node
      const rangeBar = document.createElement('div')
      const valueBar = document.createElement('div')
      rangeBar.classList.add('range-bar')
      valueBar.classList.add('value-bar')
      node.style.width = '100%'
      rangeBar.style.backgroundColor = '#f0f0f0'
      rangeBar.style.width = '100%'
      rangeBar.appendChild(valueBar)
      valueBar.style.height = '100%'
      this.rangeBar = rangeBar
      this.valueBar = valueBar
      node.appendChild(rangeBar)
      this.updateHorizontalStyle()
    },
    setCircular() {
      const node = this.node
      const circleContainer = document.createElement('div')
      const circle = document.createElement('div')
      circleContainer.classList.add('circle-container')
      circle.classList.add('circle')
      {
        circle.classList.add('infinite')
      }
      circleContainer.appendChild(circle)
      circleContainer.appendChild(circle.cloneNode())
      circleContainer.appendChild(circle.cloneNode())
      circleContainer.appendChild(circle.cloneNode())
      node.appendChild(circleContainer)
      this.circles = circleContainer.childNodes
      this.circleContainer = circleContainer
      this.updateCircleStyle()
    },
    updateHorizontalStyle() {
      const target = this.valueBar
      if (!target) {
        return
      }
      target.style.backgroundColor = this.color
      target.style.width = `${this.percent}%`
      this.rangeBar.style.height = `${this.strokeWidth}`
    },
    updateCircleStyle() {
      const circles = this.circles
      const size = this.circleSize
      const color = this.color
      const borderWidth = Math.round(size / 8)
      if (!circles) {
        return
      }
      this.circleContainer.style.width = `${Math.round(size + borderWidth)}px`
      this.circleContainer.style.height = `${Math.round(size + borderWidth)}px`
      Array.prototype.forEach.call(circles, function(circle) {
        circle.style.width = `${size}px`
        circle.style.height = `${size}px`
        circle.style.borderWidth = `${borderWidth}px`
        circle.style.borderColor = `${color} transparent transparent transparent`
      })
    }
  }

  const attr$8 = {
    percent: function(val) {
      this.percent = val
      this.updateHorizontalStyle()
    },

    layerColor: function(val) {
      this.rangeBar.style.backgroundColor = val || ''
    }
  }

  const style$7 = {
    width: function(val) {
      val = parseInt(val) * global.HapEnvironment.previewRatio
      this.circleWidth = val
      if (this.hackCircleSize) {
        return
      } // add test hack for android bug
      if (!this.circleHeight || val < this.circleHeight) {
        this.circleSize = val
        this.updateCircleStyle()
      }
    },

    height: function(val) {
      val = parseInt(val) * global.HapEnvironment.previewRatio
      this.circleHeight = val
      if (this.hackCircleSize) {
        return
      } // add test hack for android bug
      if (!this.circleWidth || val < this.circleWidth) {
        this.circleSize = val
        this.updateCircleStyle()
      }
    },
    color: function(val) {
      this.color = val
      this.type === 'horizontal' ? this.updateHorizontalStyle() : this.updateCircleStyle()
    },
    strokeWidth: function(val) {
      val = parseInt(val) * global.HapEnvironment.previewRatio
      this.strokeWidth = val
      this.updateHorizontalStyle()
      // add test hack for android bug
      // (strokeWidth should not be usable in circle progress. according to https://doc.quickapp.cn/widgets/progress.html?h=progress)
      this.hackCircleSize = this.circleSize = val
      this.updateCircleStyle()
    }
  }

  function init$o(Hap) {
    const Atomic = Hap.Atomic
    const extend = Hap.utils.extend

    // attrs:
    //   - checked: if is checked.
    //   - disabled: if true, this component is not available for interaction.
    function Progress(data) {
      const attr = data.attr || {}
      const style = data.style || {}
      this.type = attr.type || 'horizontal'
      this.strokeWidth = style.strokeWidth || '.427rem'
      this.circleSize = 0.427 * global.HapEnvironment.previewRem
      this.color = style.color || '#33b4ff'
      this.data = data
      Atomic.call(this, data)
    }
    Progress.prototype = Object.create(Atomic.prototype)
    extend(Progress.prototype, proto$6)
    extend(Progress.prototype, {
      attr: extend(Object.create(Atomic.prototype.attr), attr$8)
    })
    extend(Progress.prototype, {
      style: extend(Object.create(Atomic.prototype.style), style$7)
    })

    Hap.registerComponent('progress', Progress)
  }

  var Progress = { init: init$o }

  typeof window === 'undefined' && (window = { ctrl: {}, lib: {} })
  !window.ctrl && (window.ctrl = {})
  !window.lib && (window.lib = {})
  !(function(a, b) {
    function c(a, b, c, d) {
      function e(a) {
        return (3 * k * a + 2 * l) * a + m
      }
      function f(a) {
        return ((k * a + l) * a + m) * a
      }
      function g(a) {
        return ((n * a + o) * a + p) * a
      }
      function h(a) {
        for (var b, c, d = a, g = 0; 8 > g; g++) {
          if (((c = f(d) - a), Math.abs(c) < j)) {
            return d
          }
          if (((b = e(d)), Math.abs(b) < j)) {
            break
          }
          d -= c / b
        }
        var h = 1,
          i = 0
        for (d = a; h > i; ) {
          if (((c = f(d) - a), Math.abs(c) < j)) {
            return d
          }
          c > 0 ? (h = d) : (i = d), (d = (h + i) / 2)
        }
        return d
      }
      function i(a) {
        return g(h(a))
      }
      var j = 1e-6,
        k = 3 * a - 3 * c + 1,
        l = 3 * c - 6 * a,
        m = 3 * a,
        n = 3 * b - 3 * d + 1,
        o = 3 * d - 6 * b,
        p = 3 * b
      return i
    }
    ;(b.cubicbezier = c),
      (b.cubicbezier.linear = c(0, 0, 1, 1)),
      (b.cubicbezier.ease = c(0.25, 0.1, 0.25, 1)),
      (b.cubicbezier.easeIn = c(0.42, 0, 1, 1)),
      (b.cubicbezier.easeOut = c(0, 0, 0.58, 1)),
      (b.cubicbezier.easeInOut = c(0.42, 0, 0.58, 1))
  })(window, window.lib || (window.lib = {}))
  var cubicbezier_common = window.lib['cubicbezier']

  typeof window === 'undefined' && (window = { ctrl: {}, lib: {} })
  !window.ctrl && (window.ctrl = {})
  !window.lib && (window.lib = {})
  !(function(a, b) {
    function c(a) {
      return setTimeout(a, l)
    }
    function d(a) {
      clearTimeout(a)
    }
    function e() {
      var a = {},
        b = new m(function(b, c) {
          ;(a.resolve = b), (a.reject = c)
        })
      return (a.promise = b), a
    }
    function f(a, b) {
      return (
        ['then', 'catch'].forEach(function(c) {
          b[c] = function() {
            return a[c].apply(a, arguments)
          }
        }),
        b
      )
    }
    function g(b) {
      var c,
        d,
        h = !1
      ;(this.request = function() {
        h = !1
        var g = arguments
        return (
          (c = e()),
          f(c.promise, this),
          (d = n(function() {
            h || (c && c.resolve(b.apply(a, g)))
          })),
          this
        )
      }),
        (this.cancel = function() {
          return d && ((h = !0), o(d), c && c.reject('CANCEL')), this
        }),
        (this.clone = function() {
          return new g(b)
        })
    }
    function h(a, b) {
      'function' == typeof b && (b = { 0: b })
      for (
        var c = a / l,
          d = 1 / c,
          e = [],
          f = Object.keys(b).map(function(a) {
            return parseInt(a)
          }),
          h = 0;
        c > h;
        h++
      ) {
        var i = f[0],
          j = d * h
        if (null != i && 100 * j >= i) {
          var k = b['' + i]
          k instanceof g || (k = new g(k)), e.push(k), f.shift()
        } else {
          e.length && e.push(e[e.length - 1].clone())
        }
      }
      return e
    }
    function i(a) {
      var c
      return (
        'string' == typeof a || a instanceof Array
          ? b.cubicbezier
            ? 'string' == typeof a
              ? b.cubicbezier[a] && (c = b.cubicbezier[a])
              : a instanceof Array && 4 === a.length && (c = b.cubicbezier.apply(b.cubicbezier, a))
            : console.error('require lib.cubicbezier')
          : 'function' == typeof a && (c = a),
        c
      )
    }
    function j(a, b, c) {
      var d,
        g = h(a, c),
        j = 1 / (a / l),
        k = 0,
        m = i(b)
      if (!m) {
        throw new Error('unexcept timing function')
      }
      var n = !1
      ;(this.play = function() {
        function a() {
          var c = j * (k + 1).toFixed(10),
            e = g[k]
          e.request(c.toFixed(10), b(c).toFixed(10)).then(
            function() {
              n &&
                (k === g.length - 1 ? ((n = !1), d && d.resolve('FINISH'), (d = null)) : (k++, a()))
            },
            function() {}
          )
        }
        if (!n) {
          return (n = !0), d || ((d = e()), f(d.promise, this)), a(), this
        }
      }),
        (this.stop = function() {
          return n ? ((n = !1), g[k] && g[k].cancel(), this) : void 0
        })
    }
    var k = 60,
      l = 1e3 / k,
      m = a.Promise || (b.promise && b.promise.ES6Promise),
      n =
        window.requestAnimationFrame ||
        window.msRequestAnimationFrame ||
        window.webkitRequestAnimationFrame ||
        window.mozRequestAnimationFrame ||
        c,
      o =
        window.cancelAnimationFrame ||
        window.msCancelAnimationFrame ||
        window.webkitCancelAnimationFrame ||
        window.mozCancelAnimationFrame ||
        d
    ;(n === c || o === d) && ((n = c), (o = d)),
      (b.animation = function(a, b, c) {
        return new j(a, b, c)
      }),
      (b.animation.frame = function(a) {
        return new g(a)
      }),
      (b.animation.requestFrame = function(a) {
        var b = new g(a)
        return b.request()
      })
  })(window, window.lib || (window.lib = {}))
  var animation_common = window.lib['animation']

  var css_248z$8 =
    '[data-ctrl-name=carrousel]{position:relative;-webkit-transform:translateZ(1px);-ms-transform:translateZ(1px);transform:translateZ(1px)}'
  styleInject(css_248z$8)

  /* eslint-disable */

  var doc$2 = window.document
  var ua$2 = window.navigator.userAgent
  var Firefox$1 = !!ua$2.match(/Firefox/i)
  var IEMobile$1 = !!ua$2.match(/IEMobile/i)
  var stylePrefix$2 = Firefox$1 ? 'Moz' : IEMobile$1 ? 'ms' : 'webkit'
  var setTimeout$2 = setTimeout$1
  var clearTimeout$2 = clearTimeout$1

  var CSSMatrix$1 = IEMobile$1 ? 'MSCSSMatrix' : 'WebKitCSSMatrix'
  var has3d$1 = !!Firefox$1 || (CSSMatrix$1 in window && 'm11' in new window[CSSMatrix$1]())

  var slice$2 = Array.prototype.slice
  function ArrayFrom(a) {
    return slice$2.call(a)
  }

  var incId = 0
  function Carrousel(element, options) {
    options = options || {}
    this.clientHeight = options.clientHeight
    this.previousmargin = options.previousmargin || 0
    this.nextmargin = options.nextmargin || 0
    this.childLength = options.childLength
    var that = this
    const varMap = {
      vertical: false,
      originChild: [],
      cloneChild: [],
      roundStatus: {
        prev: null,
        current: 'originChild',
        next: null
      },
      against: {
        originChild: 'cloneChild',
        cloneChild: 'originChild'
      }
    }
    var diffOffset = 0
    var transformOffset = 0
    var items = {}
    var itemLength = 0
    var itemStep = 100 // 以百分比来计算 步长
    var itemIndex = 0
    var id = Date.now() + '-' + ++incId
    var root = document.createDocumentFragment()

    if (arguments.length === 1 && !(arguments[0] instanceof HTMLElement)) {
      options = arguments[0]
      element = null
    }

    if (!element) {
      element = document.createElement('ul')
      root.appendChild(element)
    }

    /**
     * 滑动距离转化为百分比
     * @param {number} diff - 移动的距离
     * @param {Node} node - 父容器节点
     */
    function toPercent(diff, node) {
      const containerWidth = node.getBoundingClientRect()[that._unit.length]
      const percent = (diff / containerWidth) * 100
      return percent
    }
    function getTranslate(x, y) {
      if (!y) {
        if (varMap.vertical) {
          y = x
          x = 0
        } else {
          y = 0
        }
      }
      x = parseFloat(x)
      y = parseFloat(y)

      if (x != 0) {
        x += '%'
      }

      if (y != 0) {
        y += '%'
      }

      if (has3d$1) {
        return 'translate3d(' + x + ', ' + y + ', 0)'
      }

      return 'translate(' + x + ', ' + y + ')'
    }
    function getUnitByVertical(vertical) {
      const horizonUnit = {
        length: 'width',
        pos: 'left',
        direction: 'left'
      }
      const verticalUnit = {
        length: 'height',
        pos: 'top',
        direction: 'up'
      }
      let previousUnit = verticalUnit
      let currentUnit = horizonUnit
      if (vertical) {
        previousUnit = horizonUnit
        currentUnit = verticalUnit
      }

      return { previousUnit, ...currentUnit }
    }

    this._updateMargin = function(previousmargin, nextmargin) {
      // add test margin 的百分比，web 端是相对于宽度来计算，Android是相对于方向来计算
      if (previousmargin) {
        this.previousmargin = previousmargin
      }
      if (nextmargin) {
        this.nextmargin = nextmargin
      }
      previousmargin = this.previousmargin
      nextmargin = this.nextmargin

      if (previousmargin === 0 && nextmargin === 0) {
        element.style.width = '100%'
        element.style.height = '100%'
      } else if (varMap.vertical) {
        if (previousmargin.indexOf('%') > -1) {
          previousmargin = Math.floor((this.clientHeight * parseFloat(previousmargin)) / 100) + 'px'
        }
        if (nextmargin.indexOf('%') > -1) {
          nextmargin = Math.floor((this.clientHeight * parseFloat(nextmargin)) / 100) + 'px'
        }
        element.style.margin = 'unset'
        element.style.marginTop = previousmargin
        element.style.marginBottom = nextmargin
        element.style.height = `calc(100% - ${previousmargin} - ${nextmargin})`
        element.style.width = '100%'
      } else {
        element.style.margin = 'unset'
        element.style.marginLeft = previousmargin
        element.style.marginRight = nextmargin
        element.style.width = `calc(100% - ${previousmargin} - ${nextmargin})`
        element.style.height = '100%'
      }
    }

    Object.defineProperties(this, {
      vertical: {
        set(val) {
          that._unit = getUnitByVertical(val)
          if (val !== varMap.vertical) {
            varMap.vertical = val
            this._resetStatus()
            this._resetLoop()
            this._updateMargin()
          }
        }
      }
    })
    Object.defineProperties(this, {
      loop: {
        set(val) {
          if (val !== varMap.loop) {
            varMap.loop = val
            this._resetLoop()
          }
        }
      }
    })

    this._preChangeRound = function(children, childType, direction) {
      const { pos, previousUnit } = that._unit
      let onelooptransform = 0
      if (direction === 'next') {
        onelooptransform = itemStep * this.childLength
        varMap.roundStatus.next = childType
        varMap.roundStatus.prev = null
      }
      if (direction === 'prev') {
        children.forEach(function(el) {
          el.style[pos] = -transformOffset + (el.index - itemIndex - itemLength) * itemStep + '%'
          el.style[previousUnit.pos] = ''
        })
        varMap.roundStatus.prev = childType
        varMap.roundStatus.next = null
      } else {
        children.forEach(function(el) {
          el.style[pos] =
            -transformOffset + (el.index - itemIndex) * itemStep + onelooptransform + '%'
          el.style[previousUnit.pos] = ''
        })
      }
    }

    /**
     * 改变当前组的状态，放置下一组在预判位置
     * @param {int} activateIndex - 目标元素的下标
     */
    this._changeRound = function(activateIndex) {
      // 如果有margin，需要多用一个占位
      let prevhold = 0
      let nexthold = 1
      if (this.previousmargin) {
        prevhold = 1
      }
      if (this.nextmargin) {
        nexthold = 2
      }
      const { roundStatus, against } = varMap
      // 判断边界走向
      if (activateIndex >= itemLength - nexthold) {
        // 需要操作的时候，另外一组是不是在目标的位置，如果不在就移动到目标位置
        const againstType = against[roundStatus.current]
        if (!roundStatus.next) {
          that._preChangeRound(varMap[againstType], againstType, 'next')
        }
      } else if (activateIndex <= prevhold) {
        const againstType = against[roundStatus.current]
        if (!roundStatus.prev) {
          that._preChangeRound(varMap[againstType], againstType, 'prev')
        }
      }

      // 切换到另一组边界值的时候，当前round 状态切换
      if (activateIndex === itemLength) {
        roundStatus.prev = roundStatus.current
        roundStatus.current = roundStatus.next
        roundStatus.next = null
      } else if (activateIndex === -1) {
        roundStatus.next = roundStatus.current
        roundStatus.current = roundStatus.prev
        roundStatus.prev = null
      }
    }

    this._resetStatus = function() {
      this._preChangeRound(varMap.originChild, 'originChild')
      if (varMap.loop) {
        const direction = itemIndex > itemLength / 2 ? 'next' : 'prev'
        this._preChangeRound(varMap.cloneChild, 'cloneChild', direction)
      }

      element.style[stylePrefix$2 + 'Transform'] = getTranslate(transformOffset)
    }

    /**
     * 当loop：true，复制一组 children，放在在当前round的前或者后
     */
    this._resetLoop = function() {
      const itemLength = this.childLength
      const direction = itemIndex > itemLength / 2 ? 'next' : 'prev'
      if (varMap.loop && itemLength > 1) {
        for (let i = 0; i < itemLength; i++) {
          let item = items[`cloned-${i}`]
          if (item) {
            element.appendChild(item)
          } else {
            item = items.getCloned(i)
            items[`cloned-${i}`] = item
            varMap.cloneChild.push(item)
          }
        }
        this._preChangeRound(varMap['cloneChild'], 'cloneChild', direction)
      } else {
        this._preChangeRound(varMap['originChild'], 'originChild')
        element.querySelectorAll('[cloned]').forEach(el => element.removeChild(el))
        varMap.roundStatus.current = 'originChild'
      }
    }
    this.vertical = options.vertical || false
    element.setAttribute('data-ctrl-name', 'carrousel')
    element.setAttribute('data-ctrl-id', id)

    function fireEvent(name, extra) {
      var ev = doc$2.createEvent('HTMLEvents')
      ev.initEvent(name, false, false)
      if (extra) {
        for (var key in extra) {
          ev[key] = extra[key]
        }
      }
      root.dispatchEvent(ev)
    }

    element.style.position = 'relative'
    element.style[stylePrefix$2 + 'Transform'] = getTranslate(0, 0)
    this._updateMargin()

    ArrayFrom(element.children).forEach(function(el) {
      el.style.position = 'absolute'
      el.style[that._unit.pos] = itemLength * itemStep + '%'
      el.index = itemLength
      Object.defineProperty(items, itemLength + '', {
        get: function() {
          return el
        }
      })
      varMap.originChild.push(el)
      itemLength++
    })
    // this._resetLoop()
    function normalizeIndex(index) {
      while (index < 0) {
        index += itemLength
      }

      while (index >= itemLength) {
        index -= itemLength
      }

      return index
    }

    items.get = function(index) {
      if (!(typeof index === 'string' && index.indexOf('cloned') > -1)) {
        index = normalizeIndex(index)
      }
      return items[index]
    }
    items.del = function(index) {
      delete items[index]
    }

    items.getCloned = function(index) {
      var index = normalizeIndex(index)
      var item = this['cloned-' + index] || element.querySelector('[cloned="cloned-' + index + '"]')
      var originalItem = items[index]

      // If there a _listeners attribute on the dom element
      // then clone the _listeners as well for the events' binding
      function cloneEvents(origin, clone, deep) {
        var listeners = origin._listeners
        if (listeners) {
          clone._listeners = listeners
          for (var type in listeners) {
            clone.addEventListener(type, listeners[type])
          }
        }
        if (deep && origin.children && origin.children.length) {
          for (var i = 0, l = origin.children.length; i < l; i++) {
            cloneEvents(origin.children[i], clone.children[i], deep)
          }
        }
      }

      if (!item) {
        item = originalItem.cloneNode(true)
        cloneEvents(originalItem, item, true)

        element.appendChild(item)
        item.setAttribute('cloned', 'cloned-' + index)
        item.setAttribute('ref', '')
        item.index = index
        item._iscloned = true
      }

      return item
    }

    this.loop = typeof options.loop === 'boolean' ? options.loop : true

    function activate(index) {
      if (itemLength === 0) {
        return
      }
      var curItem = items.get(index)
      itemIndex = curItem.index
      fireEvent('change', {
        curItem: curItem
      })
    }

    items.slide = function(index, isAnimation = true) {
      const activateIndex = itemIndex + index
      if (itemLength === 0) {
        return
      }

      if (itemLength === 1) {
        index = 0
      }
      if (that.isBoundary(index)) {
        return false
      }
      // var startOffset = getTransformOffset(element).x
      var startOffset = transformOffset + diffOffset
      var endOffset = transformOffset + itemStep * -index
      var interOffset = endOffset - startOffset

      if (interOffset === 0) {
        return
      }

      varMap.loop && that._changeRound(activateIndex)

      if (isAnimation) {
        transformOffset = endOffset
        index && activate(activateIndex)
        var anim = new lib.animation(400, lib.cubicbezier.ease, function(i1, i2) {
          element.style[stylePrefix$2 + 'Transform'] = getTranslate(startOffset + interOffset * i2)
        })
          .play()
          .then(function() {
            element.style[stylePrefix$2 + 'Transform'] = getTranslate(endOffset)
          })
      } else {
        transformOffset = endOffset
        index && activate(activateIndex)
        element.style[stylePrefix$2 + 'Transform'] = getTranslate(endOffset)
      }
    }

    items.next = function() {
      items.slide(1)
    }

    items.prev = function() {
      items.slide(-1)
    }

    Object.defineProperty(this, 'items', {
      get: function() {
        return items
      }
    })

    Object.defineProperty(items, 'length', {
      get: function() {
        return itemLength
      }
    })

    Object.defineProperty(items, 'index', {
      get: function() {
        return itemIndex
      }
    })
    var playing = false
    var isSliding = false
    this.play = function() {
      if (!!playing) {
        return
      }

      playing = setTimeout$2(function play() {
        isSliding = true
        items.next()
        setTimeout$2(function() {
          isSliding = false
        }, 500)
        playing = setTimeout$2(play, playInterval)
      }, playInterval)
    }

    this.stop = function() {
      if (readyToPlay) {
        clearTimeout$2(readyToPlay)
        readyToPlay = false
      }
      if (!playing) {
        return
      }
      clearTimeout$2(playing)
      playing = false
    }

    var autoplay = false
    var readyToPlay = false
    Object.defineProperty(this, 'autoplay', {
      get: function() {
        return autoplay
      },
      set: function(v) {
        autoplay = !!v
        if (readyToPlay) {
          clearTimeout$2(readyToPlay)
          readyToPlay = false
        }
        if (autoplay) {
          readyToPlay = setTimeout$2(function() {
            that.play()
          }, 2000)
        } else {
          that.stop()
        }
      }
    })
    this.autoplay = !!options.autoplay

    var playInterval = 1500
    Object.defineProperty(this, 'playInterval', {
      get: function() {
        return playInterval
      },
      set: function(n) {
        playInterval = n
      }
    })
    this.playInterval = !!options.playInterval || 1500

    // 边界判断，是否循环
    this.isBoundary = function(direction) {
      if (varMap.loop) {
        return false
      }
      const activateIndex = itemIndex + direction
      return activateIndex === itemLength || activateIndex < 0
    }
    if (options.useGesture) {
      var panning = false

      this.enableswipe = !!options.enableswipe
      element.events = {}

      element.events.panstart = function(e) {
        const direction = e.direction === that._unit.direction ? 1 : -1
        panning = false
        if (that.isBoundary(direction)) {
          return false
        }
        if (
          ((e.isVertical && varMap.vertical) || (!e.isVertical && !varMap.vertical)) &&
          !(panning && isSliding)
        ) {
          e.preventDefault()
          e.stopPropagation()

          if (autoplay) {
            that.stop()
          }

          diffOffset = 0
          panning = true
        }
      }

      element.events.panmove = function(e) {
        if (!panning) {
          return
        }
        e.preventDefault()
        e.stopPropagation()
        if (varMap.vertical && e.isVertical) {
          diffOffset = toPercent(e.displacementY, element)
          element.style[stylePrefix$2 + 'Transform'] = getTranslate(transformOffset + diffOffset)
        } else if (!varMap.vertical && !e.isVertical) {
          diffOffset = toPercent(e.displacementX, element)
          element.style[stylePrefix$2 + 'Transform'] = getTranslate(transformOffset + diffOffset)
        }
      }

      element.events.panend = function(e) {
        if (((!e.isVertical && !varMap.vertical) || (e.isVertical && varMap.vertical)) && panning) {
          e.preventDefault()
          e.stopPropagation()
          panning = false
          if (e.isSwipe) {
            if (diffOffset < 0) {
              items.next()
            } else {
              items.prev()
            }
          } else {
            if (Math.abs(diffOffset) < itemStep / 3) {
              items.slide(0)
            } else {
              items.slide(diffOffset < 0 ? 1 : -1)
            }
          }
          diffOffset = 0
          if (autoplay) {
            setTimeout$2(function() {
              that.play()
            }, 2000)
          }
        }
      }
      element.events.swipe = function(e) {
        if ((!e.isVertical && !varMap.vertical) || (e.isVertical && varMap.vertical)) {
          e.preventDefault()
          e.stopPropagation()
        }
      }
      if (this.enableswipe) {
        element.addEventListener('panstart', element.events.panstart)
        element.addEventListener('panmove', element.events.panmove)
        element.addEventListener('panend', element.events.panend, false)
        element.addEventListener('swipe', element.events.swipe)
      }
    }

    this.addEventListener = function(name, handler) {
      this.root.addEventListener(name, handler, false)
    }

    this.removeEventListener = function(name, handler) {
      this.root.removeEventListener(name, handler, false)
    }

    this.root = root
    this.element = element
  }

  !lib && (lib = {})
  lib.carrousel = Carrousel

  var css_248z$9 =
    '.swiper{position:relative;width:-webkit-fill-available}.swiper .indicator-container{position:absolute;display:block;font-size:0}.swiper .indicator-container .indicator{border-radius:50%}.swiper .indicator-container.swiper-horizon{bottom:.133rem;width:100%;text-align:center}.swiper .indicator-container.swiper-horizon .indicator{display:inline-block;margin-left:.133rem;margin-right:.133rem}.swiper .indicator-container.swiper-vertical{right:.233rem;top:50%;transform:translateY(-50%);text-align:right}.swiper .indicator-container.swiper-vertical .indicator{margin-top:.133rem;margin-bottom:.133rem}'
  styleInject(css_248z$9)

  /* global lib */

  const DEFAULT_INTERVAL = 3000
  const defaultIndicatorStyle = {
    'indicator-color': 'rgba(0, 0, 0, 0.5)',
    'indicator-selected-color': 'rgb(51, 180, 255)',
    // 'indicator-size': '.2.67rem'
    'indicator-size': '20px',
    position: {}
  }

  let extend$1, Component$2

  // function idleWhenPageDisappear (swiper) {
  //   function handlePageShow () {
  //     swiper.isPageShow = true
  //     swiper.autoplay && swiper.play()
  //   }
  //   function handlePageHide () {
  //     swiper.isPageShow = false
  //     swiper.stop()
  //   }
  //   global.addEventListener('pageshow', handlePageShow)
  //   global.addEventListener('pagehide', handlePageHide)
  //   document.addEventListener('visibilitychange', function () {
  //     if (document.visibilityState === 'visible') {
  //       handlePageShow()
  //     }
  //     else if (document.visibilityState === 'hidden') {
  //       handlePageHide()
  //     }
  //   })
  // }

  // function idleWhenDomRendering (swiper) {
  //   global.addEventListener('renderend', function () {
  //     swiper.isDomRendering = false
  //     swiper.autoplay && swiper.isPageShow && swiper.play()
  //   })
  //   global.addEventListener('renderbegin', function () {
  //     swiper.isDomRendering = true
  //     swiper.stop()
  //   })
  // }

  function updateIndicators(swiper) {
    if (!swiper.indicator) {
      return false
    }
    const children = swiper.indicator.children
    const curIndex = swiper.currentIndex
    Array.prototype.forEach.call(children, (item, i) => {
      item.style.width = item.style.height = swiper.indicatorStyle['indicator-size']
      item.classList.remove('current')
      if (i === curIndex) {
        item.classList.add('current')
        item.style.backgroundColor = swiper.indicatorStyle['indicator-selected-color']
      } else {
        item.style.backgroundColor = swiper.indicatorStyle['indicator-color']
      }
    })
  }

  function updateIndicatorsPosition(swiper) {
    const { indicatorStyle, indicator } = swiper
    if (!indicator) {
      return
    }
    if (
      swiper.indicatorDirection === 'swiper-horizon' &&
      (indicatorStyle.position.left || indicatorStyle.position.right)
    ) {
      indicator.style.width = 'auto'
    } else if (
      swiper.indicatorDirection === 'swiper-vertical' &&
      (indicatorStyle.position.top || indicatorStyle.position.bottom)
    ) {
      indicator.style.transform = ''
    }
    Object.keys(indicatorStyle.position).forEach(p => {
      indicator.style[p] = indicatorStyle.position[p]
    })
  }

  function getSliderChangeHandler(swiper) {
    if (!swiper._sliderChangeHandler) {
      swiper._sliderChangeHandler = function(e) {
        const index = this.carrousel.items.index
        this.currentIndex = index
        updateIndicators(this)
        Promise.resolve().then(() => {
          this.dispatchEvent('change', { index: index })
        })
      }.bind(swiper)
    }
    return swiper._sliderChangeHandler
  }

  function doRender(swiper) {
    swiper.createChildren()
    swiper.onAppend()
  }

  const proto$7 = {
    create() {
      const node = document.createElement('swiper')
      node.classList.add('swiper')
      node.style.position = 'relative'
      node.style.overflow = 'hidden'
      this._needFixWidth = true
      this.hasIndicator = true
      this.enableswipe = true
      this.padding = {}
      this.margin = {}
      // item.add 尝试
      /*     // 创建容器
const sliderContainer = document.createElement('div')
sliderContainer.style.listStyle = 'none'
node.appendChild(sliderContainer)
this.sliderContainer = sliderContainer */

      return node
    },

    createChildren() {
      const componentManager = this.getComponentManager()

      // recreate swiper container.
      if (this.sliderContainer) {
        this.node.removeChild(this.sliderContainer)
      }
      if (this.indicator) {
        this.indicator.parentNode.removeChild(this.indicator)
      }
      this.children = []

      // 创建容器
      const sliderContainer = document.createElement('div')
      sliderContainer.style.listStyle = 'none'
      this.node.appendChild(sliderContainer)
      this.sliderContainer = sliderContainer

      const children = this.data.children
      const fragment = document.createDocumentFragment()
      const parentRef = this.data.ref

      if (children && children.length) {
        for (let i = 0; i < children.length; i++) {
          const currentChild = children[i]
          currentChild._parentRef = parentRef
          let child = componentManager.componentMap[currentChild.ref]
          if (!child) {
            child = componentManager.createElement(currentChild)
            child.node.style.pointerEvents = 'auto'
            currentChild.instanceId = this.data.instanceId
          }
          this.children.push(child)
          // 挂载当前正在处理的节点
          fragment.appendChild(child.node)
          // add test swiper 子节点设置宽高度理应无效
          // width = (child.data.style && child.data.style.width) || '100%'
          // height = (child.data.style && child.data.style.height) || '100%'
          // width > childWidth && (childWidth = width)
          // height > childHeight && (childHeight = height)
          child.node.style.width = '100%'
          child.node.style.height = '100%'
          child.parentRef = parentRef
        }

        this.sliderContainer.style.height =
          (this.data.style && this.data.style.height) || `${this.node.clientHeight}px`
        sliderContainer.appendChild(fragment)
      }
    },
    createIndicator() {
      if (!this.hasIndicator) {
        return
      }
      if (!this.data.children || this.data.children.length === 0) {
        return
      }
      const amount = this.data.children.length
      const indicator = document.createElement('ul')
      indicator.style.listStyle = 'none'
      indicator.classList.add('indicator-container')
      indicator.classList.add(this.indicatorDirection)

      for (let i = 0; i < amount; i++) {
        const item = document.createElement('li')
        item.classList.add('indicator')
        indicator.appendChild(item)
      }

      this.node.appendChild(indicator)
      this.indicator = indicator
      updateIndicators(this)
      updateIndicatorsPosition(this)
    },
    setIndicatorStyle() {
      // add test for 微博动漫。设置了indicator样式，indicator一定显示
      if (!this.indicator) {
        this.hasIndicator = true
        this.createIndicator()
      }
      updateIndicators(this)
    },
    setIndicatorPosition() {
      if (!this.indicator) {
        this.hasIndicator = true
        this.createIndicator()
      }
      updateIndicatorsPosition(this)
    },
    appendChild(data) {
      const children = this.data.children || (this.data.children = [])
      children.push(data)
      doRender(this)
      if (this.children.length > 0) {
        return this.children[this.children.length - 1]
      }
      /*  // item.add 尝试
// 添加节点功能
const componentManager = this.getComponentManager()
const child = this.carrousel.items.add(componentManager, data)
this.children.push(child)
this.createIndicator() */
    },

    insertBefore(child, before) {
      const children = this.data.children
      let childIndex = -1
      for (let i = 0, l = children.length; i < l; i++) {
        if (children[i].ref === before.data.ref) {
          childIndex = i
          break
        }
      }
      children.splice(childIndex, 0, child.data)
      doRender(this)
      if (this.children.length > 0) {
        return this.children[this.children.length - 1]
      }
    },

    removeChild(child) {
      const children = this.data.children
      if (children) {
        for (let i = 0; i < children.length; i++) {
          if (child.data.ref === children[i].ref) {
            children.splice(i, 1)
            break
          }
        }
      }
      doRender(this)
    },

    onAppend() {
      if (this.carrousel) {
        this.carrousel.removeEventListener('change', getSliderChangeHandler(this))
        this.carrousel.stop()
        this.carrousel = null
      }
      const Carrousel = lib.carrousel
      const clientHeight = this.node.getBoundingClientRect().height
      this.carrousel = new Carrousel(this.sliderContainer, {
        autoplay: this.autoplay,
        enableswipe: this.enableswipe,
        useGesture: true,
        previousmargin: this.previousmargin,
        nextmargin: this.nextmargin,
        loop: this.loop,
        vertical: this.vertical,
        clientHeight,
        childLength: this.children.length
      })
      this.createIndicator()
      this.carrousel.playInterval = this.interval
      this.carrousel.addEventListener('change', getSliderChangeHandler(this))
      this.currentIndex = 0

      // preload all images for swiper
      // because:
      // 1. lib-img doesn't listen to event transitionend
      // 2. even if we fire lazy load in swiper's change event handler,
      //    the next image still won't be preloaded utill the moment it
      //    slides into the view, which is too late.
      if (this.preloadImgsTimer) {
        clearTimeout(this.preloadImgsTimer)
      }
      // The time just before the second slide appear and enough
      // for all child elements to append is ok.
      const preloadTime = 0.8
      this.preloadImgsTimer = setTimeout(
        function() {
          const imgs = this.carrousel.element.querySelectorAll('.hap-img')
          for (let i = 0, l = imgs.length; i < l; i++) {
            const img = imgs[i]
            const iLazySrc = img.getAttribute('i-lazy-src')
            const imgSrc = img.getAttribute('img-src')
            if (iLazySrc) {
              img.style.backgroundImage = 'url(' + iLazySrc + ')'
            } else if (imgSrc) {
              img.style.backgroundImage = 'url(' + imgSrc + ')'
            }
            img.removeAttribute('i-lazy-src')
            img.removeAttribute('img-src')
          }
        }.bind(this),
        preloadTime * 1000
      )

      // avoid page scroll when panning
      let panning = false
      this.carrousel.element.addEventListener('panstart', function(e) {
        if (!e.isVertical) {
          panning = true
        }
      })
      this.carrousel.element.addEventListener('panend', function(e) {
        if (!e.isVertical) {
          panning = false
        }
      })

      document.addEventListener(
        'touchmove',
        function(e) {
          if (panning) {
            e.preventDefault()
            return false
          }
          return true
        },
        { passive: false }
      )
      if (this.node.style.height === '') {
        this.node.style.height = 'inherit'
      }

      // 所有元素插进去之后，触发初始化index
      if (this.children.length === this.data._childNodesLength) {
        this._firstInitIndex()
      }
      Component$2.prototype.onAppend.call(this)
    },

    play() {
      this.carrousel.play()
    },

    stop() {
      this.carrousel.stop()
    },

    slideTo(index, isAnimation) {
      const offset = index - this.currentIndex
      if (this.carrousel) {
        this.carrousel.items.slide(offset, isAnimation)
        this.index = index
      }
    },
    swipeTo({ index }) {
      // swiper 组件方法 没有动画效果
      // add test for autohome, removing animation
      this.slideTo(index, false)
    },
    _firstInitIndex() {
      this.slideTo(this._userSetIndex, false)
    },
    marginHandler() {
      //TODO 超过50%就截取
      if (!this.carrousel) {
        return
      }
      this.carrousel._updateMargin(this.previousmargin, this.nextmargin)
    },
    setMargin(val, flag, direction) {
      if (!val || val === '0px' || val === '0%') {
        val = '0'
      } else if (val.indexOf('px') === -1 && val.indexOf('%') === -1) {
        this.node.style['margin' + direction] = val
        return
      }
      this[flag][flag + direction] = val
      const marginValue = this.margin['margin' + direction] || '0'
      const paddingValue = this.padding['padding' + direction] || '0'
      if (
        (marginValue.indexOf('%') !== -1 && paddingValue.indexOf('px') !== -1) ||
        (marginValue.indexOf('px') !== -1 && paddingValue.indexOf('%') !== -1)
      ) {
        this.node.style['margin' + direction] = `calc(${marginValue} + ${paddingValue})`
      } else {
        const suffix =
          marginValue.indexOf('%') !== -1 || paddingValue.indexOf('%') !== -1 ? '%' : 'px'
        this.node.style['margin' + direction] =
          parseInt(marginValue) + parseInt(paddingValue) + suffix
      }
    }
  }
  const attr$9 = {
    interval: function(val) {
      this.interval = parseInt(val) || DEFAULT_INTERVAL
      if (this.carrousel) {
        this.carrousel.playInterval = this.interval
      }
    },

    index: function(i) {
      const _this = this
      if (typeof i === 'string') {
        i = parseInt(i) || 0
      }
      if (i < 0) {
        i = 0
      }
      this._userSetIndex = i
      if (this.index === null || this.index === i) {
        return
      }
      _this.slideTo(_userSetIndex)
      // if (this.isDomRendering) {
      //   const pre = !!this._updateIndex
      //   this._updateIndex = function () {
      //     // _this.autoplay && _this.isPageShow && _this.play()
      //     doSlide(val)
      //   }
      //   !pre && window.addEventListener('renderend', this._updateIndex)
      // } else {
      //   doSlide(val)
      // }
    },

    playstatus: function(val) {
      this.playstatus = val && val !== 'false'
      this.autoplay = this.playstatus
      if (this.carrousel) {
        this.carrousel.autoplay = this.playstatus
        if (this.playstatus) {
          this.play()
        } else {
          this.stop()
        }
      }
    },

    // support playstatus' alias auto-play for compatibility
    autoplay: function(val) {
      val = val
      this.attr.playstatus.call(this, val)
    },
    loop: function(val) {
      this.loop = val && val !== 'false'
      if (this.carrousel) {
        this.carrousel.loop = this.loop
      }
    },
    indicator: function(val) {
      this.hasIndicator = val && val !== 'false'
      if (this.hasIndicator) {
        this.createIndicator()
      } else if (this.indicator) {
        this.node.removeChild(this.indicator)
        this.indicator = null
      }
    },
    enableswipe: function(val) {
      this.enableswipe = val && val !== 'false'
      if (this.carrousel) {
        let element = this.carrousel.element
        if (this.enableswipe) {
          element.addEventListener('panstart', element.events.panstart)
          element.addEventListener('panmove', element.events.panmove)
          element.addEventListener('panend', element.events.panend)
          element.addEventListener('swipe', element.events.swipe)
        } else {
          element.removeEventListener('panstart', element.events.panstart)
          element.removeEventListener('panmove', element.events.panmove)
          element.removeEventListener('panend', element.events.panend)
          element.removeEventListener('swipe', element.events.swipe)
        }
      }
    },
    vertical(val) {
      this.vertical = val && val !== 'false'
      this.indicatorDirection = this.vertical ? 'swiper-vertical' : 'swiper-horizon'
      if (!this.carrousel) {
        return
      }
      this.carrousel.vertical = val
      this.indicator.classList.remove('swiper-horizon', 'swiper-vertical')
      this.indicator.classList.add(this.indicatorDirection)
    },
    // add test margin 的百分比，web 端是相对于宽度来计算，Android是相对于方向来计算. 所以统一转换成实际像素
    previousmargin(val) {
      this.previousmargin = val
      this.marginHandler()
    },
    nextmargin(val) {
      this.nextmargin = val
      this.marginHandler()
    }
  }

  const event$2 = {
    change: {
      updator: function() {
        return {
          attrs: {
            index: this.currentIndex
          }
        }
      }
    }
  }

  const style$8 = {
    indicatorColor: function(val) {
      this.indicatorStyle['indicator-color'] = val
      this.setIndicatorStyle()
    },
    indicatorSelectedColor: function(val) {
      this.indicatorStyle['indicator-selected-color'] = val
      this.setIndicatorStyle()
    },
    indicatorSize: function(val) {
      this.indicatorStyle['indicator-size'] =
        parseFloat(val) * global.HapEnvironment.previewRatio + 'px'
      this.setIndicatorStyle()
    },
    indicatorTop: function(val) {
      this.indicatorStyle.position.top = val
      this.setIndicatorPosition()
    },
    indicatorBottom: function(val) {
      this.indicatorStyle.position.bottom = val
      this.setIndicatorPosition()
    },
    indicatorLeft: function(val) {
      this.indicatorStyle.position.left = val
      this.setIndicatorPosition()
    },
    indicatorRight: function(val) {
      this.indicatorStyle.position.right = val
      this.setIndicatorPosition()
    },
    paddingTop(val) {
      this.setMargin(val, 'padding', 'Top')
    },
    paddingBottom(val) {
      this.setMargin(val, 'padding', 'Bottom')
    },
    paddingLeft(val) {
      this.setMargin(val, 'padding', 'Left')
    },
    paddingRight(val) {
      this.setMargin(val, 'padding', 'Right')
    },
    marginTop(val) {
      this.setMargin(val, 'margin', 'Top')
    },
    marginBottom(val) {
      this.setMargin(val, 'margin', 'Bottom')
    },
    marginLeft(val) {
      this.setMargin(val, 'margin', 'Left')
    },
    marginRight(val) {
      this.setMargin(val, 'margin', 'Right')
    }
  }
  function init$p(Hap) {
    Component$2 = Hap.Component
    extend$1 = Hap.utils.extend

    function Swiper(data) {
      this.indicatorStyle = JSON.parse(JSON.stringify(defaultIndicatorStyle))
      this.autoplay = false // default value is false.
      this.loop = false
      this.interval = DEFAULT_INTERVAL
      this.indicatorDirection = 'swiper-horizon'
      this.children = []
      this.isPageShow = true
      this.isDomRendering = true
      this.index = null
      this._userSetIndex = parseInt((data.attr && data.attr.index) || 0)

      this.previousmargin = 0
      this.nextmargin = 0
      // bind event 'pageshow', 'pagehide' and 'visibilitychange' on window.
      // idleWhenPageDisappear(this)
      // bind event 'renderBegin' and 'renderEnd' on window.
      // idleWhenDomRendering(this)

      Component$2.call(this, data)
    }
    Swiper.prototype = Object.create(Component$2.prototype)
    extend$1(Swiper.prototype, proto$7)
    extend$1(Swiper.prototype, {
      attr: extend$1(Object.create(Component$2.prototype.attr), attr$9)
    })
    extend$1(Swiper.prototype, { event: event$2 })

    extend$1(Swiper.prototype, {
      style: extend$1(Object.create(Component$2.prototype.style), style$8)
    })

    Hap.registerComponent('swiper', Swiper)
  }

  var Swiper = { init: init$p }

  const availableChildrenTypes$1 = ['tab-bar', 'tab-content']
  let extend$2, Component$3
  const proto$8 = {
    create() {
      const node = document.createElement('tabs')
      node.classList.add('hap-tabs')
      node.classList.add('hap-container')
      // tab内的节点变化无需重新调整祖先stack的大小 for wbcomic/Rank
      this._setProps(this.data, {
        _isInStack: false,
        stack: null,
        stackwrap: null
      })
      return node
    },
    appendChild(data) {
      const type = data.type
      let position = 'top'
      if (availableChildrenTypes$1.indexOf(type) === -1) {
        console.warn('### Web Render ###  invalid child type "' + type + '" for tabs.')
      } else if (!this.childNode[type]) {
        if (this.childNode['tab-content']) {
          position = 'bottom'
          this._loadedTabbar.then(() => {
            this.node.classList.add('bar-bottom')
          })
        }
        // add test for 万年历，航班管家
        if (type === 'tab-content' && !(this.data.style && this.data.style.height)) {
          this._loadedTabcontent.then(() => {
            // add test for 手机铃声多多
            const pHeight = this.node.getBoundingClientRect().height
            // add test for org.hapjs.demo.sample
            if (pHeight === 0 || this.childNode['tab-bar']) {
              this.node.style.height = '-webkit-fill-available'
            }
          })
        }
        const extraData = extend$2(data, {
          extra: {
            index: this._userSetIndex,
            position: position
          }
        })

        const children = this.data.children || (this.data.children = [])
        children.push(data)
        const componentManager = this.getComponentManager()
        const child = componentManager.createElement(extraData)
        this.childNode[type] = child
        this.node.appendChild(child.node)
        if (type === 'tab-content') {
          this._tabcontentResolve()
        } else if (type === 'tab-bar') {
          this._tabbarResolve()
        }
        return child
      } else {
        console.warn('### Web Render ###  child "' + type + '" can not more than one for tabs.')
      }
    },
    _initIndex(index) {
      // if(this.index !== null) return
      this.updateIndex(index)
      this._initIndex = null
    },
    updateIndex(index) {
      if (index >= 0) {
        // 汽车之家极速版，爬虫点击不同的tab-bar 时导致循环调用
        const fn = () => {
          this.dispatchEvent('change', { index: index })
        }
        this.updatingIndex.push(fn)
        // avoid Maximum call stack size exceeded in 【com.autohome.quickapp/PageIndex】
        Promise.resolve().then(() => {
          const cb = this.updatingIndex.pop()
          if (typeof cb === 'function') {
            cb()
            this.index = index
            this.updatingIndex.splice(0)
          }
        })
      }
    },
    onAppend() {
      // add test  需要在page onInit 生命周期后触发，缺乏钩子
      // 去掉attr.index的判断 使得所有tab在初始化后都能触发change事件
      // setTimeout(() => {
      //   const tabcontent = this.childNode['tab-content']
      //   const tabbar = this.childNode['tab-bar']
      //   const index = parseInt(this.index)
      //   this.updateIndex(index)
      //   tabbar && tabbar.updateIndex(index)
      //   tabcontent && tabcontent.updateIndex(index)
      // }, 400)
      Component$3.prototype.onAppend.call(this)
    },
    _setStyleForbar(height, position, node) {
      const style = this.data.style
      const paddingType = position === 'top' ? 'paddingTop' : 'paddingBottom'
      let minheight = height
      if (style) {
        if (style.marginTop) {
          minheight -= parseFloat(style.marginTop)
        }
        if (style.marginBottom) {
          minheight -= parseFloat(style.marginBottom)
        }
        if (style.paddingTop) {
          minheight += parseFloat(style.paddingTop)
        }
        if (style.paddingBottom) {
          minheight += parseFloat(style.paddingBottom)
        }
      }
      minheight += 'px'
      this.node.style.minHeight = minheight // for 旧书阁, 当当

      this._loadedTabcontent.then(() => {
        const tabbar = this.childNode['tab-bar']
        // add test for 猫眼极速版
        if (tabbar) {
          if (tabbar.data && tabbar.data.style) {
            if (tabbar.data.style.position !== 'fixed') {
              this.node.style[paddingType] = height + 'px'
            }
          } else {
            this.node.style[paddingType] = height + 'px'
          }
        }
        node.style[position] = '0'
      })
    }
  }

  const attr$a = {
    index(i) {
      if (typeof i === 'string') {
        // add test for 香蕉小说,可能是空字符串
        i = parseInt(i) || 0
      }
      // add test for com.autohome.quickapp
      if (i < 0) {
        i = 0
      }
      // 斗鱼TV，微博，初始化index会多次触发，值也会变化
      this._userSetIndex = i
      if (this.index === null || this.index === i) {
        return
      }
      const tabcontent = this.childNode['tab-content']
      const tabbar = this.childNode['tab-bar']
      this.updateIndex(i)
      tabbar && tabbar.updateIndex(i)
      tabcontent && tabcontent.updateIndex(i)
    }
  }

  function init$q(Hap) {
    Component$3 = Hap.Component
    extend$2 = Hap.utils.extend

    function Tabs(data) {
      const attr = data.attr || {}
      this.childNode = {
        'tab-bar': false,
        'tab-content': false
      }
      this.updatingIndex = []
      this.index = null
      this._userSetIndex = parseInt((data.attr && data.attr.index) || 0)
      this._loadedTabbar = new Promise((resolve, reject) => {
        this._tabbarResolve = resolve
      })
      this._loadedTabcontent = new Promise((resolve, reject) => {
        this._tabcontentResolve = resolve
      })
      Component$3.call(this, data)
    }

    Tabs.prototype = Object.create(Component$3.prototype)
    extend$2(Tabs.prototype, proto$8)
    extend$2(Tabs.prototype, {
      attr: extend$2(Object.create(Component$3.prototype.attr), attr$a)
    })

    Hap.registerComponent('tabs', Tabs)
  }

  var tabs = { init: init$q }

  let Component$4
  const modeMap = ['fixed', 'scrollable']
  const proto$9 = {
    create() {
      const node = document.createElement('tab-bar')
      const wrap = document.createElement('div')
      wrap.classList.add('hap-container')
      node.classList.add('hap-tab-bar')
      node.appendChild(wrap)
      this.wrap = wrap
      return node
    },
    appendChild(data) {
      const children = this.data.children || (this.data.children = [])
      children.push(data)

      this._setProps(data, {
        _isInTabBar: true
      })
      const componentManager = this.getComponentManager()
      const parent = this.getParent()

      // add test for  动物声音模拟器
      if (data.style) {
        Object.keys(data.style).forEach(name => {
          if (name.indexOf('margin') > -1) {
            delete data.style[name]
          }
        })
      }
      const child = componentManager.createElement(data)
      const node = child.node
      const childrenComponents = this.childrenComponents || (this.childrenComponents = [])

      node.dataset.index = childrenComponents.length
      if (childrenComponents.length === parent._userSetIndex) {
        node.classList.add('hap-active')
      } else {
        node.classList.remove('hap-active')
      }
      childrenComponents.push(child)
      // for 腾讯新闻
      node.style.maxHeight = '100%'
      // add test for 手机铃声大全
      if (data.style && data.style.height && data.style.height.indexOf('%') > -1) {
        this.wrap.style.height = '100%'
      }

      this.wrap.appendChild(node)
      node.addEventListener('click', bindChildEvent(this))

      if (this._firstInitIndex && childrenComponents.length >= parent._userSetIndex + 1) {
        this._firstInitIndex(parent)
      }
      return child
    },
    _insertBefore(child, before, isAppend, i) {
      const parent = this.getParent()
      const children = this.data.children || (this.data.children = [])
      const node = child.node
      const childrenComponents = this.childrenComponents || (this.childrenComponents = [])

      if (isAppend) {
        this.wrap.appendChild(node)
        children.push(child.data)
        node.dataset.index = childrenComponents.length
        childrenComponents.push(child)
      } else {
        this.wrap.insertBefore(child.node, before.node)
        children.splice(i, 0, child.data)
        childrenComponents.splice(i, 0, child)
        childrenComponents.forEach((component, index) => {
          component.node.dataset.index = index
          if (index === parent._userSetIndex) {
            node.classList.add('hap-active')
          } else {
            node.classList.remove('hap-active')
          }
        })
      }
      if (this._firstInitIndex && childrenComponents.length >= parent._userSetIndex + 1) {
        this._firstInitIndex(parent)
      }
      node.addEventListener('click', bindChildEvent(this))
    },
    _firstInitIndex(parent) {
      parent._initIndex && parent._initIndex(parent._userSetIndex)
      this.updateIndex(parent._userSetIndex)
      this._firstInitIndex = null
    },
    onAppend() {
      const node = this.node
      const parent = this.getParent()
      this.node.style.height = this.heightMap.height

      if (parent) {
        if (parent.data.type !== 'tabs') {
          console.warn('### Web Render ###  tab-bar 仅能是tabs的子组件！')
        }
        // add test for 当当
        if (parent._setStyleForbar) {
          parent._setStyleForbar(this.getTabbarHeight(), this.position, node)
        }
      }
      this.updateMode()
      // 禁止冒泡，防止tab-bar 拖动引起外层tab-content 拖动，例如在xcz
      node.addEventListener('panmove', function(e) {
        e.preventDefault()
        e.stopPropagation()
      })
      Component$4.prototype.onAppend.call(this)
    },
    updateMode() {
      const node = this.node
      const index = modeMap.indexOf(this.mode)
      const style = this.data.style
      if (index === 0) {
        node.style.lineHeight = ''
        node.classList.add('hap-fixed-mode')
        node.classList.remove('hap-scrollable-mode')
      } else if (index === 1) {
        // add test for autoking searchPage
        if (!(style && (style.paddingTop || style.paddingBottom))) {
          node.style.lineHeight = this.heightMap.height
        }
        node.classList.remove('hap-fixed-mode')
        node.classList.add('hap-scrollable-mode')
      }
    },
    updateIndex(index) {
      const childrenComponents = this.childrenComponents
      const node = this.node
      if (childrenComponents && childrenComponents.length > 0) {
        // 如果有滚动条，尽可能将当前index的item移动到中间，如果空间足够的话
        if (modeMap.indexOf(this.mode) === 1) {
          const scrollWidth = node.scrollWidth // 容器最大宽度
          const scrollLeft = node.scrollLeft
          const width = node.clientWidth
          const maxLeft = scrollWidth - width // 元素可以偏移的最大左边距

          const childNode = childrenComponents[index].node
          const middleX = parseInt(width / 2) - childNode.clientWidth / 2 // 中间item的X坐标
          let moveX = childNode.offsetLeft - scrollLeft - middleX // scrollLeft 要移动的距离
          let newScrollLeft = scrollLeft + moveX
          newScrollLeft = newScrollLeft < 0 ? 0 : newScrollLeft > maxLeft ? maxLeft : newScrollLeft

          moveX = newScrollLeft - scrollLeft
          // eslint-disable-next-line
          new lib.animation(
            400,
            // eslint-disable-next-line
            lib.cubicbezier.ease,
            function(i1, i2) {
              node.scrollLeft = scrollLeft + moveX * i2
            }
          ).play()
        }
        childrenComponents.forEach((child, i) => {
          if (index === i) {
            child.node.classList.add('hap-active')
          } else {
            child.node.classList.remove('hap-active')
          }
        })
      }
    },
    getTabbarHeight() {
      return Object.values(this.heightMap).reduce((accumulator, currentValue) => {
        if (currentValue.indexOf('rem') > -1) {
          currentValue = parseFloat(currentValue) * global.HapEnvironment.previewRem
        }
        return accumulator + parseFloat(currentValue)
      }, 0)
    }
  }

  const attr$b = {
    mode(val) {
      this.mode = val
      this.updateMode()
    }
  }
  const style$9 = {
    height(val) {
      this.heightMap.height = val
      this.node.style.height = val
      const parent = this.getParent()
      if (val.indexOf('px') > -1) {
        this.node.style.flexShrink = '0'
      }
      // add test for 当当
      parent && parent._setStyleForbar(this.getTabbarHeight(), this.position, this.node)
    },
    marginTop(val) {
      // add test for 手机铃声大全
      this.heightMap.marginTop = val
      const parent = this.getParent()
      if (val.indexOf('px') > -1) {
        parent && parent._setStyleForbar(this.getTabbarHeight(), this.position, this.node)
      }
      this.node.style.marginTop = val
    },
    display(val) {
      // 禁止用户重定义
    },
    // position () {
    //   // add test for 万年历

    // },
    flexDirection() {
      // 禁止用户重定义
    },
    top() {
      // 禁止用户重定义
    },
    bottom(val) {
      // for 爱阅读书 针对先写tabbar又加上bottom样式的写法
      this.node.style.top = ''
      this.node.style.bottom = val
      this.position = 'bottom'
      const parent = this.getParent()
      if (parent) {
        parent.node.style.paddingTop = ''
      }
    },
    justifyContent() {
      // 禁止用户重定义
    },
    overflowX() {
      // 禁止用户重定义
    },
    overflowY() {
      // 禁止用户重定义
    },
    whiteSpace() {
      // 禁止用户重定义
    },
    mode(val) {
      // add test for 微博，
      this.mode = val
      this.updateMode()
    }
  }

  function bindChildEvent(tabbar) {
    if (!tabbar.childEvent) {
      tabbar.childEvent = function() {
        const index = parseInt(this.dataset.index)
        const tabContent = tabbar.getParent().childNode['tab-content']
        tabbar && tabbar.updateIndex(index)
        tabContent && tabContent.updateIndex(index)
        tabbar.getParent().updateIndex(index)
      }
    }
    return tabbar.childEvent
  }
  function init$r(Hap) {
    Component$4 = Hap.Component
    const extend = Hap.utils.extend

    function TabBar(data) {
      const attr = data.attr || {}
      this.mode = attr.mode || 'fixed'
      this.heightMap = {
        height: '1.334rem' // 默认高度
      }
      if (!data.extra) {
        data.extra = { index: 0, position: 'bottom' }
      }
      this.position = data.extra.position
      Component$4.call(this, data)
    }
    TabBar.prototype = Object.create(Component$4.prototype)
    extend(TabBar.prototype, proto$9)
    extend(TabBar.prototype, {
      attr: extend(Object.create(Component$4.prototype.attr), attr$b)
    })
    extend(TabBar.prototype, {
      style: extend(Object.create(Component$4.prototype.style), style$9)
    })
    Hap.registerComponent('tab-bar', TabBar)
  }

  var tabbar = { init: init$r }

  let Component$5
  const ua$3 = window.navigator.userAgent
  const Firefox$2 = !!ua$3.match(/Firefox/i)
  const IEMobile$2 = !!ua$3.match(/IEMobile/i)
  // eslint-disable-next-line
  const CSSMatrix$2 = IEMobile$2 ? 'MSCSSMatrix' : 'WebKitCSSMatrix'
  // eslint-disable-next-line
  const has3d$2 = !!Firefox$2 || (CSSMatrix$2 in window && 'm11' in new window[CSSMatrix$2]())
  function getTranslate$1(x, y) {
    x = parseFloat(x)
    y = parseFloat(y)

    if (x !== 0) {
      x += '%'
    }

    if (y !== 0) {
      y += '%'
    }

    if (has3d$2) {
      return 'translate3d(' + x + ', ' + y + ', 0)'
    }

    return 'translate(' + x + ', ' + y + ')'
  }
  /**
   * 滑动距离转化为百分比
   * @param {number} diff - 移动的距离
   * @param {Node} node - 父容器节点
   */
  function toPercent(diff, node) {
    const containerWidth = node.getBoundingClientRect().width
    const percent = (diff / containerWidth) * 100
    return percent
  }
  const spaceHorizontal = ['paddingLeft', 'paddingRight', 'marginLeft', 'marginRight']
  const proto$a = {
    create() {
      const node = document.createElement('tab-content')
      const carousel = document.createElement('div')
      node.classList.add('hap-tab-content')
      node.classList.add('hap-container')
      carousel.classList.add('hap-container')
      carousel.setAttribute('data-ctrl-name', 'tab-carousel')
      carousel.style.transform = 'translate3d(0px, 0px, 0px)'
      // 祖先容器中的tab-carousel-item需要自适应空间
      // add test for 当当
      if (this.data.props && this.data.props._isInTabContent && this.data.props.tabwrap) {
        this.data.props.tabwrap.style.display = 'flex'
      }
      // add test for 耽美小说大全
      const dataStyle = this.data.style
      this._spacingStyleArray.forEach(name => {
        carousel.style[name] = dataStyle[name]
      })
      node.appendChild(carousel)
      this.carousel = carousel
      return node
    },
    appendChild(data) {
      const children = this.data.children || (this.data.children = [])
      children.push(data)

      const wrap = document.createElement('div')
      wrap.setAttribute('data-ctrl-name', 'tab-carousel-item')
      // add test for 耽美小说大全
      const dataStyle = this.data.style
      this._spacingStyleArray.forEach(name => {
        if (
          this.carousel.childNodes.length === 0 &&
          (name === 'paddingLeft' || name === 'marginLeft')
        ) {
          return
        }
        wrap.style[name] = dataStyle[name]
      })

      const componentManager = this.getComponentManager()
      // add test
      // 适配 health 应用, tabs 嵌套了tabs 与 tabs 嵌套了list 的场景
      // 如果是需要自适应剩余空间的容器，需要设置祖先元素的tab-carousel-item 的display: flex
      this._setProps(data, {
        _isInTabContent: true,
        _isInTransform: true,
        tabwrap: wrap,
        tabIndex: children.length - 1
      })
      const child = componentManager.createElement(data)
      // children components
      const childrenComponents = this.childrenComponents || (this.childrenComponents = [])
      childrenComponents.push(child)
      this.carousel.appendChild(wrap).appendChild(child.node)
      const childLength = (this.childrenLengh = childrenComponents.length)
      // 首次更新updateIndex
      const parent = this.getParent()
      if (this._firstInitIndex && childLength >= parent._userSetIndex + 1) {
        this._firstInitIndex(parent)
      }
      return child
    },
    _insertBefore(child, before, isAppend, index) {
      // children components
      const childrenComponents = this.childrenComponents || (this.childrenComponents = [])

      const wrap = document.createElement('div')
      wrap.setAttribute('data-ctrl-name', 'tab-carousel-item')
      wrap.appendChild(child.node)
      this._setProps(child.data, {
        _isInTabContent: true,
        _isInTransform: true,
        tabwrap: wrap,
        tabIndex: index
      })
      if (isAppend) {
        this.carousel.appendChild(wrap)
        childrenComponents.push(child)
      } else {
        this.carousel.insertBefore(wrap, before._getProps('tabwrap'))
        childrenComponents.splice(index, 0, child.data)
      }

      const childLength = (this.childrenLengh = childrenComponents.length)
      // 首次更新updateIndex
      const parent = this.getParent()
      if (this._firstInitIndex && childLength >= parent._userSetIndex + 1) {
        this._firstInitIndex(parent)
      }
      return child
    },
    _firstInitIndex(parent) {
      parent._initIndex && parent._initIndex(parent._userSetIndex)
      this.updateIndex(parent._userSetIndex)
      this._firstInitIndex = null
    },
    onAppend() {
      const parent = this.getParent()
      // 如果在另外一个tabs里面，则不要绑定滑动事件
      if (!parent.data.props || (parent.data.props && !parent.data.props._isInTabContent)) {
        this.registerEvent()
      }
      Component$5.prototype.onAppend.call(this)
      //add test for 平安服务, 1905电影网, 万年历日历
      if (!this._getProps('_inDisplayNone')) {
        this._setBodyHeight()
      }
      const firstChild = parent.node.firstChild
      if (firstChild.nodeName === 'TAB-BAR' && firstChild.style.position !== 'fixed') {
        this._setProps(this.data, {
          _tabBarHeight: firstChild.getBoundingClientRect().height
        })
      }
    },
    registerEvent() {
      const node = this.node
      const that = this
      const carousel = this.carousel
      node.addEventListener('panstart', function(e) {
        //add test for quickapp-center, tabbar 是否可见
        const tabBar = that.getParent().childNode['tab-bar']
        if (tabBar && tabBar._getProps('_inDisplayNone')) {
          that.tabbarisInvisible = true
        } else {
          that.tabbarisInvisible = false
        }
        const direction = e.direction === 'left' ? 1 : -1
        if (that.isBoundary(direction) || that.tabbarisInvisible) {
          return false
        }

        if (!e.isVertical && !that.panning) {
          e.preventDefault()
          e.stopPropagation()
          that.panning = true
          that.diffOffset = 0
        }
      })
      node.addEventListener('panmove', function(e) {
        if (!e.isVertical && that.panning && that.childrenLengh > 1) {
          e.preventDefault()
          e.stopPropagation()
          that.diffOffset = toPercent(e.displacementX, node)
          carousel.style.transform = getTranslate$1(that.startOffset + that.diffOffset, 0)
        }
      })
      node.addEventListener('panend', function(e) {
        if (!e.isVertical && that.panning && that.childrenLengh > 1) {
          e.preventDefault()
          e.stopPropagation()
          that.panning = false
          const diffOffset = that.diffOffset
          if (Math.abs(diffOffset) < that.itemStep / 2) {
            that.slide(0)
          } else {
            that.slide(diffOffset < 0 ? 1 : -1)
          }
        }
      })
    },
    isBoundary(direction) {
      // 边界判断
      const activateIndex = parseInt(this.index) + direction
      return activateIndex === this.childrenLengh || activateIndex < 0
    },
    slide(index) {
      const that = this
      let needUpdateIndex = true
      if (that.isBoundary(index)) {
        index = 0
        needUpdateIndex = false
      }
      const tabBar = that.getParent().childNode['tab-bar']
      const carsousel = that.carousel
      const newIndex = parseInt(that.index) + index
      const startOffset = that.startOffset + that.diffOffset
      const endOffset = -that.itemStep * newIndex
      const innerOffset = endOffset - startOffset

      // eslint-disable-next-line
      new lib.animation(
        400,
        // eslint-disable-next-line
        lib.cubicbezier.ease,
        function(i1, i2) {
          carsousel.style.transform = getTranslate$1(startOffset + innerOffset * i2, 0)
        }
      )
        .play()
        .then(function() {
          if (!needUpdateIndex) {
            return false
          }
          that.updateIndex(newIndex)
          tabBar && tabBar.updateIndex(newIndex)
          that.getParent().updateIndex(newIndex)
        })
    },
    updateIndex(index) {
      const childrenComponents = this.childrenComponents || []
      childrenComponents.forEach((child, i) => {
        // 有可能content的数量会少于tabbar的子元素
        if (index === i) {
          const startOffset = -this.itemStep * index
          this.carousel.style.transform = getTranslate$1(startOffset, 0)
          this.startOffset = startOffset
        }
      })
      this.index = index
    }
  }

  const style$a = {
    display() {
      // 禁止用户重定义
    },
    flex() {
      // 禁止用户重定义
    },
    height(val) {
      this.node.style.height = val
      // add test for 平安服务
      if (this.data.props && this.data.props._isInTabContent && this.data.props.tabwrap) {
        this.data.props.tabwrap.style.display = ''
      }
    },
    paddingBottom(val) {
      // for sample/home & 爱阅读书 & 阿姨帮 & 慢慢买 & 深宵文学
      const parent = this.getParent()
      if (parent) {
        parent.node.style.paddingBottom = val
      }
    },
    paddingLeft(val) {},
    paddingRight(val) {}
  }
  // TODO 垂直方向的偏移量记忆；切换tab能够切换到上次垂直偏移的距离
  function init$s(Hap) {
    Component$5 = Hap.Component
    const extend = Hap.utils.extend

    function TabContent(data) {
      this.index = parseInt(data.extra.index)
      this.startOffset = 0 // 初始偏移距离
      this.diffOffset = 0 // 滑动偏移距离
      this.itemStep = 100 // 一屏的宽度, 使用百分比来表示
      this.panning = false
      this.tabbarisInvisible = false
      this._spacingStyleArray = []
      this._firstUpdateIndex = true
      if (data.style) {
        this._spacingStyleArray = spaceHorizontal.filter(key => {
          return data.style[key] !== undefined
        })
      }
      Component$5.call(this, data)
    }

    TabContent.prototype = Object.create(Component$5.prototype)
    extend(TabContent.prototype, proto$a)
    extend(TabContent.prototype, {
      style: extend(Object.create(Component$5.prototype.style), style$a)
    })
    Hap.registerComponent('tab-content', TabContent)
  }

  var tabcontent = { init: init$s }

  var css_248z$a =
    '.hap-tabs{position:relative;flex-direction:column;width:-webkit-fill-available;max-width:100vw;overflow-x:hidden;flex-grow:1;flex-shrink:999999;pointer-events:auto;max-height:100%}.hap-tab-bar{position:absolute;z-index:1;left:0;width:100%;align-items:center}.hap-tab-bar .hap-container{position:relative;top:50%;transform:translateY(-50%)}.hap-tab-bar .hap-container>*{pointer-events:auto}.hap-tab-bar.hap-fixed-mode .hap-container{display:flex;justify-content:space-around}.hap-tab-bar.hap-scrollable-mode .hap-container{display:block;overflow-x:auto;overflow-y:hidden;white-space:nowrap}.hap-tab-bar.hap-scrollable-mode .hap-container>*{display:inline-flex!important;justify-content:center;align-items:center;line-height:normal;vertical-align:middle}.hap-tabs .hap-tab-content{position:relative;width:100%;display:flex;flex:1;margin-left:0!important;margin-right:0!important;max-height:100%;overflow:hidden}.hap-tabs .hap-tab-content [data-ctrl-name=tab-carousel]{position:relative;display:flex;flex:1;max-width:100%;max-height:100%}.hap-tabs .hap-tab-content [data-ctrl-name=tab-carousel] [data-ctrl-name=tab-carousel-item]{flex:1 0 auto;overflow-y:auto;overflow-x:hidden;width:100%;height:100%}.hap-tabs.bar-bottom .hap-tab-content [data-ctrl-name=tab-carousel] [data-ctrl-name=tab-carousel-item]{max-height:-webkit-fill-available}.hap-tabs .hap-tab-content [data-ctrl-name=tab-carousel] [data-ctrl-name=tab-carousel-item]>*{flex:1}'
  styleInject(css_248z$a)

  var Tabs = {
    init: function(Hap) {
      Hap.install(tabs)
      Hap.install(tabbar)
      Hap.install(tabcontent)
    }
  }

  // const DEFAULT_ZINDEX = 0
  const Component$6 = Hap.Component

  const domOffsetMap = new Map()
  let timer$2

  // 获取 dom 的占用面积，包括 margin
  function getOuterSize(el, type, num) {
    if (!timer$2) {
      timer$2 = setTimeout(() => {
        domOffsetMap.clear() // 防止一直缓存
        timer$2 = null
      }, 0)
    }
    let styles
    if (domOffsetMap.has(el)) {
      styles = domOffsetMap.get(el)
    } else {
      const { marginTop, marginBottom, marginLeft, marginRight } = window.getComputedStyle(el)
      styles = { marginTop, marginBottom, marginLeft, marginRight }
      domOffsetMap.set(el, styles)
    }
    if (type === 'offsetHeight') {
      const { marginTop, marginBottom } = styles
      return parseFloat(marginTop) + parseFloat(marginBottom) + (num || el[type])
    } else {
      const { marginLeft, marginRight } = styles
      return parseFloat(marginLeft) + parseFloat(marginRight) + (num || el[type])
    }
  }

  const prop = {
    create() {
      const node = document.createElement('stack')
      // for autohome/PageBbsLocationList
      node.style.width = '0px'
      const style = this.data.style
      // !style.flex for wbcomic/Search
      if (!style || (style && !style.width && !style.flex)) {
        this._needSetWidth = true
        this.maxWidth = 0
      }
      if (!style || (style && !style.height)) {
        this._needSetHeight = true
        this.maxHeight = 0
      }
      this._setProps(this.data, {
        _isInStack: true
      })
      return node
    },
    onAppend() {
      Component$6.prototype.onAppend.call(this)
      if (this.data.style && this.data.style.height !== undefined) {
        heightFunc.call(this, this.data.style.height)
      }
    },
    appendChild(data) {
      // 改为用block模拟有缺陷的flex容器
      this.node.classList.add('hap-stack')
      // for autohome/PageBbsLocationList
      if (data.style && data.style.position !== 'fixed' && this.node.style.width === '0px') {
        this.node.style.width = ''
      }
      const children = this.data.children
      const componentManager = this.getComponentManager()
      const child = componentManager.createElement(data)
      this._addWrap(child)
      // update this.data.children
      if (!children || !children.length) {
        this.data.children = [data]
      } else {
        children.push(data)
      }
      return child
    },
    _insertBefore(child, before, isAppend, i) {
      const children = this.data.children || (this.data.children = [])

      const wrap = this._addWrap(child)
      if (isAppend) {
        this.node.appendChild(wrap)
        children.push(child.data)
      } else {
        this.node.insertBefore(wrap, before.data.stackwrap)
        children.splice(i, 0, child.data)
      }
    },
    createChildren() {
      const children = this.data.children
      const parentRef = this.data.ref
      const componentManager = this.getComponentManager()
      if (children && children.length) {
        const fragment = document.createDocumentFragment()
        let isFlex = false
        for (let i = 0; i < children.length; i++) {
          children[i].instanceId = this.data.instanceId
          children[i]._parentRef = parentRef
          const child = componentManager.createElement(children[i])
          fragment.appendChild(this._addWrap(child))
          child.parentRef = parentRef
          if (!isFlex && child.data.style && child.data.style.hasOwnProperty('flex')) {
            isFlex = true
          }
        }
        this.node.appendChild(fragment)
      }
    },

    removeChild(child) {
      const children = this.data.children
      // remove from this.data.children
      let i = 0
      const componentManager = this.getComponentManager()
      if (children && children.length) {
        let l
        for (l = children.length; i < l; i++) {
          if (children[i].ref === child.data.ref) {
            break
          }
        }
        if (i < l) {
          children.splice(i, 1)
        }
      }
      // remove from componentMap recursively
      componentManager.removeComponent(child.data.ref)
      child.unsetPosition()
      // 删除孩子时从wrap层开始
      const childWrap = child.node.parentNode
      const wrapHeight = childWrap._height
      childWrap.parentNode.removeChild(childWrap)
      // 如果删除节点高度恰好为当前stack的最大高度，则重新调整stack高度
      if (this.maxHeight === wrapHeight) {
        this.maxHeight = 0
        const wraps = this.node.children
        for (let i = 0; i < wraps.length; i++) {
          this.maxHeight = Math.max(this.maxHeight, wraps[i]._height)
        }
        this.node.style.height = `${this.maxHeight}px`
      }
    },
    requestFullscreen(mode) {
      this.node.requestFullscreen()
      console.warn('==目前预览不区分横向/竖向全屏,请使用真机调试体验完整功能==')
    },
    _addWrap(child) {
      const node = child.node
      const wrap = document.createElement('div')
      wrap.classList.add('hap-stack-wrap')
      const { padding, paddingRight, paddingLeft, paddingTop, paddingBottom } =
        this.data.style || {}
      wrap.style.padding = padding || ''
      wrap.style.paddingRight = paddingRight || ''
      wrap.style.paddingLeft = paddingLeft || ''
      wrap.style.paddingTop = paddingTop || ''
      wrap.style.paddingBottom = paddingBottom || ''
      this.node.appendChild(wrap).appendChild(node)
      child.data.stackwrap = wrap
      this._setProps(child.data, {
        stack: this,
        stackwrap: wrap
      })
      if (child.data.type === 'tabs' || child.data.type === 'list') {
        // add for autoking
        this._needSetWidth = this._needSetHeight = false
      }
      if (child.data.type === 'video') {
        // add for samples/component/media/video
        this._needSetWidth = false
      }
      return wrap
    },
    _resizeHeight(wrap) {
      const resizeFunc = () => {
        if (wrap) {
          // 重新计算stack高度
          // 可能涉及页面 psychologist/user/listen/detail & didi/home & poetry/pages/Main & 有车帝 & 淘票票/MovieMain/ & 天气高级版
          let childHeight = 0
          let wrapFitHeight = 0
          let setNodeHeight = false
          const childStyleHeight = wrap.firstChild.style.height || ''
          // NOTE：这里尝试先获取 wrap.offsetHeight 的值，减少 getOuterSize 的再度获取
          const wrapOffsetHeight = wrap.offsetHeight
          if (childStyleHeight.indexOf('px') > -1) {
            //add test for 途家民宿
            const outerSize = getOuterSize(wrap.firstChild, 'offsetHeight')
            const childSize = parseFloat(childStyleHeight)

            childHeight = outerSize >= childSize ? outerSize : childSize
          } else if (childStyleHeight.indexOf('%') > -1) {
            // add test for 斗鱼直播，视频tab
            if (this.node.style.height === '') {
              setNodeHeight = true
              this.node.style.height = '100%'
            }
            childHeight = getOuterSize(wrap.firstChild, 'offsetHeight')
          } else {
            const oriStyleHeight = childStyleHeight
            // fixed for 铁行 首页[专车接送], 先设置成static可以获取子元素的真实高度
            wrap.style.position = 'static'
            wrap.firstChild.style.height = 'fit-content'
            wrap.style.height = 'fit-content'

            childHeight = getOuterSize(wrap.firstChild, 'offsetHeight')
            wrapFitHeight = getOuterSize(wrap, 'offsetHeight', wrapOffsetHeight)
            wrap.firstChild.style.height = oriStyleHeight
            wrap.style.position = ''
            wrap.style.height = ''
          }
          // 如果为0，可能是由于设置了样式display:none还没渲染，此时取子节点样式高度
          const wrapHeight = Math.max(childHeight, wrapFitHeight)
          wrap._height = wrapHeight
          // wrapOffsetHeight 有问题则改回 wrap.clientHeight
          this.maxHeight = Math.max(wrapHeight, wrapOffsetHeight, this.maxHeight)
          let nodeStyleHeight = null
          if (this.maxHeight > 0) {
            nodeStyleHeight = `${this.maxHeight}px`
          }
          if (setNodeHeight) {
            nodeStyleHeight = ''
          }
          // for 一点资讯
          if (nodeStyleHeight === '') {
            nodeStyleHeight = 'inherit'
          }
          if (nodeStyleHeight !== null) {
            this.node.style.height = nodeStyleHeight
          }
        }
      }
      resizeFunc()
    },
    _resizeWidth(wrap) {
      if (wrap) {
        // 重新计算stack宽度
        // 可能涉及页面 psychologist/user/listen/detail & didi/home & poetry/pages/Main
        let oriStyleFlex
        wrap.style.width = 'fit-content'
        if (wrap.firstChild.style.flex) {
          oriStyleFlex = wrap.firstChild.style.flex
          wrap.firstChild.style.flex = ''
        }
        const wrapFitWidth = wrap.clientWidth
        wrap.style.width = ''
        wrap.firstChild.style.flex = oriStyleFlex
        const childStyleWidth = wrap.firstChild.style.width || ''
        const childWidth =
          (childStyleWidth.indexOf('px') > -1 && childStyleWidth) || wrap.firstChild.clientWidth
        // 如果为0，可能是由于设置了样式display:none还没渲染，此时取子节点样式高度
        const wrapWidth = wrapFitWidth > 0 ? wrapFitWidth : childWidth && parseInt(childWidth)
        this.maxWidth = Math.max(wrapWidth, this.maxWidth)
        if (this.maxWidth > 0 && this.maxWidth <= this._getProps('availableWidth')) {
          const parent = this.getParent()
          const parentStyles = parent && parent.data.style
          // 如果父节点设置了flexDirection为column，则stack默认占满宽度
          if (parentStyles && parentStyles.flexDirection === 'column' && !parentStyles.alignItems) {
            // 设置minWidth以防父节点宽度为0（for autohome/PageArticle 中评论上方广告汽车指导价为暂无报价的时候）
            this.node.style.minWidth = `${this.maxWidth}px`
          } else {
            this.node.style.width = `${this.maxWidth + 0.5}px`
          }
        }
      }
    }
  }

  const style$b = {
    // add test for pearvideo tab3
    paddingRight(val) {
      const childrenWrap = this.node.children
      for (let i = 0; i < childrenWrap.length; i++) {
        childrenWrap[i].style.paddingRight = val
      }
    },
    paddingLeft(val) {
      const childrenWrap = this.node.children
      for (let i = 0; i < childrenWrap.length; i++) {
        childrenWrap[i].style.paddingLeft = val
      }
    },
    paddingTop(val) {
      const childrenWrap = this.node.children
      for (let i = 0; i < childrenWrap.length; i++) {
        childrenWrap[i].style.paddingTop = val
      }
    },
    paddingBottom(val) {
      const childrenWrap = this.node.children
      for (let i = 0; i < childrenWrap.length; i++) {
        childrenWrap[i].style.paddingBottom = val
      }
    },
    padding(val) {
      const childrenWrap = this.node.children
      for (let i = 0; i < childrenWrap.length; i++) {
        childrenWrap[i].style.padding = val
      }
    },
    flex(val) {
      if (val === 1);
      else if (val === 0 || val === '0') {
        val = '0 1 auto'
      }
      this.node.style.webkitBoxFlex = val
      this.node.style.webkitFlex = val
      this.node.style.flex = val
    },
    height(val) {
      this.node.style.height = val
      heightFunc.call(this, val)
    }
  }

  function heightFunc(val) {
    const parent = this.getParent()
    if (parent && val === '100%') {
      if (parent) {
        const componentManager = this.getComponentManager()
        //add test for apex-ui-docs/sticky/
        if (parent.data.ref === componentManager.rootRef) {
          this._setBodyHeight()
        }
      }
    }
  }

  function init$t(Hap) {
    const extend = Hap.utils.extend

    function Stack(data) {
      Component$6.call(this, data)
    }

    Stack.prototype = Object.create(Component$6.prototype)
    extend(Stack.prototype, prop)
    extend(Stack.prototype, {
      style: extend(Object.create(Component$6.prototype.style), style$b)
    })
    Hap.registerComponent('stack', Stack)
  }

  var Stack = { init: init$t }

  var css_248z$b =
    '.hap-popup-container{position:fixed;top:0;left:0;right:0;bottom:0;display:none;z-index:999}.hap-popup-container .hap-popup-mask{position:absolute;top:0;left:0;right:0;bottom:0;background-color:transparent}.hap-popup-container .hap-popup-content{position:absolute;display:inline-block;background:#fff;border-radius:5px}.hap-popup-container .hap-popup-content.active{animation:scaleIn .3s cubic-bezier(.04,1.27,.96,.94)}@keyframes scaleIn{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}'
  styleInject(css_248z$b)

  let Component$7
  /**
   * popup native placement 规则
   * 1. 偏移量是相对于左下角计算
   * 2. 原定的位置放不下，会从 PLACEMENT 预设的顺序开始遍历
   */
  // placement 的取值范围
  const PLACEMENT = [
    'bottom',
    'top',
    'left',
    'right',
    'bottomLeft',
    'bottomRight',
    'topLeft',
    'topRight'
  ]
  // 默认的间歇
  const MARGIN = 0.267
  // 所有在显示的popup 的实例
  const popupInstance = []
  const proto$b = {
    create() {
      const node = document.createElement('popup')
      node.classList.add('hap-container')
      node.classList.add('hap-popup-container')
      const mask = document.createElement('div')
      const content = document.createElement('div')
      mask.classList.add('hap-popup-mask')
      content.classList.add('hap-popup-content')
      content.style.boxShadow = 'rgb(101, 79, 79) 0px .12rem .306rem'
      content.style.margin = `${MARGIN}rem`
      node.appendChild(mask)
      node.appendChild(content)
      this.mask = mask
      this.content = content
      this.updateMask()
      return node
    },
    appendChild(data) {
      const children = this.data.children
      if (!children || !children.length) {
        this.data.children = [data]
      } else {
        children.push(data)
      }
      const componentManager = this.getComponentManager()
      const child = componentManager.createElement(data)
      this.content.appendChild(child.node)
      return child
    },
    onAppend() {
      const targetDom = this.targetDom
      const mask = this.mask
      const node = this.node
      targetDom.style.pointerEvents = 'auto'
      mask.style.pointerEvents = 'auto'
      targetDom.addEventListener('click', e => {
        e.stopPropagation()
        e.preventDefault()

        popupInstance.forEach(instance => {
          instance.style.display = 'none'
        })
        popupInstance.push(node)
        node.style.display = 'block'
        this.setPosition(targetDom, this.placement)
        this.content.classList.add('active')
        this.dispatchEvent('visibilitychange', { visibility: true })
      })
      mask.addEventListener('click', e => {
        e.stopPropagation()
        e.preventDefault()
        node.style.display = 'none'
        this.content.classList.remove('active')
        this.dispatchEvent('visibilitychange', { visibility: false })
      })
      Component$7.prototype.onAppend.call(this)
    },
    setPosition(targetDom, placement) {
      const node = this.content
      // 如果当前placement,无法放置元素需要遍历PLACEMENT，直到返回true或者遍历到最后一个
      const sortList = PLACEMENT.slice(0)
      sortList.unshift(placement)
      let res
      sortList.some(curPlacement => {
        res = this.adjustPosition(targetDom, curPlacement)
        return res.success
      })

      // 翻译成元素实际的偏移量
      let left = res.targetX + res.offsetX
      let top = res.targetY + res.offsetY
      left = left < 0 ? -left : left
      // 如果放不下的话，要轻微调整一下偏移量，使得能够放下popup
      if (left + res.nodeW > res.screenW) {
        left = res.screenW - res.nodeW
      }
      if (top + res.nodeH > res.screenH) {
        top = res.screenH - res.nodeH
      }
      node.style.left = `${left}px`
      node.style.top = `${top}px`
    },
    adjustPosition(targetDom, placement) {
      // native是相对于target的左下角来计算offset的
      // targetX == target.x  targetY == target.y + targetH
      // nodeW ：popup内容宽度 nodeH：popup内容高度
      // targetW: target 的宽度  targetH：target 的高度
      // screenW: 屏幕宽度  screenH ： 屏幕高度
      const domBox = targetDom.getBoundingClientRect()
      const node = this.content
      const nodeBox = node.getBoundingClientRect()
      let offsetX
      let offsetY
      let success = false
      const marginH = MARGIN * 0.2 * global.HapEnvironment.previewRem
      const marginW = MARGIN * 0.2 * global.HapEnvironment.previewRem

      const targetW = domBox.width
      const targetH = domBox.height
      const targetX = domBox.x
      const targetY = domBox.y + targetH

      const nodeW = nodeBox.width + marginW
      const nodeH = nodeBox.height + marginH

      const screenW = document.body.clientWidth
      const screenH = document.body.clientHeight
      switch (placement) {
        case 'left':
          if (targetX >= nodeW) {
            offsetX = -nodeW
            offsetY = -(nodeH + targetH) / 2
            offsetY = Math.min(offsetY, -nodeH)
            success = true
          }
          break
        case 'right':
          if (screenW - targetX - targetW >= nodeW) {
            offsetX = targetW
            offsetY = -(nodeH + targetH) / 2
            offsetY = Math.min(offsetY, -nodeH)
            success = true
          }
          break
        case 'top':
          if (targetY >= nodeH) {
            offsetX = (targetW - nodeW) / 2
            offsetY = -(nodeH + targetH)
            success = true
          }

          break
        case 'bottom':
          if (screenH - targetY - targetH >= nodeH) {
            offsetX = (targetW - nodeW) / 2
            offsetY = 0
            success = true
          }
          break
        case 'topLeft':
          if (targetX > nodeW && targetY >= nodeH) {
            offsetX = -nodeW
            offsetY = -(nodeH + targetH)
            success = true
          }
          break
        case 'topRight':
          if (targetY >= nodeH && screenW - targetX - targetW >= nodeW) {
            offsetX = targetW
            offsetY = -(nodeH + targetH)
            success = true
          }
          break
        case 'bottomLeft':
          if (targetX >= nodeW && screenH - targetY - targetH >= nodeH) {
            offsetX = -nodeW
            offsetY = 0
            success = true
          }
          break
        case 'bottomRight':
          if (screenW - targetX - targetW >= nodeW && screenH - targetY - targetH >= nodeH) {
            offsetX = targetW
            offsetY = 0
            success = true
          }
          break
      }
      return {
        offsetX,
        offsetY,
        targetX,
        targetY,
        targetH,
        targetW,
        nodeW,
        nodeH,
        screenH,
        screenW,
        success
      }
    },
    updateMask() {
      if (!this.mask) {
        return
      }
      this.mask.style.backgroundColor = this.maskColor
      this.mask.style.opacity = this.maskOpacity
    }
  }

  const attr$c = {
    target(val) {
      this.targetDom = document.getElementById(val)
    },
    placement(val) {
      if (PLACEMENT.indexOf(val) > -1) {
        this.placement = val
      }
    }
  }

  // 遮罩背景层的颜色，不设置时为全透明。假如只设置了颜色，透明度默认为 30%
  const REGEXP_COLOR_LONG$1 = /^#[0-9a-fA-F]{6}$/
  const REGEXP_COLOR_SHORT$1 = /^#[0-9a-fA-F]{3}$/
  const REGEXP_COLOR_RGB$1 = /^rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/
  const REGEXP_COLOR_RGBA$1 = /^rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d*\.?\d+)\s*\)$/
  const REGEXP_COLOR_HSL$1 = /^hsl\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*\)$/
  const REGEXP_COLOR_HSLA$1 = /^hsla\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*,\s*(\d*\.?\d+)\s*\)$/
  const style$c = {
    maskColor(val) {
      this.maskOpacity = 1
      if (
        REGEXP_COLOR_LONG$1.test(val) ||
        REGEXP_COLOR_SHORT$1.test(val) ||
        REGEXP_COLOR_RGB$1.test(val) ||
        REGEXP_COLOR_HSL$1.test(val)
      ) {
        this.maskColor = val
        this.maskOpacity = '.3'
      } else if (REGEXP_COLOR_RGBA$1.test(val) || REGEXP_COLOR_HSLA$1.test(val)) {
        this.maskColor = val
      }
      if (this.mask) {
        this.updateMask()
      }
    }
  }

  function init$u(Hap) {
    Component$7 = Hap.Component
    const extend = Hap.utils.extend

    // attrs:
    //   - href
    function PopUp(data) {
      const attr = data.attr || {}
      this.placement = attr.placement || 'bottom'
      this.maskColor = 'rgba(0,0,0,0)'
      Component$7.call(this, data)
    }

    PopUp.prototype = Object.create(Component$7.prototype)
    extend(PopUp.prototype, proto$b)
    extend(PopUp.prototype, {
      attr: extend(Object.create(Component$7.prototype.attr), attr$c)
    })
    extend(PopUp.prototype, {
      style: extend(Object.create(Component$7.prototype.style), style$c)
    })

    Hap.registerComponent('popup', PopUp)
  }

  var Popup = { init: init$u }

  var css_248z$c =
    '.hap-radio-container{display:inline-block;margin-left:5px;margin-right:5px}.hap-radio-container input[type=radio]+i:before{content:"\\a0";display:inline-block;vertical-align:middle;font-size:.24rem;width:.267rem;height:.267rem;padding:.067rem;border-radius:50%;border:.053rem solid #736f73;line-height:1}.hap-radio-container input[type=radio]{position:absolute;width:.533rem;height:.6rem;opacity:0;z-index:1}.hap-radio-container input[type=radio]:checked+i:before{background-color:#44948b;border-color:#44948b;background-clip:content-box}.hap-checkbox-container{display:inline-block;margin-left:5px;margin-right:5px}.hap-checkbox-container input[type=checkbox]+i{display:inline-block;font-size:.24rem;width:.6rem;height:.6rem;background-size:contain;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAABVElEQVRoQ+1ZS0oDQRB9lWFyADViwBt4guBZFDciCOMMaXKHQOgw40IJWcW7iGsPIVH87ZVJSTYi4kDazsxk4PW6q+u9qtdVTbWg4Usajh8kUHcGmYGNzsDgfLCXh/lUVHoQbFcKVvGqonfBZ3A6uho9FvkulFAURZ2wFd4LpFsp8F/OFDpvf7QPhtfD979wFBIwF+YGgqM6wX/7VszspT1xIxCbZwA7G0EAeLGZ7bgQEBObxU8Dm9lKK5aJja7ivwgUCfhKjxngHfDUECVECVFCbGR8SnjdApZRllEvAQGUECVECbETsxN73QKWUZZRLwGxE6Pxk7nlY+oJwK6nEtZirtCHcTbedxnuoh/3ZwI5XgsC30P+M15v/AfHMmhJknSDRTBR0UOBbPkG0sVeoW+icpu38rM0TefOX0wuzurcW+mnRRlESaCMqLqcyQy4RKuMvV/CqCdAkQM1dgAAAABJRU5ErkJggg==)}.hap-checkbox-container input[type=checkbox]{position:absolute;width:.533rem;height:.6rem;opacity:0;z-index:1}.hap-checkbox-container input[type=checkbox]:checked+i{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAACuklEQVRoQ+2ZTWsTURSG35M0H4ZaUaxf+A9cVBCRBouhDCiKC5eCWw2YD7A4wbiKG1uS0EXSiMW1/gWRTkugWhERquBP0CBVIlqrSZM5MtbIGGaaZHKTTHWyHHLufZ/3PTc3dy5hh39oh+uHAzDoBJ0EbJ1AqJA+NMR0H8A4gAN9Fcu8xsCzKteuLcdvr5nNbdpCofns/qEqvwHhcF+FN0/GKFV4c8wMwhRAyqcfgejyQMX/npzBDxejiStGWswB5jIf+t42Jm4x8G4xKh9tH4CZpEJWtYP7DQ1KVDY02zgBB0B8drZPgMFviWkFhKtG+LYG0MRXXPWJp9eTZSmfyYMQbYawMQCv/nDVJzXxDdFGEDYF4NWvqv/Mi3j8i95xKZ+eBtEt/TPbATDwcl31Se2I10BsBaCJr1NgshiJrLdy3nb7gBXxtkmAgZU6Bc524rz4BBgPmDhIoGOdbFea+I2qW3o+NfW93bYRv4gZc0pMjp2+N73Xp7qXO4Aofqu6z1sVL6aFGFklJssNVzQIv+peAuh4iySKHtV37nE8XrHivLgWYp5RYomkXsSpXG5k2FVRCDhpAiFEvJgEtFEMIEKFwrCbN5aaIRi84FX9F7t1XlwCjZHMIZ4QEPzFCV747Nlz4VU4vNlN24hfxNtAjM/O7gp46woxymXvyCWR4sW1kN4SQkqJyHf0j07MpwK7S6gWU6maKOfFt5BeGXNSiSVmtvsVMvpj1sn+0VuArYVtCiFKfG9aqEUSIsX3HqApCdHi+wOwlcgNMB9sPoxY6fnmGludB6wAOQBWXBNZ858lAEDKZz6BsE+ki5bHYpSUmHzEqP7ffb0+kbs76iPP68FfcPD7mtc1Vgzf/NhRAtqX/1wxMQdBNGq5BawUdnvFZGXOQdQ416yDcP3vY8mgFXQ5v9NCXRrYdflPVuDOQErpu6wAAAAASUVORK5CYII=)}.hap-checkbox-container,.hap-radio-container{display:grid;align-items:center}.hap-input{box-sizing:border-box;position:relative;-webkit-flex-shrink:1;flex-shrink:1;-webkit-flex-grow:0;flex-grow:0;-webkit-flex-basis:auto;flex-basis:auto;border:0 solid #000;margin:0;padding:0;min-width:0;width:auto;white-space:normal;pointer-events:auto}'
  styleInject(css_248z$c)

  let appendStyle$1

  const availableTypes = [
    'text',
    'password',
    'tel',
    'email',
    'url',
    'date',
    'time',
    'button',
    'radio',
    'checkbox'
  ]
  const DEFAULT_TYPE = 'text'
  const DEFAULT_FONT_SIZE = 0.347
  const NOT_INPUT = ['button', 'radio', 'checkbox']

  const createList = {
    input: function() {
      const node = document.createElement('input')
      const uuid = Math.floor(10000000000000 * Math.random()) + Date.now()
      this.className = 'hap-ipt-' + uuid
      this.styleId = 'hap-style-' + uuid
      node.classList.add(this.className)
      node.classList.add('hap-input')
      if (this.data.attr && this.data.attr.type === 'button') {
        if (!this.data.style || !this.data.style.lineHeight) {
          node.style.padding = `.107rem 0`
        }
        node.style.backgroundSize = '100% 100%'
        node.style.backgroundRepeat = 'no-repeat'
        if (!this.data.attr.value) {
          node.style.backgroundColor = 'inherit'
        }
      } else {
        node.style.backgroundColor = 'inherit'
        node.style.outline = 'none'
      }
      node.style.fontSize = DEFAULT_FONT_SIZE + 'rem'
      this.placeholder && (node.placeholder = this.placeholder)
      this.createKeybordEvent(node)
      return node
    },
    radio: function() {
      const node = document.createElement('span')
      this.innerInput = document.createElement('input')
      this.innerLabel = document.createElement('i')
      node.appendChild(this.innerInput)
      node.appendChild(this.innerLabel)
      node.classList.add('hap-input')
      node.classList.add('hap-radio-container')
      this.innerInput.setAttribute('type', 'radio')
      this.nodeType = 'radio'
      return node
    },
    checkbox: function() {
      const node = document.createElement('span')
      this.innerInput = document.createElement('input')
      this.innerLabel = document.createElement('i')
      node.appendChild(this.innerInput)
      node.appendChild(this.innerLabel)
      node.classList.add('hap-input')
      node.classList.add('hap-checkbox-container')
      this.innerInput.setAttribute('type', 'checkbox')
      this.nodeType = 'checkbox'
      return node
    }
  }

  function setPlaceholderColor(input, placeholderColor) {
    if (!placeholderColor) {
      return
    }
    const vendors = [
      '::-webkit-input-placeholder',
      ':-moz-placeholder',
      '::-moz-placeholder',
      ':-ms-input-placeholder',
      ':placeholder-shown'
    ]
    let css = ''
    const cssRule = 'color: ' + placeholderColor + ';'
    for (let i = 0, l = vendors.length; i < l; i++) {
      css += '.' + input.className + vendors[i] + '{' + cssRule + '}'
    }
    appendStyle$1(css, input.styleId, true)
  }

  const proto$c = {
    create() {
      if (this.data.attr && this.data.attr.type === 'radio') {
        return createList.radio.call(this)
      } else if (this.data.attr && this.data.attr.type === 'checkbox') {
        return createList.checkbox.call(this)
      }
      return createList.input.call(this)
    },

    createKeybordEvent(node) {
      if (Array.isArray(this.data.event)) {
        if (this.data.event.indexOf('selectionchange') > -1) {
          console.warn('### Web Render ###  请使用手机调试 “selectionchange” 事件')
        }
        // support enter key event
        if (this.data.event.indexOf('enterkeyclick') > -1) {
          node.addEventListener(
            'keyup',
            ev => {
              const code = ev.keyCode
              if (code === 13) {
                this.dispatchEvent('enterkeyclick', { value: node.value })
              }
            },
            false
          )
        }
        node.addEventListener('input', () => {
          // 适配Android
          this.dispatchEvent('change')
        })
      }
    },
    focus() {
      this.node.focus()
    },
    blur() {
      this.node.blur()
    },
    select: function() {
      this.node.select()
    },
    setSelectionRange({ start, end }) {
      const node = this.node
      node.focus()
      // 必须先focus 才能setSelectionRange
      node.setSelectionRange(start, end)
    },
    getSelectionRange({ callback }, performCallback) {
      const start = this.node.selectionStart
      const end = this.node.selectionEnd
      performCallback && performCallback(callback, [start, end])
    }
  }

  // updatable attributes
  const attr$d = {
    disabled(val) {
      this.node.disabled = !!val
    },

    placeholder(val) {
      this.node.placeholder = val || ''
    },

    value(val) {
      this.node.value = val || ''
    },

    autofocus(val) {
      this.node.autofocus = !!val
    },

    type(val) {
      this.node.type = availableTypes.indexOf(val) !== -1 ? val : DEFAULT_TYPE
      if (NOT_INPUT.indexOf(val) === -1) {
        this.node.style.borderStyle = 'none'
      }
    },

    returnKeyType(val) {
      this.node.returnKeyType = val || ''
    },
    name(val) {
      /*  if (this.node.type === 'radio') {

} */
      // this.node.name = val || ''
      if (val == null || val === '') {
        return
      }
      if (this.nodeType === 'radio' || this.nodeType === 'checkbox') {
        this.innerInput.setAttribute('name', val)
      } else {
        this.node.setAttribute('name', val)
      }
      this.name = val
    },
    id(val) {
      if (val == null || val === '') {
        return
      }
      if (this.nodeType === 'radio' || this.nodeType === 'checkbox') {
        this.innerInput.setAttribute('id', val)
      } else {
        this.node.setAttribute('id', val)
      }
    },
    checked(val) {
      if (this.nodeType === 'radio' || this.nodeType === 'checkbox') {
        this.innerInput.checked = val
      } else {
        this.node.checked = val
      }
      this.checked = val
    },
    readonly(val) {
      // 真机无此属性，不设置
    }
  }

  // updatable styles
  const style$d = {
    placeholderColor: function(val) {
      setPlaceholderColor(this, val)
    },
    caretColor: function(val) {
      this.node.style.caretColor = val || 'auto'
    },
    backgroundImage: function(val) {
      // add test for poetry (conflict with backgroundImage in component/index.js )
      const url = val[0] === '/' && Hap.basePath ? `${Hap.basePath}${val}` : val
      this.node.style.backgroundImage = 'url(' + url + ')'
    },

    display: function(val) {
      // do nothing
    },
    height: function(val) {
      this.node.style.height = val
      // add test for 要多少
      if (val.indexOf('%') > -1) {
        setTimeout(() => {
          const parentStyle = window.getComputedStyle(this.getParent().node)
          const isFlex = parentStyle.display === 'flex'
          if (isFlex) {
            let parentH = parseFloat(parentStyle.height)
            // add test for 企查查企业信用信息查询
            if (parentStyle.boxSizing === 'border-box') {
              parentH -= parseFloat(parentStyle.paddingTop) + parseFloat(parentStyle.paddingBottom)
            }
            const height = (parentH * val.replace('%', '')) / 100 + 'px'
            this.node.style.height = height
          }
        }, 0)
      }
    }
  }

  // events configurations
  const event$3 = {
    input: {
      updator() {
        return {
          attrs: {
            value: this.node.value
          }
        }
      },
      extra() {
        return {
          value: this.node.value,
          timestamp: Date.now()
        }
      }
    },

    change: {
      updator: function() {
        return {
          attrs: {
            value: this.node.value
          }
        }
      },
      extra: function() {
        this.checked = !this.checked
        return {
          name: this.name,
          checked: this.checked,
          value: this.node.value,
          text: this.node.value,
          timestamp: Date.now()
        }
      }
    }
  }

  function init$v(Hap) {
    const Atomic = Hap.Atomic
    const extend = Hap.utils.extend
    appendStyle$1 = Hap.utils.appendStyle

    // attrs:
    //   - type: text|password|tel|email|url
    //   - value
    //   - placeholder
    //   - disabled
    //   - autofocus
    function Input(data) {
      Atomic.call(this, data)
    }
    Input.prototype = Object.create(Atomic.prototype)
    extend(Input.prototype, proto$c)
    extend(Input.prototype, {
      attr: extend(Object.create(Atomic.prototype.attr), attr$d)
    })
    extend(Input.prototype, {
      style: extend(Object.create(Atomic.prototype.style), style$d)
    })
    extend(Input.prototype, { event: event$3 })

    Hap.registerComponent('input', Input)
  }

  var Input = { init: init$v }

  /**
   * lodash (Custom Build) <https://lodash.com/>
   * Build: `lodash modularize exports="npm" -o ./`
   * Copyright jQuery Foundation and other contributors <https://jquery.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   */

  /** Used as the `TypeError` message for "Functions" methods. */
  var FUNC_ERROR_TEXT = 'Expected a function'

  /** Used as references for various `Number` constants. */
  var NAN = 0 / 0

  /** `Object#toString` result references. */
  var symbolTag = '[object Symbol]'

  /** Used to match leading and trailing whitespace. */
  var reTrim = /^\s+|\s+$/g

  /** Used to detect bad signed hexadecimal string values. */
  var reIsBadHex = /^[-+]0x[0-9a-f]+$/i

  /** Used to detect binary string values. */
  var reIsBinary = /^0b[01]+$/i

  /** Used to detect octal string values. */
  var reIsOctal = /^0o[0-7]+$/i

  /** Built-in method references without a dependency on `root`. */
  var freeParseInt = parseInt

  /** Detect free variable `global` from Node.js. */
  var freeGlobal =
    typeof commonjsGlobal == 'object' &&
    commonjsGlobal &&
    commonjsGlobal.Object === Object &&
    commonjsGlobal

  /** Detect free variable `self`. */
  var freeSelf = typeof self == 'object' && self && self.Object === Object && self

  /** Used as a reference to the global object. */
  var root = freeGlobal || freeSelf || Function('return this')()

  /** Used for built-in method references. */
  var objectProto = Object.prototype

  /**
   * Used to resolve the
   * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
   * of values.
   */
  var objectToString = objectProto.toString

  /* Built-in method references for those with the same name as other `lodash` methods. */
  var nativeMax = Math.max,
    nativeMin = Math.min

  /**
   * Gets the timestamp of the number of milliseconds that have elapsed since
   * the Unix epoch (1 January 1970 00:00:00 UTC).
   *
   * @static
   * @memberOf _
   * @since 2.4.0
   * @category Date
   * @returns {number} Returns the timestamp.
   * @example
   *
   * _.defer(function(stamp) {
   *   console.log(_.now() - stamp);
   * }, _.now());
   * // => Logs the number of milliseconds it took for the deferred invocation.
   */
  var now = function() {
    return root.Date.now()
  }

  /**
   * Creates a debounced function that delays invoking `func` until after `wait`
   * milliseconds have elapsed since the last time the debounced function was
   * invoked. The debounced function comes with a `cancel` method to cancel
   * delayed `func` invocations and a `flush` method to immediately invoke them.
   * Provide `options` to indicate whether `func` should be invoked on the
   * leading and/or trailing edge of the `wait` timeout. The `func` is invoked
   * with the last arguments provided to the debounced function. Subsequent
   * calls to the debounced function return the result of the last `func`
   * invocation.
   *
   * **Note:** If `leading` and `trailing` options are `true`, `func` is
   * invoked on the trailing edge of the timeout only if the debounced function
   * is invoked more than once during the `wait` timeout.
   *
   * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred
   * until to the next tick, similar to `setTimeout` with a timeout of `0`.
   *
   * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)
   * for details over the differences between `_.debounce` and `_.throttle`.
   *
   * @static
   * @memberOf _
   * @since 0.1.0
   * @category Function
   * @param {Function} func The function to debounce.
   * @param {number} [wait=0] The number of milliseconds to delay.
   * @param {Object} [options={}] The options object.
   * @param {boolean} [options.leading=false]
   *  Specify invoking on the leading edge of the timeout.
   * @param {number} [options.maxWait]
   *  The maximum time `func` is allowed to be delayed before it's invoked.
   * @param {boolean} [options.trailing=true]
   *  Specify invoking on the trailing edge of the timeout.
   * @returns {Function} Returns the new debounced function.
   * @example
   *
   * // Avoid costly calculations while the window size is in flux.
   * jQuery(window).on('resize', _.debounce(calculateLayout, 150));
   *
   * // Invoke `sendMail` when clicked, debouncing subsequent calls.
   * jQuery(element).on('click', _.debounce(sendMail, 300, {
   *   'leading': true,
   *   'trailing': false
   * }));
   *
   * // Ensure `batchLog` is invoked once after 1 second of debounced calls.
   * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });
   * var source = new EventSource('/stream');
   * jQuery(source).on('message', debounced);
   *
   * // Cancel the trailing debounced invocation.
   * jQuery(window).on('popstate', debounced.cancel);
   */
  function debounce(func, wait, options) {
    var lastArgs,
      lastThis,
      maxWait,
      result,
      timerId,
      lastCallTime,
      lastInvokeTime = 0,
      leading = false,
      maxing = false,
      trailing = true

    if (typeof func != 'function') {
      throw new TypeError(FUNC_ERROR_TEXT)
    }
    wait = toNumber(wait) || 0
    if (isObject$2(options)) {
      leading = !!options.leading
      maxing = 'maxWait' in options
      maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait
      trailing = 'trailing' in options ? !!options.trailing : trailing
    }

    function invokeFunc(time) {
      var args = lastArgs,
        thisArg = lastThis

      lastArgs = lastThis = undefined
      lastInvokeTime = time
      result = func.apply(thisArg, args)
      return result
    }

    function leadingEdge(time) {
      // Reset any `maxWait` timer.
      lastInvokeTime = time
      // Start the timer for the trailing edge.
      timerId = setTimeout(timerExpired, wait)
      // Invoke the leading edge.
      return leading ? invokeFunc(time) : result
    }

    function remainingWait(time) {
      var timeSinceLastCall = time - lastCallTime,
        timeSinceLastInvoke = time - lastInvokeTime,
        result = wait - timeSinceLastCall

      return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result
    }

    function shouldInvoke(time) {
      var timeSinceLastCall = time - lastCallTime,
        timeSinceLastInvoke = time - lastInvokeTime

      // Either this is the first call, activity has stopped and we're at the
      // trailing edge, the system time has gone backwards and we're treating
      // it as the trailing edge, or we've hit the `maxWait` limit.
      return (
        lastCallTime === undefined ||
        timeSinceLastCall >= wait ||
        timeSinceLastCall < 0 ||
        (maxing && timeSinceLastInvoke >= maxWait)
      )
    }

    function timerExpired() {
      var time = now()
      if (shouldInvoke(time)) {
        return trailingEdge(time)
      }
      // Restart the timer.
      timerId = setTimeout(timerExpired, remainingWait(time))
    }

    function trailingEdge(time) {
      timerId = undefined

      // Only invoke if we have `lastArgs` which means `func` has been
      // debounced at least once.
      if (trailing && lastArgs) {
        return invokeFunc(time)
      }
      lastArgs = lastThis = undefined
      return result
    }

    function cancel() {
      if (timerId !== undefined) {
        clearTimeout(timerId)
      }
      lastInvokeTime = 0
      lastArgs = lastCallTime = lastThis = timerId = undefined
    }

    function flush() {
      return timerId === undefined ? result : trailingEdge(now())
    }

    function debounced() {
      var time = now(),
        isInvoking = shouldInvoke(time)

      lastArgs = arguments
      lastThis = this
      lastCallTime = time

      if (isInvoking) {
        if (timerId === undefined) {
          return leadingEdge(lastCallTime)
        }
        if (maxing) {
          // Handle invocations in a tight loop.
          timerId = setTimeout(timerExpired, wait)
          return invokeFunc(lastCallTime)
        }
      }
      if (timerId === undefined) {
        timerId = setTimeout(timerExpired, wait)
      }
      return result
    }
    debounced.cancel = cancel
    debounced.flush = flush
    return debounced
  }

  /**
   * Creates a throttled function that only invokes `func` at most once per
   * every `wait` milliseconds. The throttled function comes with a `cancel`
   * method to cancel delayed `func` invocations and a `flush` method to
   * immediately invoke them. Provide `options` to indicate whether `func`
   * should be invoked on the leading and/or trailing edge of the `wait`
   * timeout. The `func` is invoked with the last arguments provided to the
   * throttled function. Subsequent calls to the throttled function return the
   * result of the last `func` invocation.
   *
   * **Note:** If `leading` and `trailing` options are `true`, `func` is
   * invoked on the trailing edge of the timeout only if the throttled function
   * is invoked more than once during the `wait` timeout.
   *
   * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred
   * until to the next tick, similar to `setTimeout` with a timeout of `0`.
   *
   * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)
   * for details over the differences between `_.throttle` and `_.debounce`.
   *
   * @static
   * @memberOf _
   * @since 0.1.0
   * @category Function
   * @param {Function} func The function to throttle.
   * @param {number} [wait=0] The number of milliseconds to throttle invocations to.
   * @param {Object} [options={}] The options object.
   * @param {boolean} [options.leading=true]
   *  Specify invoking on the leading edge of the timeout.
   * @param {boolean} [options.trailing=true]
   *  Specify invoking on the trailing edge of the timeout.
   * @returns {Function} Returns the new throttled function.
   * @example
   *
   * // Avoid excessively updating the position while scrolling.
   * jQuery(window).on('scroll', _.throttle(updatePosition, 100));
   *
   * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.
   * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });
   * jQuery(element).on('click', throttled);
   *
   * // Cancel the trailing throttled invocation.
   * jQuery(window).on('popstate', throttled.cancel);
   */
  function throttle$1(func, wait, options) {
    var leading = true,
      trailing = true

    if (typeof func != 'function') {
      throw new TypeError(FUNC_ERROR_TEXT)
    }
    if (isObject$2(options)) {
      leading = 'leading' in options ? !!options.leading : leading
      trailing = 'trailing' in options ? !!options.trailing : trailing
    }
    return debounce(func, wait, {
      leading: leading,
      maxWait: wait,
      trailing: trailing
    })
  }

  /**
   * Checks if `value` is the
   * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
   * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
   *
   * @static
   * @memberOf _
   * @since 0.1.0
   * @category Lang
   * @param {*} value The value to check.
   * @returns {boolean} Returns `true` if `value` is an object, else `false`.
   * @example
   *
   * _.isObject({});
   * // => true
   *
   * _.isObject([1, 2, 3]);
   * // => true
   *
   * _.isObject(_.noop);
   * // => true
   *
   * _.isObject(null);
   * // => false
   */
  function isObject$2(value) {
    var type = typeof value
    return !!value && (type == 'object' || type == 'function')
  }

  /**
   * Checks if `value` is object-like. A value is object-like if it's not `null`
   * and has a `typeof` result of "object".
   *
   * @static
   * @memberOf _
   * @since 4.0.0
   * @category Lang
   * @param {*} value The value to check.
   * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
   * @example
   *
   * _.isObjectLike({});
   * // => true
   *
   * _.isObjectLike([1, 2, 3]);
   * // => true
   *
   * _.isObjectLike(_.noop);
   * // => false
   *
   * _.isObjectLike(null);
   * // => false
   */
  function isObjectLike(value) {
    return !!value && typeof value == 'object'
  }

  /**
   * Checks if `value` is classified as a `Symbol` primitive or object.
   *
   * @static
   * @memberOf _
   * @since 4.0.0
   * @category Lang
   * @param {*} value The value to check.
   * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.
   * @example
   *
   * _.isSymbol(Symbol.iterator);
   * // => true
   *
   * _.isSymbol('abc');
   * // => false
   */
  function isSymbol(value) {
    return (
      typeof value == 'symbol' || (isObjectLike(value) && objectToString.call(value) == symbolTag)
    )
  }

  /**
   * Converts `value` to a number.
   *
   * @static
   * @memberOf _
   * @since 4.0.0
   * @category Lang
   * @param {*} value The value to process.
   * @returns {number} Returns the number.
   * @example
   *
   * _.toNumber(3.2);
   * // => 3.2
   *
   * _.toNumber(Number.MIN_VALUE);
   * // => 5e-324
   *
   * _.toNumber(Infinity);
   * // => Infinity
   *
   * _.toNumber('3.2');
   * // => 3.2
   */
  function toNumber(value) {
    if (typeof value == 'number') {
      return value
    }
    if (isSymbol(value)) {
      return NAN
    }
    if (isObject$2(value)) {
      var other = typeof value.valueOf == 'function' ? value.valueOf() : value
      value = isObject$2(other) ? other + '' : other
    }
    if (typeof value != 'string') {
      return value === 0 ? value : +value
    }
    value = value.replace(reTrim, '')
    var isBinary = reIsBinary.test(value)
    return isBinary || reIsOctal.test(value)
      ? freeParseInt(value.slice(2), isBinary ? 2 : 8)
      : reIsBadHex.test(value)
      ? NAN
      : +value
  }

  var lodash_throttle = throttle$1

  const DEFAULT_ROWS = 2
  const DEFAULT_FONT_SIZE$1 = 0.427
  const DEFAULT_LINE_HEIGHT = 1.2
  const DEFAULT_PLACEHOLDER_COLOR = 'rgba(0, 0, 0, 0.38)'
  /**
   * attr:
   * rows: default is 2.
   * disabled
   * placeholder
   */

  function registerThrottle(func, wait = 100, leading = false, trailing = true) {
    return lodash_throttle(func, wait, { leading: leading, trailing: trailing })
  }
  const proto$d = {
    create() {
      const node = document.createElement('textarea')
      node.classList.add('hap-element')
      node.classList.add('hap-textarea')
      node.style.fontSize = DEFAULT_FONT_SIZE$1 + 'rem'
      node.style.backgroundColor = 'inherit'
      node.style.lineHeight = DEFAULT_LINE_HEIGHT
      node.style.setProperty('--placeholder-color', DEFAULT_PLACEHOLDER_COLOR)
      this.createKeyboardEvent(node)
      node.addEventListener('input', () => {
        this._callFromMap('_watchRows', this._watchRows)
      })
      node.addEventListener('click', () => {
        this.dispatchEvent('selectionchange')
      })
      return node
    },
    onAppend() {
      this._callFromMap('_watchRows', this._watchRows)
    },
    // support enter key envent
    createKeyboardEvent(node) {
      if (Array.isArray(this.data.event) && this.data.event.indexOf('return') > -1) {
        node.addEventListener(
          'keyup',
          ev => {
            const code = ev.keyCode
            let key = ev.key
            if (code === 13) {
              if (key.toLowerCase() === 'tab') {
                key = 'next'
              }
              const rightKeyType = findEnterKeyType(this.data.attr.returnKeyType)
              this.dispatchEvent('return', { returnKeyType: rightKeyType })
            }
          },
          false
        )
      }
    },

    focus() {
      this.node.focus()
    },
    blur() {
      this.node.blur()
    },
    select: function() {
      this.node.select()
    },
    setSelectionRange({ start, end }) {
      const node = this.node
      node.focus()
      // 必须先focus 才能setSelectionRange
      node.setSelectionRange(start, end)
    },
    getSelectionRange({ callback }, performCallback) {
      const start = this.node.selectionStart
      const end = this.node.selectionEnd
      performCallback && performCallback(callback, [start, end])
    },
    _watchRows() {
      this.dispatchEvent('change')

      let scrollHeight
      const $input = this.node
      const $inputStyle = window.getComputedStyle($input)
      const lineHeight =
        parseFloat($inputStyle['lineHeight']) ||
        parseFloat($inputStyle['lineHeight']) * DEFAULT_LINE_HEIGHT
      const height = $inputStyle['height']
      scrollHeight = $input.scrollHeight

      // 兼容设置了高度与没有设置高度两种情况
      if (!this._setHeight) {
        $input.style.height = 'auto'
        scrollHeight = $input.scrollHeight
        $input.style.height = height
      }

      if (this._lastScrollHeight !== scrollHeight) {
        if (!this._setHeight) {
          $input.style.height = scrollHeight + 10 + 'px'
        }
        this._lastScrollHeight = scrollHeight
        const lineCount = Math.ceil(scrollHeight / lineHeight)
        const realHeight = $input.getBoundingClientRect().height

        const detail = {
          lineCount,
          height: realHeight
        }
        this.dispatchEvent('linechange', detail)
      }
    },
    _callFromMap(name, func) {
      if (!this._throttleMap[name]) {
        this._throttleMap[name] = registerThrottle(func)
      }
      this._throttleMap[name].call(this)
    }
  }

  // updatable attributes
  const attr$e = {
    rows(val) {
      this.node.rows = val || DEFAULT_ROWS
    },
    disabled(val) {
      this.node.disabled = !!val
    },
    placeholder(val) {
      this.node.placeholder = val || ''
    },
    value(val) {
      this.node.value = val || ''
    },
    autofocus(val) {
      this.node.autofocus = !!val
    },
    returnKeyType(val) {
      this.node.returnKeyType = val || ''
    }
  }

  // events configurations
  const event$4 = {
    input: {
      updator() {
        return {
          attrs: {
            value: this.node.value
          }
        }
      },
      extra() {
        return {
          value: this.node.value,
          timestamp: Date.now()
        }
      }
    },

    change: {
      updator: function() {
        return {
          attrs: {
            value: this.node.value
          }
        }
      },
      extra: function() {
        return {
          value: this.node.value,
          text: this.node.value,
          timestamp: Date.now()
        }
      }
    },

    return: {
      updator: function(obj) {
        return {
          attrs: {
            value: this.node.value
          }
        }
      }
    }
  }

  const style$e = {
    height(val) {
      this._setHeight = true
      this.node.style.height = val
    },
    lineHeight(val) {
      this.node.style.lineHeight = val
    },
    placeholderColor(val) {
      this.node.style.setProperty('--placeholder-color', val)
    }
  }
  function init$w(Hap) {
    const Atomic = Hap.Atomic
    const extend = Hap.utils.extend

    // attrs:
    //   - rows
    //   - disabled
    //   - placeholder
    function Textarea(data) {
      this._throttleMap = {}
      this._setHeight = false
      Atomic.call(this, data)
    }
    Textarea.prototype = Object.create(Atomic.prototype)
    extend(Textarea.prototype, proto$d)
    extend(Textarea.prototype, {
      attr: extend(Object.create(Atomic.prototype.attr), attr$e)
    })
    extend(Textarea.prototype, {
      style: extend(Object.create(Atomic.prototype.style), style$e)
    })
    extend(Textarea.prototype, { event: event$4 })

    Hap.registerComponent('textarea', Textarea)
  }

  var Textarea = { init: init$w }

  var css_248z$d =
    '.hap-dialog-mask{position:fixed;z-index:1;top:0;right:0;bottom:0;left:0;display:flex;justify-content:center;align-items:center;background-color:rgba(0,0,0,.3)}.hap-dialog-content{width:86%;max-height:70%;background-color:#fff}.hap-dialog-footer{display:flex;justify-content:flex-end;padding:.66rem 0}.hap-dialog-footer a{padding:0 .6rem;color:#009688;font-size:.4rem;text-decoration:none}'
  styleInject(css_248z$d)

  // 暴露一个插入子元素的接口
  class Dialog$1 {
    constructor(id) {
      const node = document.createElement('div')
      const body = document.getElementsByTagName('body')[0]
      this._node = node
      this._uid = `hap-dialog-box${id}`
      this._container = body
      this.added = false // 已经添加过内容

      node.classList.add('hap-dialog-box')
      node.setAttribute('id', this._uid)
      this.createMask()
      return this
    }

    createMask() {
      const mask = document.createElement('div')
      const contentWrap = document.createElement('div')
      mask.classList.add('hap-dialog-mask')
      contentWrap.classList.add('hap-dialog-content')
      mask.appendChild(contentWrap)
      this._content = contentWrap
      this._mask = mask
      this._node.appendChild(mask)
    }

    addContent(cont, picker) {
      if (!cont || this.added) {
        return
      }
      this.clearContent()
      this.picker = picker
      const dialogBody = document.createElement('div')
      dialogBody.classList.add('hap-dialog-body')
      if (typeof cont === 'string') {
        dialogBody.innerHTML = cont
      } else {
        if (cont.length > 0) {
          // childNodes
          Array.prototype.forEach.call(cont, item => {
            dialogBody.appendChild(item)
          })
        } else {
          dialogBody.appendChild(cont)
        }
      }
      this._content.appendChild(dialogBody)
      // TODO 按钮可配置
      this.addFooter()
      this.bindAction()
    }

    addFooter() {
      //
      const footer = document.createElement('div')
      footer.classList.add('hap-dialog-footer')
      const btns = `<a href='javascript:;' type="0">取消</a><a href="javascript:;" type="1">确认</a>`
      footer.innerHTML = btns
      this._footer = footer
      this._content.appendChild(footer)
    }

    clearContent() {
      const parent = this._content
      const childNodes = parent.childNodes
      for (let i = 0, len = childNodes.length; i < len; i++) {
        parent.removeChild(childNodes[i])
      }
    }

    show() {
      // TODO 考量用display:none 还是用节点来控制显隐
      // TODO: 增加事件绑定
      const container = this._container
      container.appendChild(this._node)
      this.afterShow()
    }

    close() {
      // TODO: 删除事件绑定, 动画效果
      const container = this._container
      const node = document.getElementById(this._uid)
      container.removeChild(node)
      this.afterClose()
    }

    bindAction() {
      const that = this
      const picker = this.picker
      const btns = this._footer.childNodes
      const mask = this._mask
      const content = this._content
      // 确认取消
      const btnHandle = function(e) {
        e.preventDefault()
        e.stopPropagation()
        const type = this.getAttribute('type')
        if (type === '0') {
          picker.cancel && picker.cancel()
          that.close()
        } else {
          picker.yes && picker.yes()
          that.close()
        }
      }
      content.addEventListener('click', function(e) {
        e.preventDefault()
        e.stopPropagation()
      })
      mask.addEventListener(
        'click',
        function(e) {
          e.preventDefault()
          e.stopPropagation()
          that.close()
        },
        false
      )
      for (let i = 0, len = btns.length; i < len; i++) {
        btns[i].addEventListener('click', btnHandle, false)
      }
    }

    afterShow() {}
    afterClose() {}
  }

  const time =
    Date.now ||
    function() {
      return +new Date()
    }

  let running = {}
  let counter = 1
  const desiredFrames = 60
  const millisecondsPerSecond = 1000

  // http://paulirish.com/2011/requestanimationframe-for-smart-animating/
  // http://my.opera.com/emoller/blog/2011/12/20/requestanimationframe-for-smart-er-animating

  // requestAnimationFrame polyfill by Erik Möller
  // fixes from Paul Irish and Tino Zijdel
  if (typeof window !== 'undefined') {
    ;(function() {
      let lastTime = 0
      const vendors = ['ms', 'moz', 'webkit', 'o']
      for (let x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {
        window.requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame']
        window.cancelAnimationFrame =
          window[vendors[x] + 'CancelAnimationFrame'] ||
          window[vendors[x] + 'CancelRequestAnimationFrame']
      }

      if (!window.requestAnimationFrame) {
        window.requestAnimationFrame = function(callback, element) {
          const currTime = new Date().getTime()
          const timeToCall = Math.max(0, 16 - (currTime - lastTime))
          const id = window.setTimeout(function() {
            callback(currTime + timeToCall)
          }, timeToCall)
          lastTime = currTime + timeToCall
          return id
        }
      }
      if (!window.cancelAnimationFrame) {
        window.cancelAnimationFrame = function(id) {
          clearTimeout(id)
        }
      }
    })()
  }

  var animate = {
    // A requestAnimationFrame wrapper / polyfill.
    requestAnimationFrame: (function() {
      if (typeof window !== 'undefined') {
        const requestFrame = window.requestAnimationFrame
        return function(callback, root) {
          requestFrame(callback, root)
        }
      }
    })(),

    // Stops the given animation.
    stop(id) {
      const cleared = running[id] != null
      if (cleared) {
        running[id] = null
      }
      return cleared
    },

    // Whether the given animation is still running.
    isRunning(id) {
      return running[id] != null
    },

    // Start the animation.
    start(stepCallback, verifyCallback, completedCallback, duration, easingMethod, root) {
      const _this = this
      const start = time()
      let lastFrame = start
      let percent = 0
      let dropCounter = 0
      const id = counter++

      if (!root) {
        root = document.body
      }

      // Compacting running db automatically every few new animations
      if (id % 20 === 0) {
        const newRunning = {}
        for (const usedId in running) {
          newRunning[usedId] = true
        }
        running = newRunning
      }

      // This is the internal step method which is called every few milliseconds
      const step = function(virtual) {
        // Normalize virtual value
        const render = virtual !== true
        // Get current time
        const now = time()

        // Verification is executed before next animation step
        if (!running[id] || (verifyCallback && !verifyCallback(id))) {
          running[id] = null
          completedCallback &&
            completedCallback(
              desiredFrames - dropCounter / ((now - start) / millisecondsPerSecond),
              id,
              false
            )
          return
        }

        // For the current rendering to apply let's update omitted steps in memory.
        // This is important to bring internal state variables up-to-date with progress in time.
        if (render) {
          const droppedFrames =
            Math.round((now - lastFrame) / (millisecondsPerSecond / desiredFrames)) - 1
          for (let j = 0; j < Math.min(droppedFrames, 4); j++) {
            step(true)
            dropCounter++
          }
        }

        // Compute percent value
        if (duration) {
          percent = (now - start) / duration
          if (percent > 1) {
            percent = 1
          }
        }

        // Execute step callback, then...
        const value = easingMethod ? easingMethod(percent) : percent
        if ((stepCallback(value, now, render) === false || percent === 1) && render) {
          running[id] = null
          completedCallback &&
            completedCallback(
              desiredFrames - dropCounter / ((now - start) / millisecondsPerSecond),
              id,
              percent === 1 || duration == null
            )
        } else if (render) {
          lastFrame = now
          _this.requestAnimationFrame(step, root)
        }
      }

      // Mark as running
      running[id] = true
      // Init first step
      _this.requestAnimationFrame(step, root)
      // Return unique animation ID
      return id
    }
  }

  function getElement(expr) {
    return typeof expr === 'string' ? document.querySelector(expr) : expr
  }

  function getComputedStyle$1(el, key) {
    const computedStyle = window.getComputedStyle(el)
    return computedStyle[key] || ''
  }

  // Easing Equations (c) 2003 Robert Penner, all rights reserved.
  // Open source under the BSD License.
  function easeOutCubic(pos) {
    return Math.pow(pos - 1, 3) + 1
  }

  function easeInOutCubic(pos) {
    if ((pos /= 0.5) < 1) {
      return 0.5 * Math.pow(pos, 3)
    }
    return 0.5 * (Math.pow(pos - 2, 3) + 2)
  }

  /*
   * Anima Scroller
   * Based Zynga Scroller (http://github.com/zynga/scroller)
   * Copyright 2011, Zynga Inc.
   * Licensed under the MIT License.
   * https://raw.github.com/zynga/scroller/master/MIT-LICENSE.txt
   */

  /* eslint-disable */
  const isBrowser = typeof window === 'object'

  const TEMPLATE = `
<div class="scroller-component" data-role="component">
<div class="scroller-mask" data-role="mask"></div>
<div class="scroller-indicator" data-role="indicator"></div>
<div class="scroller-content" data-role="content"></div>
</div>
`

  let passiveSupported = false
  try {
    let options = Object.defineProperty({}, 'passive', {
      get: function() {
        passiveSupported = true
      }
    })
    window.addEventListener('test', null, options)
  } catch (err) {}

  const getDpr = function() {
    let dpr = 1
    if (isBrowser) {
      if (
        window.VUX_CONFIG &&
        window.VUX_CONFIG.$picker &&
        window.VUX_CONFIG.$picker.respectHtmlDataDpr
      ) {
        dpr = document.documentElement.getAttribute('data-dpr') || 1
      }
    }
    return dpr
  }

  const Scroller = function(container, options) {
    const self = this

    self.dpr = getDpr()

    options = options || {}

    self.options = {
      itemClass: 'scroller-item',
      onSelect() {},
      defaultValue: 0,
      data: []
    }

    for (const key in options) {
      if (options[key] !== undefined) {
        self.options[key] = options[key]
      }
    }

    self.__container = getElement(container)

    const tempContainer = document.createElement('div')
    tempContainer.innerHTML = options.template || TEMPLATE

    const component = (self.__component = tempContainer.querySelector('[data-role=component]'))
    const content = (self.__content = component.querySelector('[data-role=content]'))
    const indicator = component.querySelector('[data-role=indicator]')

    const data = self.options.data
    let html = ''
    if (data.length && data[0].constructor === Object) {
      data.forEach(function(row) {
        html +=
          '<div class="' +
          self.options.itemClass +
          '" data-value=' +
          JSON.stringify({ value: encodeURI(row.value) }) +
          '>' +
          row.name +
          '</div>'
      })
    } else {
      data.forEach(function(val) {
        html +=
          '<div class="' +
          self.options.itemClass +
          '" data-value=' +
          JSON.stringify({ value: encodeURI(val) }) +
          '>' +
          val +
          '</div>'
      })
    }
    content.innerHTML = html

    self.__container.appendChild(component)

    self.__itemHeight = parseFloat(getComputedStyle$1(indicator, 'height'), 10)

    self.__callback =
      options.callback ||
      function(top) {
        const distance = -top * self.dpr
        content.style.webkitTransform = 'translate3d(0, ' + distance + 'px, 0)'
        content.style.transform = 'translate3d(0, ' + distance + 'px, 0)'
      }

    const rect = component.getBoundingClientRect()

    self.__clientTop = rect.top + component.clientTop || 0

    self.__setDimensions(component.clientHeight, content.offsetHeight)

    if (component.clientHeight === 0) {
      self.__setDimensions(parseFloat(getComputedStyle$1(component, 'height'), 10), 204)
    }
    self.select(self.options.defaultValue, false)

    const touchStartHandler = function(e) {
      if (e.target.tagName.match(/input|textarea|select/i)) {
        return
      }
      e.preventDefault()
      self.__doTouchStart(e, e.timeStamp)
    }

    const touchMoveHandler = function(e) {
      self.__doTouchMove(e, e.timeStamp)
    }

    const touchEndHandler = function(e) {
      self.__doTouchEnd(e.timeStamp)
    }

    const willPreventDefault = passiveSupported ? { passive: false } : false
    const willNotPreventDefault = passiveSupported ? { passive: true } : false

    component.addEventListener('touchstart', touchStartHandler, willPreventDefault)
    component.addEventListener('mousedown', touchStartHandler, willPreventDefault)

    component.addEventListener('touchmove', touchMoveHandler, willNotPreventDefault)
    component.addEventListener('mousemove', touchMoveHandler, willNotPreventDefault)

    component.addEventListener('touchend', touchEndHandler, willNotPreventDefault)
    component.addEventListener('mouseup', touchEndHandler, willNotPreventDefault)
  }

  const members = {
    value: null,
    __prevValue: null,
    __isSingleTouch: false,
    __isTracking: false,
    __didDecelerationComplete: false,
    __isGesturing: false,
    __isDragging: false,
    __isDecelerating: false,
    __isAnimating: false,
    __clientTop: 0,
    __clientHeight: 0,
    __contentHeight: 0,
    __itemHeight: 0,
    __scrollTop: 0,
    __minScrollTop: 0,
    __maxScrollTop: 0,
    __scheduledTop: 0,
    __lastTouchTop: null,
    __lastTouchMove: null,
    __positions: null,
    __minDecelerationScrollTop: null,
    __maxDecelerationScrollTop: null,
    __decelerationVelocityY: null,

    __setDimensions(clientHeight, contentHeight) {
      const self = this

      self.__clientHeight = clientHeight
      self.__contentHeight = contentHeight

      const totalItemCount = self.options.data.length
      const clientItemCount = Math.round(self.__clientHeight / self.__itemHeight)

      self.__minScrollTop = -self.__itemHeight * (clientItemCount / 2)
      self.__maxScrollTop = self.__minScrollTop + totalItemCount * self.__itemHeight - 0.1
    },

    selectByIndex(index, animate) {
      const self = this
      if (index < 0 || index > self.__content.childElementCount - 1) {
        return
      }
      self.__scrollTop = self.__minScrollTop + index * self.__itemHeight

      self.scrollTo(self.__scrollTop, animate)

      self.__selectItem(self.__content.children[index])
    },

    select(value, animate) {
      const self = this

      const children = self.__content.children
      for (let i = 0, len = children.length; i < len; i++) {
        if (decodeURI(JSON.parse(children[i].dataset.value).value) === value) {
          self.selectByIndex(i, animate)
          return
        }
      }

      self.selectByIndex(0, animate)
    },

    getValue() {
      return this.value
    },

    scrollTo(top, animate$1) {
      const self = this

      animate$1 = animate$1 === undefined ? true : animate$1

      if (self.__isDecelerating) {
        animate.stop(self.__isDecelerating)
        self.__isDecelerating = false
      }

      top = Math.round((top / self.__itemHeight).toFixed(5)) * self.__itemHeight
      top = Math.max(Math.min(self.__maxScrollTop, top), self.__minScrollTop)

      if (top === self.__scrollTop || !animate$1) {
        self.__publish(top)
        self.__scrollingComplete()
        return
      }
      self.__publish(top, 250)
    },

    destroy() {
      this.__component.parentNode && this.__component.parentNode.removeChild(this.__component)
    },

    __selectItem(selectedItem) {
      const self = this

      const selectedItemClass = self.options.itemClass + '-selected'
      const lastSelectedElem = self.__content.querySelector('.' + selectedItemClass)
      if (lastSelectedElem) {
        lastSelectedElem.classList.remove(selectedItemClass)
      }
      selectedItem.classList.add(selectedItemClass)

      if (self.value !== null) {
        self.__prevValue = self.value
      }

      self.value = decodeURI(JSON.parse(selectedItem.dataset.value).value)
    },

    __scrollingComplete() {
      const self = this

      const index = Math.round(
        (self.__scrollTop - self.__minScrollTop - self.__itemHeight / 2) / self.__itemHeight
      )

      self.__selectItem(self.__content.children[index])

      if (self.__prevValue !== null && self.__prevValue !== self.value) {
        // self.options.onSelect(self.value)
        self.options.onSelect({ value: self.value, index: index })
      }
    },

    __doTouchStart(ev, timeStamp) {
      const touches = ev.touches
      const self = this
      const target = ev.touches ? ev.touches[0] : ev
      const isMobile = !!ev.touches

      if (ev.touches && touches.length == null) {
        throw new Error('Invalid touch list: ' + touches)
      }
      if (timeStamp instanceof Date) {
        timeStamp = timeStamp.valueOf()
      }
      if (typeof timeStamp !== 'number') {
        throw new Error('Invalid timestamp value: ' + timeStamp)
      }

      self.__interruptedAnimation = true

      if (self.__isDecelerating) {
        animate.stop(self.__isDecelerating)
        self.__isDecelerating = false
        self.__interruptedAnimation = true
      }

      if (self.__isAnimating) {
        animate.stop(self.__isAnimating)
        self.__isAnimating = false
        self.__interruptedAnimation = true
      }

      // Use center point when dealing with two fingers
      let currentTouchTop
      const isSingleTouch = (isMobile && touches.length === 1) || !isMobile
      if (isSingleTouch) {
        currentTouchTop = target.pageY
      } else {
        currentTouchTop = Math.abs(target.pageY + touches[1].pageY) / 2
      }

      self.__initialTouchTop = currentTouchTop
      self.__lastTouchTop = currentTouchTop
      self.__lastTouchMove = timeStamp
      self.__lastScale = 1
      self.__enableScrollY = !isSingleTouch
      self.__isTracking = true
      self.__didDecelerationComplete = false
      self.__isDragging = !isSingleTouch
      self.__isSingleTouch = isSingleTouch
      self.__positions = []
    },

    __doTouchMove(ev, timeStamp, scale) {
      const self = this
      const touches = ev.touches
      const target = ev.touches ? ev.touches[0] : ev
      const isMobile = !!ev.touches

      if (touches && touches.length == null) {
        throw new Error('Invalid touch list: ' + touches)
      }
      if (timeStamp instanceof Date) {
        timeStamp = timeStamp.valueOf()
      }
      if (typeof timeStamp !== 'number') {
        throw new Error('Invalid timestamp value: ' + timeStamp)
      }

      // Ignore event when tracking is not enabled (event might be outside of element)
      if (!self.__isTracking) {
        return
      }

      let currentTouchTop

      // Compute move based around of center of fingers
      if (isMobile && touches.length === 2) {
        currentTouchTop = Math.abs(target.pageY + touches[1].pageY) / 2
      } else {
        currentTouchTop = target.pageY
      }

      const positions = self.__positions

      // Are we already is dragging mode?
      if (self.__isDragging) {
        const moveY = currentTouchTop - self.__lastTouchTop
        let scrollTop = self.__scrollTop

        if (self.__enableScrollY) {
          scrollTop -= moveY

          const minScrollTop = self.__minScrollTop
          const maxScrollTop = self.__maxScrollTop

          if (scrollTop > maxScrollTop || scrollTop < minScrollTop) {
            // Slow down on the edges
            if (scrollTop > maxScrollTop) {
              scrollTop = maxScrollTop
            } else {
              scrollTop = minScrollTop
            }
          }
        }

        // Keep list from growing infinitely (holding min 10, max 20 measure points)
        if (positions.length > 40) {
          positions.splice(0, 20)
        }

        // Track scroll movement for decleration
        positions.push(scrollTop, timeStamp)

        // Sync scroll position
        self.__publish(scrollTop)

        // Otherwise figure out whether we are switching into dragging mode now.
      } else {
        const minimumTrackingForScroll = 0
        const minimumTrackingForDrag = 5

        const distanceY = Math.abs(currentTouchTop - self.__initialTouchTop)

        self.__enableScrollY = distanceY >= minimumTrackingForScroll

        positions.push(self.__scrollTop, timeStamp)

        self.__isDragging = self.__enableScrollY && distanceY >= minimumTrackingForDrag

        if (self.__isDragging) {
          self.__interruptedAnimation = false
        }
      }

      // Update last touch positions and time stamp for next event
      self.__lastTouchTop = currentTouchTop
      self.__lastTouchMove = timeStamp
      self.__lastScale = scale
    },

    __doTouchEnd(timeStamp) {
      const self = this

      if (timeStamp instanceof Date) {
        timeStamp = timeStamp.valueOf()
      }
      if (typeof timeStamp !== 'number') {
        throw new Error('Invalid timestamp value: ' + timeStamp)
      }

      // Ignore event when tracking is not enabled (no touchstart event on element)
      // This is required as this listener ('touchmove') sits on the document and not on the element itself.
      if (!self.__isTracking) {
        return
      }

      // Not touching anymore (when two finger hit the screen there are two touch end events)
      self.__isTracking = false

      // Be sure to reset the dragging flag now. Here we also detect whether
      // the finger has moved fast enough to switch into a deceleration animation.
      if (self.__isDragging) {
        // Reset dragging flag
        self.__isDragging = false

        // Start deceleration
        // Verify that the last move detected was in some relevant time frame
        if (self.__isSingleTouch && timeStamp - self.__lastTouchMove <= 100) {
          // Then figure out what the scroll position was about 100ms ago
          const positions = self.__positions
          const endPos = positions.length - 1
          let startPos = endPos

          // Move pointer to position measured 100ms ago
          for (let i = endPos; i > 0 && positions[i] > self.__lastTouchMove - 100; i -= 2) {
            startPos = i
          }

          // If start and stop position is identical in a 100ms timeframe,
          // we cannot compute any useful deceleration.
          if (startPos !== endPos) {
            // Compute relative movement between these two points
            const timeOffset = positions[endPos] - positions[startPos]
            const movedTop = self.__scrollTop - positions[startPos - 1]

            // Based on 50ms compute the movement to apply for each render step
            self.__decelerationVelocityY = (movedTop / timeOffset) * (1000 / 60)

            // How much velocity is required to start the deceleration
            const minVelocityToStartDeceleration = 4

            // Verify that we have enough velocity to start deceleration
            if (Math.abs(self.__decelerationVelocityY) > minVelocityToStartDeceleration) {
              self.__startDeceleration(timeStamp)
            }
          }
        }
      }

      if (!self.__isDecelerating) {
        self.scrollTo(self.__scrollTop)
      }

      // Fully cleanup list
      self.__positions.length = 0
    },

    // Applies the scroll position to the content element
    __publish(top, animationDuration) {
      const self = this

      // Remember whether we had an animation, then we try to continue based on the current "drive" of the animation
      const wasAnimating = self.__isAnimating
      if (wasAnimating) {
        animate.stop(wasAnimating)
        self.__isAnimating = false
      }

      if (animationDuration) {
        // Keep scheduled positions for scrollBy functionality
        self.__scheduledTop = top

        const oldTop = self.__scrollTop
        const diffTop = top - oldTop

        const step = function(percent, now, render) {
          self.__scrollTop = oldTop + diffTop * percent
          // Push values out
          if (self.__callback) {
            self.__callback(self.__scrollTop)
          }
        }

        const verify = function(id) {
          return self.__isAnimating === id
        }

        const completed = function(renderedFramesPerSecond, animationId, wasFinished) {
          if (animationId === self.__isAnimating) {
            self.__isAnimating = false
          }
          if (self.__didDecelerationComplete || wasFinished) {
            self.__scrollingComplete()
          }
        }

        // When continuing based on previous animation we choose an ease-out animation instead of ease-in-out
        self.__isAnimating = animate.start(
          step,
          verify,
          completed,
          animationDuration,
          wasAnimating ? easeOutCubic : easeInOutCubic
        )
      } else {
        self.__scheduledTop = self.__scrollTop = top
        // Push values out
        if (self.__callback) {
          self.__callback(top)
        }
      }
    },

    // Called when a touch sequence end and the speed of the finger was high enough to switch into deceleration mode.
    __startDeceleration(timeStamp) {
      const self = this

      self.__minDecelerationScrollTop = self.__minScrollTop
      self.__maxDecelerationScrollTop = self.__maxScrollTop

      // Wrap class method
      const step = function(percent, now, render) {
        self.__stepThroughDeceleration(render)
      }

      // How much velocity is required to keep the deceleration running
      const minVelocityToKeepDecelerating = 0.5

      // Detect whether it's still worth to continue animating steps
      // If we are already slow enough to not being user perceivable anymore, we stop the whole process here.
      const verify = function() {
        const shouldContinue =
          Math.abs(self.__decelerationVelocityY) >= minVelocityToKeepDecelerating
        if (!shouldContinue) {
          self.__didDecelerationComplete = true
        }
        return shouldContinue
      }

      const completed = function(renderedFramesPerSecond, animationId, wasFinished) {
        self.__isDecelerating = false
        if (self.__scrollTop <= self.__minScrollTop || self.__scrollTop >= self.__maxScrollTop) {
          self.scrollTo(self.__scrollTop)
          return
        }
        if (self.__didDecelerationComplete) {
          self.__scrollingComplete()
        }
      }

      // Start animation and switch on flag
      self.__isDecelerating = animate.start(step, verify, completed)
    },

    // Called on every step of the animation
    __stepThroughDeceleration(render) {
      const self = this

      let scrollTop = self.__scrollTop + self.__decelerationVelocityY

      const scrollTopFixed = Math.max(
        Math.min(self.__maxDecelerationScrollTop, scrollTop),
        self.__minDecelerationScrollTop
      )
      if (scrollTopFixed !== scrollTop) {
        scrollTop = scrollTopFixed
        self.__decelerationVelocityY = 0
      }

      if (Math.abs(self.__decelerationVelocityY) <= 1) {
        if (Math.abs(scrollTop % self.__itemHeight) < 1) {
          self.__decelerationVelocityY = 0
        }
      } else {
        self.__decelerationVelocityY *= 0.95
      }

      self.__publish(scrollTop)
    }
  }

  // Copy over members to prototype
  for (const key in members) {
    Scroller.prototype[key] = members[key]
  }

  var css_248z$e =
    '.scroller-component{display:block;position:relative;height:3.786rem;overflow:hidden;width:100%}.scroller-content{z-index:1}.scroller-content,.scroller-mask{position:absolute;left:0;top:0;width:100%}.scroller-mask{height:100%;margin:0 auto;z-index:3;transform:translateZ(0);background-image:-webkit-linear-gradient(top,hsla(0,0%,100%,.95),hsla(0,0%,100%,.6)),-webkit-linear-gradient(bottom,hsla(0,0%,100%,.95),hsla(0,0%,100%,.6));background-image:linear-gradient(180deg,hsla(0,0%,100%,.95),hsla(0,0%,100%,.6)),linear-gradient(0deg,hsla(0,0%,100%,.95),hsla(0,0%,100%,.6));background-position:top,bottom;background-size:100% 1.36rem;background-repeat:no-repeat}.scroller-item{text-align:center;font-size:.427rem;height:1.12rem;line-height:1.12rem;color:#000}.scroller-indicator{width:100%;height:1.12rem;position:absolute;left:0;top:1.12rem;z-index:3;background-image:-webkit-linear-gradient(top,#ccc,#ccc,transparent,transparent),-webkit-linear-gradient(bottom,#ccc,#ccc,transparent,transparent);background-image:linear-gradient(180deg,#ccc,#ccc,transparent,transparent),linear-gradient(0deg,#ccc,#ccc,transparent,transparent);background-position:top,bottom;background-size:100% .08rem;background-repeat:no-repeat}.scroller-item{line-clamp:1;-webkit-line-clamp:1;overflow:hidden;text-overflow:ellipsis}'
  styleInject(css_248z$e)

  class TextPicker {
    constructor(options) {
      this.range = options.range || []
      this._default = options
      this.uid = options.uid
      this.DomUid = `flex-item-${options.uid}`
      this.scroller = [] // 每一列 scroller 实例对象集合
      this.columns = null // 含有多少列
      this.init()
    }

    init() {
      const pickerContainer = document.createElement('div')
      pickerContainer.classList.add('flex-box')
      pickerContainer.style.display = 'flex'
      pickerContainer.style.justifyContent = 'center'
      pickerContainer.style.alignItems = 'center'
      pickerContainer.style.width = '100%'
      this.pickerContainer = pickerContainer
      const dialog = new Dialog$1(this.uid)
      dialog.addContent(pickerContainer, this)
      this.dealArray(this._default)
      this.extendDialog(dialog)
      this.dialog = dialog
    }

    getId(id) {
      return `#${this.DomUid}-${id}`
    }

    getColumn(id) {
      document.getElementById(this.getId(id))
    }

    removeColumn(id) {
      this.pickerContainer.removeChild(document.getElementById(this.getId(id)))
    }

    dealArray(options) {
      // 判断是否为多维数组
      const range = options.range
      const isSingleArray = range.some(
        item => Object.prototype.toString.call(item) !== '[object Array]'
      )
      if (isSingleArray) {
        // 一维数组
        // 防止意外，要将每一项值格式化成字符串
        this.columns = []
        this.columns.push(
          range.map(item => (typeof item !== 'string' ? JSON.stringify(item) : item))
        )

        this.selected = this.selected || options.selected || 0 // 选中的下标
        this.scrollerResult = { value: this.columns[0][this.selected], index: this.selected } // 选中的值
        this.selectedValue = options.value || this.columns[0][this.selected]
      } else {
        // TODO: 遍历子数组每一项，格式化成字符串
        this.columns = range
        const length = this.columns.length
        let resultIndex
        if (this.scrollerResult) {
          // 联动，更新range的情况
          // 这一步是为了适配联动的时候，更新整个range，但前面滑动过的选中列要保持不变
          resultIndex = this.scrollerResult.index.map((item, index) => {
            if (index > this.lastChangeColumn) {
              return 0
            }
            return item
          })

          // 还有可能增减了列数的情况
          // 更新默认选中结果
          if (resultIndex.length > length) {
            // 减少
            resultIndex.splice(length)
            this.scrollerResult.value.splice(length)
            this.scrollerResult.index.splice(length)
          } else if (resultIndex.length < length) {
            // 增加
            const fillArray = Array(length - resultIndex.length).fill(0)
            resultIndex = resultIndex.concat(fillArray)
          }
        } else {
          this.scrollerResult = { value: [], index: [] }
        }

        this.selected = resultIndex || options.selected || Array(length).fill(0)
        const selected = this.selected
        this.selectedValue = []
        range.forEach((item, index) => {
          this.scrollerResult.value[index] = item[selected[index]]
          this.scrollerResult.index[index] = selected[index]
          this.selectedValue[index] = item[selected[index]]
        })
      }
      this.createColumns()
    }

    createColumns() {
      const columns = this.columns
      let id = 0
      const fragment = document.createDocumentFragment()
      for (let i = 0, len = columns.length; i < len; i++) {
        const column = document.createElement('div')
        column.style.flex = '1'
        column.setAttribute('id', `${this.DomUid}-${id++}`)
        fragment.appendChild(column)
      }
      this.pickerContainer.innerHTML = ''
      this.pickerContainer.appendChild(fragment)
    }

    extendDialog(dialog) {
      const that = this
      const len = that.columns.length
      dialog.afterShow = function() {
        that.initScroll()
      }

      dialog.afterClose = function() {
        for (let i = 0; i < len; i++) {
          that.scroller[i] && that.scroller[i].destroy()
          that.scroller[i] = null
        }
      }
    }

    updateData(options) {
      this.dealArray(options)
      this.initScroll()
    }

    initScroll() {
      const that = this
      const columns = that.columns
      const len = that.columns.length
      // 区分一维与多维数组的处理
      if (len === 1) {
        const i = 0
        if (!document.querySelector(that.getId(i))) {
          return
        }
        that.scroller[i] && that.scroller[i].destroy()
        that.scroller[i] = new Scroller(that.getId(i), {
          data: columns[i],
          defaultValue: that.selectedValue,
          onSelect(res) {
            that.scrollerResult = res
            that.selectedValue = res.value
          }
        })
      } else {
        for (let i = 0; i < len; i++) {
          if (!document.querySelector(that.getId(i))) {
            return
          }
          that.scroller[i] && that.scroller[i].destroy()
          that.scroller[i] = new Scroller(that.getId(i), {
            data: columns[i],
            defaultValue: that.selectedValue[i],
            onSelect(res) {
              // 触发 columnchange 函数
              that.scrollerResult.value[i] = res.value
              that.scrollerResult.index[i] = res.index
              that.selectedValue[i] = res.value
              that.scrollerResult.lastChangeColumn = i // 需要标记最后滑动的列
              that.onSelect({ column: i, value: res.value, index: res.index })
            }
          })
        }
      }
    }

    show() {
      this.dialog.show()
    }

    yes() {}

    cancel() {}
  }

  var css_248z$f =
    '.hap-picker{position:fixed;z-index:1000;top:0;left:0;width:100%;height:100%}.hap-picker .picker-mask{position:absolute;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.46)}@-webkit-keyframes pickerShow{0%{opacity:0}to{opacity:1}}@keyframes pickerShow{0%{opacity:0}to{opacity:1}}.hap-picker.time-picker-ani{-webkit-animation:pickerShow .2s linear;animation:pickerShow .2s linear}.picker-container{position:absolute;top:12%;left:12%;-webkit-transform:translate(-6%,-6%);transform:translate(-6%,-6%);width:86%;opacity:1;font-family:PingFang SC,HanHei SC,Helvetica Neue,Helvetica,sans-serif;line-height:1.5;background-color:#fff;box-shadow:0 .067rem .24rem rgba(101,83,83,.8);-webkit-tap-highlight-color:transparent;-webkit-user-select:none;user-select:none}.picker-container i{font-style:normal}.picker-container [data-active]{position:relative}.picker-container .picker-disabled.active:after,.picker-container [data-active]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-image:-webkit-radial-gradient(circle,#000 10%,transparent 10.01%);background-image:-o-radial-gradient(circle,#000 10%,transparent 10.01%);background-image:radial-gradient(circle,#000 10%,transparent 10.01%);background-repeat:no-repeat;background-position:50%;pointer-events:none;-webkit-background-size:0 0;background-size:0 0;opacity:0;-webkit-transition:background .5s,opacity 1s;transition:background .5s,opacity 1s}.picker-container .active:after{-webkit-background-size:1000% 1000%;background-size:1000% 1000%;opacity:.2}.picker-container .picker-disabled{color:#d6d6d6}.picker-head{padding:.346rem .56rem;line-height:1.5;color:#ececec;background-color:#429488}.picker-head-active{color:#fff}.picker-year{font-size:.493rem;width:4em;color:#b4e4e0}.picker-date{font-size:.84rem;text-indent:-.027rem}.picker-content{box-sizing:border-box;position:relative;overflow:hidden;height:8.467rem;margin:.347rem .56rem;font-size:.347rem;color:rgba(0,0,0,.8)}.picker-content li,.picker-content ul{list-style:none;margin:0;padding:0}.date-picker-main{width:100%;-webkit-transform:translateX(-100%) translateZ(0);transform:translateX(-100%) translateZ(0)}.date-picker-main:after{content:"";display:table;clear:both}.scroller-picker-main{position:relative;text-align:center}.scroller-picker-main li{padding:.133rem 0;overflow:hidden}.scroller-picker-main .picker-active{color:#4b968d}.scroller-picker-midd{position:absolute;top:50%;width:100%;height:.533rem;margin-top:-.267rem;-webkit-box-sizing:border-box;box-sizing:border-box}.scroller-picker-midd:after,.scroller-picker-midd:before{content:"";position:absolute;left:0;width:100%;border-top:1px solid #e2e3e5}.scroller-picker-midd:before{top:0;-webkit-transform:scaleY(.5) translateZ(0);-webkit-transform-origin:left top;transform-origin:left top;transform:scaleY(.5) translateZ(0)}.scroller-picker-midd:after{bottom:0;-webkit-transform:scaleY(.5) translateZ(0);-webkit-transform-origin:left bottom;transform-origin:left bottom;transform:scaleY(.5) translateZ(0)}.picker-actions-arrow{z-index:1;position:absolute;top:0;left:.107rem;right:.107rem;font-size:.494rem;line-height:1.12rem}.picker-actions-arrow i{cursor:pointer;float:left;padding:.213rem .186rem}.picker-actions-arrow i:last-child{float:right}.picker-actions-arrow i[data-active]:after{height:.56rem;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);border-radius:50%}.picker-bdy{float:left;width:100%;padding:0 .107rem;margin-right:-100%;position:relative;-webkit-box-sizing:border-box;box-sizing:border-box}.picker-bdy-curr{left:100%}.picker-bdy-next{left:200%}.date-picker-title{text-align:center;padding:.613rem .213rem;font-size:.373rem;line-height:.373rem}.date-picker-days i{position:relative;width:14.28%;height:.373rem;padding:.28rem 0;text-align:center;display:inline-block;line-height:1;vertical-align:top;cursor:pointer;overflow:hidden}.date-picker-days i[data-active]:after{width:.32rem;left:50%;-webkit-transform:translate(-50%);transform:translate(-50%);border-radius:50%}.date-picker-days-bdy i span{position:relative}.date-picker-days-bdy i:before{content:"";left:50%;top:50%;width:0;height:0;position:absolute;border-radius:50%;background-color:#429488;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.picker-bdy-curr .date-picker-days-bdy i.picker-active{color:#fff}.picker-bdy-curr .date-picker-days-bdy i.picker-active:before{width:.853rem;height:.853rem}.date-picker-days-bdy .picker-now{color:#4b968d}.date-picker-days-title{font-size:.373rem;color:#626262}.date-picker-days-bdy i[data-val="0"]{color:transparent}.date-picker-days-bdy i[data-val="0"]:before{content:none}.picker-foot{padding:.347rem .56rem;text-align:right;color:#393939}.picker-act{padding:.067rem .333rem;margin-left:.133rem;text-decoration:none;display:inline-block;font-size:.373rem;color:#4b968d;background-color:transparent;border-radius:.027rem;-webkit-transition:background-color .2s linear;transition:background-color .2s linear}.picker-act:hover{background-color:hsla(0,0%,60%,.2)}.picker-act-clear{margin-left:0;float:left}.time-picker-container{top:18%;transform:translate(-6%,-9%)}.time-picker-container .picker-content{height:6.667rem}.time-picker-container .picker-head{text-align:center;font-size:1.32rem;font-weight:300;padding-top:.08rem;padding-bottom:.08rem}.time-picker-container .picker-cell{margin-left:-.267rem}.time-picker-container .picker-cell[data-active]:after{width:.4rem;height:.4rem;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);border-radius:50%}.time-picker-container .picker-active{z-index:1;color:#fff;pointer-events:none}.time-picker-container .picker-active b{position:absolute;left:50%;top:50%;margin-top:-1px;margin-left:-1px;width:.027rem;height:.027rem;background-color:#fff;border-radius:50%}.time-picker-main{position:absolute;top:50%;left:50%;height:6.467rem;width:6.467rem;-webkit-transform:translate3d(-50%,-50%,0);transform:translate3d(-50%,-50%,0);border-radius:50%;background-color:rgba(0,0,0,.05)}.time-picker-main>ul{position:absolute;top:1px;right:1px;bottom:1px;left:1px}.time-picker-main:before{content:"";position:absolute;top:50%;left:50%;width:.173rem;height:.173rem;border-radius:50%;background-color:#007467;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.time-picker-minutes-1 .picker-cell{width:.08rem;margin-left:-.04rem;-webkit-transform-origin:50% 3.013rem;transform-origin:50% 3.013rem}.time-picker-minutes-1 .picker-cell i{margin-top:-.04rem}.time-picker-minutes-1 .picker-active b{margin-top:-.053rem}.time-picker-minutes-10 .picker-cell{width:1.067rem;margin-left:-.533rem}.picker-hour,.picker-minute{display:inline-block;font-weight:400}.picker-hour[data-active]:after,.picker-minute[data-active]:after{height:.613rem;top:.067rem}.picker-hour{text-align:right}.picker-minute{text-align:left}.picker-cell{position:absolute!important;top:.16rem;left:50%;width:.48rem;height:.787rem;-webkit-transform-origin:.267rem 3.013rem;transform-origin:.267rem 3.013rem;-webkit-transition:all .2s;transition:all .2s}.picker-cell i{position:absolute;top:50%;left:50%;pointer-events:none}.picker-cell-inner{top:1.387rem;width:.533rem;height:.533rem;-webkit-transform-origin:.267rem 1.8rem;transform-origin:.267rem 1.8rem;color:#676767}.time-picker-line{position:absolute;top:50%;left:50%;width:2.093rem;height:.04rem;margin-top:-.027rem;pointer-events:none;background-color:#007467;-webkit-transform-origin:0 50%;transform-origin:0 50%}.time-picker-line:before{content:"";position:absolute;left:100%;top:0;margin-top:-.52rem;width:1.067rem;height:1.067rem;background-color:#007467;border-radius:50%}.time-picker-line-inner{width:1.027rem}'
  styleInject(css_248z$f)

  /**
   * https://github.com/dolymood/date-time-picker
   * author: dolymood
   * MIT license
   */
  /* eslint-disable */
  var _typeof =
    typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol'
      ? function(obj) {
          return typeof obj
        }
      : function(obj) {
          return obj &&
            typeof Symbol === 'function' &&
            obj.constructor === Symbol &&
            obj !== Symbol.prototype
            ? 'symbol'
            : typeof obj
        }

  var prot = Object.prototype

  function typeEqual(obj, type) {
    return prot.toString.call(obj) === '[object ' + type + ']'
  }

  function isFn(obj) {
    return typeEqual(obj, 'Function')
  }

  function isStr(obj) {
    return typeEqual(obj, 'String')
  }

  function isNum(obj) {
    return typeEqual(obj, 'Number')
  }

  function isObj(obj) {
    return typeEqual(obj, 'Object')
  }

  function isArray$1(obj) {
    return Array.isArray ? Array.isArray(obj) : typeEqual(obj, 'Array')
  }

  function isUndefined(obj) {
    return typeof obj === 'undefined'
  }

  function isDate(obj) {
    return typeEqual(obj, 'Date')
  }

  function each(obj, fn, context) {
    if (!obj || !isFn(fn)) {
      return
    }
    context = context || obj

    if (obj.length) {
      var i = 0
      var l = obj.length
      for (; i < l; i++) {
        if (fn.call(context, obj[i], i, obj) === false) {
          return
        }
      }
    } else if (isObj(obj)) {
      for (var n in obj) {
        if (fn.call(context, obj[n], n, obj) === false) {
          return
        }
      }
    }
  }

  function noop() {}

  function isPlainObject$2(obj) {
    if (!obj || !isObj(obj)) {
      return false
    }
    return 'isPrototypeOf' in obj
  }

  function extend$3() {
    var target = arguments[0] || {}
    var i = 1
    var length = arguments.length
    var deep = false
    var options
    var name
    var src
    var copy

    if (typeof arguments[0] === 'boolean') {
      deep = target
      target = arguments[1] || {}
      i = 2
    }
    if (
      (typeof target === 'undefined' ? 'undefined' : _typeof(target)) !== 'object' &&
      !isFn(target)
    ) {
      target = {}
    }
    for (; i < length; i++) {
      if ((options = arguments[i]) != null) {
        for (name in options) {
          src = target[name]
          copy = options[name]
          if (target === copy) {
            continue
          }
          if (deep && copy && (isPlainObject$2(copy) || isArray$1(copy))) {
            var clone =
              src && (isPlainObject$2(src) || isArray$1(src)) ? src : isArray$1(copy) ? [] : {}
            target[name] = extend$3(deep, clone, copy)
          } else if (copy !== undefined) {
            target[name] = copy
          }
        }
      }
    }
    return target
  }

  function pad(val, len, cut) {
    if (len < 1) {
      return ''
    }
    if (typeof cut === 'undefined') {
      cut = true
    }
    val = '' + val
    var i = 0
    while (i < len) {
      val = '0' + val
      i += 1
    }
    i = val.length - len
    return val.substring(cut ? i : i > 0 ? len : i)
  }

  function set2Null(array, that) {
    array.forEach(function(v) {
      that[v] = null
    })
  }

  var require$$0 = Object.freeze({
    isFn: isFn,
    isStr: isStr,
    isNum: isNum,
    isObj: isObj,
    isArray: isArray$1,
    isDate: isDate,
    isUndefined: isUndefined,

    each: each,
    noop: noop,
    extend: extend$3,
    pad: pad,
    set2Null: set2Null
  })

  var pad$1 = require$$0.pad

  var rrg = /(?:\b|%)([dDMyHhaAmsz]+|ap|AP)(?:\b|%)/g
  var PARTS = {
    d: '([0-9][0-9]?)',
    dd: '([0-9][0-9])',
    M: '([0-9][0-9]?)',
    MM: '([0-9][0-9])',
    yyyy: '([0-9][0-9][0-9][0-9])',
    yyy: '([0-9][0-9])[y]',
    yy: '([0-9][0-9])',
    H: '([0-9][0-9]?)',
    hh: '([0-9][0-9])',
    h: '([0-9][0-9]?)',
    HH: '([0-9][0-9])',
    m: '([0-9][0-9]?)',
    mm: '([0-9][0-9])',
    s: '([0-9][0-9]?)',
    ss: '([0-9][0-9])',
    z: '([0-9][0-9]?[0-9]?)',
    zz: '([0-9][0-9]?[0-9]?)[z]',
    zzz: '([0-9][0-9][0-9])',
    ap: '([ap][m])',
    a: '([ap][m])',
    AP: '([AP][M])',
    A: '([AP][M])',
    '%': ''
  }

  function format$1(date, format) {
    var parts = {}
    var isAmPm = format.indexOf('a') !== -1 || format.indexOf('A') !== -1
    var temp

    parts['d'] = date.getDate()
    parts['dd'] = pad$1(parts['d'], 2)
    temp = date.getDay()
    parts['D'] = temp
    parts['DD'] = temp
    parts['M'] = date.getMonth() + 1
    temp = parts['M']
    parts['MM'] = pad$1(temp, 2)
    parts['yyyy'] = date.getFullYear()
    temp = parts['yyyy']
    parts['yyy'] = pad$1(temp, 2) + 'y'
    parts['yy'] = pad$1(temp, 2)
    parts['y'] = 'y'
    parts['H'] = date.getHours()
    temp = parts['H']
    parts['hh'] = pad$1(isAmPm ? convertTo12Hour(temp) : temp, 2)
    parts['h'] = isAmPm ? convertTo12Hour(temp) : temp
    parts['HH'] = pad$1(temp, 2)
    temp = parts['H'] < 12
    parts['ap'] = temp ? 'am' : 'pm'
    parts['a'] = temp ? 'am' : 'pm'
    parts['AP'] = temp ? 'AM' : 'PM'
    parts['A'] = temp ? 'AM' : 'PM'
    parts['m'] = date.getMinutes()
    parts['mm'] = pad$1(parts['m'], 2)
    parts['s'] = date.getSeconds()
    parts['ss'] = pad$1(parts['s'], 2)
    parts['z'] = date.getMilliseconds()
    temp = parts['z']
    parts['zz'] = temp + 'z'
    parts['zzz'] = pad$1(temp, 3)

    return format.replace(rrg, function(match, $1) {
      var _ = parts[$1]
      return _ === undefined ? $1 : _
    })
  }

  function parse$2(strDate, format) {
    var parts = PARTS
    var regex = ''
    var i = 0
    var outputs = ['']
    var token = ''
    var tmp

    var ret = new Date()
    while (i < format.length) {
      token = format.charAt(i)
      while (i + 1 < format.length && parts[token + format.charAt(i + 1)] !== undefined) {
        token += format.charAt(++i)
      }
      if ((tmp = parts[token]) !== undefined) {
        if (tmp !== '') {
          regex += parts[token]
          outputs.push(token)
        }
      } else {
        regex += token
      }
      i++
    }
    regex = new RegExp(regex)
    var matches = strDate.match(regex)
    var len = outputs.length
    if (!matches || matches.length !== len) {
      return null
    }
    for (i = 0; i < len; i++) {
      if ((token = outputs[i]) !== '') {
        tmp = parseInt(matches[i], 10)
        switch (token) {
          case 'yyyy':
          case 'yyy':
            ret.setYear(tmp)
            break
          case 'yy':
            ret.setYear(2000 + tmp)
            break
          case 'MM':
          case 'M':
            ret.setMonth(tmp - 1)
            break
          case 'dd':
          case 'd':
            ret.setDate(tmp)
            break
          case 'hh':
          case 'h':
          case 'HH':
          case 'H':
            ret.setHours(tmp)
            break
          case 'mm':
          case 'm':
            ret.setMinutes(tmp)
            break
          case 'ss':
          case 's':
            ret.setSeconds(tmp)
            break
          case 'zzz':
          case 'zz':
          case 'z':
            ret.setMilliseconds(tmp)
            break
          case 'AP':
          case 'A':
          case 'ap':
          case 'a':
            ret.setHours(convertTo24Hour(ret.getHours(), matches[i]))
            break
        }
      }
    }
    return ret
  }

  var date$2 = {
    format: format$1,
    parse: parse$2
  }

  function convertTo12Hour(h) {
    return h % 12 === 0 ? 12 : h % 12
  }

  function convertTo24Hour(h, ap) {
    ap = ap.toLowerCase()
    h = parseInt(h, 10)
    return ap === 'pm' ? (h < 12 ? h + 12 : h) : h === 12 ? 0 : h
  }

  function toDate(date) {
    if (date instanceof Date) {
      return new Date(date.getTime())
    }
    date = new Date(date)
    if (isNaN(date.getTime())) {
      return null
    }
    return date
  }

  var defFormat = 'yyyy-MM-dd'
  function formatDate(date, format) {
    date = toDate(date)
    if (!date) {
      return ''
    }
    return date$2.format(date, format || defFormat)
  }
  function parseDate(strDate, format) {
    return date$2.parse(strDate, format || defFormat)
  }

  function getDaysInMonth(year, month) {
    var m30s = [3, 5, 8, 10]
    if (~m30s.indexOf(month)) {
      return 30
    }
    if (month === 1) {
      // 2
      if ((year % 4 === 0 && year % 100 !== 0) || year % 400 === 0) {
        return 29
      } else {
        return 28
      }
    }
    return 31
  }
  function getDaysInMonthOfDate(date) {
    if (date.getDaysInMonth) {
      return date.getDaysInMonth()
    }
    return getDaysInMonth(date.getFullYear(), date.getMonth())
  }
  function getFirstDayOfMonth(date) {
    date = new Date(date.getTime())
    date.setDate(1)
    return date.getDay()
  }
  var DAY_SECONDS = 24 * 60 * 60 * 1000
  function getStartDateOfMonth(year, month) {
    var date = new Date(year, month, 1)
    var day = date.getDay()

    if (day === 0) {
      date.setTime(date.getTime() - DAY_SECONDS * 7)
    } else {
      date.setTime(date.getTime() - DAY_SECONDS * day)
    }
    return date
  }
  function getStartDateOfWeek(year, month, date) {
    date = new Date(year, month, date)
    var day = date.getDay()
    date.setTime(date.getTime() - DAY_SECONDS * day)
    return date
  }
  function getWeekNumber(date) {
    date = new Date(date.getTime())
    date.setHours(0, 0, 0, 0)
    date.setDate(date.getDate() + 3 - ((date.getDay() + 6) % 7))
    var firstWeek = new Date(date.getFullYear(), 0, 4)
    return (
      1 +
      Math.round(
        ((date.getTime() - firstWeek.getTime()) / DAY_SECONDS -
          3 +
          ((firstWeek.getDay() + 6) % 7)) /
          7
      )
    )
  }

  function prevMonth(date) {
    date = new Date(date.getTime())
    var year = date.getFullYear()
    var month = date.getMonth()
    var dDate = date.getDate()

    var newYear = month === 0 ? year - 1 : year
    var newMonth = month === 0 ? 11 : month - 1

    var newMonthDayCount = getDaysInMonth(newYear, newMonth)
    if (newMonthDayCount < dDate) {
      date.setDate(newMonthDayCount)
    }

    date.setMonth(newMonth)
    date.setFullYear(newYear)

    return date
  }
  function nextMonth(date) {
    date = new Date(date.getTime())
    var year = date.getFullYear()
    var month = date.getMonth()
    var dDate = date.getDate()

    var newYear = month === 11 ? year + 1 : year
    var newMonth = month === 11 ? 0 : month + 1

    var newMonthDayCount = getDaysInMonth(newYear, newMonth)
    if (newMonthDayCount < dDate) {
      date.setDate(newMonthDayCount)
    }

    date.setMonth(newMonth)
    date.setFullYear(newYear)

    return date
  }
  function prevDate(date) {
    var time = date.getTime()
    date = new Date(time)
    date.setTime(time - DAY_SECONDS)
    return date
  }
  function nextDate(date) {
    var time = date.getTime()
    date = new Date(time)
    date.setTime(time + DAY_SECONDS)
    return date
  }

  function date2Details(date) {
    return {
      year: date.getFullYear(),
      month: date.getMonth(),
      date: date.getDate(),
      day: date.getDay(),
      hours: date.getHours(),
      minutes: date.getMinutes()
    }
  }

  var date = {
    toDate: toDate,

    date2Details: date2Details,

    formatDate: formatDate,
    parseDate: parseDate,

    getDaysInMonth: getDaysInMonth,
    getDaysInMonthOfDate: getDaysInMonthOfDate,
    getFirstDayOfMonth: getFirstDayOfMonth,
    getStartDateOfMonth: getStartDateOfMonth,
    getStartDateOfWeek: getStartDateOfWeek,
    getWeekNumber: getWeekNumber,

    prevMonth: prevMonth,
    nextMonth: nextMonth,
    prevDate: prevDate,
    nextDate: nextDate
  }

  var prefixNames = {
    aniEnd: 'animationend',
    transform: 'transform'
  }

  var el = document.createElement('div')
  var eleStyle = el.style
  var verdors = ['a', 'webkitA', 'MozA', 'OA', 'msA']
  var endEvents = [
    'animationend',
    'webkitAnimationEnd',
    'animationend',
    'oAnimationEnd',
    'MSAnimationEnd'
  ]
  var transNames = ['transform', 'webkitTransform', 'MozTransform', 'OTransform', 'msTransform']
  var animation
  var i = 0
  var len = verdors.length
  for (; i < len; i++) {
    animation = verdors[i] + 'nimation'
    if (animation in eleStyle) {
      prefixNames.aniEnd = endEvents[i]
      prefixNames.transform = transNames[i]
    }
  }
  prefixNames.transitionEnd = prefixNames.aniEnd
    .replace('AnimationEnd', 'TransitionEnd')
    .replace('animationend', 'transitionend')

  var browser = {
    prefixNames: prefixNames
  }

  var each$1 = require$$0.each

  var doc$3 = document
  function createElement$1(tagName, props, attrs) {
    var ele = doc$3.createElement(tagName)
    if (props) {
      each$1(props, function(v, k) {
        ele[k] = v
      })
    }
    if (attrs) {
      each$1(attrs, function(v, k) {
        ele.setAttribute(k, v)
      })
    }
    return ele
  }
  var dom = {
    createElement: createElement$1
  }

  var utils$1 = require$$0.extend({}, require$$0, date, browser, dom)

  // 简单事件
  var Events = {
    on: function on(name, func) {
      if (!this._eventData) {
        this._eventData = {}
      }
      if (!this._eventData[name]) {
        this._eventData[name] = []
      }
      var listened = false
      utils$1.each(this._eventData[name], function(fuc) {
        if (fuc === func) {
          listened = true
          return false
        }
      })
      if (!listened) {
        this._eventData[name].push(func)
      }
      return this
    },

    once: function once(name, func) {
      var that = this
      var fuc = function fuc() {
        func.apply(this, arguments)
        that.off(name, fuc)
      }
      this.on(name, fuc)
      return this
    },

    off: function off(name, func) {
      if (!this._eventData) {
        this._eventData = {}
      }
      if (!this._eventData[name] || !this._eventData[name].length) {
        return this
      }
      if (func) {
        utils$1.each(this._eventData[name], function(fuc, i) {
          if (fuc === func) {
            this._eventData[name].splice(i, 1)
            return false
          }
        })
      } else {
        this._eventData[name] = []
      }
      return this
    },

    trigger: function trigger(name) {
      if (!this._eventData) {
        this._eventData = {}
      }
      if (!this._eventData[name]) {
        return this
      }
      var args = this._eventData[name].slice.call(arguments, 1)
      utils$1.each(this._eventData[name], function(fuc) {
        fuc.apply(null, args)
      })
      return this
    }
  }

  var events = Events

  var config$14 = {
    // century = many years
    C: {
      value: 'year',
      rows: function rows(dateTime) {
        var rows = []
        var minYear = dateTime.options.min.getFullYear()
        var maxYear = dateTime.options.max.getFullYear()
        var start = minYear
        while (start <= maxYear) {
          rows.push([start++])
        }
        return rows
      },
      input: 'setFullYear'
    },
    // year = many months
    Y: {
      value: 'month',
      rows: function rows(dateTime) {
        var rows = []
        var now = dateTime.now
        var nowYear = now.getFullYear()
        var minYear = dateTime.options.min.getFullYear()
        var minMonth = dateTime.options.min.getMonth()
        var maxYear = dateTime.options.max.getFullYear()
        var maxMonth = dateTime.options.max.getMonth()
        if (nowYear > minYear) {
          minMonth = 0
        }
        if (maxYear > nowYear) {
          maxMonth = 11
        }
        var start = minMonth
        while (start <= maxMonth) {
          rows.push([start++])
        }
        return rows
      },
      input: 'setMonth'
    },
    // month = many days
    M: {
      value: 'date',
      rows: function rows(dateTime) {
        var rows = []
        var now = dateTime.now
        var days = utils$1.getDaysInMonthOfDate(now)
        var start = 0
        var i = 1
        var firstDay = utils$1.getFirstDayOfMonth(dateTime.now)
        var row = null
        while (i <= days) {
          if (start % 7 === 0) {
            row = []
            rows.push(row)
          }
          row.push(start < firstDay ? 0 : i++)
          start++
        }
        return rows
      },
      input: 'setDate'
    },
    // week = one week (7 days)
    W: {
      value: 'date',
      rows: function rows(dateTime) {
        var rows = []
        var parsedNow = dateTime.parsedNow
        var startDate = utils$1.getStartDateOfWeek(parsedNow.year, parsedNow.month, parsedNow.date)
        var start = 1
        var row = []
        while (start++ <= 7) {
          row.push(startDate.getDate())
          startDate = utils$1.nextDate(startDate)
        }
        rows.push(row)
        return rows
      },
      input: function input(_input, dateTime) {
        var now = dateTime.now
        var parsedNow = dateTime.parsedNow
        var date = utils$1.toDate(now)
        var nowDate = parsedNow.date
        if (Math.abs(_input - nowDate) < 7) {
          date.setDate(_input)
        } else if (_input > nowDate) {
          // next month
          date.setDate(_input)
          date = utils$1.nextMonth(date)
        } else {
          // prev month
          date.setDate(_input)
          date = utils$1.prevMonth(date)
        }
        return date
      }
    },
    // day = many hours
    D: {
      value: 'hours',
      rows: function rows(dateTime) {
        var rows = []
        var minH = 0
        var maxH = 23
        var start = minH
        while (start <= maxH) {
          rows.push([start++])
        }
        return rows
      },
      input: 'setHours'
    },
    // hour = many minutes
    H: {
      value: 'minutes',
      rows: function rows(dateTime) {
        var rows = []
        var minM = 0
        var maxM = 59
        var start = minM
        while (start <= maxM) {
          rows.push([start++])
        }
        return rows
      },
      input: 'setMinutes'
    }
  }

  utils$1.each(config$14, function(conf) {
    var inputMethod = conf.input
    if (utils$1.isStr(inputMethod)) {
      conf.input = function(input, dateTime) {
        var now = dateTime.now
        var date = utils$1.toDate(now)
        date[inputMethod](input)
        return date
      }
    }
  })

  var current_date = null

  function DateTime(options) {
    this.options = utils$1.extend(
      {
        default: new Date(),
        type: 'M' // Y M W D H
      },
      options || {}
    )
    if (this.options.default === null) {
      this.options.default = new Date()
      current_date = new Date()
    }
    var now = utils$1.toDate(this.options.default)
    if (!now) {
      now = new Date()
    }
    this.updateNow(now)
  }

  utils$1.extend(
    DateTime.prototype,
    {
      updateNow: function updateNow(date) {
        if (date < this.options.min) {
          date = this.options.min
        }
        if (date > this.options.max) {
          date = this.options.max
        }
        this.now = new Date(date.getTime())
        this.parsedNow = utils$1.date2Details(this.now)
      },
      _getConf: function _getConf() {
        return config$14[this.options.type] || config$14['M']
      },
      getRows: function getRows() {
        var typeConfig = this._getConf()
        return typeConfig.rows(this)
      },
      getInputValue: function getInputValue(input) {
        var typeConfig = this._getConf()
        return typeConfig.input(input, this)
      },
      getLevelValue: function getLevelValue() {
        var typeConfig = this._getConf()
        return this.parsedNow[typeConfig.value]
      },
      destroy: function destroy() {
        this.now = null
        this.parsedNow = null
        this.options = null
      }
    },
    events
  )

  var datetime = DateTime

  var core = {
    DateTime: datetime,
    events: events,
    utils: utils$1
  }

  // require('./css/index.css')

  var src = {
    Core: core
  }

  var config$1$1 = {
    'zh-CN': {
      day: ['周日', '周一', '周二', '周三', '周四', '周五', '周六'],
      shortDay: ['日', '一', '二', '三', '四', '五', '六'],
      MDW: 'M月d日D',
      YM: 'yyyy年M月',
      OK: '确定',
      CANCEL: '取消',
      CLEAR: '清除'
    },
    EN: {
      day: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],
      shortDay: ['S', 'M', 'T', 'W', 'T', 'F', 'S'],
      MDW: 'D, MM-d',
      YM: 'yyyy-M',
      OK: 'OK',
      CANCEL: 'CANCEL',
      CLEAR: 'CLEAR'
    }
  }

  var typeMap$1 = {
    mousedown: 'touchstart',
    mousemove: 'touchmove',
    mouseup: 'touchend'
  }
  var supportTouch = 'ontouchstart' in window
  var EVENT_START = supportTouch ? 'touchstart' : 'mousedown'
  var EVENT_MOVE = supportTouch ? 'touchmove' : 'mousemove'
  var EVENT_END = supportTouch ? 'touchend' : 'mouseup'
  var EVENT_CANCEL = supportTouch ? 'touchcancel' : 'mouseup'

  function Picker(options, config) {
    this.container = document.body
    if (!options) {
      options = {}
    }

    this.lang = options.lang || 'EN'
    this.lang = options.lang
    this.destroyed = false
    var defConfig = config$1$1[this.lang]
    if (!defConfig) {
      defConfig = config$1$1['EN']
    }
    this.config = utils$1.extend(defConfig, config || {})

    this.options = options
    this.needDefFormat = !this.options.format
    this.init()
    this._setOptions()
    this._init()
  }

  var pickerPro = Picker.prototype
  Picker.extend = function(ChildFn, proto) {
    var F = function F() {}
    F.prototype = pickerPro
    ChildFn.prototype = new F()
    ChildFn.prototype.super = pickerPro
    ChildFn.prototype.constructor = ChildFn
    utils$1.extend(ChildFn.prototype, proto || {})
    return ChildFn
  }

  utils$1.extend(
    pickerPro,
    {
      _setOptions: function _setOptions() {
        var that = this
        var minMax = {
          min: new Date(1900, 0, 1, 0, 0, 0, 0),
          max: new Date(2100, 11, 31, 23, 59, 59, 999)
        }
        var keys = ['default', 'min', 'max']
        keys.forEach(function(key) {
          if (that.options.format && that.options[key] && utils$1.isStr(that.options[key])) {
            that.options[key] = utils$1.parseDate(that.options[key], that.options.format)
          } else if (minMax[key]) {
            that.options[key] = minMax[key]
          }
        })
      },
      setDateTime: function setDateTime(noRender) {
        this.dateTime = new datetime(this.options)
        this._setDateTime(noRender)
        if (noRender) {
          this.selfChange()
        } else {
          this.render()
          this.afterRender()
        }
      },
      setNow: function setNow(now) {
        this.options.default = now
        this.setDateTime()
      },
      _setDateTime: utils$1.noop,
      init: utils$1.noop,
      _init: function _init() {
        this._initEle()
        this.bindEvts()
        this.setDateTime()
      },
      _initEle: function _initEle() {
        var picker = utils$1.createElement('div', {
          className: 'hap-picker'
        })
        var mask = utils$1.createElement('div', {
          className: 'picker-mask'
        })
        mask.dataset.click = 'cancel'
        var el = utils$1.createElement('div', {
          className: 'picker-container'
        })
        this.rootEle = picker
        this.ele = el
        this._initHead()
        this._initContent()
        this._initFoot()
        this.initEle()
        this._handleAni()
        picker.appendChild(mask)
        picker.appendChild(el)
        this.container.appendChild(picker)
      },
      initEle: utils$1.noop,
      _initHead: function _initHead() {
        this.head = utils$1.createElement('div', {
          className: 'picker-head'
        })
        this.ele.appendChild(this.head)
      },
      _initContent: function _initContent() {
        this.content = utils$1.createElement(
          'div',
          {
            className: 'picker-content'
          },
          {
            'data-touchstart': '_start'
          }
        )
        this.ele.appendChild(this.content)
      },
      _initFoot: function _initFoot() {
        this.foot = utils$1.createElement('div', {
          className: 'picker-foot',
          innerHTML:
            '<a href="javascript:;" class="picker-act picker-act-cancel" data-active="active" data-click="cancel">' +
            this.config.CANCEL +
            '</a>' +
            '<a href="javascript:;" class="picker-act picker-act-ok" data-active="active" data-click="ok">' +
            this.config.OK +
            '</a>'
        })
        this.ele.appendChild(this.foot)
      },

      _handleAni: function _handleAni() {
        var ele = this.rootEle
        var ended = function ended() {
          ele.classList.remove('time-picker-ani')
          ele.removeEventListener(utils$1.prefixNames.aniEnd, ended, false)
        }
        ele.classList.add('time-picker-ani')
        ele.addEventListener(utils$1.prefixNames.aniEnd, ended, false)
      },

      _addEvt: function _addEvt(name) {
        this.rootEle.addEventListener(name, this, false)
      },
      _removeEvt: function _removeEvt(name) {
        this.rootEle.removeEventListener(name, this, false)
      },

      _stop: function _stop(e) {
        e.preventDefault()
        e.stopPropagation()
      },
      bindEvts: function bindEvts() {
        this._addEvt(EVENT_START)
        this._addEvt(EVENT_MOVE)
        this._addEvt(EVENT_END)
        this._addEvt(EVENT_CANCEL)
      },

      changeTo: function changeTo(v, noRender) {
        this.options.default = this.dateTime.getInputValue(v)
        this.setDateTime(noRender)
      },
      selV: function selV(e) {
        var target = e.realTarget
        var v = target.getAttribute('data-val') - 0
        if (!target.classList.contains('picker-disabled') && this.shouldSet(v)) {
          this._selV(v)
        }
      },
      _selV: function _selV(v) {
        this.changeTo(v, true)
      },
      shouldSet: function shouldSet(val) {
        return true
      },
      clear: function clear() {
        this.setNow()
        this.trigger('cleared')
        this.hide()
      },
      cancel: function cancel() {
        this.trigger('canceled')
        this.hide()
      },
      ok: function ok() {
        var formatValue = this.dateTime.now
        var format = this.options.format
        if (format) {
          formatValue = utils$1.formatDate(formatValue, format)
        }
        this.trigger('selected', formatValue, this.dateTime.now)
        current_date = this.options.default
        this.hide()
      },
      __activeStart: function __activeStart(e) {
        this.__activeEnd()
        var targetAction = this._getTargetAction(e, 'active')
        if (!targetAction.action) {
          return
        }
        this.activeTA = targetAction
        targetAction.target.classList.add(targetAction.action)
      },
      __activeEnd: function __activeEnd() {
        this.activeTA && this.activeTA.target.classList.remove(this.activeTA.action)
        this.activeTA = null
      },
      __touchstart: function __touchstart(e) {
        this.__activeStart(e)
        this.__start(e)
        var target = e.target
        var point = e.targetTouches[0]
        this.__s_x = point.pageX
        this.__s_y = point.pageY
        this.__startTime = e.timeStamp
        this.__target = target
      },
      __touchmove: function __touchmove(e) {
        this.__move(e)
        if (!this.__target) {
          return
        }
        var point = e.changedTouches[0]
        var b = 10
        if (
          this.__target !== e.target ||
          Math.abs(point.pageX - this.__s_x) > b ||
          Math.abs(point.pageY - this.__s_y) > b
        ) {
          this.__target = null
        }
      },
      __touchend: function __touchend(e) {
        this.__activeEnd(e)
        this.__end(e)
        // check click event
        if (!this.__target) {
          return
        }
        var t = e.timeStamp
        if (t - this.__lastTime < 200) {
          return
        }
        if (t - this.__startTime > 700) {
          return
        }
        var targetEle = this.__target
        this.__lastTime = t
        this.__target = null
        e.__target = targetEle
        e.__type = 'click'
      },
      __touchcancel: function __touchcancel(e) {
        this.__activeEnd(e)
        this.__end(e)
        this.__target = null
      },
      handleEvent: function handleEvent(e) {
        this._stop(e)
        var type = e.type
        if (typeMap$1[type]) {
          type = typeMap$1[type]
          e.__type = type
          e.touches = e.changedTouches = e.targetTouches = [e]
        }
        this['__' + type](e)
        this._handleEvent(e)
      },
      _getTargetAction: function _getTargetAction(e, type) {
        var target = e.__target || e.target
        var typeAttr = 'data-' + (type || e.__type || e.type)
        var action = ''
        while (target && target !== this.rootEle && !(action = target.getAttribute(typeAttr))) {
          target = target.parentNode
        }
        return {
          target: target,
          action: action
        }
      },
      _handleEvent: function _handleEvent(e) {
        var targetAction = this._getTargetAction(e)
        if (!targetAction.action) {
          return
        }
        e.realTarget = targetAction.target
        if (this.panel && this.panel[targetAction.action]) {
          this.panel[targetAction.action](e)
        } else if (this[targetAction.action]) {
          this[targetAction.action](e)
        }
      },
      show: function show() {
        if (this.rootEle) {
          this.rootEle.style.display = 'block'
          this._handleAni()
        }
      },
      hide: function hide() {
        this.rootEle && (this.rootEle.style.display = 'none')
      },
      desEvts: function desEvts() {
        this._removeEvt(EVENT_START)
        this._removeEvt(EVENT_MOVE)
        this._removeEvt(EVENT_END)
        this._removeEvt(EVENT_CANCEL)
      },
      destroy: function destroy() {
        if (this.destroyed) {
          return
        }
        this.trigger('destroy')
        this.hide()
        this.desEvts()
        this.container.removeChild(this.rootEle)
        this.dateTime.destroy()
        this.panel && this.panel.destroy()
        utils$1.set2Null(
          [
            'container',
            'rootEle',
            'ele',
            'head',
            'content',
            'foot',
            'dateTime',
            'panel',
            'config',
            'lang'
          ],
          this
        )
        this.destroyed = true
      }
    },
    events
  )

  var es = ['selfChange', 'render', 'afterRender', '__start', '__move', '__end']
  es.forEach(function(name) {
    pickerPro[name] = function() {
      this.panel && this.panel[name] && this.panel[name].apply(this.panel, arguments)
    }
  })

  var picker = Picker

  function DaysPanel(picker) {
    this.picker = picker
    this.main = null
    this.mainStyle = null
    this.arrow = null
    this.arrowStyle = null
  }

  utils$1.extend(DaysPanel.prototype, {
    render: function render() {
      if (!this.main) {
        this._init()
      }
      this._renderHead()
      this.main.innerHTML =
        buildCalendar(this.picker.prevDateTime, this.picker.config, 'prev') +
        buildCalendar(this.picker.dateTime, this.picker.config, 'curr') +
        buildCalendar(this.picker.nextDateTime, this.picker.config, 'next')
    },
    _renderHead: function _renderHead() {
      this.picker.head.innerHTML =
        '<div class="picker-year" data-click="toYears" data-active="active">' +
        this.picker.dateTime.parsedNow.year +
        '</div>' +
        '<div class="picker-date picker-head-active" data-active="active">' +
        utils$1
          .formatDate(current_date, this.picker.config.MDW.replace('D', '#'))
          .replace('#', this.picker.config.day[current_date.getDay()]) +
        '</div>'
    },
    afterRender: function afterRender() {
      this.activeDateEle = this.main.querySelector('.picker-bdy-curr .picker-active')
    },
    selfChange: function selfChange() {
      this._renderHead()
      this.activeDateEle && this.activeDateEle.classList.remove('picker-active')
      var v = this.picker.dateTime.getLevelValue()
      var newActiveEle = this.main.querySelector('.picker-bdy-curr i[data-val="' + v + '"]')
      newActiveEle.classList.add('picker-active')
      this.activeDateEle = newActiveEle
    },
    _init: function _init() {
      this._initMain()
      this._initArrow()
    },

    _initMain: function _initMain() {
      this.main = utils$1.createElement('div', {
        className: 'date-picker-main'
      })
      this.mainStyle = this.main.style
      this.picker.content.appendChild(this.main)
      this.mainWidth = this.main.offsetWidth
    },
    _initArrow: function _initArrow() {
      this.arrow = utils$1.createElement('div', {
        className: 'picker-actions-arrow'
      })
      this.arrow.innerHTML =
        '<i data-click="prevMonth" data-active="active">←</i><i data-click="nextMonth" data-active="active">→</i>'
      this.arrowStyle = this.arrow.style
      this.picker.content.appendChild(this.arrow)
    },

    show: function show() {
      this.mainStyle.display = 'block'
      this.arrowStyle.display = 'block'
    },
    hide: function hide() {
      this.mainStyle.display = 'none'
      this.arrowStyle.display = 'none'
    },

    _slideTo: function _slideTo(v, base, cb) {
      var that = this
      var TIME = 300 / 100
      var transitionTime = TIME * Math.abs(v - base)
      var ended = function ended() {
        if (!that._slideEndFn) {
          return
        }
        window.clearTimeout(that._slideEndFn.tid)
        that._slideEndFn = null
        that.main.removeEventListener(utils$1.prefixNames.transitionEnd, ended, false)
        that.mainStyle.webkitTransition = 'none 0ms'
        that.mainStyle.transition = 'none 0ms'
        that.mainStyle[utils$1.prefixNames.transform] = 'translateX(-100%) translateZ(0)'
        cb && cb.call(that)
      }
      this._slideEndFn && this._slideEndFn()
      this._slideEndFn = ended
      this.mainStyle[utils$1.prefixNames.transform] = 'translateX(' + v + '%) translateZ(0)'
      if (transitionTime > 0) {
        this._slideEndFn.tid = window.setTimeout(ended, transitionTime)
        transitionTime += 'ms'
        this.mainStyle.webkitTransition = transitionTime
        this.mainStyle.transition = transitionTime
      } else {
        ended()
      }
      this.main.addEventListener(utils$1.prefixNames.transitionEnd, ended, false)
    },
    _befChange: function _befChange(base) {
      if (!utils$1.isNum(base)) {
        base = -100
      }
      this._slideEndFn && this._slideEndFn()
      return base
    },
    prevMonth: function prevMonth(base) {
      base = this._befChange(base)
      this._slideTo(0, base, function() {
        this.picker.setNowToPrev()
      })
    },
    nextMonth: function nextMonth(base) {
      base = this._befChange(base)
      this._slideTo(-200, base, function() {
        this.picker.setNowToNext()
      })
    },
    _start: function _start(e) {
      var point = e.touches[0]
      var pointX = point.pageX
      var that = this
      var base = -100
      var toV = base
      var shouldChange = false
      this.__move = function(e) {
        var point = e.touches[0]
        var diffX = point.pageX - pointX
        diffX = (diffX * 100) / that.mainWidth
        var absX = Math.abs(diffX)
        if (absX > 100) {
          diffX = diffX > 0 ? 100 : -100
        }
        shouldChange = absX > 55
        toV = base + diffX
        that.arrowStyle.opacity = (100 - absX * 0.9) / 100
        that.mainStyle[utils$1.prefixNames.transform] = 'translateX(' + toV + '%) translateZ(0)'
      }
      this.__end = function(e) {
        this.__move = null
        this.__end = null
        that.arrowStyle.opacity = 1
        if (shouldChange) {
          that[toV > base ? 'prevMonth' : 'nextMonth'](toV)
        } else {
          that._slideTo(base, toV)
        }
      }
      this._slideEndFn && this._slideEndFn()
    },
    destroy: function destroy() {
      this._slideEndFn && this._slideEndFn()
      this.picker.content.removeChild(this.main)
      this.picker.content.removeChild(this.arrow)
      utils$1.set2Null(
        ['picker', 'main', 'mainStyle', 'arrow', 'arrowStyle', 'activeDateEle', '__move', '__end'],
        this
      )
    }
  })

  var days = DaysPanel

  function buildCalendar(datetime, config, cls) {
    if (!datetime) {
      return ''
    }
    var now = new Date()
    var parsedNow = {
      year: now.getFullYear(),
      month: now.getMonth(),
      date: now.getDate()
    }
    var parsedCurrent = datetime.parsedNow
    var parsedMin = utils$1.date2Details(datetime.options.min)
    var parsedMax = utils$1.date2Details(datetime.options.max)
    var yearMonthOK = checkInrange(parsedCurrent, parsedMin, parsedMax)
    cls = ' picker-bdy-' + cls
    return (
      '<div class="picker-bdy' +
      cls +
      '">' +
      '<div class="date-picker-title">' +
      utils$1.formatDate(datetime.now, config.YM) +
      '</div>' +
      '<div class="date-picker-days">' +
      '<div class="date-picker-days-title">' +
      config.shortDay
        .map(function(d) {
          return '<i>' + d + '</i>'
        })
        .join('') +
      '</div>' +
      '<div class="date-picker-days-bdy">' +
      datetime
        .getRows()
        .map(function(row) {
          return (
            '<div class="picker-row">' +
            row
              .map(function(d) {
                var klass =
                  parsedCurrent.year === parsedNow.year &&
                  parsedCurrent.month === parsedNow.month &&
                  d === parsedNow.date
                    ? 'picker-now'
                    : ''
                if (d === parsedCurrent.date) {
                  if (
                    datetime.now.getMonth() === current_date.getMonth() &&
                    datetime.now.getFullYear() === current_date.getFullYear() &&
                    datetime.now.getDate() === current_date.getDate()
                  ) {
                    klass = 'picker-active'
                  }
                  klass = klass ? klass + ' picker-active' : klass
                }
                if (!yearMonthOK || checkDisabled(d, parsedCurrent, parsedMin, parsedMax)) {
                  klass = klass ? klass + ' picker-disabled' : 'picker-disabled'
                }
                if (klass) {
                  klass = ' class="' + klass + '"'
                }
                var attr = ' data-val="' + d + '" '
                if (d) {
                  attr += 'data-active="active" data-click="selV" data-val="' + d + '"'
                }
                return '<i' + attr + klass + '><span>' + d + '</span></i>'
              })
              .join('') +
            '</div>'
          )
        })
        .join('') +
      '</div>' +
      '</div>' +
      '</div>'
    )
  }

  function checkInrange(parsedCurrent, parsedMin, parsedMax) {
    var ok = false
    if (parsedCurrent.year > parsedMin.year) {
      ok = true
    } else if (parsedCurrent.year === parsedMin.year) {
      ok = parsedCurrent.month >= parsedMin.month
    }
    if (ok) {
      if (parsedCurrent.year < parsedMax.year) {
        ok = true
      } else if (parsedCurrent.year === parsedMax.year) {
        ok = parsedCurrent.month <= parsedMax.month
      }
    }
    return ok
  }

  function checkDisabled(date, parsedCurrent, parsedMin, parsedMax) {
    if (parsedCurrent.year === parsedMin.year && parsedCurrent.month === parsedMin.month) {
      return date < parsedMin.date
    }
    if (parsedCurrent.year === parsedMax.year && parsedCurrent.month === parsedMax.month) {
      return date > parsedMax.date
    }
    return false
  }

  var CONFIG = {
    C: buildItem('year'),
    Y: buildItem('month', function(m) {
      return m + 1
    })
  }
  function ScrollerPanel(picker) {
    this.picker = picker
    this.main = null
    this.mainStyle = null
    this.posY = 0
    this.type = picker.options.type
  }

  utils$1.extend(ScrollerPanel.prototype, {
    render: function render() {
      this.rows = this.picker.dateTime.getRows()
      if (!this.main) {
        this._init()
      }
      this._renderHead()
      this.main.innerHTML = CONFIG[this.type](this.picker.dateTime, this.rows)
    },
    _renderHead: function _renderHead() {
      var isYears = this.type === 'C'
      this.picker.head.innerHTML =
        '<div class="picker-year' +
        (isYears ? ' picker-head-active' : '') +
        '"' +
        (isYears ? '' : ' data-click="toYears" data-active="active"') +
        '>' +
        this.picker.dateTime.parsedNow.year +
        '</div>' +
        '<div class="picker-date" data-click="toDays" data-active="active">' +
        utils$1
          .formatDate(this.picker.dateTime.now, this.picker.config.MDW.replace('D', '#'))
          .replace('#', this.picker.config.day[this.picker.dateTime.parsedNow.day]) +
        '</div>'
    },
    afterRender: function afterRender() {
      var activeEle = this.main.querySelector('.picker-active')
      if (!activeEle) {
        return
      }
      this.itemHeight = activeEle.offsetHeight
      this.activeEle = activeEle
      var t = activeEle.offsetTop - (this.contentHeight - this.itemHeight) / 2
      this._slideTo(-t, 0)
    },
    _init: function _init() {
      this._initMain()
      this._initMidd()
    },
    _initMain: function _initMain() {
      this.main = utils$1.createElement('div', {
        className: 'scroller-picker-main'
      })
      this.mainStyle = this.main.style
      this.picker.content.appendChild(this.main)
      this.contentHeight = this.picker.content.offsetHeight
    },
    _initMidd: function _initMidd() {
      this.midd = utils$1.createElement('div', {
        className: 'scroller-picker-midd'
      })
      this.middStyle = this.midd.style
      this.picker.content.appendChild(this.midd)
    },
    show: function show() {
      this.mainStyle.display = 'block'
      this.middStyle.display = 'block'
    },
    hide: function hide() {
      this.mainStyle.display = 'none'
      this.middStyle.display = 'none'
    },
    selfChange: function selfChange() {
      if (this.__ani) {
        return
      }
      var that = this
      this._renderHead()
      this.activeEle.classList.remove('picker-active')
      var v = this.picker.dateTime.getLevelValue()
      var newActiveEle = this.main.querySelector('.picker-row[data-val="' + v + '"]')
      var realTo = (this.activeEle.dataset.val - v) * this.itemHeight + this.posY
      that._slideTo(realTo, 0, function() {
        newActiveEle.classList.add('picker-active')
        that.activeEle = newActiveEle
      })
    },
    _slideTo: function _slideTo(v, transitionTime, cb) {
      var that = this
      var ended = function ended(e) {
        if (!that._slideEndFn) {
          return
        }
        window.clearTimeout(that._slideEndFn.tid)
        that._slideEndFn = null
        that.main.removeEventListener(utils$1.prefixNames.transitionEnd, ended, false)
        cb && cb.call(that, e)
        that.mainStyle.webkitTransition = 'none 0ms'
        that.mainStyle.transition = 'none 0ms'
      }
      this._slideEndFn && this._slideEndFn()
      this._slideEndFn = ended
      this.posY = v
      this.mainStyle[utils$1.prefixNames.transform] =
        'translateY(' + this.posY + 'px) translateZ(0)'
      var timingFn = ' cubic-bezier(0.25, 0.46, 0.45, 0.94)'
      if (transitionTime > 0) {
        this._slideEndFn.tid = window.setTimeout(function() {
          ended({})
        }, transitionTime + 20)
        transitionTime += 'ms'
        this.mainStyle.webkitTransition = transitionTime + timingFn
        this.mainStyle.transition = transitionTime + timingFn
        this.main.addEventListener(utils$1.prefixNames.transitionEnd, ended, false)
      } else {
        ended()
      }
    },
    _start: function _start(e) {
      this._slideEndFn && this._slideEndFn()
      var point = e.touches[0]
      var pointY = point.pageY
      var that = this
      var base = this.posY
      var toV = base
      var startTime = e.timeStamp
      var startY = base
      this.__move = function(e) {
        var point = e.touches[0]
        var diffY = point.pageY - pointY
        toV = base + diffY

        var moveTime = e.timeStamp
        if (moveTime - startTime > 300) {
          startTime = moveTime
          startY = toV
        }
        that.mainStyle[utils$1.prefixNames.transform] = 'translateY(' + toV + 'px) translateZ(0)'
      }
      var parsePos = function parsePos(pos) {
        var diff = pos - base
        var count = Math.round(diff / that.itemHeight)
        var levelVal = that.picker.dateTime.getLevelValue()
        var targetV = levelVal - count
        var min = that.rows[0][0]
        var max = that.rows[that.rows.length - 1][0]
        var realTo
        if (targetV < min) {
          count = levelVal - min
          targetV = min
          realTo = count * that.itemHeight + base
        } else if (targetV > max) {
          count = levelVal - max
          targetV = max
          realTo = count * that.itemHeight + base
        } else {
          realTo = count * that.itemHeight + base
        }
        return {
          realTo: realTo,
          targetV: targetV
        }
      }
      this.__end = function(e) {
        this.__move = null
        this.__end = null
        var endTime = e.timeStamp
        var duration = endTime - startTime
        var time
        // 根据参数更新 toV 的值
        if (duration < 300) {
          var minY = -that.rows.length * that.itemHeight
          var maxY = that.contentHeight
          if (startY < minY) {
            startY = minY
          } else if (startY > maxY) {
            startY = maxY
          }
          var momentumRet = momentum(toV, startY, duration)
          toV = momentumRet.destination
          time = momentumRet.speed
        }
        var p = parsePos(toV)
        var realTo = p.realTo
        var targetV = p.targetV
        if (time === undefined) {
          time = (100 * Math.abs(realTo - toV)) / that.itemHeight
          if (time > 50) {
            time = 20
          }
        } else {
          time = Math.abs(realTo - startY) / time
        }
        that._slideTo(realTo, time, function(e) {
          if (e || !time) {
            // 正常结束的
            that.picker.changeTo(targetV)
          } else {
            // 中途停止动画的
            var c = getComputedPosition(that.main)
            var p = parsePos(c)
            that._slideTo(p.realTo, 0, function() {
              that.__ani = true
              that.picker.changeTo(p.targetV, true)
              that.__ani = false
            })
          }
        })
      }
    },
    destroy: function destroy() {
      this._slideEndFn && this._slideEndFn()
      this.picker.content.removeChild(this.main)
      this.picker.content.removeChild(this.midd)
      utils$1.set2Null(
        ['picker', 'main', 'mainStyle', 'midd', 'middStyle', 'activeEle', '__move', '__end'],
        this
      )
    }
  })

  var scroller$1 = ScrollerPanel

  function buildItem(type, parser) {
    if (!parser) {
      parser = function parser(v) {
        return v
      }
    }
    return function(dateTime, rows) {
      var curr = dateTime.parsedNow[type]
      return (
        '<ul>' +
        rows
          .map(function(row) {
            var v = row[0]
            var klass = ''
            if (v === curr) {
              klass = ' picker-active'
            }
            return (
              '<li class="picker-row' +
              klass +
              '" data-click="selV" data-val="' +
              v +
              '">' +
              parser(v) +
              '</li>'
            )
          })
          .join('') +
        '</ul>'
      )
    }
  }

  function getComputedPosition(ele) {
    var matrix = window.getComputedStyle(ele, null)
    matrix = matrix[utils$1.prefixNames.transform].split(')')[0].split(', ')
    var y = +(matrix[13] || matrix[5])
    return y
  }

  function momentum(current, start, time) {
    var deceleration = 0.0006
    var distance = current - start
    var speed = Math.abs(distance) / time

    var destination = current + ((speed * speed) / (2 * deceleration)) * (distance < 0 ? -1 : 1)

    return {
      destination: destination,
      speed: speed
    }
  }

  function DatePicker() {
    picker.apply(this, arguments)
  }

  picker.extend(DatePicker, {
    init: function init() {
      if (this.needDefFormat) {
        this.options.format = 'yyyy-MM-dd'
      }
      utils$1.extend(this.options, {
        type: 'M'
      })
      this.panel = this.daysPanel = new days(this)
    },
    _setDateTime: function _setDateTime() {
      var prevMonth = utils$1.prevMonth(this.dateTime.now)
      var nextMonth = utils$1.nextMonth(this.dateTime.now)
      this.prevDateTime = new datetime(
        utils$1.extend({}, this.options, {
          default: prevMonth
        })
      )
      if (this.prevDateTime.parsedNow.month !== prevMonth.getMonth()) {
        this.prevDateTime.destroy()
        this.prevDateTime = null
      }
      this.nextDateTime = new datetime(
        utils$1.extend({}, this.options, {
          default: nextMonth
        })
      )
      if (this.nextDateTime.parsedNow.month !== nextMonth.getMonth()) {
        this.nextDateTime.destroy()
        this.nextDateTime = null
      }
    },
    initEle: function initEle() {
      this.ele.classList.add('date-picker-container')
    },
    shouldSet: function shouldSet(val) {
      return !!val
    },
    setNowToPrev: function setNowToPrev() {
      this.prevDateTime && this.setNow(this.prevDateTime.now)
    },
    setNowToNext: function setNowToNext() {
      this.nextDateTime && this.setNow(this.nextDateTime.now)
    },
    _to: function _to(type, name) {
      utils$1.extend(this.options, {
        type: type
      })
      this.panel.hide()
      if (!this[name]) {
        this[name] = new scroller$1(this)
      } else {
        this[name].show()
      }
      this.panel = this[name]
      this.setDateTime()
    },
    toYears: function toYears() {
      this._to('C', 'yearsPanel')
    },
    toMonths: function toMonths() {
      this._to('Y', 'monthsPanel')
    },
    toDays: function toDays() {
      this._to('M', 'daysPanel')
    }
  })

  var date$5 = DatePicker

  var CONFIG$1 = {
    D: buildItem$1('hours', null, function(rows) {
      return rows.length / 2
    }),
    H: buildItem$1('minutes', function(v, i, setRotate) {
      return i % 5 === 0
        ? '<i style="' + setRotate(i, true) + '">' + utils$1.pad(v, 2) + '</i>'
        : '<b></b>'
    })
  }
  function TimePanel(picker) {
    this.picker = picker
    this.main = null
    this.mainStyle = null
    this.headActiveEle = null
    this.activeEle = null
    this.pickerLineEle = null
    this.type = picker.options.type
  }

  utils$1.extend(TimePanel.prototype, {
    render: function render() {
      this.rows = this.picker.dateTime.getRows()
      if (!this.main) {
        this._init()
      }
      var isHours = this.type === 'D'
      this.picker.head.innerHTML =
        '<div class="picker-hour' +
        (isHours ? ' picker-head-active' : '') +
        '"' +
        (isHours ? '' : ' data-click="toHours" data-active="active"') +
        '>' +
        utils$1.formatDate(this.picker.dateTime.now, 'HH') +
        '</div>:' +
        '<div class="picker-minute' +
        (!isHours ? ' picker-head-active' : '') +
        '"' +
        (!isHours ? '' : ' data-click="toMinutes" data-active="active"') +
        '>' +
        utils$1.formatDate(this.picker.dateTime.now, 'mm') +
        '</div>'
      this.main.innerHTML = CONFIG$1[this.type](this.picker.dateTime, this.rows)
    },
    afterRender: function afterRender() {
      this.headHourEle = this.picker.head.querySelector('.picker-hour')
      this.headMinuteEle = this.picker.head.querySelector('.picker-minute')
      this.headActiveEle = this.picker.head.querySelector('.picker-head-active')
      this.activeEle = this.main.querySelector('.picker-active')
      this.pickerLineEle = this.main.querySelector('.time-picker-line')
    },
    _init: function _init() {
      this._initMain()
    },
    _initMain: function _initMain() {
      this.main = utils$1.createElement('div', {
        className:
          'time-picker-main ' +
          (this.type === 'D' ? 'time-picker-main-hours' : 'time-picker-main-minutes')
      })
      this.mainStyle = this.main.style
      this.picker.content.appendChild(this.main)
    },
    show: function show() {
      this.mainStyle.display = 'block'
    },
    hide: function hide() {
      this.mainStyle.display = 'none'
    },
    selfChange: function selfChange() {
      var h = utils$1.formatDate(this.picker.dateTime.now, 'HH')
      var m = utils$1.formatDate(this.picker.dateTime.now, 'mm')
      this.headHourEle.innerHTML = h
      this.headMinuteEle.innerHTML = m
      var v = this.picker.dateTime.getLevelValue()
      var newActiveEle = this.main.querySelector('.picker-cell[data-val="' + v + '"]')
      this.activeEle && this.activeEle.classList.remove('picker-active')
      newActiveEle.classList.add('picker-active')
      this.activeEle = newActiveEle
      var r = +newActiveEle.style[utils$1.prefixNames.transform].match(/rotate\((-?\d+)deg\)/)[1]
      r = r - 90
      this.pickerLineEle.style[utils$1.prefixNames.transform] = 'rotate(' + r + 'deg)'
      this.pickerLineEle.classList[
        newActiveEle.classList.contains('picker-cell-inner') ? 'add' : 'remove'
      ]('time-picker-line-inner')
    },
    _start: function _start(e) {
      var that = this
      var finalTarget = null
      var setToTarget = function setToTarget(point) {
        var targetEle = document.elementFromPoint(point.pageX, point.pageY)
        if (
          targetEle &&
          (targetEle.classList.contains('picker-cell') ||
            ((targetEle = targetEle.parentElement) && targetEle.classList.contains('picker-cell')))
        ) {
          finalTarget = targetEle
          that.picker.changeTo(targetEle.getAttribute('data-val'), true)
        }
      }
      setToTarget(e.touches[0])
      this.__move = function(e) {
        setToTarget(e.touches[0])
      }
      this.__end = function(e) {
        this.__move = null
        this.__end = null
        finalTarget &&
          that.picker.selV({
            realTarget: finalTarget
          })
      }
    },
    destroy: function destroy() {
      this.picker.content.removeChild(this.main)
      utils$1.set2Null(
        [
          'picker',
          'main',
          'mainStyle',
          'headHourEle',
          'headMinuteEle',
          'headActiveEle',
          'activeEle',
          'pickerLineEle',
          '__move',
          '__end'
        ],
        this
      )
    }
  })

  var time$2 = TimePanel

  function buildItem$1(type, parser, getLen) {
    if (!parser) {
      parser = function parser(v, i, setRotate) {
        return '<i style="' + setRotate(i, true) + '">' + v + '</i>'
      }
    }
    if (!getLen) {
      getLen = function getLen(rows) {
        return rows.length
      }
    }
    return function(dateTime, rows) {
      var len = rows.length
      var rowsLen = getLen(rows)
      var isDouble = rowsLen !== len
      var perRotate = 360 / rowsLen

      var ulCls = ''
      var minuteStep = 1
      var isMinutes = type === 'minutes'
      if (isMinutes) {
        minuteStep = dateTime.options.minuteStep || 5
        ulCls += 'time-picker-minutes-' + minuteStep
      }
      var setRotate = function setRotate(index, reverse) {
        var r = perRotate * index
        var v = ''
        if (reverse) {
          r = -r
          v = 'translate(-50%, -50%) '
        }
        v += 'rotate(' + r + 'deg)'
        return '-webkit-transform:' + v + ';transform:' + v + ';'
      }
      var min = utils$1.date2Details(dateTime.options.min)
      var max = utils$1.date2Details(dateTime.options.max)
      var curr = dateTime.parsedNow[type]
      var activeStyle = ''
      var innerCls = ''
      var checkDisabled = function checkDisabled(v) {
        if (isMinutes) {
          var hours = dateTime.parsedNow.hours
          if (hours === min.hours) {
            return v < min.minutes
          } else if (hours === max.hours) {
            return v > max.minutes
          } else {
            return false
          }
        } else {
          // hours
          return v < min.hours || v > max.hours
        }
      }

      return (
        '<ul class="' +
        ulCls +
        '">' +
        rows
          .map(function(row, i) {
            var v = row[0]
            var klass = ''
            if (v === curr) {
              klass = ' picker-active'
              var r = 'rotate(' + (perRotate * i - 90) + 'deg)'
              activeStyle = '-webkit-transform:' + r + ';transform:' + r
              if (isDouble && (!v || v > 12)) {
                innerCls += ' time-picker-line-inner'
              }
            }
            if (minuteStep > 1 && i % minuteStep !== 0) {
              return ''
            }
            if (checkDisabled(v)) {
              klass += ' picker-disabled'
            }
            if (isDouble && (!v || v > 12)) {
              klass += ' picker-cell-inner'
            }
            return (
              '<li class="picker-cell' +
              klass +
              '" data-click="selV" data-val="' +
              v +
              '" style="' +
              setRotate(i) +
              '">' +
              parser(v, i, setRotate) +
              '</li>'
            )
          })
          .join('') +
        '</ul>' +
        '<div class="time-picker-line' +
        innerCls +
        '" style="' +
        activeStyle +
        '"></div>'
      )
    }
  }

  function TimePicker() {
    picker.apply(this, arguments)
  }

  picker.extend(TimePicker, {
    init: function init() {
      if (this.needDefFormat) {
        this.options.format = 'HH:mm'
      }
      var minuteStep = this.options.minuteStep
      if (!minuteStep) {
        minuteStep = 5
      }
      // only 1 5 10
      if (minuteStep !== 1 && minuteStep !== 5 && minuteStep !== 10) {
        minuteStep = 5
      }
      utils$1.extend(this.options, {
        type: 'D',
        minuteStep: minuteStep
      })
      this.panel = this.hoursPanel = new time$2(this)
    },
    initEle: function initEle() {
      this.ele.classList.add('time-picker-container')
    },
    _selV: function _selV(v) {
      var that = this
      this.super._selV.call(this, v)
      setTimeout(function() {
        that.toMinutes()
      })
    },
    _to: function _to(type, name) {
      if (this.options.type === type) {
        return
      }
      utils$1.extend(this.options, {
        type: type
      })
      this.panel.hide()
      if (!this[name]) {
        this[name] = new time$2(this)
      } else {
        this[name].show()
      }
      this.panel = this[name]
      this.setDateTime()
    },
    toHours: function toHours() {
      this._to('D', 'hoursPanel')
    },
    toMinutes: function toMinutes() {
      this._to('H', 'minutesPanel')
    }
  })

  var time$1 = TimePicker

  src.Date = date$5
  src.Time = time$1

  var date_time = src

  /**
   * text, multi-text 默认会记住上次选中的结果，就选没有确认选中
   * date，time picker 不会记住上次选中的结果
   */

  let Atomic$3
  const TYPE = ['text', 'date', 'time', 'multi-text']
  const DEFAULTFONTSIZE = 0.427
  const today = new Date()
  const DEFAULT_DATE_OPTION = {
    lang: 'zh-CN', // default 'EN'. One of 'EN', 'zh-CN'
    format: 'yyyy-MM-dd', // default 'yyyy-MM-dd'
    default: `${today.getFullYear()}-${today.getMonth() + 1}-${today.getDate()}`, // default `new Date()`. If `default` type is string, then it will be parsed to `Date` instance by `format` . Or it can be a `Date` instance
    min: '1970-01-01', // min date value, `{String | Date}`, default `new Date(1900, 0, 1, 0, 0, 0, 0)`
    max: '2100-12-31' // max date value, `{String | Date}`, default `new Date(2100, 11, 31, 23, 59, 59, 999)`
  }

  let uid = 0
  const proto$e = {
    create() {
      const node = document.createElement('span')
      const type = this.type
      this.className = 'hap-ipt-' + uid
      this.styleId = 'hap-style-' + uid
      node.classList.add('hap-element')
      node.style.fontSize = `${DEFAULTFONTSIZE}rem`
      node.style.alignSelf = 'center'
      const attr = this.data.attr
      let processHandler
      this.textPickerData = {
        range: attr.range,
        seleted: attr.seleted,
        value: attr.value,
        uid: uid
      }
      if (TYPE.indexOf(type) === -1) {
        console.log(`使用了${type}, picker 组件支持的type类型为：${JSON.stringify(TYPE)}`)
      }
      switch (type) {
        case 'text':
        case 'multi-text':
          processHandler = new TextPicker(this.textPickerData)
          this.extendHandler(processHandler)
          node.setAttribute('data-type', 'text')
          break
        case 'date':
          // const isDate = attr.default
          // TODO 必须校验日期跟时间的格式，否则会报错
          this.dateOptions = getOptions('date', attr)
          // processHandler = new DateTimePicker.Date(dateOptions)
          // this.extendDateTimeHandler(processHandler)
          node.setAttribute('data-type', 'date')
          break
        case 'time':
          this.timeOptions = getOptions('time', attr)
          // processHandler = new DateTimePicker.Time(timeOptions)
          // this.extendDateTimeHandler(processHandler)
          node.setAttribute('data-type', 'date')
      }
      this.processHandler = processHandler
      return node
    },
    onAppend() {
      const node = this.node
      node.addEventListener('click', e => {
        e.preventDefault()
        e.stopPropagation()
        this.show()
      })
      Atomic$3.prototype.onAppend.call(this)
    },
    extendHandler(processHandler) {
      const that = this
      processHandler.yes = function() {
        that.result = this.scrollerResult
        that.dispatchEvent('change')
      }
      processHandler.cancel = function() {
        that.dispatchEvent('cancel')
      }
      processHandler.onSelect = function(res) {
        that.columnsResult = res
        that.dispatchEvent('columnchange', {
          column: res.column,
          newValue: res.value,
          newSelected: res.index
        })
      }
    },
    extendDateTimeHandler(processHandler, type) {
      processHandler
        // click OK button
        .on('selected', (formatValue, now) => {
          let res
          if (type === 'date') {
            res = { year: now.getFullYear(), month: now.getMonth(), day: now.getDate() }
          } else {
            res = { hour: now.getHours(), minute: now.getMinutes() }
          }
          this.dispatchEvent('change', res)
          processHandler.destroy()
        })
        // click CANCEL button
        // also trigger `destroy` event
        .on('canceled', () => {
          this.dispatchEvent('cancel')
          processHandler.destroy()
        })
    },

    show() {
      // 显示picker
      let processHandler = this.processHandler
      if (processHandler) {
        // text,multi-text picker
        processHandler.show()
      } else if (this.type === 'date') {
        processHandler = new date_time.Date(this.dateOptions)
        this.extendDateTimeHandler(processHandler, 'date')
      } else if (this.type === 'time') {
        processHandler = new date_time.Time(this.timeOptions)
        this.extendDateTimeHandler(processHandler, 'time')
      }
    }
  }

  // 获取date time 的option的值
  function getOptions(type, attr) {
    if (type === 'date') {
      // DEFAULT_DATE_OPTION
      const start = parseDate$1(attr.start) || DEFAULT_DATE_OPTION.start
      const end = parseDate$1(attr.end) || DEFAULT_DATE_OPTION.end
      const selected = parseDate$1(attr.selected) || DEFAULT_DATE_OPTION.default
      return { default: selected, min: start, max: end, lang: DEFAULT_DATE_OPTION.lang }
    } else if (type === 'time') {
      return { default: parseTime(attr.selected), minuteStep: 1, lang: DEFAULT_DATE_OPTION.lang }
    }
  }
  // 校验日期
  function parseDate$1(date) {
    if (date === undefined || date === '') {
      return null
    }
    const formatedDate = new Date(date)
    if (isNaN(formatedDate.getTime())) {
      console.warn(`### Web Render ###  日期值(${date})不正确,日期格式应当为“yyyy-MM-dd”, 请检查!`)
      return null
    }
    // 必须转化为标准格式 yyyy-MM-dd 格式
    const year = formatedDate.getFullYear()
    const month = getFormatedTime(formatedDate.getMonth() + 1)
    const day = getFormatedTime(formatedDate.getDate())
    const resultDate = `${year}-${month}-${day}`
    return resultDate
  }
  // 校验时间
  function parseTime(time) {
    if (time === undefined || time === '') {
      const now = new Date()
      return `${now.getHours()}:${now.getMinutes()}`
    }
    const res = time.match(/^(\d{2}):(\d{2})$/)
    if (res === null || res[1] > 23 || time[2] > 59) {
      console.warn(`### Web Render ###  时间值(${time})不正确,时间格式应当为“hh:mm”, 请检查!`)
      return null
    }
    return time
  }

  // 格式化时间格式
  function getFormatedTime(time) {
    if (time < 10) {
      time = '0' + time
    }
    return time
  }
  const attr$f = {
    value: function(val) {
      if (this.type !== 'multi-text') {
        this.node.innerHTML = val
      } else {
        /* multi-text 有多种情况需要处理
         * 1. 默认显示值类似 a b c
         * 2. 用户定义的值会是一个Array
         * 3. change之后拿到的value 是一个类似于array的字符串，如： '["a", "b"]'
         * 4. value有可能拿到空字符串
         */
        val = val || '[]'
        const value = typeof val === 'string' ? JSON.parse(val).join(' ') : val.join(' ')
        this.node.innerHTML = value
      }
    },
    range: function(val) {
      // 要更新picker
      // 1. 涉及联动的情况，在picker打开的情况下更新dom。【先简单粗暴点更新整个dom吧】
      // 2. 动态改变range 内容或者列数再打开的情况 done
      // TODO 3. 联动操作，位于后面的列都要更新index 为 0
      if (this.processHandler && Object.prototype.toString.call(val) === '[object Array]') {
        this.textPickerData.range = val
        this.processHandler.updateData(this.textPickerData)
      }
    },
    seleted: function(val) {
      // 更新picker
      if (this.processHandler) {
        this.textPickerData.selected = val
        this.processHandler.updateData(this.textPickerData)
      }
    }
  }

  const event$5 = {
    change: {
      extra() {
        const type = this.type
        const result = this.result
        const textValue = { newValue: result.value, newSelected: result.index }
        switch (type) {
          case 'text':
            return textValue
          case 'multi-text':
            return {
              newValue: Array.prototype.slice.call(result.value, 0),
              newSelected: Array.prototype.slice.call(result.index, 0)
            }
          default:
            return textValue
        }
      }
    }
  }

  function init$x(Hap) {
    Atomic$3 = Hap.Atomic
    const extend = Hap.utils.extend

    function Picker(data) {
      uid++
      this.type = data.attr.type
      this.result = {}
      Atomic$3.call(this, data)
    }
    Picker.prototype = Object.create(Atomic$3.prototype)
    extend(Picker.prototype, proto$e)
    extend(Picker.prototype, {
      attr: extend(Object.create(Atomic$3.prototype.attr), attr$f)
    })
    extend(Picker.prototype, { event: event$5 })

    Hap.registerComponent('picker', Picker)
  }

  var Picker$1 = { init: init$x }

  var css_248z$g =
    ".mdui-select{position:relative;display:inline-block;max-width:100%;height:28px;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;padding-right:.32rem;padding-left:0;font-family:Roboto,Noto,Helvetica,Arial,sans-serif;font-size:.213rem;vertical-align:middle;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='10'%3E%3Cpath d='M-.003 2.5l5 5 5-5h-10z' opacity='.54'/%3E%3C/svg%3E\");background-repeat:no-repeat;background-size:.32rem;background-position:100%;border:none;outline:none;-webkit-transition-timing-function:cubic-bezier(.4,0,.2,1);transition-timing-function:cubic-bezier(.4,0,.2,1);-webkit-transition-duration:.2s;transition-duration:.2s;-webkit-transition-property:background-color,background-position-x,-webkit-box-shadow;transition-property:background-color,background-position-x,-webkit-box-shadow;transition-property:background-color,box-shadow,background-position-x;transition-property:background-color,box-shadow,background-position-x,-webkit-box-shadow;-moz-appearance:none;appearance:none;will-change:background-color,box-shadow,background-position-x;pointer-events:auto}.mdui-select.mdui-select-open{border-bottom:none}.mdui-select-position-top{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='10'%3E%3Cpath d='M10.003 7.5l-5-5-5 5h10z' opacity='.54'/%3E%3C/svg%3E\")}.mdui-select-open.mdui-select-position-bottom,.mdui-select-open.mdui-select-position-top{z-index:99999;border-radius:.027rem}.mdui-select-open.mdui-select-position-top{border-top:1px solid rgba(0,0,0,.12);border-bottom:.027rem solid transparent;border-top-left-radius:0;border-top-right-radius:0;-webkit-box-shadow:0 .133rem .133rem -.04rem rgba(0,0,0,.2),0 0 .187rem 1px rgba(0,0,0,.14),0 -.093rem .32rem .027rem rgba(0,0,0,.12);box-shadow:0 .133rem .133rem -.04rem rgba(0,0,0,.2),0 0 .187rem 1px rgba(0,0,0,.14),0 -.093rem .32rem .027rem rgba(0,0,0,.12)}.mdui-select-open.mdui-select-position-top .mdui-select-menu{border-bottom-right-radius:0;border-bottom-left-radius:0;-webkit-box-shadow:0 -.053rem .053rem -.027rem rgba(0,0,0,.06),.107rem 0 .107rem -.053rem rgba(0,0,0,.12),-.107rem 0 .107rem -.053rem rgba(0,0,0,.12);box-shadow:0 -.053rem .053rem -.027rem rgba(0,0,0,.06),.107rem 0 .107rem -.053rem rgba(0,0,0,.12),-.107rem 0 .107rem -.053rem rgba(0,0,0,.12)}.mdui-select-open.mdui-select-position-bottom{border-bottom-right-radius:0;border-bottom-left-radius:0}.mdui-select-open.mdui-select-position-bottom .mdui-select-menu{border-top-left-radius:0;border-top-right-radius:0}.mdui-select-selected{position:absolute;top:50%;right:.32rem;left:0;display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;-webkit-transition:left .2s cubic-bezier(0,0,.2,1);transition:left .2s cubic-bezier(0,0,.2,1);-webkit-transform:translateY(-50%);transform:translateY(-50%)}.mdui-select-open.mdui-select-position-auto .mdui-select-selected{visibility:hidden}.mdui-select-menu{position:relative;z-index:99999;height:.48rem;-webkit-box-sizing:border-box;box-sizing:border-box;margin:0 -.32rem 0 0;overflow-y:scroll;-webkit-overflow-scrolling:touch;color:rgba(0,0,0,.87);cursor:default;visibility:hidden;background-color:#fff;border-radius:.027rem;-webkit-box-shadow:0 .067rem .067rem -.04rem rgba(0,0,0,.2),0 .107rem .133rem 1px rgba(0,0,0,.14),0 .4rem 1.87rem .27rem rgba(0,0,0,.12);box-shadow:0 .067rem .067rem -.04rem rgba(0,0,0,.2),0 .107rem .133rem 1px rgba(0,0,0,.14),0 .04rem .187rem .027rem rgba(0,0,0,.12);opacity:0;-webkit-transition-timing-function:cubic-bezier(0,0,.2,1);transition-timing-function:cubic-bezier(0,0,.2,1);-webkit-transition-duration:.2s;transition-duration:.2s;-webkit-transition-property:opacity,visibility,-webkit-transform;transition-property:opacity,visibility,-webkit-transform;transition-property:transform,opacity,visibility;transition-property:transform,opacity,visibility,-webkit-transform;-webkit-transform:scaleY(0);transform:scaleY(0);will-change:transform,opacity,visibility}.mdui-select-open .mdui-select-menu{opacity:1}.mdui-select-closing .mdui-select-menu,.mdui-select-open .mdui-select-menu{overflow-y:hidden;visibility:visible;-webkit-transform:scale(1);transform:scale(1)}.mdui-select-closing .mdui-select-menu{-webkit-box-shadow:none;box-shadow:none;opacity:0}.mdui-select-menu-item{height:.64rem;overflow:hidden;line-height:.64rem;text-overflow:ellipsis;white-space:nowrap;cursor:pointer}.mdui-select-menu-item:hover{background-color:#eee}.mdui-select-menu-item[disabled]{color:rgba(0,0,0,.38)!important;cursor:default}.mdui-select-menu-item[disabled]:hover{background-color:inherit!important}select.mdui-select{background-color:transparent}select.mdui-select option{color:rgba(0,0,0,.87)}select.mdui-select::-ms-expand{display:none}"
  styleInject(css_248z$g)

  // from https://github.com/zdhxiong/mdui/
  const Select = (function() {
    /**
     * 默认参数
     */
    const DEFAULT = {
      position: 'bottom', // 下拉框位置，auto、bottom、top
      gutter: 16 // 菜单与窗口上下边框至少保持多少间距
    }
    /**
     * 调整菜单位置
     * @param _this Select 实例
     */
    const readjustMenu = function(_this) {
      // 配置参数
      const position = _this.options.position

      // mdui-select 高度
      const selectHeight = parseInt(_this.$select.clientHeight)

      // 菜单项高度
      const $menuItemFirst = _this.$items.item(0)
      const menuItemHeight = parseInt($menuItemFirst.clientHeight)
      const menuItemMargin = parseInt($menuItemFirst.style.marginTop || 0)

      // 菜单高度
      const menuWidth = parseFloat(_this.$select.clientWidth + 0.01) // 必须比真实宽度多一点，不然会出现省略号
      const menuHeight = menuItemHeight * _this.size + menuItemMargin * 2

      let transformOriginY
      let menuMarginTop

      if (position === 'bottom') {
        menuMarginTop = selectHeight
        transformOriginY = '0px'
      }

      // 设置样式
      _this.$select.style.width = menuWidth + 'px'
      _this.$menu.style.width = menuWidth + 'px'
      _this.$menu.style.height = menuHeight + 'px'
      _this.$menu.style.marginTop = menuMarginTop + 'px'
      _this.$menu.style.transformOrigin = 'center ' + transformOriginY + ' 0'
    }

    /**
     * 下拉选择
     * @param selector
     * @param opts
     * @constructor
     */
    function Select(selector, opts) {
      const _this = this

      const $selectNative = (_this.$selectNative = selector)

      $selectNative.style.display = 'none'

      _this.options = Object.assign(DEFAULT, opts || {})

      // 为当前 select 生成唯一 ID
      _this.uniqueID = Math.floor(10000000000000 * Math.random()) + Date.now()

      _this.state = 'closed'

      // 生成 select
      _this.handleUpdate()

      // 点击 select 外面区域关闭
      const listener = function(e) {
        const $target = e.target
        if (
          (_this.state === 'opening' || _this.state === 'opened') &&
          $target !== _this.$select &&
          !_this.$select.contains($target)
        ) {
          _this.close()
        }
      }
      document.addEventListener('click', listener)
      document.addEventListener('touchstart', listener)
    }

    /**
     * 对原生 select 组件进行了修改后，需要调用该方法
     */
    Select.prototype.handleUpdate = function() {
      const _this = this

      if (_this.state === 'opening' || _this.state === 'opened') {
        _this.close()
      }

      const $selectNative = _this.$selectNative

      // 当前的值和文本
      _this.value = $selectNative.value
      _this.text = ''

      // 生成 HTML
      // menu
      _this.$menu = document.createElement('div')
      _this.$menu.classList.add('mdui-select-menu')

      // menuItem
      const itemClick = function(e) {
        if (_this.state === 'closing') {
          return
        }
        const $item = e.target
        if ($item.disabled) {
          return
        }

        _this.$selected.innerText = $item.text
        $selectNative.value = $item.value
        _this.$items[_this.selectedIndex].removeAttribute('selected')
        $item.setAttribute('selected', '')
        _this.selectedIndex = $item.index
        _this.value = $item.value
        _this.text = $item.text

        const changeEvent = document.createEvent('HTMLEvents')
        changeEvent.initEvent('change', true, true)
        $selectNative.dispatchEvent(changeEvent)

        _this.close()
      }

      for (let index = 0; index < $selectNative.options.length; index++) {
        const option = $selectNative.options[index]
        const data = {
          value: option.value,
          text: option.textContent,
          disabled: option.disabled,
          selected: _this.value === option.value,
          index: index
        }

        if (_this.value === data.value) {
          _this.text = data.text
          _this.selectedIndex = index
        }

        const item = document.createElement('div')
        item.classList.add('mdui-select-menu-item')
        item.classList.add('mdui-ripple')
        item.innerText = data.text
        data.disabled ? item.setAttribute('disabled', '') : item.removeAttribute('disabled')
        data.selected ? item.setAttribute('selected', '') : item.removeAttribute('selected')
        Object.assign(item, data)

        // 点击选项时关闭下拉菜单
        item.addEventListener('click', itemClick)

        _this.$menu.appendChild(item)
      }
      _this.$items = _this.$menu.children

      // selected
      _this.$selected = document.createElement('span')
      _this.$selected.classList.add('mdui-select-selected')
      _this.$selected.innerText = _this.text

      // select
      _this.$select = document.createElement('div')
      _this.$select.classList.add('mdui-select')
      _this.$select.classList.add('mdui-select-position-' + _this.options.position)
      _this.$select.setAttribute('style', _this.$selectNative.getAttribute('style'))
      _this.$select.setAttribute('id', _this.uniqueID)
      _this.$select.style.display = ''
      _this.$select.appendChild(_this.$selected)
      _this.$select.appendChild(_this.$menu)

      const oldNode = document.getElementById(_this.uniqueID)
      if (oldNode && oldNode.parentNode) {
        oldNode.parentNode.removeChild(oldNode)
      }
      $selectNative.parentNode && $selectNative.parentNode.insertBefore(_this.$select, null)

      // 根据 select 的 size 属性设置高度，默认为 8
      _this.size = parseInt($selectNative.options.length)

      if (!_this.size || _this.size < 0) {
        _this.size = _this.$items.length
        if (_this.size > 8) {
          _this.size = 8
        }
      }

      // 点击 select 时打开下拉菜单
      _this.$select.addEventListener('click', function(e) {
        const $target = e.target

        // 在菜单上点击时不打开
        if (
          $target.classList.contains('mdui-select-menu') ||
          $target.classList.contains('mdui-select-menu-item')
        ) {
          return
        }

        _this.toggle()
      })
    }

    /**
     * 动画结束回调
     * @param inst
     */
    const transitionEndCallback = function(inst) {
      inst.$select.classList.remove('mdui-select-closing')

      if (inst.state === 'opening') {
        inst.state = 'opened'

        inst.$menu.style.overflowY = 'auto'
      }

      if (inst.state === 'closing') {
        inst.state = 'closed'

        // 恢复样式
        // inst.$select.style.width = ''
        inst.$menu.style.marginTop = ''
        inst.$menu.style.height = ''
        inst.$menu.style.width = ''
      }
    }

    /**
     * transition 动画结束回调
     * @param callback
     * @returns {transitionEnd}
     */
    function transitionEnd(callback) {
      const events = ['webkitTransitionEnd', 'transitionend']
      let i
      const _this = this

      function fireCallBack(e) {
        if (e.target !== this) {
          return
        }

        callback.call(this, e)

        for (i = 0; i < events.length; i++) {
          _this.removeEventListener(events[i], fireCallBack)
        }
      }

      if (callback) {
        for (i = 0; i < events.length; i++) {
          _this.addEventListener(events[i], fireCallBack)
        }
      }

      return this
    }

    /**
     * 打开 Select
     */
    Select.prototype.open = function() {
      const _this = this

      if (_this.state === 'opening' || _this.state === 'opened') {
        return
      }

      _this.state = 'opening'

      readjustMenu(_this)

      _this.$select.classList.add('mdui-select-open')

      transitionEnd.call(_this.$menu, function() {
        transitionEndCallback(_this)
      })
    }

    /**
     * 关闭 Select
     */
    Select.prototype.close = function() {
      const _this = this

      if (_this.state === 'closing' || _this.state === 'closed') {
        return
      }

      _this.state = 'closing'

      _this.$menu.style.overflowY = ''

      _this.$select.classList.remove('mdui-select-open')
      _this.$select.classList.add('mdui-select-closing')
      transitionEnd.call(_this.$menu, function() {
        transitionEndCallback(_this)
      })
    }

    /**
     * 切换 Select 显示状态
     */
    Select.prototype.toggle = function() {
      const _this = this

      if (_this.state === 'opening' || _this.state === 'opened') {
        _this.close()
      } else if (_this.state === 'closing' || _this.state === 'closed') {
        _this.open()
      }
    }

    return Select
  })()

  function getProto$2(Hap) {
    const Component = Hap.Component
    return {
      create() {
        const node = document.createElement('select')
        return node
      },

      appendChild(data) {
        const type = data.type
        if (type !== 'option') {
          console.warn('### Web Render ###  invalid child type "' + type + '" for select.')
          return
        }
        const child = Component.prototype.appendChild.call(this, data)
        const children = this.data.children
        if (data.ref === children[children.length - 1].ref) {
          this.select.handleUpdate()
          this.initialized = true
        }
        return child
      },

      removeChild(child) {
        Component.prototype.removeChild.call(this, child)
        this.select.handleUpdate()
      },

      insertBefore(child, before) {
        const type = child.data.type
        if (type !== 'option') {
          console.warn('### Web Render ###  invalid child type "' + type + '" for select.')
          return
        }
        Component.prototype.insertBefore.call(this, child, before)
        this.select.handleUpdate()
      },

      onAppend() {
        this.select = new Select(this.node)
        // for samples/component/thirdParty/map
        const parent = this.getParent()
        if (parent) {
          if (global.getComputedStyle(parent.node).getPropertyValue('z-index') === '0') {
            parent.node.style.zIndex = '1'
          }
          /* for hap-div 的overflow 会导致 select 弹窗没法显示 */
          if (parent.node.classList.contains('hap-div')) {
            parent.node.style.overflow = 'unset'
          }
        }
      }
    }
  }

  const attr$g = {
    disabled: function(val) {
      this.node.disabled = val && val !== 'false'
      this.select && this.select.handleUpdate()
    }
  }

  const event$6 = {
    change: {
      extra: function() {
        return {
          newValue: this.node.value,
          timestamp: Date.now()
        }
      }
    }
  }

  function init$y(Hap) {
    const Component = Hap.Component
    const extend = Hap.utils.extend

    function Select(data) {
      Component.call(this, data)
    }
    Select.prototype = Object.create(Component.prototype)
    extend(Select.prototype, getProto$2(Hap))
    extend(Select.prototype, {
      attr: extend(Object.create(Component.prototype.attr), attr$g)
    })
    extend(Select.prototype, { event: event$6 })

    Hap.registerComponent('select', Select)
  }

  var Select$1 = { init: init$y }

  const proto$f = {
    create() {
      const node = document.createElement('option')
      node.style.pointerEvents = 'auto'
      return node
    }
  }

  const attr$h = {
    disabled: function(val) {
      this.node.disabled = val && val !== 'false'
      if (this.getParent() && this.getParent().initialized) {
        this.getParent().select && this.getParent().select.handleUpdate()
      }
    },
    value: function(val) {
      this.node.setAttribute('value', val)
      if (this.getParent() && this.getParent().initialized) {
        this.getParent().select && this.getParent().select.handleUpdate()
      }
    },
    selected: function(val) {
      this.node.selected = val && val !== 'false'
      if (this.getParent() && this.getParent().initialized) {
        this.getParent().select && this.getParent().select.handleUpdate()
      }
    },
    content: function(val) {
      this.node.innerText = val
      this.node.setAttribute('content', val)
      if (this.getParent() && this.getParent().initialized) {
        this.getParent().select && this.getParent().select.handleUpdate()
      }
    }
  }

  function init$z(Hap) {
    const Atomic = Hap.Component
    const extend = Hap.utils.extend

    function Option(data) {
      this.options = []
      this.selectedIndex = 0
      Atomic.call(this, data)
    }
    Option.prototype = Object.create(Atomic.prototype)
    extend(Option.prototype, proto$f)
    extend(Option.prototype, {
      attr: extend(Object.create(Atomic.prototype.attr), attr$h)
    })

    Hap.registerComponent('option', Option)
  }

  var Option = { init: init$z }

  var css_248z$h = '.hap-video{background-color:#000;height:100%}'
  styleInject(css_248z$h)

  let Atomic$4
  function getProto$3(Hap) {
    return {
      create() {
        const node = document.createElement('video')
        node.classList.add('hap-video')
        node.classList.add('hap-element')
        node.controls = true
        node.autoplay = this.autoPlay
        node.setAttribute('playsinline', '')
        node.setAttribute('webkit-playsinline', '')
        node.setAttribute('play-status', this.playStatus)
        this.node = node
        if (this.autoPlay && this.playStatus === 'play') {
          // set timer to avoid error: uncaught DOM exception: the play() request
          // was interrupted by a new load request.
          setTimeout(() => {
            this.play()
          }, 0)
        }
        return node
      },

      bindEvents(evts) {
        Atomic$4.prototype.bindEvents.call(this, evts)

        // convert w3c-video events to hap-video events.
        // start/pause/error/seeking/timeupdate 无需转换
        const evtsMap = {
          prepared: 'loadedmetadata',
          finish: 'ended'
          // fullscreenchange: '' 暂不支持
        }
        for (const evtName in evtsMap) {
          this.node.addEventListener(
            evtsMap[evtName],
            function(type, e) {
              this.dispatchEvent(type, e.data)
            }.bind(this, evtName)
          )
        }
      },

      start() {
        let src = this.node.getAttribute('src')
        if (!src) {
          src = this.node.getAttribute('data-src')
          src && this.node.setAttribute('src', src)
        }
        try {
          this.node.play()
        } catch (err) {
          // DO NOTHING.
        }
      },

      pause() {
        this.node.pause()
      },

      stop() {
        this.node.pause()
        this.node.autoplay = false
        this.node.setAttribute('data-src', this.node.src)
        this.node.src = ''
      },

      setCurrentTime({ currenttime }) {
        this.node.currentTime = currenttime
      },

      requestFullscreen() {
        this.node.requestFullscreen()
      },

      exitFullscreen() {
        try {
          if (document.IsFullScreen || document.webkitIsFullScreen) {
            document.exitFullscreen()
          }
        } catch (e) {
          console.error(e)
        }
      },
      regiterIntersection() {
        if (!this.src) {
          return
        }
        // media.pickVideo、media.pickVideos
        if (this.src.indexOf('internal://tmp/' === 0)) {
          this.src = hybrid.getFile(this.src)
        }
      }
    }
  }

  const attr$i = {
    src(val) {
      this.src = val
      if (!this.src) {
        return
      }
      // media.pickVideo、media.pickVideos
      if (val.indexOf('internal://tmp/') === 0) {
        val = hybrid.getFile(val)
      }
      this.node.setAttribute('src', val)
    },

    playStatus(val) {
      if (val !== 'play' && val !== 'stop' && val !== 'pause') {
        val = 'pause'
      }
      if (this.playStatus === val) {
        return
      }
      this.playStatus = val
      this.node.setAttribute('play-status', val)
      this[this.playStatus]()
    },

    autoplay(val) {
      // DO NOTHING
    },

    muted(val) {
      this.node.setAttribute('muted', val)
      this.node.muted = val
    },

    orientation(val) {
      Atomic$4.prototype.unsupportPrompt.call(this, this.data.type, 'orientation')
    },

    titlebar(val) {
      Atomic$4.prototype.unsupportPrompt.call(this, this.data.type, 'titlebar')
    },

    title(val) {
      Atomic$4.prototype.unsupportPrompt.call(this, this.data.type, 'title')
    },

    playcount(val) {
      Atomic$4.prototype.unsupportPrompt.call(this, this.data.type, 'playcount')
    }
  }

  function init$A(Hap) {
    Atomic$4 = Hap.Atomic
    const extend = Hap.utils.extend

    // attrs:
    //   - autoPlay: true | false (default: false)
    //   - playStatus: play | pause | stop
    //   - src: {string}
    //   - poster: {string}
    //   - loop: true | false (default: false)
    //   - muted: true | false (default: false)
    // events:
    //   - start
    //   - pause
    //   - finish
    //   - fail
    function Video(data) {
      const autoPlay = data.attr.autoplay
      const playStatus = data.attr.playStatus
      this.autoPlay = autoPlay === true || autoPlay === 'true'
      if (playStatus !== 'play' && playStatus !== 'stop' && playStatus !== 'pause') {
        this.playStatus = 'pause'
      } else {
        this.playStatus = playStatus
      }
      Atomic$4.call(this, data)
    }
    Video.prototype = Object.create(Atomic$4.prototype)
    extend(Video.prototype, getProto$3())
    extend(Video.prototype, {
      attr: extend(Object.create(Atomic$4.prototype.attr), attr$i)
    })

    Hap.registerComponent('video', Video)
  }

  var Video = { init: init$A }

  var css_248z$i =
    '.hap-switch-container{display:flex;align-items:center;align-self:center;height:.56rem}.hap-switch{background-color:#bcbabd;cursor:pointer;display:inline-block;border-radius:.227rem;position:relative;align-self:center;vertical-align:middle;-moz-user-select:none;-khtml-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;box-sizing:content-box;background-clip:content-box;pointer-events:auto}.hap-switch-inner{width:.533rem;height:.533rem;background:#ececec;border-radius:100%;-webkit-box-shadow:0 .013333rem .04rem rgba(0,0,0,.4);box-shadow:0 .013333rem .04rem rgba(0,0,0,.4);position:absolute;top:-.0667rem;left:0;-webkit-transition:background-color .4s,left .2s;transition:background-color .4s,left .2s}'
  styleInject(css_248z$i)

  let Atomic$5
  const defaults = {
    color: '#C4E2DE',
    secondaryColor: '#BCBABD',
    jackColor: '#439286',
    jackSecondaryColor: '#ECECEC',
    className: 'hap-switch',
    disabledOpacity: 0.5,
    speed: '0.4s',
    width: 100,
    height: 60,
    // is width and height scalable ?
    scalable: false
  }

  function transitionize(element, props) {
    const transitions = []
    for (const key in props) {
      transitions.push(key + ' ' + props[key])
    }
    element.style.transition = transitions.join(', ')
    element.style.webkitTransition = transitions.join(', ')
  }

  function setPosition(comp, clicked) {
    let checked = comp.checked
    const node = comp.switchWrap
    const jack = comp.jack

    if (clicked && checked) {
      checked = false
    } else if (clicked && !checked) {
      checked = true
    }

    if (checked === true) {
      comp.checked = true

      if (window.getComputedStyle) {
        jack.style.left =
          parseFloat(window.getComputedStyle(node).width) -
          parseFloat(window.getComputedStyle(jack).width) +
          'px'
      } else {
        jack.style.left =
          parseFloat(node.currentStyle['width']) - parseFloat(jack.currentStyle['width']) + 'px'
      }

      comp.options.color && colorize(comp)
      setSpeed(comp)
    } else {
      comp.checked = false
      jack.style.left = 0
      node.style.boxShadow = 'inset 0 0 0 0 ' + comp.options.secondaryColor
      node.style.borderColor = comp.options.secondaryColor
      node.style.backgroundColor =
        comp.options.secondaryColor !== defaults.secondaryColor
          ? comp.options.secondaryColor
          : defaults.secondaryColor
      jack.style.backgroundColor =
        comp.options.jackSecondaryColor !== comp.options.jackColor
          ? comp.options.jackSecondaryColor
          : comp.options.jackColor
      setSpeed(comp)
    }
  }

  function setSpeed(comp) {
    let switcherProp = {}
    const jackProp = {
      'background-color': comp.options.speed,
      left: comp.options.speed.replace(/[a-z]/, '') / 2 + 's'
    }

    if (comp.checked) {
      switcherProp = {
        border: comp.options.speed,
        'box-shadow': comp.options.speed,
        'background-color': comp.options.speed.replace(/[a-z]/, '') * 3 + 's'
      }
    } else {
      switcherProp = {
        border: comp.options.speed,
        'box-shadow': comp.options.speed
      }
    }

    transitionize(comp.switchWrap, switcherProp)
    transitionize(comp.jack, jackProp)
  }

  function colorize(comp) {
    const nodeHeight = comp.switchWrap.offsetHeight / 2

    comp.switchWrap.style.backgroundColor = comp.options.color
    comp.switchWrap.style.borderColor = comp.options.color
    comp.switchWrap.style.boxShadow = 'inset 0 0 0 ' + nodeHeight + 'px ' + comp.options.color
    comp.jack.style.backgroundColor = comp.options.jackColor
  }

  function getClickHandler(comp) {
    if (!comp._clickHandler) {
      comp._clickHandler = function() {
        setPosition(comp, true)
        comp.dispatchEvent('change', {
          value: comp.checked
        })
      }
    }
    return comp._clickHandler
  }

  const proto$g = {
    create() {
      const emptyDiv = document.createElement('div')
      const node = document.createElement('span')
      this.jack = document.createElement('small')
      this.jack.className = 'hap-switch-inner'
      this.switchWrap = node
      node.appendChild(this.jack)
      emptyDiv.appendChild(node) // 使用一个空的div包裹，避免受父容器的布局分配宽度的影响，如/samples/functionality/form
      emptyDiv.classList.add('hap-switch-container')
      node.className = this.options.className
      node.style.width = `${70 * global.HapEnvironment.previewRatio}px`
      node.style.height = `${30 * global.HapEnvironment.previewRatio}px`
      node.style.marginLeft = `${50 * global.HapEnvironment.previewRatio}px`
      this.attr.disabled.call(this, this.data.attr && this.data.attr.disabled)
      return emptyDiv
    },

    onAppend() {
      setPosition(this)
      Atomic$5.prototype.onAppend.call(this)
    },

    enable() {
      this.disabled && (this.disabled = false)
      this.switchWrap.style.opacity = 1
      this.switchWrap.addEventListener('click', getClickHandler(this))
    },

    disable() {
      !this.disabled && (this.disabled = true)
      this.switchWrap.style.opacity = defaults.disabledOpacity
      this.switchWrap.removeEventListener('click', getClickHandler(this))
    }
  }

  const attr$j = {
    disabled: function(val) {
      this.disabled = val && val !== 'false'
      this.disabled ? this.disable() : this.enable()
    },
    checked(val) {
      this.checked = val === true || val === 'true'
      setPosition(this)
    },
    thumbColor(val) {
      this.options.jackColor = val || ''
      this.options.jackSecondaryColor = val || ''
      setPosition(this)
    },
    trackColor(val) {
      this.options.color = val || ''
      this.options.secondaryColor = val || ''
      setPosition(this)
    }
  }

  const style$f = {
    width: function(val) {
      return false
      // if (!this.options.scalable) {
      //   return
      // }
      // val = parseFloat(val)
      // if (isNaN(val) || val < 0) {
      //   val = this.options.width
      // }
      // this.width = val
      // this.setSize()
    },

    height: function(val) {
      return false
      /* if (!this.options.scalable) {
return
}
val = parseFloat(val)
if (isNaN(val) || val < 0) {
val = this.options.height
}
this.height = val
this.setSize() */
    }
  }

  const event$7 = {
    change: {
      updator() {
        return {
          attrs: {
            checked: this.checked
          }
        }
      },
      extra() {
        return {
          checked: this.checked
        }
      }
    }
  }

  function init$B(Hap) {
    Atomic$5 = Hap.Atomic
    const extend = Hap.utils.extend

    // attrs:
    //   - checked: if is checked.
    //   - disabled: if true, this component is not available for interaction.
    function Switch(data) {
      this.options = extend({}, defaults)
      this.checked = false
      this.data = data
      this.width = this.options.width
      this.height = this.options.height
      Atomic$5.call(this, data)
    }
    Switch.prototype = Object.create(Atomic$5.prototype)
    extend(Switch.prototype, proto$g)
    extend(Switch.prototype, {
      attr: extend(Object.create(Atomic$5.prototype.attr), attr$j)
    })
    extend(Switch.prototype, {
      style: extend(Object.create(Atomic$5.prototype.style), style$f)
    })
    extend(Switch.prototype, { event: event$7 })

    Hap.registerComponent('switch', Switch)
  }

  var Switch = { init: init$B }

  // const DEFAULT_FONT_SIZE = 32
  const DEFAULT_TEXT_OVERFLOW$1 = 'clip'

  function getProto$4(Hap) {
    const Component = Hap.Component
    return {
      create() {
        const node = document.createElement('a')
        node.classList.add('hap-a')
        // 如果不做为text的子组件，则自身需加上hap-text默认样式
        // samples/component/basic/text & apex-ui/pages/home
        if (!this._getProps('_isInText')) {
          node.classList.add('hap-text')
        }
        // node.style.fontSize = DEFAULT_FONT_SIZE + 'px'
        node.style.color = 'grey'
        node.style.textDecoration = 'none'
        return node
      },

      bindEvents(evts) {
        // event handler for click event will be processed
        // before the url redirection.
        Component.prototype.bindEvents.call(this, evts)
        this.node.addEventListener(
          'click',
          function(evt) {
            if (evt._alreadyFired && evt.target !== this.node) {
              // if the event target is this.node, then this is
              // just another click event handler for the same
              // target, not a handler for a bubbling up event,
              // otherwise it is a bubbling up event, and it
              // should be disregarded.
              return
            }
            evt._alreadyFired = true
            evt.preventDefault()
            if (this.uri && this.uri.indexOf('javascript:') === -1) {
              Router.navigateTo(
                {
                  uri: this.uri,
                  params: this.params
                },
                'push'
              )
            }
          }.bind(this)
        )
      }
    }
  }

  const attr$k = {
    href: function(val) {
      if (!val) {
        return console.warn('[web-render] href of <a> should not be a null value.')
      }
      this.href = val
      this.node.setAttribute('href', val)
      // parse href
      const arr = val.split('?')
      if (val.indexOf('http') === -1 && arr.length > 1) {
        this.uri = arr[0]
        const paramArray = arr[1] && arr[1].split('&')
        const params = {}
        for (let i = 0; i < paramArray.length; i++) {
          const kv = paramArray[i].split('=')
          kv.length > 1 && (params[kv[0]] = kv[1])
        }
        this.params = params
      } else {
        this.uri = val
        this.params = {}
      }
    },

    value: function(value) {
      this.node.innerHTML = ''
      if (value == null || value === '') {
        return
      }
      this.node.textContent = value
    }
  }

  const style$g = {
    lines: function(val) {
      val = parseInt(val)
      if (isNaN(val)) {
        return
      }
      if (val <= 0) {
        this.node.style.textOverflow = ''
        this.node.style.overflow = 'visible'
        this.node.style.webkitLineClamp = ''
      } else {
        const style = this.data ? this.data.style : null
        this.node.style.overflow = 'hidden'
        this.node.style.textOverflow = style ? style.textOverflow : DEFAULT_TEXT_OVERFLOW$1
        this.node.style.webkitLineClamp = val
      }
    }
  }

  function init$C(Hap) {
    const Component = Hap.Component
    const extend = Hap.utils.extend

    // attrs:
    //   - href
    function A(data) {
      Component.call(this, data)
    }

    A.prototype = Object.create(Component.prototype)
    extend(A.prototype, getProto$4(Hap))
    extend(A.prototype, {
      attr: extend(Object.create(Component.prototype.attr), attr$k)
    })
    extend(A.prototype, {
      style: extend(Object.create(Component.prototype.style), fontFamilyDesc, style$g)
    })

    Hap.registerComponent('a', A)
  }

  var A = { init: init$C }

  !(function() {
    var e = function() {
      return (function(e) {
        var t = {}
        function n(r) {
          if (t[r]) {
            return t[r].exports
          }
          var o = (t[r] = { i: r, l: !1, exports: {} })
          return e[r].call(o.exports, o, o.exports, n), (o.l = !0), o.exports
        }
        return (
          (n.m = e),
          (n.c = t),
          (n.d = function(e, t, r) {
            n.o(e, t) || Object.defineProperty(e, t, { enumerable: !0, get: r })
          }),
          (n.r = function(e) {
            'undefined' != typeof Symbol &&
              Symbol.toStringTag &&
              Object.defineProperty(e, Symbol.toStringTag, { value: 'Module' }),
              Object.defineProperty(e, '__esModule', { value: !0 })
          }),
          (n.t = function(e, t) {
            if ((1 & t && (e = n(e)), 8 & t)) {
              return e
            }
            if (4 & t && 'object' == typeof e && e && e.__esModule) {
              return e
            }
            var r = Object.create(null)
            if (
              (n.r(r),
              Object.defineProperty(r, 'default', { enumerable: !0, value: e }),
              2 & t && 'string' != typeof e)
            ) {
              for (var o in e) {
                n.d(
                  r,
                  o,
                  function(t) {
                    return e[t]
                  }.bind(null, o)
                )
              }
            }
            return r
          }),
          (n.n = function(e) {
            var t =
              e && e.__esModule
                ? function() {
                    return e.default
                  }
                : function() {
                    return e
                  }
            return n.d(t, 'a', t), t
          }),
          (n.o = function(e, t) {
            return Object.prototype.hasOwnProperty.call(e, t)
          }),
          (n.p = ''),
          n((n.s = 8))
        )
      })({
        10: function(e, t) {
          e.exports = {
            type: 'div',
            attr: {},
            children: [
              {
                type: 'web',
                attr: {
                  src: function() {
                    return this.src
                  }
                }
              }
            ]
          }
        },
        8: function(e, t, n) {
          var r = n(9)
          $app_define$('@app-component/index', [], function(e, t, o) {
            r(o, t, e),
              t.__esModule && t.default && (o.exports = t.default),
              (o.exports.template = n(10))
          }),
            $app_bootstrap$('@app-component/index', { packagerVersion: '1.8.4' })
        },
        9: function(e, t) {
          e.exports = function(e, t, n) {
            function r(e) {
              return (r =
                'function' == typeof Symbol && 'symbol' == typeof Symbol.iterator
                  ? function(e) {
                      return typeof e
                    }
                  : function(e) {
                      return e &&
                        'function' == typeof Symbol &&
                        e.constructor === Symbol &&
                        e !== Symbol.prototype
                        ? 'symbol'
                        : typeof e
                    })(e)
            }
            Object.defineProperty(t, '__esModule', { value: !0 }), (t.default = void 0)
            t.default = { public: { src: '' } }
            var o = t.default || e.exports,
              u = ['public', 'protected', 'private']
            if (
              o.data &&
              u.some(function(e) {
                return o[e]
              })
            ) {
              throw new Error(
                '页面VM对象中的属性data不可与"' +
                  u.join(',') +
                  '"同时存在，请使用private替换data名称'
              )
            }
            o.data ||
              ((o.data = {}),
              (o._descriptor = {}),
              u.forEach(function(e) {
                var t = r(o[e])
                if ('object' === t) {
                  for (var n in ((o.data = Object.assign(o.data, o[e])), o[e])) {
                    o._descriptor[n] = { access: e }
                  }
                } else {
                  'function' === t &&
                    console.warn('页面VM对象中的属性' + e + '的值不能是函数，请使用对象')
                }
              }))
          }
        }
      })
    }
    if ('undefined' == typeof window) {
      return e()
    }
    window.createWebPageHandler = e
  })()

  let isArray$2, Atomic$6

  let adapted = false
  const webSystem = {
    postMessage(msg) {
      window.parent.postMessage(msg, '*')
    },
    go(uri) {
      window.parent.history.push({ uri })
    }
  }

  function injectSystem() {
    if (!window.IS_QUICKAPP_IDE && !this.web.contentWindow.system) {
      this.web.contentWindow.system = webSystem
    }
  }

  function setIframeViewPort() {
    // 某些应用web组件是后面赋值src，一开始不要影响到原布局
    if (!this.web.getAttribute('src')) {
      return
    }
    ;(() => {
      if (adapted) {
        return
      }
      let parent = this.node
      let webWidthCanBe = ''
      let webHeightCanBe = ''

      // 有些web组件有自定义的宽高，如八字算命大师定为0宽度
      if (/\d+px/.test(this.node.style.width)) {
        webWidthCanBe = this.node.clientWidth + 'px'
      }
      if (/\d+px/.test(this.node.style.height)) {
        webHeightCanBe = this.node.clientHeight + 'px'
      }

      let flag = !webWidthCanBe || !webHeightCanBe
      if (!flag) {
        return
      }
      while (flag) {
        parent = parent.parentElement
        if (parent.style.width || parent.tagName === 'ROOT') {
          !webWidthCanBe && (webWidthCanBe = parent.clientWidth + 'px')
        }
        if (parent.style.height || parent.tagName === 'ROOT') {
          !webHeightCanBe && (webHeightCanBe = parent.clientHeight + 'px')
        }
        // 只要有一个为空就继续循环
        flag = !webWidthCanBe || !webHeightCanBe
      }
      if (webWidthCanBe) {
        this.node.style.width = webWidthCanBe
      }
      if (webHeightCanBe) {
        this.node.style.height = webHeightCanBe
      }
    })()

    const ratio = global.document.body.clientWidth / window.screen.width
    const { width: webWidth, height: webHeight } = this.node.getBoundingClientRect()
    const { width: iframeWidth, height: iframeHeight } = this.web.getBoundingClientRect()
    const contentDocument = this.web.contentDocument

    const _setViewPort = () => {
      if (adapted) {
        return
      }
      this.web.style.width = iframeWidth / ratio + 'px'
      // 若高度为0，则依父级高度
      this.web.style.height = (iframeHeight ? iframeHeight / ratio : webHeight / ratio) + 'px'
      this.web.style.transform = `scale(${ratio})`
      // 确保外壳的宽高不变
      this.node.style.width = webWidth + 'px'
      this.node.style.height = webHeight + 'px'

      // 部分应用有做自适应，改变了宽高后再刷新一次触发其自行适配（如大麦，明星实力榜，京东，养眼炫图）
      adapted = true
      contentDocument && contentDocument.location.reload()

      setTimeout(() => {
        // 延迟显示，以消除 reload 导致的闪烁
        this.web.style.visibility = 'visible'
      }, 100)
    }

    if (contentDocument) {
      contentDocument.body.style.width = iframeWidth / ratio + 'px'
      contentDocument.body.style.boxSizing = 'border-box'
      // 解决部分右边出现白条情况，如斗鱼卡、微博卡，暂时无问题，若后续发现有大影响，可再去掉
      if (contentDocument.styleSheets.length) {
        try {
          contentDocument.styleSheets[0].insertRule('::-webkit-scrollbar { width: 0; }', 0)
        } catch (e) {
          console.error(e)
        }
      }
      _setViewPort()
    } else {
      _setViewPort()
    }
  }

  function getProto$5(Hap) {
    return {
      create() {
        // Iframe's defect: can't use position:absolute and top, left, right,
        // bottom all setting to zero and use margin to leave specified
        // height for a blank area, and have to use 100% to fill the parent
        // container, otherwise it will use a unwanted default size instead.
        // Therefore a div as a iframe wrapper is needed here.
        const node = document.createElement('web')
        node.classList.add('hap-web')
        this.web = document.createElement('iframe')
        node.appendChild(this.web)
        this.web.classList.add('hap-element')
        this.web.style.border = 'none'
        this.web.style.width = '-webkit-fill-available'
        this.web.style.height = '-webkit-fill-available'
        this.web.style.transformOrigin = 'left top'
        this.web.style.visibility = 'hidden'
        node.style.width = '-webkit-fill-available'
        // node.style.height = '100%' 不设置可自动撑满
        return node
      },

      bindEvents(evts) {
        Atomic$6.prototype.bindEvents.call(this, evts)
        const that = this

        // this.web.addEventListener('error', function(e) {
        //   // chromium 不会触发error事件
        //   that.dispatchEvent('error', {
        //     errorMsg: e.message
        //   })
        // })
        this.web.addEventListener('load', function(e) {
          setIframeViewPort.call(that)

          injectSystem.call(that)

          Promise.resolve().then(() => {
            // 防止渲染两个根节点
            that.dispatchEvent('progress', { progress: 100 })
            that.dispatchEvent('pagefinish', {
              url: that.web.src
            })
            that.loaded = true
            if (that.web.contentDocument) {
              that.dispatchEvent('titlereceive', {
                title: that.web.contentDocument.title
              })
              that.loadedCallback.forEach(fn => fn.call(that))

              // 监听title变化
              const target = that.web.contentDocument.querySelector('title')
              if (target) {
                const observer = new MutationObserver(function(mutations) {
                  mutations.forEach(function(mutation) {
                    that.dispatchEvent('titlereceive', {
                      title: mutation.target.innerText
                    })
                  })
                })
                observer.observe(target, { childList: true })
              }
            }
          })
        })
      },

      // onAppend () {
      //   // 本次修改为了解决iframe中内容无法适配移动端（由于viewport设置以主页面为准），但会导致分辨率下降，如有更优解可恢复本次修改
      //   Atomic.prototype.onAppend.call(this)
      //   this.height = this.node.clientHeight
      //   this.width = this.node.clientWidth
      //   const scale = parseFloat(global.document.body.clientWidth / global.screen.width)
      //   const webWidth = this.width / scale
      //   const webHeight = this.height / scale
      //   // console.log(scale, webWidth, webHeight)
      //   this.web.style.width = `${webWidth}px`
      //   this.web.style.height = `${webHeight}px`
      //   this.web.style.transform = `scale(${scale})`
      //   this.web.style.transformOrigin = '0 0'
      // },

      reload() {
        // 由于浏览器同源策略限制暂时无法解决
        this.web.contentWindow.location.reload()
      },

      forward() {
        this.web.contentWindow.history.forward()
      },

      back() {
        this.web.contentWindow.history.back()
      },

      canForward({ callback }, performCallback) {
        performCallback && performCallback(callback)
        return [true]
      },

      canBack({ callback }, performCallback) {
        performCallback && performCallback(callback)
        return [true]
      },

      postMessage({ message }) {
        // 兼容下没有ide注入的前置js
        if (window.IS_QUICKAPP_IDE) {
          this.web.contentWindow.postMessage(message, '*')
          return
        }
        const postFn = () => {
          if (
            this.web.contentWindow &&
            this.web.contentWindow.system &&
            this.web.contentWindow.system.onmessage &&
            typeof this.web.contentWindow.system.onmessage === 'function'
          ) {
            this.web.contentWindow.system.onmessage(message)
          }
        }
        if (this.loaded) {
          postFn()
        } else {
          this.loadedCallback.push(postFn)
        }
      },

      isSupportWebRTC({ callback }, performCallback) {
        performCallback && performCallback(callback, [true])
        return [true]
      }
    }
  }

  const attr$l = {
    src: function(val) {
      if (/^\./.test(val)) {
        this.node.innerHTML =
          '<p style="text-align:center;padding-top: 50%;">web组件不支持本地网页</p>'
        return
      }
      this.dispatchEvent('progress', { progress: 0 })
      this.web.src = val
      adapted = false // 修改src要重新适配一下
      setTimeout(
        function() {
          this.dispatchEvent('pagestart', { url: val })
          this.dispatchEvent('progress', { progress: 50 })
          window.addEventListener('message', ev => {
            this.dispatchEvent('message', {
              url: this.web.src,
              message: ev.data
            })
          })
          injectSystem.call(this)
        }.bind(this),
        0
      )
    },

    enablenightmode: function(val) {
      Atomic$6.prototype.unsupportPrompt.call(this, this.data.type, 'enablenightmode')
    },
    showloadingdialog: function(val) {
      Atomic$6.prototype.unsupportPrompt.call(this, this.data.type, 'showloadingdialog')
    },
    supportzoom: function(val) {
      Atomic$6.prototype.unsupportPrompt.call(this, this.data.type, 'supportzoom')
    }
  }

  const event$8 = {
    progress: {
      updator() {
        return {}
      },
      extra() {
        return {}
      }
    }
  }

  function init$D(Hap) {
    Atomic$6 = Hap.Atomic
    const extend = Hap.utils.extend
    isArray$2 = Hap.utils.isArray

    // A component to import web pages, which works like
    // a iframe element or a webview.
    // attrs:
    //   - src
    // events:
    //   - pagestart
    //   - pagefinish
    //   - error
    function Web(data) {
      this.loadedCallback = []
      this.loaded = false
      Atomic$6.call(this, data)
    }
    Web.prototype = Object.create(Atomic$6.prototype)
    extend(Web.prototype, getProto$5())
    extend(Web.prototype, {
      attr: extend(Object.create(Atomic$6.prototype.attr), attr$l)
    })
    extend(Web.prototype, { event: event$8 })

    Hap.registerComponent('web', Web)
  }

  var Web = { init: init$D }

  const proto$h = {
    create() {
      const node = document.createElement('rich-text')
      node.classList.add('hap-richtext')
      return node
    }
  }

  // updatable attributes
  const attr$m = {
    value(val) {
      this.value = val
      // this.parse()
      this.node.setContent(val)
    }
  }
  const event$9 = {
    start: {
      updator() {
        return {}
      },
      extra() {
        return {}
      }
    },
    complete: {
      updator() {
        return {}
      },
      extra() {
        return {}
      }
    }
  }
  function init$E(Hap) {
    const Atomic = Hap.Atomic
    const extend = Hap.utils.extend

    /**
     * attrs:
     *  - value
     */
    function RichText(data) {
      Atomic.call(this, data)
    }
    RichText.prototype = Object.create(Atomic.prototype)
    extend(RichText.prototype, proto$h)
    extend(RichText.prototype, { attr: attr$m })
    extend(RichText.prototype, { event: event$9 })

    Hap.registerComponent('richtext', RichText)

    class richText extends window.HTMLElement {
      constructor() {
        super()
        this.attachShadow({ mode: 'open' })
      }

      setContent(val) {
        this.shadowRoot.innerHTML = val
      }
    }

    window.customElements.define('rich-text', richText)
  }

  var Richtext = { init: init$E }

  const allowParents = ['a', 'text', 'span']
  const Component$8 = Hap.Component

  function valueFunc(value) {
    const parent = this.getParent()
    if (parent && allowParents.indexOf(parent.data.type) > -1) {
      this.node.innerHTML = ''
      if (value == null || value === '') {
        return
      }
      this.node.textContent = value
    }
  }

  const attr$n = {
    value: function(val) {
      valueFunc.call(this, val)
    }
  }
  const prop$1 = {
    onAppend() {
      Component$8.prototype.onAppend.call(this)
      if (this.data.attr && this.data.attr.value !== undefined) {
        valueFunc.call(this, this.data.attr.value)
      }
      const parentNode = this.getParent()
      if (
        this.data._childNodesLength === 0 &&
        parentNode.data.type === 'text' &&
        parentNode.data._childNodesLength === 1 &&
        parentNode.node.firstChild.innerText === ''
      ) {
        const value = this.node.innerText
        formatText(parentNode, value, this.node)
      }
    }
  }

  function init$F(Hap) {
    const extend = Hap.utils.extend

    function Span(data, nodeType) {
      Component$8.call(this, data, nodeType)
    }
    Span.prototype = Object.create(Component$8.prototype)
    extend(Span.prototype, prop$1)
    extend(Span.prototype, {
      attr: extend(Object.create(Component$8.prototype.attr), attr$n)
    })
    extend(Span.prototype, {
      style: extend(Object.create(Component$8.prototype.style), fontFamilyDesc)
    })
    Hap.registerComponent('span', Span)
  }

  var Span = { init: init$F }

  const DEFAULT_FONT_SIZE$2 = 0.427

  const proto$i = {
    create() {
      const node = document.createElement('label')
      node.classList.add('hap-text')
      node.style.fontSize = DEFAULT_FONT_SIZE$2 + 'rem'
      return node
    }
  }

  const attr$o = {
    value: function(value) {
      this.node.innerHTML = ''
      if (value == null || value === '') {
        return
      }
      this.node.textContent = value
    },

    target: function(value) {
      if (value == null || value === '') {
        return
      }
      this.node.setAttribute('for', value)
    }
  }

  function init$G(Hap) {
    const Component = Hap.Component
    const extend = Hap.utils.extend

    function Label(data, nodeType) {
      Component.call(this, data, nodeType)
    }
    Label.prototype = Object.create(Component.prototype)
    extend(Label.prototype, proto$i)
    extend(Label.prototype, {
      attr: extend(Object.create(Component.prototype.attr), attr$o)
    })

    Hap.registerComponent('label', Label)
  }

  var Label = { init: init$G }

  class CanvasRenderingContext2D {
    constructor(context, ratio) {
      this.context = context
      this.ratio = ratio
      this.state = {
        lineDash: [0, 0],
        shadowOffsetX: 0,
        shadowOffsetY: 0,
        shadowBlur: 0,
        shadowColor: [0, 0, 0, 0],
        font: '10px sans-serif',
        fontSize: 10,
        fontWeight: 'normal',
        fontStyle: 'normal',
        fontFamily: 'sans-serif'
      }
    }
    set fillStyle(value) {
      // 对齐Android
      this.context.fillStyle = value || '#000'
    }
    get fillStyle() {
      return this.context.fillStyle
    }

    get globalAlpha() {
      return this.context.globalAlpha
    }

    set globalAlpha(value) {
      this.context.globalAlpha = value
    }

    get strokeStyle() {
      return this.context.strokeStyle
    }
    set strokeStyle(value) {
      this.context.strokeStyle = value || '#000'
    }
    get lineWidth() {
      return this.context.lineWidth
    }
    set lineWidth(value) {
      this.context.lineWidth = value * this.ratio
    }

    get lineCap() {
      return this.context.lineCap
    }

    set lineCap(value) {
      this.context.lineCap = value
    }

    get lineJoin() {
      return this.context.lineJoin
    }

    set lineJoin(value) {
      this.context.lineJoin = value
    }

    get miterLimit() {
      return this.context.miterLimit
    }

    set miterLimit(value) {
      this.context.miterLimit = value * this.ratio
    }

    get globalCompositeOperation() {
      return this.context.globalCompositeOperation
    }

    set globalCompositeOperation(value) {
      this.context.globalCompositeOperation = value
    }

    get textAlign() {
      return this.context.textAlign
    }

    set textAlign(value) {
      this.context.textAlign = value
    }

    get textBaseline() {
      return this.context.textBaseline
    }

    set textBaseline(value) {
      this.context.textBaseline = value
    }

    get font() {
      return this.context.font
    }

    set font(value) {
      // font 的设置有严格的顺序要求 https://developer.mozilla.org/zh-CN/docs/Web/CSS/font
      const font = value.replace(/(\d+\.?\d*)px/, (match, p1, offset, string) => {
        if (p1) {
          const newsize = p1 * this.ratio
          const newstr = newsize + 'px'
          return newstr
        } else {
          return string
        }
      })
      this.context.font = font
    }

    setTransform(a, b, c, d, tx, ty) {
      this.context.setTransform(...arguments)
    }

    transform() {
      this.context.transform(...arguments)
    }

    resetTransform() {
      this.context.resetTransform()
    }

    scale(a, d) {
      this.context.scale(a, d)
    }

    rotate(angle) {
      this.context.rotate(angle)
    }

    translate(tx, ty) {
      this.context.translate(tx * this.ratio, ty * this.ratio)
    }

    save() {
      this.context.save()
    }

    restore() {
      this.context.restore()
    }

    createPattern(img, pattern) {
      return this.context.createPattern(img, pattern)
    }

    createLinearGradient(x0, y0, x1, y1) {
      return this.context.createLinearGradient(
        x0 * this.ratio,
        y0 * this.ratio,
        x1 * this.ratio,
        y1 * this.ratio
      )
    }

    createRadialGradient(x0, y0, r0, x1, y1, r1) {
      return this.context.createLinearGradient(
        x0 * this.ratio,
        y0 * this.ratio,
        r0 * this.ratio,
        x1 * this.ratio,
        y1 * this.ratio,
        r1 * this.ratio
      )
    }

    strokeRect(x, y, w, h) {
      this.context.strokeRect(x * this.ratio, y * this.ratio, w * this.ratio, h * this.ratio)
    }

    clearRect(x, y, w, h) {
      this.context.clearRect(x * this.ratio, y * this.ratio, w * this.ratio, h * this.ratio)
    }

    clip() {
      this.context.clip()
    }

    resetClip() {
      this.context.resetClip()
    }

    closePath() {
      this.context.closePath()
    }

    moveTo(x, y) {
      this.context.moveTo(x.toFixed(2) * this.ratio, y.toFixed(2) * this.ratio)
    }

    lineTo(x, y) {
      this.context.lineTo(x.toFixed(2) * this.ratio, y.toFixed(2) * this.ratio)
    }

    getLineDash() {
      return this.context.getLineDash()
    }

    setLineDash(lineDash) {
      if (!Array.isArray(lineDash)) {
        console.warn('### App Canvas ### setLineDash 的参数必须为数组')
        return
      }

      const segments = []
      for (let i = 0, len = lineDash.length; i < len; i++) {
        if (typeof lineDash[i] !== 'number' || lineDash[i] < 0) {
          console.warn(
            '### App Canvas ### setLineDash 的参数必须为数组，且数组元素为数字类型，元素值不小于0'
          )
          return
        }

        if (isNaN(lineDash[i])) {
          console.warn('### App Canvas ### setLineDash 的参数必须为数组且元素值不能为 NaN')
          return
        }
        segments[i] = lineDash[i] * this.ratio
      }

      this.context.setLineDash(segments)
    }

    get lineDashOffset() {
      return this.context.lineDashOffset
    }

    set lineDashOffset(offset) {
      if (typeof offset !== 'number') {
        console.warn('### App Canvas ### lineDashOffset 值必须为数字类型')
        return
      }

      if (isNaN(offset)) {
        console.warn('### App Canvas ### lineDashOffset 值不能为 NaN')
        return
      }
      this.context.lineDashOffset = offset * this.ratio
    }

    quadraticCurveTo(cpx, cpy, x, y) {
      this.context.quadraticCurveTo(
        cpx * this.ratio,
        cpy * this.ratio,
        x * this.ratio,
        y * this.ratio
      )
    }

    bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y) {
      this.context.quadraticCurveTo(
        cp1x * this.ratio,
        cp1y * this.ratio,
        cp2x * this.ratio,
        cp2y * this.ratio,
        x * this.ratio,
        y * this.ratio
      )
    }

    arcTo(x1, y1, x2, y2, radius) {
      this.context.arcTo(
        x1 * this.ratio,
        y1 * this.ratio,
        x2 * this.ratio,
        y2 * this.ratio,
        radius * this.ratio
      )
    }

    beginPath() {
      this.context.beginPath()
    }

    fillRect(x, y, w, h) {
      this.context.fillRect(x * this.ratio, y * this.ratio, w * this.ratio, h * this.ratio)
    }

    rect(x, y, w, h) {
      this.context.rect(x * this.ratio, y * this.ratio, w * this.ratio, h * this.ratio)
    }

    fill() {
      this.context.fill()
    }

    stroke() {
      this.context.stroke()
    }

    arc(x, y, radius, startAngle, endAngle, anticlockwise) {
      x *= this.ratio
      y *= this.ratio
      radius *= this.ratio
      this.context.arc(x, y, radius, startAngle, endAngle, anticlockwise)
    }

    fillText(text, x, y) {
      this.context.fillText(text, x * this.ratio, y * this.ratio)
    }

    strokeText(text, x, y) {
      this.context.strokeText(text, x * this.ratio, y * this.ratio)
    }

    measureText(text) {
      return this.context.measureText(text)
    }

    isPointInPath(x, y) {
      return this.context.isPointInPath(x * this.ratio, y * this.ratio)
    }

    drawImage(image, sx, sy, sw, sh, dx, dy, dw, dh) {
      const numArgs = arguments.length

      if (numArgs === 3) {
        const x = parseFloat(sx) || 0.0
        const y = parseFloat(sy) || 0.0
        this.context.drawImage(image, x * this.ratio, y * this.ratio)
      } else if (numArgs === 5) {
        const x = parseFloat(sx) || 0.0
        const y = parseFloat(sy) || 0.0
        const width = parseInt(sw)
        const height = parseInt(sh)
        this.context.drawImage(
          image,
          x * this.ratio,
          y * this.ratio,
          width * this.ratio,
          height * this.ratio
        )
      } else if (numArgs === 9) {
        sx = parseFloat(sx) || 0.0
        sy = parseFloat(sy) || 0.0
        sw = parseInt(sw)
        sh = parseInt(sh)
        dx = parseFloat(dx) || 0.0
        dy = parseFloat(dy) || 0.0
        dw = parseInt(dw)
        dh = parseInt(dh)
        this.context.drawImage(
          image,
          sx * this.ratio,
          sy * this.ratio,
          sw * this.ratio,
          sh * this.ratio,
          dx * this.ratio,
          dy * this.ratio,
          dw * this.ratio,
          dh * this.ratio
        )
      }
    }
    createImageData(w, h) {
      const numArgs = arguments.length
      let imageData
      if (numArgs === 1) {
        imageData = w
        w = imageData.width
        h = imageData.height
      }
      if (w <= 0 || h <= 0) {
        w = 0
        h = 0
      }
      return this.context.createImageData(w * this.ratio, h * this.ratio)
    }
    getImageData(sx, sy, sw, sh) {
      return this.context.getImageData(
        sx * this.ratio,
        sy * this.ratio,
        sw * this.ratio,
        sh * this.ratio
      )
    }
    putImageData(imagedata, dx, dy, dirtyX, dirtyY, dirtyWidth, dirtyHeight) {
      const numArgs = arguments.length
      if (Object.prototype.toString.call(imagedata) !== '[object ImageData]') {
        try {
          imagedata = new ImageData(imagedata.data, imagedata.width, imagedata.height)
        } catch (e) {
          console.warn(`### Web Render ### canvas => putImage: imagedata 类型错误`)
        }
      }
      if (numArgs === 3) {
        this.context.putImageData(imagedata, dx * this.ratio, dy * this.ratio)
      } else {
        this.context.putImageData(
          imagedata,
          dx * this.ratio,
          dy * this.ratio,
          dirtyX * this.ratio,
          dirtyY * this.ratio,
          dirtyWidth * this.ratio,
          dirtyHeight * this.ratio
        )
      }
    }
  }

  function getProto$6(Hap) {
    return {
      create() {
        const node = document.createElement('canvas')
        return node
      },

      getContext(contextType) {
        const originContext = this.node.getContext(contextType)
        const proxyContext = new CanvasRenderingContext2D(
          originContext,
          global.HapEnvironment.previewRatio
        )
        return proxyContext
      },
      toTempFilePath(options, performCallback) {
        const node = this.node
        const $canvas = document.createElement('canvas')
        const ctx = $canvas.getContext('2d')

        const pixelRadio = 2 // TODO 获取真实的像素密度
        const x = options.x || 0
        const y = options.y || 0
        const width = options.width || node.width
        const height = options.height || node.height
        const destWidth = options.destWidth || width * pixelRadio
        const destHeight = options.destWidth || height * pixelRadio
        const fileType = options.fileType || 'image/png'
        const quality = options.quality

        $canvas.width = destWidth
        $canvas.height = destHeight

        try {
          ctx.drawImage(node, x, y, width, height, 0, 0, destWidth, destHeight)
          $canvas.toBlob(
            function(blob) {
              const uri = URL.createObjectURL(blob)
              hybrid.saveFile(uri, blob)
              performCallback(options.success, [{ uri, tempFilePath: uri }])
            },
            fileType,
            quality
          )
        } catch (e) {
          performCallback(options.fail, [{ err: e.message }])
        }
      },

      onAppend() {
        if (!this.data.style || !this.data.style.width) {
          this.node.width = this.node.parentNode.clientWidth
        }

        if (!this.data.style || !this.data.style.height) {
          this.node.height = this.node.parentNode.clientHeight
        }
      }
    }
  }

  const attr$p = {}

  const style$h = {
    height: function(val) {
      this.node.style.height = val
      if (!val) {
        return
      }
      if (val.indexOf('px') > -1) {
        this.node.height = parseInt(val)
      } else {
        const ratio = Number.parseFloat(val) / 100
        const parentNode = this.getParent(this.data._parentRef).node
        if (parentNode) {
          this.node.height = parentNode.clientHeight * ratio
        }
      }
    },

    width: function(val) {
      this.node.style.width = val
      if (!val) {
        return
      }
      if (val.indexOf('px') > -1) {
        this.node.width = parseInt(val)
      } else {
        const ratio = Number.parseFloat(val) / 100
        const parentNode = this.getParent(this.data._parentRef).node
        if (parentNode) {
          this.node.width = parentNode.clientWidth * ratio
        }
      }
    }
  }

  function init$H(Hap) {
    const Atomic = Hap.Atomic
    const extend = Hap.utils.extend

    const oriDrawImage = global.CanvasRenderingContext2D.prototype.drawImage
    global.CanvasRenderingContext2D.prototype.drawImage = function(...args) {
      if (args[0].type === 'image' && args[0].attr.id) {
        const img = global.document.getElementById(args[0].attr.id).children[0]
        args[0] = img
        img.onload = function() {
          oriDrawImage.apply(this, args)
        }.bind(this)
      } else {
        oriDrawImage.apply(this, args)
      }
    }

    function Canvas(data) {
      Atomic.call(this, data)
    }
    Canvas.prototype = Object.create(Atomic.prototype)
    extend(Canvas.prototype, getProto$6())
    extend(Canvas.prototype, {
      attr: extend(Object.create(Atomic.prototype.attr), attr$p)
    })
    extend(Canvas.prototype, {
      style: extend(Object.create(Atomic.prototype.style), style$h)
    })

    Hap.registerComponent('canvas', Canvas)
  }

  var Canvas = { init: init$H }

  var css_248z$j = '.BMap_Marker img{max-width:100%}'
  styleInject(css_248z$j)

  /**
   * 地图
   * 1. native 的坐标系支持 WGS84、GCJ02， 百度地图只支持它自己的BD09
   * 2. 百度api的 convertor.translate(point,form,to,callback)， form， 1: WGS84; 3: GCJ02 ; to, 5: BD09
   */
  let extend$4, Component$9
  let InstanceId = 0 // 地图实例id
  let hasInstalledBMap = false // 是否已经装载地图api
  let loadedBMapCallback = [] // 地图装载后的回调栈
  let afterInitCallback = [] // 地图实例化后的回调栈
  const ak = 'kERvsBM9Xkg5cAbtkyLdUnxrzF47jNIy' // 地图秘钥
  const availableChildrenTypes$2 = ['custommarker']
  // const DEFAULT_COORTYPE = ['WGS84','','','GCJ02']
  // 具有默认值得属性
  const ATTR_DEFAULT = {
    latitude: 39.90886, // 默认的经纬度是北京
    longitude: 116.39739,
    scale: 11,
    rotate: 0,
    showmylocation: false
  }
  // callout 的默认值
  const CALLOUT_DEFAULT = {
    textAlign: 'center',
    display: 'byclick',
    backgroundColor: '#fff',
    color: '#000',
    border: 'nonoe'
  }
  // polylines default
  const POLYLINES_DEFAULT = {
    strokeColor: '#666',
    strokeWeight: 50,
    strokeStyle: 'solid',
    strokeOpacity: 1
  }
  // polygons default
  const POLYGONS_DEFAULT = {
    strokeColor: '#666',
    strokeWeight: 5,
    fillColor: '#666'
  }
  // circles default
  const CIRCLES_DEFAULT = {
    strokeColor: '#666',
    fillColor: '#666',
    strokeWeight: 0,
    fillOpacity: 1,
    strokeOpacity: 1
  }

  // 安装百度地图api
  function installBMap(map) {
    if (hasInstalledBMap) {
      return
    }
    window.BMap_loadScriptTime = new Date().getTime()
    const script = document.createElement('script')
    script.src = `http://api.map.baidu.com/getscript?v=3.0&ak=${ak}`
    script.async = 'async'
    script.onload = function() {
      hasInstalledBMap = true
      loadedBMapCallback.forEach(fn => {
        fn(map)
      })
      map.dispatchEvent('loaded')
      console.log('### Web Render ### 百度地图api已经准备就绪')
    }
    script.onerror = function() {
      console.log('### Web Render ### 百度地图api加载失败')
    }
    document.getElementsByTagName('head')[0].appendChild(script)
    return script
  }

  // 调整比例大小，适配native
  function adjustZoom(zoom) {
    return zoom - 1
  }

  function initControl() {
    // 自定义控件类
    // TODO 目前还没有办法做定位
    class CustomControl extends BMap.Control {
      constructor(opt, hapInstance) {
        super()
        // 默认停靠位置和偏移量
        this.defaultAnchor = BMAP_ANCHOR_TOP_RIGHT
        this.defaultOffset = new BMap.Size(10, 10)
        this.opt = opt
        this.hapInstance = hapInstance
      }
      initialize(map) {
        const opt = this.opt
        const hapInstance = this.hapInstance

        // 一个容器，不让用户可见的容器
        const wrap = document.createElement('div')

        // 创建一个DOM元素
        const dom = document.createElement('img')
        dom.style.position = 'fixed'
        dom.classList.add('hap-map-customcontrol')
        dom.src = opt.iconPath
        opt.position && this.setPosition(dom, opt.position)
        if (opt.clickable) {
          dom.style.cursor = 'pointer'
          dom.onclick = function(e) {
            // 根据id分发事件回调
            if (opt.id) {
              hapInstance.dispatchEvent('controltap', { controlId: opt.id })
            }
          }
        }

        // 添加DOM元素到地图中
        wrap.appendChild(dom)
        map.getContainer().appendChild(wrap)
        // 将DOM元素返回
        return wrap
      }
      setPosition(dom, position) {
        if (position.left) {
          dom.style.left = `${getLength(position.left)}`
        } else if (position.right) {
          dom.style.right = `${getLength(position.right)}`
        }
        if (position.top) {
          dom.style.top = `${getLength(position.top)}`
        } else if (position.bottom) {
          dom.style.bottom = `${getLength(position.bottom)}`
        }
        if (position.width) {
          dom.style.width = `${getLength(position.width)}`
        }
        if (position.height) {
          dom.style.height = `${getLength(position.height)}`
        }
      }
    }
    global.CustomControl = CustomControl
  }
  loadedBMapCallback.push(initControl)

  const prop$2 = {
    create: function() {
      const node = document.createElement('map')
      node.setAttribute('data-id', this.id)
      if (!node.getAttribute('id')) {
        node.setAttribute('id', this.id)
      }
      node.style.pointerEvents = 'auto'
      return node
    },
    onAppend() {
      this.initMap()
      Component$9.prototype.onAppend.call(this)
    },
    appendChild(data) {
      const type = data.type
      if (availableChildrenTypes$2.indexOf(type) === -1) {
        console.warn('### Web Render ###  invalid child type "' + type + '" for map.')
        return
      }
      const componentManager = this.getComponentManager()
      const child = componentManager.createElement(data)
      const fn = () => {
        this.childNode.push(child)
        this.node.appendChild(child.node)
      }
      loadedBMapCallback.unshift(fn)
      return child
    },
    initMap() {
      this.bridge(() => {
        const custommarkerList = this.childNode
        const options = this.options
        const map = new BMap.Map(this.id)
        const convertor = new BMap.Convertor()
        this.convertor = convertor
        // 创建地图实例
        // TODO 需要转化坐标系
        this.translate(new BMap.Point(options.longitude, options.latitude), this.coordType).then(
          points => {
            const point = points[0]
            // 初始化地图，设置中心点坐标和地图级别
            map.centerAndZoom(point, adjustZoom(options.scale))
            // 支持滚轮缩放地图
            // TODO 目前无效，貌似被页面的滚动截获了
            map.enableScrollWheelZoom()
            // 绘制custommarker
            this.drawCustommarker(map, custommarkerList)

            this.mapInstance = map
            this.markers = [] // 标记集合
            this.polylines = [] // 折线集合
            this.polygons = [] // 多边形集合
            this.groundoverlays = [] // 地面覆盖物集合
            map.addEventListener('click', e => {
              this.dispatchEvent('tap', [{ latitude: e.point.lat, longitude: e.point.lng }])
            })
            map.addEventListener('dragend', e => {
              // TODO {southwest, northeast}, 两个参数都是一个object包含 {coordType: 'gcj02', latitude: e.point.lat, longitude: e.point.lng}， 西南和东北两个点的经纬度
              this.dispatchEvent('regionchange', [
                { coordType: 'gcj02', latitude: e.point.lat, longitude: e.point.lng }
              ])
            })
            map.addEventListener('zoomend', e => {
              console.log('### Web Render ### web预览的缩放不支持获取坐标参数')
              this.dispatchEvent('regionchange', [
                { coordType: 'gcj02', latitude: undefined, longitude: undefined }
              ])
            })
            afterInitCallback.forEach(fn => {
              fn.call(this)
            })
          }
        )
      })
    },
    bridge(fn) {
      // 防止map api 没有完毕，就执行回调函数报错
      if (hasInstalledBMap) {
        fn.call(this)
      } else {
        loadedBMapCallback.push(fn)
      }
    },
    afterInit(fn) {
      // 确保fn在地图初始化之后调用
      if (this.mapInstance) {
        fn.call(this)
      } else {
        afterInitCallback.push(fn)
      }
    },
    translate(points, fromType, toType) {
      // 百度api的 convertor.translate(point,form,to,callback)， form， 1: WGS84; 3: GCJ02 ; to, 5: BD09
      return new Promise((resolve, reject) => {
        const convertor = this.convertor
        let to = 5
        const from = fromType ? (fromType.toUpperCase() === 'GCJ02' ? 3 : 1) : 3
        if (toType) {
          toType = toType.toUpperCase()
          if (toType === 'GCJ02') {
            to = 3
          } else if (toType === 'WGS84') {
            to = 1
          }
        }
        const pointArray = isArray(points) ? points : [points]
        convertor.translate(pointArray, from, to, data => {
          if (data.status === 0) {
            resolve(data.points)
          } else {
            console.log('### Web Render ### 坐标系转化失败')
            reject()
          }
        })
      })
    },
    translateArray(points) {
      // 百度api的 convertor.translate(point,from,to,callback). from, 1: WGS84; 3: GCJ02 ; to, 5: BD09
      // translate 接口一次最大量的points为10个
      // 数组类转化接口专用
      return new Promise((resolve, reject) => {
        const convertor = this.convertor
        const resPoints = []
        let getNum = 0 // 已经获取到数据的个数
        const len = points.length
        points.forEach((point, index) => {
          const p = new BMap.Point(point.longitude, point.latitude)
          const from = point.coordType ? (point.coordType.toUpperCase() === 'GCJ02' ? 3 : 1) : 3
          convertor.translate([p], from, 5, data => {
            if (data.status === 0) {
              resPoints[index] = data.points[0]
              if (++getNum === len) {
                resolve(resPoints)
              }
            } else {
              console.log('### Web Render ### 坐标系转化失败')
              reject()
            }
          })
        })
      })
    },
    drawCustommarker(map, custommarkerList) {
      custommarkerList.forEach(ele => {
        const custommarkerNode = ele.node
        function custommarkerOverlay(point) {
          this._point = point
        }
        custommarkerOverlay.prototype = new BMap.Overlay()
        custommarkerOverlay.prototype.initialize = function(map) {
          this._map = map
          let div = (this._div = document.createElement('div'))
          div.style.position = 'absolute'
          div.appendChild(custommarkerNode)
          let arrow = (this._arrow = document.createElement('div'))
          arrow.style.position = 'absolute'
          arrow.style.width = '11px'
          arrow.style.height = '10px'
          arrow.style.top = '22px'
          arrow.style.left = '10px'
          div.appendChild(arrow)
          map.getPanes().labelPane.appendChild(div)
          return div
        }
        custommarkerOverlay.prototype.draw = function() {
          const map = this._map
          const pixel = map.pointToOverlayPixel(this._point)
          this._div.style.left = pixel.x - parseInt(this._arrow.style.left) + 'px'
          this._div.style.top = pixel.y - 30 + 'px'
        }
        const lng = custommarkerNode.custommarkerattr.longitude
        const lat = custommarkerNode.custommarkerattr.latitude
        let myCustommarkerOverlay = new custommarkerOverlay(new BMap.Point(lng, lat))
        map.addOverlay(myCustommarkerOverlay)
      })
    }
  }

  // 地图的方法
  const methods$2 = {
    convertCoord(options, performCallback) {
      const from = 'wgs84'
      let to = 'GCJ02'
      if (options.from && options.from !== 'wgs84') {
        console.log('### Web Render ### convertCoord from 属性只支持wgs84')
      }
      if (options.to) {
        if (options.to === 'wgs84' || options.to === 'gcj02') {
          to = options.to
        } else {
          console.log('### Web Render ### convertCoord to 属性只支持wgs84, gcj02')
        }
      }
      this.afterInit(() => {
        this.translate(new BMap.Point(options.longitude, options.latitude), from, to)
          .then(points => {
            const point = points[0]
            performCallback(options.success, [{ latitude: point.lat, longitude: point.lng }])
            performCallback(options.complete)
          })
          .catch(() => {
            performCallback(options.fail)
          })
      })
    },
    getCenterLocation({ success, fail, complete }, performCallback) {
      this.afterInit(() => {
        const map = this.mapInstance
        const point = map.getCenter()
        performCallback(success, [{ latitude: point.lat, longitude: point.lng }])
        performCallback(complete)
      })
    },
    getCoordType({ success, fail, complete }, performCallback) {
      performCallback(success, [{ coordType: 'gcj02' }])
      performCallback(complete)
    },
    translateMarker() {},
    moveToMyLocation() {
      this.afterInit(() => {
        const location = new BMap.Geolocation()
        const map = this.mapInstance
        location.getCurrentPosition(
          r => {
            if (location.getStatus() === BMAP_STATUS_SUCCESS) {
              map.panTo(r.point)
            }
          },
          { enableHighAccuracy: true }
        )
      })
    },
    includePoints() {},
    getRegion() {},
    getScale({ success, fail, complete }, performCallback) {
      performCallback(success, [{ scale: this.options.scale }])
      performCallback(complete)
    },
    getSupportedCoordTypes({ success, fail, complete }, performCallback) {
      performCallback(success, [['wgs84', 'gcj02']])
      performCallback(complete)
    },
    setCompassPosition() {
      Component$9.prototype.unsupportPrompt.call(this, this.data.type, 'setCompassPosition()')
    },
    setScalePosition() {
      Component$9.prototype.unsupportPrompt.call(this, this.data.type, 'setScalePosition()')
    },
    setZoomPosition() {
      Component$9.prototype.unsupportPrompt.call(this, this.data.type, 'setZoomPosition()')
    }
  }

  const attr$q = {
    showscale(val) {
      Component$9.prototype.unsupportPrompt.call(this, this.data.type, 'showscale')
    },
    showzoom(val) {
      Component$9.prototype.unsupportPrompt.call(this, this.data.type, 'showzoom')
    },
    latitude(val) {
      if (val) {
        this.options.latitude = val
        // 必须两个值都设置才会生效
        if (this.tempPoint) {
          if (this.mapInstance) {
            this.translate(new BMap.Point(this.tempPoint, val), this.coordType).then(points => {
              this.mapInstance.panTo(points[0])
            })
          }
          this.tempPoint = null
        } else {
          // 缓存起来
          this.tempPoint = val
        }
      }
    },
    longitude(val) {
      if (val) {
        this.options.longitude = val
        // 必须两个值都设置才会生效
        if (this.tempPoint) {
          if (this.mapInstance) {
            this.translate(new BMap.Point(val, this.tempPoint), this.coordType).then(points => {
              this.mapInstance.panTo(points[0])
            })
          }
          this.tempPoint = null
        } else {
          // 缓存起来
          this.tempPoint = val
        }
      }
    },
    coordtype(val) {
      if (['wgs84', 'gcj02'].indexOf(val) === -1) {
        console.warn('### Web Render ### coordtype only support ["wgs84", "gcj02"]')
      } else {
        this.coordType = val
        if (this.mapInstance) {
          this.translate(
            new BMap.Point(this.options.longitude, this.options.latitude),
            this.coordType
          ).then(points => {
            this.mapInstance.panTo(points[0])
          })
        }
      }
    },
    showmylocation(val) {
      if (val) {
        this.afterInit(() => {
          const location = new BMap.Geolocation()
          const map = this.mapInstance
          location.getCurrentPosition(
            r => {
              if (location.getStatus() === BMAP_STATUS_SUCCESS) {
                this.mk = new BMap.Marker(r.point)
                map.addOverlay(this.mk)
                map.panTo(r.point)
              } else {
                console.log('failed showmylocation' + this.getStatus())
                map.removeOverlay(this.mk)
              }
            },
            { enableHighAccuracy: true }
          )
        })
      } else {
        this.afterInit(() => {
          const map = this.mapInstance
          map.removeOverlay(this.mk)
        })
      }
    },
    scale(val) {
      try {
        const scale = parseFloat(val)
        if (scale >= 4 && scale <= 20) {
          this.options.scale = val
          if (this.mapInstance) {
            const map = this.mapInstance
            // 减一的效果会与native的效果比较接近
            map.setZoom(adjustZoom(val))
          }
        }
      } catch (e) {
        throw new Error(e)
      }
    },
    rotate(val) {
      // native 旋转的时候，左上角还会有一个指南针实时变动
      // 注：没找到api 用rotate hack
      // this.node.style.transform = `rotate(${-val}deg)`
    },
    /**
     * markers
     * @param {array} arr - marker的集合数组
     * TODO 没有对应api的接口，
     * 属性： opacity, width, height, anchor
     *
     */
    markers(arr) {
      this.afterInit(() => {
        const map = this.mapInstance
        if (!arr) {
          return
        }
        if (!isArray(arr)) {
          console.warn('### Web Render ### 属性markers必须为一个数组')
          return
        }
        // 先清除已有的标记
        this.markers.forEach(marker => {
          map.removeOverlay(marker)
        })
        arr.forEach(item => {
          const options = Object.create(null)
          // latitude, longitude, iconPath 为必填项
          this.translate(new BMap.Point(item.longitude, item.latitude), item.coordType).then(
            points => {
              const point = points[0]
              // [rule] offsetX, offsetY 只有一个值是不生效的；
              // TODO 设置了两者之后，坐标位置将不再生效
              if (item.offsetX && item.offsetY) {
                // options.offset = new BMap.Size(item.offsetX, item.offsetY)
                // 【备注】options.offset 设置的是相对于marker原来坐标的偏移值，不是相对于原点的偏移值
                console.warn(
                  '### Web Render ### offsetX, offsetY 在预览效果中不可用，请在移动设备上调试'
                )
              }
              if (!item.iconPath) {
                // native 的iconPath 是必填的
                console.wran('### Web Render ### marker 的 iconPath 是必填项')
              } else {
                let icon
                if (item.width && item.height) {
                  // 设置的标记图宽高度
                  icon = new BMap.Icon(item.iconPath, new BMap.Size(item.width, item.height))
                } else {
                  // TODO: 默认是图片的实际宽高
                  icon = new BMap.Icon(item.iconPath, new BMap.Size(48, 48))
                }
                options.icon = icon
              }
              if (item.rotate) {
                options.rotation = -item.rotate
              }
              if (item.title) {
                options.title = item.title
              }
              const marker = new BMap.Marker(point, options)
              if (isObject(item.callout)) {
                //
                const callout = item.callout
                const labelOptions = Object.assign({}, CALLOUT_DEFAULT, {
                  content: callout.content
                })
                if (callout.fontSize) {
                  labelOptions.fontSize = `${callout.fontSize}px`
                }
                if (callout.borderRadius) {
                  labelOptions.borderRadius = `${callout.borderRadius}px`
                }
                if (callout.padding) {
                  labelOptions.padding = `${callout.padding}px`
                }
                if (callout.textAlign) {
                  labelOptions.textAlign = callout.textAlign
                }
                if (callout.display) {
                  labelOptions.display = callout.display
                }
                // 选择Label 不选择infoWindow 的原因是由于Label 支持设置style, 与原生比较接近
                // TODO 应该可以选择自定义控件完成这个东西,待研究
                const label = new BMap.Label(callout.content, labelOptions)
                map.addOverlay(label)
                if (labelOptions.display === 'byclick') {
                  label.hide()
                  //TODO 点击其它地方还要隐藏
                  marker.addEventListener('click', () => {
                    label.show()
                  })
                }
                label.addEventListener('click', () => {
                  this.dispatchEvent('callouttap', { markerId: item.id })
                })
                marker.setLabel(label)
              }
              if (item.zIndex) {
                marker.setZindex(item.zIndex)
              }
              marker.addEventListener('click', () => {
                this.dispatchEvent('markertap', { markerId: item.id })
              })
              map.addOverlay(marker)
              // map.panTo(point)
              this.markers.push(marker)
            }
          )
        })
      })
    },
    polylines(arr) {
      this.afterInit(() => {
        const map = this.mapInstance
        if (!arr) {
          return
        }
        if (!isArray(arr)) {
          console.warn('### Web Render ### 属性polylines必须为一个数组')
          return
        }
        // 先清除已有的标记
        this.polylines.forEach(polyline => {
          map.removeOverlay(polyline)
        })
        arr.forEach(item => {
          const options = Object.assign({}, POLYLINES_DEFAULT)
          if (item.color) {
            options.strokeColor = item.color
          }
          if (item.width) {
            options.strokeWeight = parseFloat(item.width)
          }
          if (item.dotted === true || item.dotted === 'true') {
            // 虚线，没有dotted api； 使用dashed代替
            options.strokeStyle = 'dashed'
          }
          if (item.arrowLine || item.arrowIconPath || item.zIndex) {
            console.warn(
              '### Web Render ### web预览阶段不支持 polylines 的 arrowLine,zIndex,arrowIconPath 属性'
            )
          }
          this.translateArray(item.points).then(points => {
            const polyline = new BMap.Polyline(points, options)
            this.polylines.push(polyline)
            map.addOverlay(polyline)
          })
        })
      })
    },
    circles(arr) {
      this.afterInit(() => {
        const map = this.mapInstance
        if (!arr) {
          return
        }
        if (!isArray(arr)) {
          console.warn('### Web Render ### 属性circles必须为一个数组')
          return
        }

        arr.forEach(item => {
          const options = Object.assign({}, CIRCLES_DEFAULT)
          if (item.borderColor) {
            options.strokeColor = item.borderColor
          }
          if (item.borderWidth) {
            options.strokeWeight = item.borderWidth
          }
          if (item.fillColor) {
            options.fillColor = item.fillColor
          }
          if (item.zIndex) {
            console.warn('### Web Render ### web预览阶段不支持 circles 的zIndex 属性')
          }
          this.translate(new BMap.Point(item.longitude, item.latitude), item.coordType).then(
            points => {
              // TODO radius 半径的单位是米，待确认百度的单位
              const circle = new BMap.Circle(points[0], item.radius, options)
              map.addOverlay(circle)
            }
          )
        })
      })
    },
    groundoverlays(arr) {
      this.afterInit(() => {
        const map = this.mapInstance
        if (!arr) {
          return
        }
        if (!isArray(arr)) {
          console.warn('### Web Render ### 属性 groundoverlays 必须为一个数组')
          return
        }
        // 先清除已有的标记
        this.groundoverlays.forEach(groundoverlay => {
          map.removeOverlay(groundoverlay)
        })
        arr.forEach(item => {
          const options = Object.create(null)
          // TODO 测试拼接路径，解决路径问题后需要去掉
          // const src = item.iconPath.replace('.', TEST_PATH)
          options.imageURL = '/samples/common/logo.png'
          if (item.opacity) {
            options.opacity = item.opacity
          }
          if (item.zIndex) {
            console.warn('### Web Render ### web预览阶段不支持 groundoverlays 的zIndex 属性')
          }
          if (item.visible === false || item.visible === 'false') {
            // console.warn('### Web Render ### web预览阶段不支持 groundoverlays 的 visible 属性')
            return
          }
          this.translateArray([item.southWest, item.northEast]).then(points => {
            const bound = new BMap.Bounds(points[0], points[1])
            const groundoverlay = new BMap.GroundOverlay(bound, options)
            // 注意：只有setImageURL才有效，设置options。imageURL 无效
            groundoverlay.setImageURL('/samples/common/logo.png')
            this.groundoverlays.push(groundoverlay)
            map.addOverlay(groundoverlay)
          })
        })
      })
    },
    controls(arr) {
      this.afterInit(() => {
        const map = this.mapInstance
        if (!arr) {
          return
        }
        if (!isArray(arr)) {
          console.warn('### Web Render ### 属性 controls 必须为一个数组')
          return
        }

        arr.forEach(item => {
          const options = Object.assign({}, POLYLINES_DEFAULT)
          options.clickable = true
          // TODO 测试拼接路径，解决路径问题后需要去掉
          const src = item.iconPath.replace('.', '/samples/component/thirdParty/map')
          options.iconPath = src
          if (item.id) {
            options.id = item.id
          }
          if (isObject(item.position)) {
            options.position = item.position
          }
          if (item.clickable === false || item.clickable === 'false') {
            options.clickable = false
          }
          const control = new CustomControl(options, this)
          map.addControl(control)
        })
      })
    },
    polygons(arr) {
      this.afterInit(() => {
        const map = this.mapInstance
        if (!arr) {
          return
        }
        if (!isArray(arr)) {
          console.warn('### Web Render ### 属性polygons必须为一个数组')
          return
        }
        // 先清除已有的标记
        this.polygons.forEach(polygon => {
          map.removeOverlay(polygon)
        })
        arr.forEach(item => {
          const options = Object.assign({}, POLYGONS_DEFAULT)
          if (item.strokeColor) {
            options.strokeColor = item.strokeColor
          }
          if (item.strokeWidth) {
            options.strokeWeight = parseFloat(item.strokeWidth)
          }
          if (item.fillColor) {
            options.fillColor = item.fillColor
          }
          if (item.zIndex) {
            console.warn('### Web Render ### web预览阶段不支持 polygons 的zIndex 属性')
          }
          this.translateArray(item.points).then(points => {
            const polygon = new BMap.Polygon(points, options)
            this.polygons.push(polygon)
            map.addOverlay(polygon)
          })
        })
      })
    }
  }

  const style$i = {
    mylocation(val) {
      // 顺序设置 mylocation-fill-color mylocation-stroke-color mylocation-icon-path， 不设置的为默认值
      console.log('### Web Render ### "mylocation" 在预览中不可用，需要使用移动设备调试')
    },
    mylocationFillColor(val) {
      console.log('### Web Render ### "mylocation-fill-color" 在预览中不可用，需要使用移动设备调试')
    },
    mylocationStrokeColor(val) {
      console.log(
        '### Web Render ### "mylocation-stroke-color" 在预览中不可用，需要使用移动设备调试'
      )
    },
    mylocationIconPath(val) {
      console.log('### Web Render ### "mylocation-icon-path" 在预览中不可用，需要使用移动设备调试')
    }
  }

  const event$a = {}

  function init$I(Hap) {
    Component$9 = Hap.Component
    extend$4 = Hap.utils.extend
    function Map(data) {
      installBMap(this)
      const attr = data.attr || {}
      this.childNode = []
      this.id = attr.id || `hap-map-id-${InstanceId++}`
      this.options = Object.assign({}, ATTR_DEFAULT)
      Component$9.call(this, data)
    }
    Map.prototype = Object.create(Component$9.prototype)
    extend$4(Map.prototype, Object.assign({}, methods$2, prop$2))
    extend$4(Map.prototype, {
      attr: extend$4(Object.create(Component$9.prototype.attr), attr$q)
    })
    extend$4(Map.prototype, {
      style: extend$4(Object.create(Component$9.prototype.style), style$i)
    })
    extend$4(Map.prototype, { event: event$a })
    Hap.registerComponent('map', Map)
  }

  var map = { init: init$I }

  let Component$a

  const proto$j = {
    create() {
      const node = document.createElement('custommarker')
      node.classList.add('hap-div')
      return node
    }
  }

  const attr$r = {
    custommarkerattr(options = {}) {
      this.node.custommarkerattr = options
    }
  }

  function init$J(Hap) {
    Component$a = Hap.Component
    const extend = Hap.utils.extend

    function Custommarker(data) {
      Component$a.call(this, data)
    }
    Custommarker.prototype = Object.create(Component$a.prototype)
    extend(Custommarker.prototype, proto$j)
    extend(Custommarker.prototype, {
      attr: extend(Object.create(Component$a.prototype.attr), attr$r)
    })
    Hap.registerComponent('custommarker', Custommarker)
  }

  var custommarker = { init: init$J }

  var Map$1 = {
    init: function(Hap) {
      Hap.install(map)
      Hap.install(custommarker)
    }
  }

  var css_248z$k =
    '.hap-rating{display:flex;position:relative;width:6.667rem;height:1.333rem;justify-content:space-around;overflow:hidden}.hap-rating>div{position:absolute;top:0;left:0;width:100%;height:100%;background-repeat:repeat-x}'
  styleInject(css_248z$k)

  let Atomic$7
  const DEFAULTS = {
    // width: 6.667 * global.HapEnvironment.previewRem,
    numstars: 5, // 星星的数量
    rating: 0,
    stepsize: 0.5,
    indicator: false,
    starBackground:
      'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJAAAACQCAYAAADnRuK4AAAACXBIWXMAAAsTAAALEwEAmpwYAAAF42lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDAgNzkuMTYwNDUxLCAyMDE3LzA1LzA2LTAxOjA4OjIxICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKE1hY2ludG9zaCkiIHhtcDpDcmVhdGVEYXRlPSIyMDE4LTAxLTAzVDE1OjI1OjIyKzA4OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAxOC0wMS0wNVQxMDozMTowMSswODowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAxOC0wMS0wNVQxMDozMTowMSswODowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDowZjg1NzEzOS1mYWY1LTQ5MTgtODFiNC1jNWI1OTRjNTRiYjMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6YmM3ZDZjOTMtMmEwNS00Zjk4LTk3NzMtMDYwZjVmNGM0YTZhIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6YmM3ZDZjOTMtMmEwNS00Zjk4LTk3NzMtMDYwZjVmNGM0YTZhIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpiYzdkNmM5My0yYTA1LTRmOTgtOTc3My0wNjBmNWY0YzRhNmEiIHN0RXZ0OndoZW49IjIwMTgtMDEtMDNUMTU6MjU6MjIrMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoTWFjaW50b3NoKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6MGY4NTcxMzktZmFmNS00OTE4LTgxYjQtYzViNTk0YzU0YmIzIiBzdEV2dDp3aGVuPSIyMDE4LTAxLTA1VDEwOjMxOjAxKzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKE1hY2ludG9zaCkiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+fv/GbgAADLVJREFUeJztnXuwVVUdxz8Xr4igCCqYoKloXbWAzBOKmpqPctQiTSs1wUcSiqRZjowzTE1jjTJlLyPKScK0otFSy0bNcnxCegwpVPKROkqYylseyoXTH799uofLPef81mOfs/be6zOz595zzlp7/+6+37PW2mv9fr/VUalUiERs6dduAyLZJgoo4kQUUMSJKKCIE1FAESeigCJORAFFnIgCijgRBRRxIgoo4kQUUMSJTtcTlMtlH3aEyrjk5+NttSJFSqWSU31nAeWcaUAFmNhuQ0IldmH1GQ58NjmGt9mW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',
    starSecondary: null,
    starForeground:
      'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJAAAACQCAYAAADnRuK4AAAACXBIWXMAAAsTAAALEwEAmpwYAAAFFmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDAgNzkuMTYwNDUxLCAyMDE3LzA1LzA2LTAxOjA4OjIxICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKE1hY2ludG9zaCkiIHhtcDpDcmVhdGVEYXRlPSIyMDE4LTAxLTAzVDE1OjI1OjIyKzA4OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAxOC0wMS0wM1QxNjo0Mjo0NiswODowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAxOC0wMS0wM1QxNjo0Mjo0NiswODowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoxZjNkMzAxYy0xZjc4LTQyNzktYmU4Ny1jYjQ2YTkyZjllZjYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MWYzZDMwMWMtMWY3OC00Mjc5LWJlODctY2I0NmE5MmY5ZWY2IiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6MWYzZDMwMWMtMWY3OC00Mjc5LWJlODctY2I0NmE5MmY5ZWY2Ij4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDoxZjNkMzAxYy0xZjc4LTQyNzktYmU4Ny1jYjQ2YTkyZjllZjYiIHN0RXZ0OndoZW49IjIwMTgtMDEtMDNUMTU6MjU6MjIrMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoTWFjaW50b3NoKSIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz41FN+KAAAI80lEQVR4nO2da2xcxRWAP8emhLREJoQEFWgRCMz7FTc4pYWqUEC8hShpKCVKoRBIolZA1SCVf7QiFQWpQn3wfgkBgn8I8RBIUJUWMEShVEKlQghIHwkhJgERhM32x7nGa7Ne37szc+fMzvmkle313bnn7n47d+7M3DM9jUYDw+iUWbEDMNLGBDKcMIEMJ0wgwwkTyHDCBDKcMIEMJ0wgwwkTyHDCBDKcMIEMJ/pcCxgb7vcQhloWFz9fjBpFQHoHR5xe7yxQl7MGaAAXxQ5EK3YKm54FwPnFY0HkWNRiAk3PpcCXgJ2Bn0SORS0mUGv6gJVNf6/ETvctMYFacy6wV9PfewPnxAlFNyZQa1a3eG5N7VEkgAn0RY4Evt3i+eOBw2uORT0m0BdpV9NYLTQFE2gy84AL2vz/h8BuNcWSBCbQZC4Gdmnz/znAj2uKJQlMoAlmAVeU2O4K7H37HHsjJjgD2LfEdvsBp4UNJR1MoAmqNJBbXeZniQkkHAScWGH7k4EDA8WSFCaQsBroqbB9D1YLASYQwFxgeQevWw58xXMsyWECdS5Cp+J1FbkL5HoqWuUrkFTJXSDXxvDBwEmeYkmS3AXy0RDOujGds0C+OgTPBL7uoZwkyVmgVfg5/rJDIF1JrgLNAVZ4LO8S2g/Cdi25CnQhfqdlzAOWeSwvGXIVKETDN8vGdI4CnUCYqalHA8cFKFc1OQoUclpqdlNecxNob+DsgOWfC3w1YPnqyE2gywl7g+BOwGUBy1dHTgLVdYvyZcgt0VmQk0BLgT1q2M9C4Lwa9qOCnASqs4GbTWM6F4GGgMGa97eoxv1FIxeBYnTyZVEL5SDQQuD7Efa7FJgfYb+1koNA44mi6mY2GSSm6naBdmJyoqi6WQn0Rtx/cLpdoNg9w18jbM93dLoxbVsf0t+zAPhZ3FAAuBL4F7C5eIzGDccvKQjUg8y3WTDlscc0z+1GtZsEQ3McsKH4vQFsBTYVj81Nv7d67v3iNWqJJdBc2kvQ/PfupCF6Gca/DPOQ26lnYhTYQnvJmp/b5j/k9vj6YGZTrnYY/znb0367nT6kG2Jhye13MCHXTLXbpmJ7J3qqLvs9Nty/Gvgek+XI/hbfRNnOZKme6h0cublKAZ1chd2NjGwPIbfGmDzpsivyGQ4hfWV3Vy2gskC9gyPbkWRMt1Z9raGWW4Azi8+2EpVPYc2MDfevBX6NrqseozwN4JrewZF1nRbgJBDA2HD/UiZOa0Y67ACW9w6OPORSiI+e6AeR7F5bPJRl1MN7yGfmJA/4G8r4C7AE6XE1dPMG8lk976Mwn2NhXgMzguD9i+57MNVb1Wh45wECNDVCjMbvAH4A/CZA2UZnXI8s4fCJ74JDTedoAL9A5sOMBdqHMTOjyKS2awg0KBt6PtCfkE7Hyh1UhjPbgNOB20LupI4JZY8j629trGFfhvAu8p4/GXpHdc1I3AAcy8S8GCMc65H3+tU6dlbnlNaNyLfi8Rr3mRuPISsr/ruuHdY9J3o7kpTylpr3mwN/AM4CPqxzpzEm1Y8iCQjWony6ZiI0gJ8jiT5rv+KNeVfGOqS/yHlWXMbsAM4HbogVQOzbeh5CMr3bQGx1NgPfBR6OGURsgcAGYjvhn8gswr/GDkSDQCADsUOITEZ7/ox84d6MHQjoEQjkNHYiMr/IaM39yA0N78cOZBxNAoEM9i1DGtjGZH6FJEj3PiDqgjaBQC5L1yJZNbrqNuAOGUXWs/8lCrs9NAo0zq3YQOw2ZEWhO2IHMh2aBQJ4AvgWeQ7Evo3cV/9U7EDaoV0gkEHB3AZiX0GuSl+LHchMpCAQ5DUQ+ygyIPqf2IGUIRWBYGIg9s7YgQTkNuAc4KPIcZQmJYFArkheih1EQF4gsSnAqQkE0qjuVpI7NhNIF8kdW2oC7YMkruxW9gf2jB1EFVITKIcVAZM6xtQESq6K74CkjtEE0kdSx5iSQHMJs1iuNo4Cvhw7iLKkJNAS0oq3U/qQoZskSOkDSapqdySZYzWBdJLMsaYiUB+wOHYQNTJEIqv8pCLQMcCc2EHUyK7AEbGDKEMqAiVTpXskiWM2gfSSxDGnIlBS3fueSOKYUxDoAGRBl9zYC9g3dhAzkYJASVTlgVB/7CaQbtQfewoCxWwLvFU8YqG+HaRdoPnAQIT9fgJcBxxSPK4jzi3FhwL9EfZbGu0CxajCn0BG/a8FPi4e1xbPBc96OoUelNdCJtAE7wDnAaci6Wam8gZwSrHNOzXGpbodpF2gOr59nyLZQA4GHimx/SPFtuuK14bGaqAO2QUZAwvJ08iY01qq3cz3UfGaI4BnAsTVzDeQ9UxVolmgxYR74zYiCT5PAl53KOd1JCnWMsLlZp4NDAYq2xnNAoWoukeB3wIH4TcT2gNFmTcSJqeR2naQZoF8v2nPIvONryZMMu7twFXA0cBznstW2w7SKtAsZA60D/4L/Aj4DvAPT2W24zXgBOAi4H+eyvwmSlfG1irQYbh3oI0Bv0NOLfe5BtQB9yKdoDfjnjBhPnIc6tAqkGuV/TywCPgp8IF7OB3zAbAGuZJyzems8jSmVaBO2z+bgRXF6zVlNFuPCHAxsq5sJ6hsSHeLQJ8Bv0dOGXehMJspEtMdwIHAH5GYq2AClaRqBo4XkFPEKmBrkIj8shW4HLnzYrjC61Rm7tAoUNlz/RYkl/QSJCllaryE3IG6kvKZ59W1gzQKNFNV3UBySA8UPzWersryGbIw8QBwOzMfi7rTWGoCvYxU/ZfSXUtEvQdcgvT3rG+znQk0A9Nl4NiKrMi3GHix1ojq5W9Ie24NMNLi/0ehLHOHNoGmZuBoIFdVA8iaoFWvXFJkDOl8HADumfI/dZk7tAnUXEVvQJKLr0D6d3JjE7AcSTr+96bnVZ3GNAq0DelBXoQtQAeywNwxwJXIgK0JNA19yFKOA8gYVlIJtwMzCtyEvDdvouhz62k0Ur4KNmKjxmQjTUwgwwkTyHDCBDKcMIEMJ0wgwwkTyHDCBDKcMIEMJ0wgwwkTyHDCBDKcMIEMJ0wgwwkTyHDCBDKcMIEMJ/4PN4Zi1rcUs0gAAAAASUVORK5CYII='
  }
  // 格式化数据返回
  function formatValue(val, fixNumber) {
    let res
    if (fixNumber === false) {
      res = parseFloat(val)
    } else {
      res = parseFloat(val).toFixed(1)
    }
    return res
  }
  const proto$k = {
    create() {
      const node = document.createElement('rating')
      node.classList.add('hap-element')
      node.classList.add('hap-rating')

      const back = document.createElement('div')
      const second = document.createElement('div')
      const fore = document.createElement('div')
      back.classList.add('hap-rating-back')
      second.classList.add('hap-rating-second')
      fore.classList.add('hap-rating-fore')
      this.back = back
      this.second = second
      this.fore = fore
      node.appendChild(back)
      node.appendChild(second)
      node.appendChild(fore)

      this.setBackgroundImage()
      return node
    },
    onAppend() {
      this.initEvent()
      Atomic$7.prototype.onAppend.call(this)
    },
    getImgSize(img) {
      // 默认为三张图片的规格一样，只取一张的规格
      const src = img || this.options.starBackground
      return new Promise((resolve, reject) => {
        // 创建对象
        // eslint-disable-next-line
        const img = new Image()
        img.style.opacity = 0
        img.onload = () => {
          const size = {
            width: img.naturalWidth,
            height: img.naturalHeight,
            ratio: parseFloat(img.naturalWidth / img.naturalHeight).toFixed(2)
          }
          document.body.removeChild(img)
          this.size = size
          // 执行回调
          this.getSizeCallbak.forEach(fn => {
            fn.call(this)
          })
          this.getSizeCallbak.length = 0 // 置空
          resolve(size)
        }
        img.onerror = () => {
          reject(new Error('img error'))
        }
        document.body.appendChild(img)
        // 改变图片的src
        img.src = src
        // 定时执行获取宽高, 比onload 的效率要高
      })
    },
    bridge(fn) {
      // 防止没有拿到图片size调用就报错
      if (this.size) {
        fn.call(this)
      } else {
        this.getSizeCallbak.push(fn)
      }
    },
    setBackgroundImage(img) {
      this.getImgSize(img).then(() => {
        const opt = this.options
        this.back.style.backgroundImage = `url(${opt.starBackground})`
        if (opt.starSecondary) {
          this.second.style.backgroundImage = `url(${opt.starSecondary})`
        }
        this.fore.style.backgroundImage = `url(${opt.starForeground})`
        this.setNumberStar()
      })
    },
    setNumberStar() {
      // 根据star 数量设置backgroundSize
      const opt = this.options
      const size = this.size
      const num = opt.numstars
      const childrens = this.node.childNodes
      let starWidth = parseInt(opt.width / num)
      let starHeight
      if (opt.height) {
        starHeight = opt.height
        if (!opt.width) {
          starWidth = starHeight / size.ratio
          opt.width = starWidth * num
        }
      } else if (starWidth) {
        starHeight = starWidth * size.ratio
      } else {
        const pstyle = window.getComputedStyle(this.getParent().node)
        const pWidth =
          parseFloat(pstyle.width) -
          parseFloat(pstyle.paddingLeft) -
          parseFloat(pstyle.paddingRight)
        const ratingwidth = ((size.width * num) / global.Env.deviceWidth) * 750
        starWidth = Math.min(pWidth, ratingwidth) / num
        starHeight = starWidth * size.ratio
        opt.width = starWidth * num
      }
      Array.prototype.forEach.call(childrens, child => {
        child.style.backgroundSize = `${starWidth}px ${starHeight}px`
      })
      this.node.style.height = `${starHeight}px`
      this.node.style.width = `${opt.width}px`
      this.setRating()
    },
    setRating() {
      const opt = this.options
      // 设置当前rating等级
      const second = this.second
      const fore = this.fore
      fore.style.width = `${this.getWidth(opt.rating, 'fore')}px`
      if (opt.starSecondary) {
        second.style.width = `${this.getWidth(opt.rating, 'second')}px`
      }
    },
    getWidth(rating, type) {
      // 获取应该渲染的评分长度
      const width = this.options.width
      const num = this.options.numstars
      if (type === 'second') {
        // 如果是非整数，向上取整，显示第二张图片
        rating = Math.ceil(rating)
      }
      const ratio = formatValue(rating / num, false)
      const res = formatValue(width * ratio, false)
      return res
    },
    rating(offsetX) {
      // 评分
      const total = this.options.width
      const numstars = this.options.numstars
      const step = this.options.stepsize
      const ratio = formatValue(offsetX / total)
      let newRating = Math.round(formatValue(numstars * ratio) / step) * step // 需要格式化成stepsize的倍数
      if (newRating > numstars) {
        newRating = numstars
      } // 防止超出边界
      if (newRating < 0) {
        newRating = 0
      }
      this.options.rating = newRating
      this.isFromUser = true
      this.setRating()
      return newRating
    },
    initEvent() {
      // touchstart 的x坐标，小于x坐标的图标全部点亮
      // touchmove 按照stepsize,move的距离大于stepsize 就+一步，进入下一个stepsize，同一个stepsize 内移动无效
      // touchend 触发change
      // 点击也能够起作用，根据点击的x坐标
      const node = this.node
      const rect = node.getBoundingClientRect()
      node.addEventListener('click', e => {
        const indicator = this.options.indicator
        if (indicator) {
          return
        }
        const offsetX = e.offsetX
        const newRating = this.rating(offsetX)
        this.isChanged = true
        this.dispatchEvent('change', { rating: newRating, isFromUser: this.isFromUser })
        this.isChanged = false
      })
      node.addEventListener('panstart', e => {
        const indicator = this.options.indicator
        if (indicator) {
          return
        }
        // touch 没有offsetX
        const offsetX = e.touch.pageX - rect.left
        this.rating(offsetX)
      })
      node.addEventListener('panmove', e => {
        const indicator = this.options.indicator
        if (indicator) {
          return
        }
        // touch 没有offsetX
        const offsetX = e.touch.pageX - rect.left
        this.rating(offsetX)
      })
      node.addEventListener('panend', e => {
        const indicator = this.options.indicator
        if (indicator) {
          return
        }
        this.isChanged = true
        this.dispatchEvent('change', {
          rating: this.options.rating,
          isFromUser: this.isFromUser
        })
        this.isChanged = false
      })
    }
  }

  const attr$s = {
    numstars(val) {
      this.options.numstars = val
      this.bridge(() => {
        this.setNumberStar()
      })
    },
    rating(val) {
      if (this.isChanged) {
        return
      }
      if (val > this.options.numstars) {
        val = this.options.numstars
      }
      this.options.rating = val
      this.isFromUser = false
      this.bridge(() => {
        this.setRating()
        this.isChanged = true
        this.dispatchEvent('change', {
          rating: this.options.rating,
          isFromUser: this.isFromUser
        })
        this.isChanged = false
      })
    },
    stepsize(val) {
      this.options.stepsize = formatValue(val)
    },
    indicator(val) {
      // 禁用用户操作
      if (val === 'false' || val === false) {
        this.options.indicator = false
      } else {
        this.options.indicator = true
      }
    }
  }

  const style$j = {
    starBackground: function(val) {
      val = val[0] === '/' && Hap.basePath ? `${Hap.basePath}${val}` : val
      this.options.starBackground = val
      this.setBackgroundImage(val)
    },
    starSecondary: function(val) {
      val = val[0] === '/' && Hap.basePath ? `${Hap.basePath}${val}` : val
      this.options.starSecondary = val
      this.setBackgroundImage(val)
    },
    starForeground: function(val) {
      val = val[0] === '/' && Hap.basePath ? `${Hap.basePath}${val}` : val
      this.options.starForeground = val
      this.setBackgroundImage(val)
    }
  }

  function init$K(Hap) {
    Atomic$7 = Hap.Atomic
    const extend = Hap.utils.extend

    function Rating(data) {
      const style = data.style || {}
      this.options = Object.assign({}, DEFAULTS)
      if (style.width) {
        this.options.width = parseInt(style.width) * global.HapEnvironment.previewRatio
      }
      if (style.height) {
        this.options.height = parseInt(style.height) * global.HapEnvironment.previewRatio
      }
      this.size = null // 用来存储图片实际大小以及比例
      this.getSizeCallbak = [] // 获取到图片尺寸之后的回调栈
      Atomic$7.call(this, data)
    }
    Rating.prototype = Object.create(Atomic$7.prototype)
    extend(Rating.prototype, proto$k)
    extend(Rating.prototype, {
      attr: extend(Object.create(Atomic$7.prototype.attr), attr$s)
    })
    extend(Rating.prototype, {
      style: extend(Object.create(Atomic$7.prototype.style), style$j)
    })

    Hap.registerComponent('rating', Rating)
  }

  var Rating = { init: init$K }

  let Atomic$8

  const proto$l = {
    create() {
      const node = document.createElement('div')
      node.classList.add('hap-marquee')
      return node
    },

    bindEvents(evts) {
      Atomic$8.prototype.bindEvents.call(this, evts)
    },
    start() {
      if (this.loop === 0) {
        return
      }
      if (this.loop !== -1) {
        this.loop--
      }
      if (!this.width) {
        this.width = this.node.getBoundingClientRect().width
        this.node.style.width = ''
      }
      const startOffset = { transform: 'translateX(' + this.width + 'px)' }
      const endOffset = { transform: 'translateX(-100%)' }
      const width = this.node.getBoundingClientRect().width
      const duration = (width * 1000) / this.scrollamount

      if (this.direction === 'left') {
        this.animation = this.node.animate([startOffset, endOffset], duration)
      } else {
        this.animation = this.node.animate([endOffset, startOffset], duration)
      }

      this.animation.onfinish = () => {
        if (this.loop === 0) {
          this.dispatchEvent('finish')
        } else {
          this.dispatchEvent('bounce')
          this.start()
        }
      }
    },
    stop() {
      if (this.animation) {
        this.animation.cancel()
      }
    }
  }

  // updatable attributes
  const attr$t = {
    value: function(value) {
      const node = this.node
      node.innerHTML = ''
      if (value == null || value === '') {
        return
      }
      const valueType = typeof value
      value = valueType === 'string' ? value : JSON.stringify(value)
      node.innerHTML = value
    },
    scrollamount(val) {
      this.scrollamount = val
      if (this.animation) {
        this.stop()
        this.start()
      }
    },
    loop(val) {
      this.loop = val
      if (this.animation) {
        this.stop()
        this.start()
      }
    },
    direction(val) {
      this.direction = val
      if (this.animation) {
        this.stop()
        this.start()
      }
    }
  }

  const style$k = {
    color(val) {
      this.color = val
      this.node.style.color = val
    },
    fontSize(val) {
      this.fontSize = val
      this.node.style.fontSize = val
    },
    fontFamily(val) {
      this.fontFamily = val
      this.node.style.fontFamily = val
    }
  }

  function init$L(Hap) {
    Atomic$8 = Hap.Atomic
    const extend = Hap.utils.extend

    function Marquee(data) {
      this.scrollamount = 6
      this.loop = -1
      this.direction = 'left'
      Atomic$8.call(this, data)
    }
    Marquee.prototype = Object.create(Atomic$8.prototype)
    extend(Marquee.prototype, proto$l)
    extend(Marquee.prototype, {
      attr: extend(Object.create(Atomic$8.prototype.attr), attr$t)
    })
    extend(Marquee.prototype, {
      style: extend(Object.create(Atomic$8.prototype.style), style$k)
    })

    Hap.registerComponent('marquee', Marquee)
  }

  var marquee = { init: init$L }

  var css_248z$l =
    '.drawer{position:relative;overflow:hidden scroll}.drawer-navigation-start{position:absolute;left:-100%;top:0;width:80%;height:100%;z-index:1000;transition:all .3s}.drawer-navigation-start-open{left:0}.drawer-navigation-end{position:absolute;right:-100%;top:0;width:80%;height:100%;z-index:1000;transition:all .3s}.drawer-navigation-end-open{right:0}'
  styleInject(css_248z$l)

  let Atomic$9

  function handlePanstart(evt) {
    if (!this.drawer.enableswipe) {
      return
    }

    if (evt.direction === 'right' && this.show === 'none') {
      this.drawer.openDrawer({ direction: 'start' })
    } else if (evt.direction === 'right' && this.show === 'end') {
      this.drawer.closeDrawer({ direction: 'end' })
    } else if (evt.direction === 'left' && this.show === 'none') {
      this.drawer.openDrawer({ direction: 'end' })
    } else if (evt.direction === 'left' && this.show === 'start') {
      this.drawer.closeDrawer({ direction: 'start' })
    }
  }
  const proto$m = {
    create() {
      const node = document.createElement('div')
      node.classList.add('drawer')
      node.show = 'none'
      node.drawer = this
      return node
    },
    appendChild(data) {
      const componentManager = this.getComponentManager()
      const child = componentManager.createElement(data)
      this.node.appendChild(child.node)
      this.node.addEventListener('panstart', handlePanstart)
    },
    getClass(options) {
      const navigationClass =
        options.direction === 'start' ? 'drawer-navigation-start' : 'drawer-navigation-end'
      const navigationOpenClass =
        options.direction === 'start'
          ? 'drawer-navigation-start-open'
          : 'drawer-navigation-end-open'
      return {
        navigationClass,
        navigationOpenClass
      }
    },
    openDrawer(options = {}) {
      this.node.show = options.direction
      this.node.direction = options.direction
      const { navigationClass, navigationOpenClass } = this.getClass(options)
      for (let index = 1; index < this.node.childNodes.length; index++) {
        let childNode = this.node.childNodes[index]
        if (childNode.className.indexOf(navigationClass) !== -1) {
          childNode.classList.add(navigationOpenClass)
        }
      }
      this.node.state = 1
    },
    closeDrawer(options = {}) {
      this.node.show = 'none'
      this.node.direction = options.direction
      const { navigationClass, navigationOpenClass } = this.getClass(options)
      for (let index = 1; index < this.node.childNodes.length; index++) {
        let childNode = this.node.childNodes[index]
        if (childNode.className.indexOf(navigationClass) !== -1) {
          childNode.classList.remove(navigationOpenClass)
        }
      }
      this.node.state = 0
    }
  }

  const attr$u = {
    enableswipe: function(val) {
      this.enableswipe = val && val !== 'false'
    }
  }

  const event$b = {
    change: {
      updator() {
        return {
          attrs: {
            direction: this.node.direction,
            state: this.node.state
          }
        }
      },
      extra() {
        return {
          direction: this.node.direction,
          state: this.node.state
        }
      }
    }
  }
  function init$M(Hap) {
    Atomic$9 = Hap.Atomic
    const extend = Hap.utils.extend

    function Drawer(data) {
      Atomic$9.call(this, data)
    }
    Drawer.prototype = Object.create(Atomic$9.prototype)

    extend(Drawer.prototype, proto$m)
    extend(Drawer.prototype, {
      attr: extend(Object.create(Atomic$9.prototype.attr), attr$u)
    })
    extend(Drawer.prototype, { event: event$b })
    Hap.registerComponent('drawer', Drawer)
  }
  var drawer = { init: init$M }

  let Atomic$a
  const proto$n = {
    create() {
      const node = document.createElement('drawer-navigation')
      node.classList.add('drawer-navigation-start')
      node.addEventListener('transitionstart', () => {
        node.parentNode.scrollState = 1
      })
      node.addEventListener('transitionend', () => {
        node.parentNode.scrollState = 0
      })
      return node
    },
    appendChild(data) {
      const componentManager = this.getComponentManager()
      const child = componentManager.createElement(data)
      this.node.appendChild(child.node)
    }
  }

  const attr$v = {
    direction: function(val) {
      this.direction = val
      const navigationClass =
        this.direction === 'start' ? 'drawer-navigation-start' : 'drawer-navigation-end'
      this.node.classList.remove('drawer-navigation-start')
      this.node.classList.add(navigationClass)
    }
  }

  const style$l = {
    width: function(val) {
      if (val.indexOf('%') !== -1) {
        const widthVal = val.replace('%', '') / 100
        if (widthVal < 0.2 || widthVal > 0.8) {
          val = widthVal < 0.2 ? '20%' : '80%'
          console.warn(
            `### Web Render ### drawer-navigation => width 范围需在父容器宽度的[20%,80%]之间，已自动调整为最大/小值`
          )
        }
      } else {
        const widthVal = parseInt(val)
        const parent = this.node.parentNode
        if (
          parent &&
          (widthVal < parent.clientWidth * 0.2 || widthVal > parent.clientWidth * 0.8)
        ) {
          val =
            widthVal < parent.clientWidth * 0.2
              ? parent.clientWidth * 0.2 + 'px'
              : parent.clientWidth * 0.8 + 'px'
          console.warn(
            `### Web Render ### drawer-navigation => width 范围需在父容器宽度的[20%,80%]之间，已自动调整为最大/小值`
          )
        }
      }
      this.node.style.width = val
    }
  }

  function init$N(Hap) {
    Atomic$a = Hap.Atomic
    const extend = Hap.utils.extend

    function DrawerNavigation(data) {
      Atomic$a.call(this, data)
    }
    DrawerNavigation.prototype = Object.create(Atomic$a.prototype)
    extend(DrawerNavigation.prototype, proto$n)
    extend(DrawerNavigation.prototype, {
      attr: extend(Object.create(Atomic$a.prototype.attr), attr$v)
    })
    extend(DrawerNavigation.prototype, {
      style: extend(Object.create(Atomic$a.prototype.style), style$l)
    })
    Hap.registerComponent('drawer-navigation', DrawerNavigation)
  }
  var drawernavigation = { init: init$N }

  var drawer$1 = {
    init: function(Hap) {
      Hap.install(drawer)
      Hap.install(drawernavigation)
    }
  }

  let Atomic$b

  const proto$o = {
    create() {
      const node = document.createElement('video')
      var constraints = { audio: true, video: true }
      this.isError = false
      // 开启视频
      if (navigator.mediaDevices) {
        navigator.mediaDevices
          .getUserMedia(constraints)
          .then(mediaStream => {
            node.srcObject = mediaStream
            node.onloadedmetadata = function(e) {
              node.play()
            }
          })
          .catch(err => {
            this.isError = true
            console.error(`### Web Render ###  camera摄像头开启失败！`)
          })
      } else {
        console.error(`### Web Render ###  camera摄像头开启失败！`)
      }
      return node
    },
    takePhoto(callback, performCallback) {
      if (this.isError) {
        return
      }
      const track = this.node.srcObject.getVideoTracks()[0]
      const imageCaptureObj = new ImageCapture(track)
      imageCaptureObj
        .takePhoto()
        .then(blob => {
          const uri = URL.createObjectURL(blob)
          hybrid.saveFile(uri, blob)
          return {
            uri
          }
        })
        .then(res => {
          performCallback && performCallback(callback.success, [res])
          track.stop()
        })
    },
    setSceneMode(callback, performCallback) {
      Atomic$b.prototype.unsupportPrompt.call(this, this.data.type, 'setSceneMode')
      performCallback && performCallback(callback.success)
    },
    setPreviewFpsRange(callback, performCallback) {
      Atomic$b.prototype.unsupportPrompt.call(this, this.data.type, 'setPreviewFpsRange')
      performCallback && performCallback(callback.success)
    },
    setExposureCompensation(callback, performCallback) {
      Atomic$b.prototype.unsupportPrompt.call(this, this.data.type, 'setExposureCompensation')
      performCallback && performCallback(callback.success)
    },
    getExposureCompensationRange(callback, performCallback) {
      Atomic$b.prototype.unsupportPrompt.call(this, this.data.type, 'getExposureCompensationRange')
      performCallback && performCallback(callback.success)
    },
    getSupportedPreviewFpsRange(callback, performCallback) {
      Atomic$b.prototype.unsupportPrompt.call(this, this.data.type, 'getSupportedPreviewFpsRange')
      performCallback && performCallback(callback.success)
    },
    getExposureCompensation(callback, performCallback) {
      Atomic$b.prototype.unsupportPrompt.call(this, this.data.type, 'getExposureCompensation')
      performCallback && performCallback(callback.success)
    },
    getPreviewFpsRange(callback, performCallback) {
      Atomic$b.prototype.unsupportPrompt.call(this, this.data.type, 'getPreviewFpsRange')
      performCallback && performCallback(callback.success)
    },
    startRecord(callback, performCallback) {
      if (this.isError) {
        return
      }
      const mediaStream = this.node.srcObject
      if (mediaStream) {
        this.recorder = new MediaRecorder(mediaStream)
        this.recorder.start()
        performCallback && performCallback(callback.success, [{ message: 'success' }])
      } else {
        console.warn(`### Web Render ###  请等待摄像头开启！`)
        performCallback && performCallback(callback.fail, [{ message: 'failed' }])
      }
    },
    stopRecord(callback, performCallback) {
      this.recorder.ondataavailable = function(event) {
        if (typeof event.data === 'undefined' || event.data.size === 0) {
          let ret = {
            code: 201,
            uri: '',
            message: 'failed',
            thumbPath: ''
          }
          performCallback && performCallback(callback.fail, [ret])
          return
        }
        let uri = URL.createObjectURL(event.data)
        hybrid.saveFile(uri, event.data)
        let ret = {
          code: 200,
          uri: 'internal://cache/videorecord194759283745987298475.mp4',
          message: 'success',
          thumbPath: 'internal://cache/video_poster13434483274587284.png'
        }
        performCallback && performCallback(callback.success, [ret])
      }
      this.recorder.stop()
    }
  }

  const attr$w = {
    deviceposition(val) {
      Atomic$b.prototype.unsupportPrompt.call(this, this.data.type, 'deviceposition')
    },
    flash(val) {
      Atomic$b.prototype.unsupportPrompt.call(this, this.data.type, 'flash')
    },
    framesize(val) {
      Atomic$b.prototype.unsupportPrompt.call(this, this.data.type, 'framesize')
    },
    autoexposurelock(val) {
      Atomic$b.prototype.unsupportPrompt.call(this, this.data.type, 'autoexposurelock')
    },
    autowhitebalancelock(val) {
      Atomic$b.prototype.unsupportPrompt.call(this, this.data.type, 'autowhitebalancelock')
    }
  }

  function init$O(Hap) {
    Atomic$b = Hap.Atomic
    const extend = Hap.utils.extend

    function Camera(data) {
      Atomic$b.call(this, data)
    }
    Camera.prototype = Object.create(Atomic$b.prototype)

    extend(Camera.prototype, proto$o)
    extend(Camera.prototype, {
      attr: extend(Object.create(Atomic$b.prototype.attr), attr$w)
    })
    Hap.registerComponent('camera', Camera)
  }
  var camera = { init: init$O }

  /*
   * Copyright (C) 2017, hapjs.org. All rights reserved.
   */
  const ELE_NAME$4 = 'h-ad-page' // 元素名称
  const CONTAINER_ID$4 = 'Ad_Page_Container' // 容器id
  const CLOSE_ID$1 = 'Ad_Page_Close' // 关闭按钮的id

  class AdPageEle$1 extends HTMLElement {
    constructor() {
      super()
      const shadowRoot = this.attachShadow({ mode: 'open' })
      const style = document.createElement('style')
      const zIndex = getMaxZindex()
      style.textContent = `
.h-ad-page {
position: fixed;
width: 100%;
height: 100%;
left: 0;
top: 0;
display: flex;
flex-direction: column;
align-items: center;
justify-content: center;
box-sizing: border-box;
background-color: #fff;
z-index: ${zIndex};
}
.fade-In {
animation: fadeInRightBig 0.4s 1;
-webkit-animation: fadeInRightBig 0.4s 1;
}
.h-ad-title {
box-sizing: border-box;
width: 100%;
height: 1.2rem;
display: flex;
align-items: center;
background-color: #fff;
padding: 0 0.3rem;
justify-content: space-between;
}
.h-ad-title span {
font-size: 0.4rem;
color: #414141;
display: flex;
align-items: center;
}
.h-ad-title span i {
font-style: normal;
margin-left: 0.2rem;
}
@-webkit-keyframes fadeInRightBig {
from {
  -webkit-transform: translate3d(2000px, 0, 0);
  transform: translate3d(2000px, 0, 0);
}

to {
  -webkit-transform: translate3d(0, 0, 0);
  transform: translate3d(0, 0, 0);
}
}
@keyframes fadeInRightBig {
from {
  -webkit-transform: translate3d(2000px, 0, 0);
  transform: translate3d(2000px, 0, 0);
}

to {
  -webkit-transform: translate3d(0, 0, 0);
  transform: translate3d(0, 0, 0);
}
}
`
      const container = document.createElement('div')
      container.classList.add('h-ad-page')
      container.classList.add('fade-In')
      container.id = CONTAINER_ID$4
      container.innerHTML = `
<div class="h-ad-title">
<span id="${CLOSE_ID$1}">
  <svg t="1550914388347" width="64" height="64" style="fill:#414141" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1789" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M671.3 480.1H301.7L473.8 308c12.4-12.4 12.4-32.8 0-45.3-12.4-12.4-32.8-12.4-45.3 0L201.9 489.5c-5 5-8 11.2-9 17.7v0.1c-0.1 0.4-0.1 0.9-0.2 1.3v0.3c0 0.4-0.1 0.8-0.1 1.2v4c0 0.4 0.1 0.8 0.1 1.2v0.3c0 0.4 0.1 0.9 0.2 1.3v0.1c1 6.5 4 12.7 9 17.7l226.7 226.7c12.4 12.4 32.8 12.4 45.3 0 12.4-12.4 12.4-32.8 0-45.3l-172.2-172h369.6c17.6 0 32-14.4 32-32s-14.4-32-32-32z" p-id="1790" ></path></svg>
  <i>✕</i>
</span>
<span>快应用平台</span>
</div>
<iframe src="https://www.quickapp.cn/" frameborder="0" width="100%" height="100%"></iframe>
`
      this.shadowRoot.appendChild(style)
      this.shadowRoot.appendChild(container)
    }
  }

  let adPageMap$1 = new WeakMap()

  class AdPage$1 {
    constructor(options = {}) {
      this.options = options
      this.showCallStack = []
      this.closeCallStack = []
      // 判断是否已经注册组件
      if (!window.customElements.get(ELE_NAME$4)) {
        this._registerEle()
      }
      this._createEle()
    }
    /**
     * 注册自定义元素
     */
    _registerEle() {
      window.customElements.define(ELE_NAME$4, AdPageEle$1)
    }
    /**
     * 初始化元素
     */
    _createEle() {
      let instance = document.createElement(ELE_NAME$4)
      instance.style.display = 'none'
      adPageMap$1.set(this, instance)
      document.body.appendChild(instance)
      this._initEvent()
      this.show()
    }
    /**
     * 初始化事件
     */
    _initEvent() {
      // 关闭广告事件
      adPageMap$1
        .get(this)
        .shadowRoot.getElementById(CLOSE_ID$1)
        .addEventListener(
          'click',
          e => {
            e.preventDefault()
            e.stopPropagation()
            this.close()
          },
          false
        )
      // 关闭广告事件
      adPageMap$1
        .get(this)
        .shadowRoot.getElementById(CONTAINER_ID$4)
        .addEventListener(
          'webkitAnimationEnd',
          e => {
            e.preventDefault()
            e.stopPropagation()
            this.showCallStack.forEach(fn => fn())
          },
          false
        )
    }
    /**
     * 监听页面加载完成
     */
    onShow(fn) {
      if (fn && typeof fn === 'function') {
        this.showCallStack.push(fn)
      }
    }
    /**
     * 显示页面
     */
    show() {
      adPageMap$1.get(this).style.display = 'block'
      setTimeout(() => {
        this.onShow()
      }, 10)
    }
    /**
     * 监听页面关闭
     */
    onClose(fn) {
      if (fn && typeof fn === 'function') {
        this.closeCallStack.push(fn)
      }
    }
    /**
     * 关闭页面
     */
    close() {
      document.body.removeChild(adPageMap$1.get(this))
      this.closeCallStack.forEach(fn => fn())
      setTimeout(() => {
        adPageMap$1.delete(this)
      }, 0)
    }
  }

  const ELE_NAME$5 = 'h-template-ad'
  const CONTAINER_ID$5 = 'Template_Ad_Container' // 容器id
  const DELETE_ID$3 = 'Template_Ad_Delete' // 右下角按钮的id
  const IAMGE_SRC =
    'data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wAARCABdAIYDASIAAhEBAxEB/8QAGgABAAIDAQAAAAAAAAAAAAAAAAECAwQFBv/EADEQAAICAQIEBAQEBwAAAAAAAAABAhEDBCESMUFRBWFxkRMUIoEyQlKhFSMzYpKxwf/EABcBAQEBAQAAAAAAAAAAAAAAAAACAQP/xAAgEQEAAgEEAwEBAAAAAAAAAAAAARECAxITMQQhUUFh/9oADAMBAAIRAxEAPwD1QomgdHFFAkUBAJAEUKJoARQokAQKJoUBFAkAQCQBAJAEgAxVAABQAAUAAFAABQAAUAAFAABQAAUkAE2ugACygACygACygACygACygACygACygACygEkEroDaStukurNXU6/DgTSfxJ/pi/8ApxNZq9RqnU3UekVsioxmUZZRDsT8W0cJOLyN11jG0a2fxyHLT4nL+6ey9jjRxN7tEyuP4Y2zpGEOM55NvL4nq5pt5eBdoqjSl4jq1K46jJ/kykseaf5b8rMctNnf5P3RfpyndLq+H+Oz43j1eRU/wza5ep2oam0nwpp8nF2jxz0mZ84pfdGbTQ1mnd4c3Au12vYjLC+nbDOY9S9hHNB9a9S6d8jh6fW5uGs8YTfeCaM8dW1yi4/c5zEw7xUuqDnLXZF2fqW+fyfoiY2m+Dn/AMRyRf1Y4teTM2PxDDPaVwfmPZTaBWOSElakmgZZTQnrsz2jGEfOrNXNllP+rlb8m9vYxzyNrYwOLb2VsqCV55IRWz9kauTK3stjN8FveTI4OF/TBN+YnUiGRo5ZNeOJydts2IYI9bMnDJrfhTKfzL2bb6dCeX+Ljxp/ZZo4Y9FIfCj3/cwyjNq23fduyrwyk/KtzOWVx4+P7LPwY+so+5ZLGuqNaOBJN9UXeJVa59WzOXJXBjDO8kI85pfcj4uNulJN+W5h4IUqim+7MmyXKkN8nHCXlXSM/Yj4sv0NerI44pbX9xa57GbpbshDzZbrhivvZR5csn9MYsu99q5k3S5MzdP1WzH4qvmFyycPogTfE9twZc/W7Y+M7xjhUNq3NHFrpz1XwnFVwt3ZtObL2TPbjyxHULNLqUuCdc36kStxe5zs+WeLPjad7kzg6Y6lumpJ0k0i3D50jiT1U457XLtZ14viwRyd+hLov9PeyLTeyKcn3Jt7eZllJfkkRtW9+rLKKcbfsVywunfJlREpmYjsaXffuRTu/wDZE8nDzV0YZappN8H7lceUuc6+EdyyZZvGrk9jV+eUZtVfYxajVymqcUjTk9+Kt0u5k6eUKx1sJdLFr8cm1LZmzGanFOLtHAhGWR7yq/I3MGaWOWKHOpe42S2dTF1+F1zoFYzbXIEr9v/Z'

  class TemplateAdEle extends HTMLElement {
    constructor() {
      super()
      const shadowRoot = this.attachShadow({ mode: 'open' })
      const zIndex = getMaxZindex()
      const style = document.createElement('style')
      style.textContent = `
.h-tpl-ad {
width: 100%;
background-color: #fff;
padding: 0.3rem;
box-sizing: border-box;
}
.h-tpl-ad__05.h-tpl-ad {
position: fixed;
width: 100vw;
height: 100vh;
top: 0;
left: 0;
z-index: ${zIndex};
}
.h-tpl-info {
width: calc(100vw - 0.6rem);
display: flex;
justify-content: space-between;
}
.h-tpl-ad__00 .h-tpl-info {
flex-direction: row;
}
.h-tpl-ad__01 .h-tpl-info {
flex-direction: row-reverse;
}
.h-tpl-ad__02 .h-tpl-info {
flex-direction: column;
}
.h-tpl-ad__03 .h-tpl-info {
flex-direction: column-reverse;
}
.h-tpl-img {
width: 3rem;
height: 2.1rem;
flex: 0 0 auto;
border-radius: 0.15rem;
overflow: hidden;
}
.h-tpl-img img {
width: 100%;
height: 100%;
}
.h-tpl-ad__02 .h-tpl-img,
.h-tpl-ad__03 .h-tpl-img,
.h-tpl-ad__04 .h-tpl-img {
width: 100%;
height: 4rem;
}
.h-tpl-ad__05 .h-tpl-img {
width: 100%;
height: calc(100vh - 1.6rem);
}
.h-tpl-content {
flex-grow: 1;
}
.h-tpl-ad__05 .h-tpl-content,
.h-tpl-ad__04 .h-tpl-content {
display: none;
}
.h-tpl-text {
display: -webkit-box;
-webkit-box-orient: vertical;
-webkit-line-clamp: 3;
overflow: hidden;
}
.h-tpl-ad__00 .h-tpl-text {
margin-left: 0.3rem
}
.h-tpl-ad__01 .h-tpl-text {
margin-right: 0.3rem
}
.h-tpl-ad__02 .h-tpl-text {
margin-top: 0.3rem
}
.h-tpl-ad__03 .h-tpl-text {
margin-bottom: 0.3rem
}
.h-tpl-text p {
margin: 0;
padding: 0;
font-family: PingFangSC-Regular;
font-size: 0.4rem;
line-height: 0.7rem;
color: #333333;
}
.h-tpl-opts {
width: calc(100vw - 0.6rem);
height: 0.7rem;
display: flex;
flex-direction: row;
justify-content: space-between;
margin-top: 0.2rem;
}
.h-tpl-lt span:first-child{
display: inline-block;
opacity: 0.06;
background: #000000;
border-radius: 0.1rem;
font-family: PingFangSC-Regular;
font-size: 0.26rem;
color: #999;
padding: 0 0.24rem;
}
.h-tpl-lt span:last-child{
font-family: PingFangSC-Regular;
font-size: 0.3rem;
color: #999999;
margin-left: 0.2rem;
}
.h-tpl-rt span:first-child{
font-family: MicrosoftYaHei;
font-size: 0.34rem;
color: #415FFF;
margin-right: 0.4rem;
}
.h-tpl-rt span:last-child{
font-family: PingFangSC-Regular;
font-size: 0.34rem;
color: #999999;
}
`
      let container = document.createElement('div')
      container.id = CONTAINER_ID$5
      container.classList.add('h-tpl-ad')
      container.innerHTML = `
<div class="h-tpl-info">
<div class="h-tpl-img">
  <img src="${IAMGE_SRC}"/>
</div>
<div class="h-tpl-content">
  <div class="h-tpl-text">
    <p>vivo广告联盟有丰富的流量资源，通过AI算法技术，实现有效投放，让优质用户体验与高收益兼得。</p>
  </div>
</div>
</div>
<div class="h-tpl-opts">
<div class="h-tpl-lt">
  <span>广告</span>
  <span>vivo流量联盟</span>
</div>
<div class="h-tpl-rt">
  <span>查看详情</span>
  <span id="${DELETE_ID$3}">✕</span>
</div>
</div>
`
      this.shadowRoot.appendChild(style)
      this.shadowRoot.appendChild(container)
    }
  }

  class TemplateAd {
    constructor(options = {}) {
      this.el = options.el
      this.mode = options.mode
      this.instance = null
      this.eventMap = {}
      // 判断是否已经注册组件
      if (!window.customElements.get(ELE_NAME$5)) {
        this._registerEle()
      }
      this._createEle()
    }
    /**
     * 注册自定义元素
     */
    _registerEle() {
      window.customElements.define(ELE_NAME$5, TemplateAdEle)
    }
    /**
     * 初始化元素
     */
    _createEle() {
      let instance = document.createElement(ELE_NAME$5)
      this.instance = instance
      this.setMode(this.mode)
      this._initEvent()
      setTimeout(() => {
        this.emit('load')
      }, 0)
      setTimeout(() => {
        this.el.appendChild(instance)
        this.emit('show')
      }, 800)
    }
    /**
     * 初始化事件
     */
    _initEvent() {
      // 监听点击事件
      this.instance.addEventListener(
        'click',
        e => {
          e.preventDefault()
          e.stopPropagation()
          new AdPage$1().show()
          this.emit('click')
        },
        false
      )
      // 关闭广告事件
      this.instance.shadowRoot.getElementById(DELETE_ID$3).addEventListener(
        'click',
        e => {
          e.preventDefault()
          e.stopPropagation()
          this.el.remove()
          this.emit('close')
        },
        false
      )
    }
    /**
     * 格式化mode
     */
    setMode(mode) {
      const container = this.instance.shadowRoot.getElementById(CONTAINER_ID$5)
      container.setAttribute('class', 'h-tpl-ad h-tpl-ad__' + mode)
    }
    /**
     * emit事件
     */
    emit(type) {
      if (!Array.isArray(this.eventMap[type])) {
        return
      }
      this.eventMap[type].forEach(fn => fn())
    }
    /**
     * on事件
     */
    on(type, cb) {
      if (!Array.isArray(this.eventMap[type])) {
        this.eventMap[type] = []
      }
      this.eventMap[type].push(cb)
    }
  }

  const lenUnits = ['px', 'pt', 'rem', 'em', '%']
  let Component$b
  const proto$p = {
    create() {
      const node = document.createElement('ad-custom')
      node.style.overflow = 'hidden'
      this.tplAd = null
      return node
    },
    onAppend() {
      const node = this.node
      this.tplAd = new TemplateAd({
        // 实例化广告内容
        el: node,
        mode: this.mode
      })
      // 事件分发
      if (Array.isArray(this.events) && this.events.length > 0) {
        this.events.forEach(fn => {
          this.tplAd.on(fn, () => {
            this.dispatchEvent(fn)
          })
        })
      }
      Component$b.prototype.onAppend.call(this)
    },
    updateMode() {
      if (!this.tplAd) {
        return
      }
      this.tplAd.setMode(this.mode)
    }
  }

  const attr$x = {
    mode(val) {
      this.mode = val
      this.updateMode()
    }
  }
  const style$m = {
    width(val) {
      this.node.style.width = val + (lenUnits.some(item => val.endsWith(item)) ? '' : 'px')
    },
    height(val) {
      this.node.style.height = val + (lenUnits.some(item => val.endsWith(item)) ? '' : 'px')
    }
  }

  function init$P(Hap) {
    Component$b = Hap.Component
    const extend = Hap.utils.extend

    function AdCustom(data) {
      const attr = data.attr || {}
      this.mode = attr.mode || '00'
      this.adUnitId = attr.adUnitId
      this.events = data.event
      Component$b.call(this, data)
    }
    AdCustom.prototype = Object.create(Component$b.prototype)
    extend(AdCustom.prototype, proto$p)
    extend(AdCustom.prototype, {
      attr: extend(Object.create(Component$b.prototype.attr), attr$x)
    })
    extend(AdCustom.prototype, {
      style: extend(Object.create(Component$b.prototype.style), style$m)
    })
    Hap.registerComponent('ad-custom', AdCustom)
  }

  var adcustom = { init: init$P }

  let Component$c
  const proto$q = {
    create() {
      const node = document.createElement('ad')
      return node
    },
    onAppend() {
      const parent = this.getParent()
      if (parent) {
        if (parent.data.type === 'ad') {
          console.error('### Web Render ###  ad 不能是ad的子组件')
          return
        }
      }
      Component$c.prototype.onAppend.call(this)
    },
    appendChild(data) {
      const node = this.node
      const componentManager = this.getComponentManager()
      const child = componentManager.createElement(data)
      const childrenComponents = this.childrenComponents || (this.childrenComponents = [])
      childrenComponents.push(child)
      node.appendChild(child.node)
      return child
    }
  }

  const attr$y = {
    adid(val) {
      this.adid = val
    }
  }
  const style$n = {
    display(val) {
      // 禁止用户重定义
    }
  }

  function init$Q(Hap) {
    Component$c = Hap.Component
    const extend = Hap.utils.extend

    function AdComponent(data) {
      Component$c.call(this, data)
    }
    AdComponent.prototype = Object.create(Component$c.prototype)
    extend(AdComponent.prototype, proto$q)
    extend(AdComponent.prototype, {
      attr: extend(Object.create(Component$c.prototype.attr), attr$y)
    })
    extend(AdComponent.prototype, {
      style: extend(Object.create(Component$c.prototype.style), style$n)
    })
    Hap.registerComponent('ad', AdComponent)
  }

  var adcomponent = { init: init$Q }

  let Component$d
  const proto$r = {
    create() {
      let node = null
      let wrapper = null
      if (this.type === 'button') {
        node = document.createElement('text')
        node.classList.add('hap-text')
        wrapper = document.createElement('span')
        wrapper.classList.add('default-text')
      } else {
        node = document.createElement('ad-clickable-area')
        node.classList.add('hap-container')
        wrapper = document.createElement('div')
        wrapper.classList.add('hap-container')
      }
      node.appendChild(wrapper)
      this.wrapper = wrapper
      return node
    },
    onAppend() {
      const node = this.node
      // 判断ad组件内，有则绑定事件
      if (recentAncestorNode(node, 'ad')) {
        this._registerEvent()
      }
      Component$d.prototype.onAppend.call(this)
    },
    appendChild(data) {
      // type不为click时，不支持子组件
      if (this.type !== 'click') {
        console.warn(`### Web Render ###  ad-clickable-area type为${this.type}不支持子组件！`)
        return null
      }
      const componentManager = this.getComponentManager()
      const child = componentManager.createElement(data)
      const childrenComponents = this.childrenComponents || (this.childrenComponents = [])
      childrenComponents.push(child)
      this.wrapper && this.wrapper.appendChild(child.node)
      return child
    },
    _registerEvent() {
      const node = this.node
      const adNode = recentAncestorNode(node, 'ad') // 获取祖先ad元素
      node.addEventListener('click', e => {
        e.preventDefault()
        e.stopPropagation()
        new AdPage$1().show() // 跳转到广告
        if (adNode) {
          this.getParent(adNode.getAttribute('ref')).dispatchEvent('adclick') // 点击触发ad父元素回调
        }
      })
    }
  }

  const attr$z = {
    value: function(value) {
      const span = this.node.firstChild
      span.innerHTML = ''
      if (value == null || value === '') {
        return
      }
      const valueType = typeof value
      value = valueType === 'string' ? value : JSON.stringify(value)
      // add test for /samples/functionality/form
      if (valueType === 'number') {
        span.style.wordBreak = 'keep-all'
      }
      // add test for 慢慢买、券妈妈优惠券、帅帅哒
      setTimeout(() => {
        formatText(this, value, span)
      }, 0)

      span.innerHTML = value
      this.node.style.whiteSpace = 'nowrap'
      if (this.node.scrollWidth > this._getProps('availableWidth')) {
        this.node.style.whiteSpace = ''
      }
      // 设置value后text大小会变化，需重新调整祖先宽高，for autohome/PageVideo
      this._fixStyles()
      this.node.style.whiteSpace = ''
    }
  }
  const style$o = {
    display(val) {
      // 禁止用户重定义
    }
  }

  function init$R(Hap) {
    Component$d = Hap.Component
    const extend = Hap.utils.extend
    // type：click、button、video和video-button
    function AdClickableArea(data) {
      const attr = data.attr || {}
      this.type = attr.type || 'click'
      Component$d.call(this, data)
    }
    AdClickableArea.prototype = Object.create(Component$d.prototype)
    extend(AdClickableArea.prototype, proto$r)
    extend(AdClickableArea.prototype, {
      attr: extend(Object.create(Component$d.prototype.attr), attr$z)
    })
    extend(AdClickableArea.prototype, {
      style: extend(Object.create(Component$d.prototype.style), style$o)
    })
    Hap.registerComponent('ad-clickable-area', AdClickableArea)
  }

  var adclickablearea = { init: init$R }

  var ad$1 = {
    init: function(Hap) {
      Hap.install(adcustom)
      Hap.install(adcomponent)
      Hap.install(adclickablearea)
    }
  }

  // import components.

  var packages = {
    Image: Image$1,
    Text,
    Scrollable,
    Slider,
    Progress,
    Swiper,
    Tabs,
    Stack,
    Popup,
    Input,
    Textarea,
    Picker: Picker$1,
    Select: Select$1,
    Option,
    Video,
    Switch,
    A,
    Web,
    Richtext,
    Span,
    Label,
    Canvas,
    Map: Map$1,
    Rating,
    marquee,
    drawer: drawer$1,
    camera,
    ad: ad$1
  }

  // install the apis and components as packages.
  var extensions = {
    init(Hap) {
      if (typeof packages !== 'object') {
        return
      }
      for (const k in packages) {
        Hap.install(packages[k])
      }
      // packages.forEach(pkg => Hap.install(pkg))
    }
  }

  function init$S() {
    Hap$1.install(div)

    Hap$1.install(extensions)

    Hap$1.install(titlebar)

    Hap$1.install(menubar)

    Hap$1.install(share)

    Hap$1.install(media)

    Hap$1.install(statusbar)

    Hap$1.install(mask)

    console.warn(`### Web Render ### 该预览仅供界面开发参考，实际效果请以真机调试为准`)
  }

  var render = {
    init: init$S,
    Hap: Hap$1
  }

  // 浏览器端渲染能力
  render.init()
})
//# sourceMappingURL=web.js.map
